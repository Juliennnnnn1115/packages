/******/ var __webpack_modules__ = ({

/***/ 4340:
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/calendar/locale/en_US.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _en_US = _interopRequireDefault(__webpack_require__(/*! ../../date-picker/locale/en_US */ 8911));
var _default = exports["default"] = _en_US.default;

/***/ }),

/***/ 7808:
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/calendar/locale/ja_JP.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ja_JP = _interopRequireDefault(__webpack_require__(/*! ../../date-picker/locale/ja_JP */ 4267));
var _default = exports["default"] = _ja_JP.default;

/***/ }),

/***/ 6258:
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/calendar/locale/ko_KR.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ko_KR = _interopRequireDefault(__webpack_require__(/*! ../../date-picker/locale/ko_KR */ 6669));
var _default = exports["default"] = _ko_KR.default;

/***/ }),

/***/ 8911:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/date-picker/locale/en_US.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _en_US = _interopRequireDefault(__webpack_require__(/*! rc-picker/lib/locale/en_US */ 5473));
var _en_US2 = _interopRequireDefault(__webpack_require__(/*! ../../time-picker/locale/en_US */ 3094));
// Merge into a locale object
const locale = {
  lang: Object.assign({
    placeholder: 'Select date',
    yearPlaceholder: 'Select year',
    quarterPlaceholder: 'Select quarter',
    monthPlaceholder: 'Select month',
    weekPlaceholder: 'Select week',
    rangePlaceholder: ['Start date', 'End date'],
    rangeYearPlaceholder: ['Start year', 'End year'],
    rangeQuarterPlaceholder: ['Start quarter', 'End quarter'],
    rangeMonthPlaceholder: ['Start month', 'End month'],
    rangeWeekPlaceholder: ['Start week', 'End week']
  }, _en_US.default),
  timePickerLocale: Object.assign({}, _en_US2.default)
};
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
var _default = exports["default"] = locale;

/***/ }),

/***/ 4267:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/date-picker/locale/ja_JP.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ja_JP = _interopRequireDefault(__webpack_require__(/*! rc-picker/lib/locale/ja_JP */ 4101));
var _ja_JP2 = _interopRequireDefault(__webpack_require__(/*! ../../time-picker/locale/ja_JP */ 7626));
// Merge into a locale object
const locale = {
  lang: Object.assign({
    placeholder: '日付を選択',
    rangePlaceholder: ['開始日付', '終了日付']
  }, _ja_JP.default),
  timePickerLocale: Object.assign({}, _ja_JP2.default)
};
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
var _default = exports["default"] = locale;

/***/ }),

/***/ 6669:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/date-picker/locale/ko_KR.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ko_KR = _interopRequireDefault(__webpack_require__(/*! rc-picker/lib/locale/ko_KR */ 4295));
var _ko_KR2 = _interopRequireDefault(__webpack_require__(/*! ../../time-picker/locale/ko_KR */ 876));
// Merge into a locale object
const locale = {
  lang: Object.assign({
    placeholder: '날짜 선택',
    rangePlaceholder: ['시작일', '종료일']
  }, _ko_KR.default),
  timePickerLocale: Object.assign({}, _ko_KR2.default)
};
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
var _default = exports["default"] = locale;

/***/ }),

/***/ 5685:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/en_US.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
__webpack_unused_export__ = ({
  value: true
});
exports.A = void 0;
var _en_US = _interopRequireDefault(__webpack_require__(/*! rc-pagination/lib/locale/en_US */ 1763));
var _en_US2 = _interopRequireDefault(__webpack_require__(/*! ../calendar/locale/en_US */ 4340));
var _en_US3 = _interopRequireDefault(__webpack_require__(/*! ../date-picker/locale/en_US */ 8911));
var _en_US4 = _interopRequireDefault(__webpack_require__(/*! ../time-picker/locale/en_US */ 3094));
/* eslint-disable no-template-curly-in-string */

const typeTemplate = '${label} is not a valid ${type}';
const localeValues = {
  locale: 'en',
  Pagination: _en_US.default,
  DatePicker: _en_US3.default,
  TimePicker: _en_US4.default,
  Calendar: _en_US2.default,
  global: {
    placeholder: 'Please select'
  },
  Table: {
    filterTitle: 'Filter menu',
    filterConfirm: 'OK',
    filterReset: 'Reset',
    filterEmptyText: 'No filters',
    filterCheckall: 'Select all items',
    filterSearchPlaceholder: 'Search in filters',
    emptyText: 'No data',
    selectAll: 'Select current page',
    selectInvert: 'Invert current page',
    selectNone: 'Clear all data',
    selectionAll: 'Select all data',
    sortTitle: 'Sort',
    expand: 'Expand row',
    collapse: 'Collapse row',
    triggerDesc: 'Click to sort descending',
    triggerAsc: 'Click to sort ascending',
    cancelSort: 'Click to cancel sorting'
  },
  Tour: {
    Next: 'Next',
    Previous: 'Previous',
    Finish: 'Finish'
  },
  Modal: {
    okText: 'OK',
    cancelText: 'Cancel',
    justOkText: 'OK'
  },
  Popconfirm: {
    okText: 'OK',
    cancelText: 'Cancel'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: 'Search here',
    itemUnit: 'item',
    itemsUnit: 'items',
    remove: 'Remove',
    selectCurrent: 'Select current page',
    removeCurrent: 'Remove current page',
    selectAll: 'Select all data',
    deselectAll: 'Deselect all data',
    removeAll: 'Remove all data',
    selectInvert: 'Invert current page'
  },
  Upload: {
    uploading: 'Uploading...',
    removeFile: 'Remove file',
    uploadError: 'Upload error',
    previewFile: 'Preview file',
    downloadFile: 'Download file'
  },
  Empty: {
    description: 'No data'
  },
  Icon: {
    icon: 'icon'
  },
  Text: {
    edit: 'Edit',
    copy: 'Copy',
    copied: 'Copied',
    expand: 'Expand',
    collapse: 'Collapse'
  },
  Form: {
    optional: '(optional)',
    defaultValidateMessages: {
      default: 'Field validation error for ${label}',
      required: 'Please enter ${label}',
      enum: '${label} must be one of [${enum}]',
      whitespace: '${label} cannot be a blank character',
      date: {
        format: '${label} date format is invalid',
        parse: '${label} cannot be converted to a date',
        invalid: '${label} is an invalid date'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label} must be ${len} characters',
        min: '${label} must be at least ${min} characters',
        max: '${label} must be up to ${max} characters',
        range: '${label} must be between ${min}-${max} characters'
      },
      number: {
        len: '${label} must be equal to ${len}',
        min: '${label} must be minimum ${min}',
        max: '${label} must be maximum ${max}',
        range: '${label} must be between ${min}-${max}'
      },
      array: {
        len: 'Must be ${len} ${label}',
        min: 'At least ${min} ${label}',
        max: 'At most ${max} ${label}',
        range: 'The amount of ${label} must be between ${min}-${max}'
      },
      pattern: {
        mismatch: '${label} does not match the pattern ${pattern}'
      }
    }
  },
  Image: {
    preview: 'Preview'
  },
  QRCode: {
    expired: 'QR code expired',
    refresh: 'Refresh',
    scanned: 'Scanned'
  },
  ColorPicker: {
    presetEmpty: 'Empty'
  }
};
var _default = exports.A = localeValues;

/***/ }),

/***/ 2593:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ja_JP.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
__webpack_unused_export__ = ({
  value: true
});
exports.A = void 0;
var _ja_JP = _interopRequireDefault(__webpack_require__(/*! rc-pagination/lib/locale/ja_JP */ 6791));
var _ja_JP2 = _interopRequireDefault(__webpack_require__(/*! ../calendar/locale/ja_JP */ 7808));
var _ja_JP3 = _interopRequireDefault(__webpack_require__(/*! ../date-picker/locale/ja_JP */ 4267));
var _ja_JP4 = _interopRequireDefault(__webpack_require__(/*! ../time-picker/locale/ja_JP */ 7626));
/* eslint-disable no-template-curly-in-string */

const typeTemplate = '${label}は有効な${type}ではありません';
const localeValues = {
  locale: 'ja',
  Pagination: _ja_JP.default,
  DatePicker: _ja_JP3.default,
  TimePicker: _ja_JP4.default,
  Calendar: _ja_JP2.default,
  global: {
    placeholder: '選んでください'
  },
  Table: {
    filterTitle: 'フィルター',
    filterConfirm: 'OK',
    filterReset: 'リセット',
    filterEmptyText: 'フィルターなし',
    filterCheckall: 'すべてを選択',
    filterSearchPlaceholder: 'フィルターで検索',
    emptyText: 'データなし',
    selectAll: 'ページ単位で選択',
    selectInvert: 'ページ単位で反転',
    selectNone: 'クリア',
    selectionAll: 'すべてを選択',
    sortTitle: 'ソート',
    expand: '展開する',
    collapse: '折り畳む',
    triggerDesc: 'クリックで降順にソート',
    triggerAsc: 'クリックで昇順にソート',
    cancelSort: 'ソートをキャンセル'
  },
  Tour: {
    Next: '次',
    Previous: '前の',
    Finish: '仕上げる'
  },
  Modal: {
    okText: 'OK',
    cancelText: 'キャンセル',
    justOkText: 'OK'
  },
  Popconfirm: {
    okText: 'OK',
    cancelText: 'キャンセル'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: 'ここを検索',
    itemUnit: 'アイテム',
    itemsUnit: 'アイテム',
    remove: '削除',
    selectCurrent: '現在のページを選択',
    removeCurrent: '現在のページを削除',
    selectAll: 'ページ単位で選択',
    deselectAll: 'すべてのデータの選択を解除する',
    removeAll: 'ページ単位で削除',
    selectInvert: 'ページ単位で反転'
  },
  Upload: {
    uploading: 'アップロード中...',
    removeFile: 'ファイルを削除',
    uploadError: 'アップロードエラー',
    previewFile: 'ファイルをプレビュー',
    downloadFile: 'ダウンロードファイル'
  },
  Empty: {
    description: 'データがありません'
  },
  Icon: {
    icon: 'アイコン'
  },
  Text: {
    edit: '編集',
    copy: 'コピー',
    copied: 'コピーされました',
    expand: '拡大する',
    collapse: '崩壊'
  },
  Form: {
    optional: '(オプション)',
    defaultValidateMessages: {
      default: '${label}のフィールド検証エラー',
      required: '${label}を入力してください',
      enum: '${label}は[${enum}]のいずれかである必要があります',
      whitespace: '${label}は空白文字にすることはできません',
      date: {
        format: '${label}の日付形式は不正です',
        parse: '${label}は日付に変換できません',
        invalid: '${label}は不正な日付です'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label}は${len}文字である必要があります',
        min: '${label}は${min}文字以上である必要があります',
        max: '${label}は${max}文字以下である必要があります',
        range: '${label}は${min}-${max}文字の範囲である必要があります'
      },
      number: {
        len: '${label}は${len}と等しい必要があります',
        min: '${label}の最小値は${min}です',
        max: '${label}の最大値は${max}です',
        range: '${label}は${min}-${max}の範囲である必要があります'
      },
      array: {
        len: '${label}は${len}である必要があります',
        min: '${label}の最小は${min}です',
        max: '${label}の最大は${max}です',
        range: '${label}の合計は${min}-${max}の範囲である必要があります'
      },
      pattern: {
        mismatch: '${label}はパターン${pattern}と一致しません'
      }
    }
  },
  Image: {
    preview: 'プレビュー'
  },
  QRCode: {
    expired: 'QRコードの有効期限が切れました',
    refresh: 'リフレッシュ',
    scanned: 'スキャン済み'
  },
  ColorPicker: {
    presetEmpty: '空の'
  }
};
var _default = exports.A = localeValues;

/***/ }),

/***/ 651:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ko_KR.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
__webpack_unused_export__ = ({
  value: true
});
exports.A = void 0;
var _ko_KR = _interopRequireDefault(__webpack_require__(/*! rc-pagination/lib/locale/ko_KR */ 561));
var _ko_KR2 = _interopRequireDefault(__webpack_require__(/*! ../calendar/locale/ko_KR */ 6258));
var _ko_KR3 = _interopRequireDefault(__webpack_require__(/*! ../date-picker/locale/ko_KR */ 6669));
var _ko_KR4 = _interopRequireDefault(__webpack_require__(/*! ../time-picker/locale/ko_KR */ 876));
/* eslint-disable no-template-curly-in-string */

const typeTemplate = '${label} 유효하지 않은 ${type}';
const localeValues = {
  locale: 'ko',
  Pagination: _ko_KR.default,
  DatePicker: _ko_KR3.default,
  TimePicker: _ko_KR4.default,
  Calendar: _ko_KR2.default,
  global: {
    placeholder: '선택하세요'
  },
  Table: {
    filterTitle: '필터 메뉴',
    filterConfirm: '확인',
    filterReset: '초기화',
    filterEmptyText: '필터 없음',
    filterCheckall: '전체 선택',
    filterSearchPlaceholder: '필터 검색',
    emptyText: '데이터 없음',
    selectAll: '전체 선택',
    selectInvert: '선택 반전',
    selectNone: '없음',
    selectionAll: '전체 선택',
    sortTitle: '정렬',
    expand: '펼치기',
    collapse: '접기',
    triggerDesc: '내림차순으로 정렬하기',
    triggerAsc: '오름차순으로 정렬하기',
    cancelSort: '정렬 취소하기'
  },
  Tour: {
    Next: '다음',
    Previous: '이전',
    Finish: '종료'
  },
  Modal: {
    okText: '확인',
    cancelText: '취소',
    justOkText: '확인'
  },
  Popconfirm: {
    okText: '확인',
    cancelText: '취소'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: '여기에 검색하세요',
    itemUnit: '개',
    itemsUnit: '개',
    remove: '삭제',
    selectCurrent: '현재 페이지 선택',
    removeCurrent: '현재 페이지 삭제',
    selectAll: '전체 선택',
    removeAll: '전체 삭제',
    selectInvert: '선택 반전'
  },
  Upload: {
    uploading: '업로드 중...',
    removeFile: '파일 삭제',
    uploadError: '업로드 실패',
    previewFile: '파일 미리보기',
    downloadFile: '파일 다운로드'
  },
  Empty: {
    description: '데이터 없음'
  },
  Icon: {
    icon: '아이콘'
  },
  Text: {
    edit: '수정',
    copy: '복사',
    copied: '복사 됨',
    expand: '확장'
  },
  Form: {
    optional: '(선택사항)',
    defaultValidateMessages: {
      default: '필드 유효성 검사 오류 ${label}',
      required: '${label} 값을 입력해 주세요',
      enum: '${label} [${enum}] 중에 하나여야 합니다',
      whitespace: '${label} 비워둘 수 없습니다',
      date: {
        format: '${label} 유효하지 않은 날짜 형식입니다',
        parse: '${label} 날짜 형식으로 변환될 수 없습니다',
        invalid: '${label} 유효하지 않은 날짜입니다'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label} ${len}글자여야 합니다',
        min: '${label} 적어도 ${min}글자 이상이어야 합니다',
        max: '${label} ${max}글자 이하여야 합니다',
        range: '${label} ${min}-${max}글자 사이어야 합니다'
      },
      number: {
        len: '${label} 값은 ${len}이어야 합니다',
        min: '${label} 최솟값은 ${min}입니다',
        max: '${label} 최댓값은 ${max}입니다',
        range: '${label} 값은 ${min}-${max} 사이어야 합니다'
      },
      array: {
        len: '${len}이어야 합니다 ${label}',
        min: '최소 ${min}이어야 합니다 ${label}',
        max: '최대 ${max}이어야 합니다 ${label}',
        range: '${label} ${min}-${max} 사이어야 합니다'
      },
      pattern: {
        mismatch: '${label} ${pattern} 패턴과 일치하지 않습니다'
      }
    }
  },
  Image: {
    preview: '미리보기'
  },
  QRCode: {
    expired: '만료된 QR 코드',
    refresh: '새로고침'
  },
  ColorPicker: {
    presetEmpty: '미정'
  }
};
var _default = exports.A = localeValues;

/***/ }),

/***/ 3094:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/time-picker/locale/en_US.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
const locale = {
  placeholder: 'Select time',
  rangePlaceholder: ['Start time', 'End time']
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 7626:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/time-picker/locale/ja_JP.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
const locale = {
  placeholder: '時間を選択',
  rangePlaceholder: ['開始時間', '終了時間']
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 876:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/time-picker/locale/ko_KR.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
const locale = {
  placeholder: '시간 선택',
  rangePlaceholder: ['시작 시간', '종료 시간']
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 7076:
/*!***********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/obj.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.obj-result{overflow-y:auto;position:relative;height:100%}.obj-result .table,.obj-result .vector,.obj-result .matrix,.obj-result .dict,.obj-result .chart{display:flex;flex-direction:column;height:100%}.obj-result .vector,.obj-result .table,.obj-result .matrix{user-select:text}.obj-result .vector .pagination,.obj-result .table .pagination,.obj-result .matrix .pagination{margin:2px 0px}.obj-result .vector table,.obj-result .table table,.obj-result .matrix table{text-align:right;word-break:keep-all;white-space:nowrap}.obj-result .vector .row-head,.obj-result .table .row-head,.obj-result .matrix .row-head{font-weight:bold;height:22px}.obj-result .vector thead th.ant-table-cell,.obj-result .table thead th.ant-table-cell,.obj-result .matrix thead th.ant-table-cell{text-align:center;font-weight:bold}.obj-result .vector thead .type,.obj-result .table thead .type,.obj-result .matrix thead .type{font-weight:normal;font-size:12px}.obj-result .vector thead.ant-table-thead>tr>th,.obj-result .table thead.ant-table-thead>tr>th,.obj-result .matrix thead.ant-table-thead>tr>th{padding:4px 8px}.obj-result .chart .chart-title{margin-top:8px;min-height:0px;text-align:center}.obj-result .chart .chart-body{flex:1;min-height:0px;overflow:auto;padding:0px 16px 8px 16px}.obj-result .dict{padding-top:8px}.obj-result .dict .table .bottom-bar,.obj-result .dict .vector .bottom-bar,.obj-result .dict .matrix .bottom-bar{padding-left:unset;position:unset;border-top:unset}.obj-result .dict .table .bottom-bar-placeholder,.obj-result .dict .vector .bottom-bar-placeholder,.obj-result .dict .matrix .bottom-bar-placeholder{display:none}.obj-result .dict .ant-tree-node-content-wrapper{user-select:text}.obj-result .dict .ant-tree-show-line .ant-tree-indent-unit::before{border-right:unset !important}.obj-result .dict .ant-tree{transition:unset !important}.obj-result .dict .ant-tree .ant-tree-node-content-wrapper{transition:unset !important}.obj-result .dict .ant-tree .ant-tree-switcher-noop{visibility:hidden}.obj-result .dict .ant-tree-node-content-wrapper.ant-tree-node-selected,.obj-result .dict .ant-tree-checkbox+span.ant-tree-node-selected{background-color:unset}.obj-result .dict .ant-tree-node-content-wrapper:hover,.obj-result .dict .ant-tree-checkbox+span:hover{background-color:unset}.obj-result .bottom-bar{display:flex;align-items:center;min-height:0px;width:100%;height:30px;position:absolute;bottom:0px;padding-left:12px}.obj-result .bottom-bar .info{font-size:16px;white-space:break-spaces;flex-shrink:0}.obj-result .bottom-bar .info .name{margin-left:8px;font-weight:bold}.obj-result .bottom-bar .actions{display:flex;flex-shrink:0;align-items:center;margin-left:10px}.obj-result .bottom-bar .actions .icon-link,.obj-result .bottom-bar .actions .pause-play{color:#888}.obj-result .bottom-bar .actions .icon-link{margin-right:10px;font-size:28px}.obj-result .bottom-bar .actions .pause-play{font-size:20px}.obj-result .bottom-bar-placeholder{height:30px}.obj-result .ant-table-wrapper{flex:1;overflow:auto}.obj-result .ant-tree{flex:1;overflow:auto}.obj-result .ant-table-thead>tr>td::before{content:none !important}.obj-result .ant-table-thead>tr>th,.obj-result .ant-table-tbody>tr>td,.obj-result .ant-table tfoot>tr>th,.obj-result .ant-table tfoot>tr>td{padding:1px 8px}.obj-result .ant-table-thead>tr>th,.obj-result .ant-table-thead>tr>td{text-align:center !important}.obj-result .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table thead,.obj-result .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table thead{position:sticky;top:0;z-index:3}.obj-result .ant-table-wrapper .ant-table.ant-table-bordered>.ant-table-container{border-top:unset}.obj-result .ant-table-tbody>tr>td{transition:none}.obj-result .ant-table table{width:unset}.obj-result .ant-empty-normal .ant-empty-image{display:none}.obj-result.themed .default-obj{color:var(--vscode-editor-foreground, #000000)}.obj-result.themed .vector .row-head,.obj-result.themed .table .row-head,.obj-result.themed .matrix .row-head{background-color:var(--vscode-sideBar-background, #eeeeee) !important;border-bottom:1px solid var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important;border-right:1px solid var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .vector thead .type,.obj-result.themed .table thead .type,.obj-result.themed .matrix thead .type{color:var(--vscode-editorGroupHeader-tabsBackground, #888888) !important}.obj-result.themed .chart .chart-title{color:var(--vscode-editor-foreground, #000000) !important}.obj-result.themed .dict .ant-tree-show-line .ant-tree-switcher{background:var(--vscode-editor-background, #ffffff)}.obj-result.themed .dict .ant-tree{color:var(--vscode-editor-foreground, #000000);background-color:var(--vscode-editor-background, #ffffff)}.obj-result.themed .dict .ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:unset !important}.obj-result.themed .dict .ant-tree .ant-tree-node-content-wrapper:hover{background-color:unset !important}.obj-result.themed .bottom-bar{border-top:1px solid var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13))}.obj-result.themed .bottom-bar .info{color:var(--vscode-editor-foreground, #000000)}.obj-result.themed .ant-table{background-color:var(--vscode-editor-background, #ffffff) !important}.obj-result.themed .ant-table-thead>tr>th,.obj-result.themed .ant-table-tbody>tr>td,.obj-result.themed .ant-table tfoot>tr>th,.obj-result.themed .ant-table tfoot>tr>td{color:var(--vscode-editor-foreground, #000000);border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table-thead>tr>th,.obj-result.themed .ant-table-thead>tr>td{background-color:var(--vscode-sideBar-background, #eeeeee) !important;border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table,.obj-result.themed .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table{border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table.ant-table-bordered>.ant-table-container{border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table-tbody>tr.ant-table-row:hover>td,.obj-result.themed .ant-table-tbody>tr>td.ant-table-cell-row-hover{background-color:var(--vscode-sideBar-background, #f8f8f8) !important}.obj-result.themed .ant-table-tbody>tr.ant-table-placeholder:hover>td{background-color:var(--vscode-editor-background, #ffffff) !important}.obj-result.themed .ant-table-wrapper .ant-table-tbody>tr.ant-table-placeholder{background-color:var(--vscode-editor-background, #ffffff) !important}.obj-result.themed .ant-empty-normal{color:var(--vscode-editor-foreground, #000000) !important}.obj-result.themed .ant-empty-normal .ant-empty-img-simple-path,.obj-result.themed .ant-empty-normal .ant-empty-img-simple-ellipse{fill:var(--vscode-editor-background, #ffffff)}.obj-result.themed .ant-empty-normal .ant-empty-description{color:var(--vscode-editor-foreground, #000000) !important}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 4523:
/*!******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/pagination.sass ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.root .ant-pagination-item-active{border-color:rgba(0,0,0,0) !important}.root .themed .ant-pagination{margin-left:10px;flex-shrink:0}.root .themed .ant-pagination .ant-pagination-item a{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-active{background-color:var(--vscode-editor-background, #ffffff) !important;border:0px;font-weight:bold}.root .themed .ant-pagination .ant-pagination-item-active a{margin-top:1px;color:var(--vscode-editorLineNumber-activeForeground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-ellipsis{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-link{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-link-icon{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-disabled svg{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options{color:var(--vscode-editor-foreground, #000000) !important;display:inline-block !important}.root .themed .ant-pagination .ant-pagination-options input{background-color:var(--vscode-input-background, #ffffff) !important;color:var(--vscode-input-foreground, rgba(0, 0, 0, 0.8509803922)) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select{color:var(--vscode-editor-foreground, #000000)}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-selector{background-color:var(--vscode-editor-background, #ffffff) !important;border-color:var(--vscode-editor-background, #ffffff) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-arrow{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-dropdown{background-color:var(--vscode-dropdown-background, #ffffff) !important;color:var(--vscode-dropdown-foreground, rgba(0, 0, 0, 0.8509803922)) !important;border:1px solid var(--vscode-dropdown-border, #ffffff) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-item{color:var(--vscode-dropdown-foreground, rgba(0, 0, 0, 0.8509803922)) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-item-option-active{background-color:var(--vscode-inputOption-hoverBackground, #f5f5f5) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-item-option-selected{background-color:var(--vscode-editor-selectionBackground, #eeeeee) !important;color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-selection-item{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select:not(.ant-select-disabled):hover .ant-select-selector{border-color:#707070}.root .themed .ant-pagination .ant-pagination-options .ant-select-focused:not(.ant-select-disabled).ant-select:not(.ant-select-customize-input) .ant-select-selector{box-shadow:unset}.root .themed .ant-pagination .ant-pagination-options .ant-select-single.ant-select-open .ant-select-selection-item{color:var(--vscode-editor-foreground, #000000)}.root .themed .ant-pagination .ant-pagination-options .ant-select-item-option-selected:not(.ant-select-item-option-disabled){background-color:var(--vscode-editor-selectionBackground, #eeeeee) !important}.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input{border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13))}.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input:hover{border-color:#707070}.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input:focus,.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input-focused{border-color:#707070;box-shadow:unset}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 2183:
/*!**************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/window.sass ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `html,body{margin:0;padding:0;height:100%;overscroll-behavior-y:contain;color:#000}*{box-sizing:inherit}.root{height:100%;box-sizing:border-box;font-size:20px}.root .app{height:100%}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 386:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/scroll-bar.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `::-webkit-scrollbar,::-webkit-scrollbar:horizontal,::-webkit-scrollbar:vertical{width:12px !important;height:12px !important;background-color:#aaa !important}::-webkit-scrollbar-track-piece{background-color:#fff !important;box-shadow:inset 0 0 0px #aaa !important;border:0px solid #aaa !important;border-radius:0px !important}::-webkit-scrollbar-track-piece:vertical{background-image:""}::-webkit-scrollbar-track-piece:vertical:hover{background-image:""}::-webkit-scrollbar-track-piece:horizontal{background-image:""}::-webkit-scrollbar-track-piece:horizontal:hover{background-image:""}::-webkit-scrollbar-track-piece:hover{background-color:#d9d9d9 !important;box-shadow:inset 0 0 0px #aaa !important}::-webkit-scrollbar-thumb{background-color:#aaa !important;box-shadow:inset 0 0 0px #aaa !important;border-radius:0px !important;border:0px solid #aaa !important}::-webkit-scrollbar-thumb:vertical{background-image:""}::-webkit-scrollbar-thumb:horizontal{background-image:""}::-webkit-scrollbar-corner{background-color:#b0bec5 !important}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 2696:
/*!********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js ***!
  \********************************************************************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ 3623:
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \*****************************************************************************************************************/
/***/ ((module) => {



module.exports = function (i) {
  return i[1];
};

/***/ }),

/***/ 5289:
/*!*****************************************************************************************!*\
  !*** ./node_modules/.pnpm/dayjs@1.11.11/node_modules/dayjs/plugin/customParseFormat.js ***!
  \*****************************************************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},s=function(e){return(e=+e)+(e>68?1900:2e3)};var a=function(e){return function(t){this[e]=+t}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],h=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[i,function(e){this.afternoon=u(e,!1)}],a:[i,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[i,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[i,function(e){var t=h("months"),n=(h("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=h("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(e){this.year=s(e)}],YYYY:[/\d{4}/,a("year")],Z:f,ZZ:f};function c(n){var r,i;r=n,i=o&&o.formats;for(var s=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=s.length,f=0;f<a;f+=1){var h=s[f],u=d[h],c=u&&u[0],l=u&&u[1];s[f]=l?{regex:c,parser:l}:h.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=s[n];if("string"==typeof i)r+=i.length;else{var o=i.regex,f=i.parser,h=e.slice(r),u=o.exec(h)[0];f.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,s=e.args;this.$u=r;var a=s[1];if("string"==typeof a){var f=!0===s[2],h=!0===s[3],u=f||h,d=s[2];h&&(d=s[2]),o=this.$locale(),!f&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=c(t)(e),i=r.year,o=r.month,s=r.day,a=r.hours,f=r.minutes,h=r.seconds,u=r.milliseconds,d=r.zone,l=new Date,m=s||(i||o?1:l.getDate()),M=i||l.getFullYear(),Y=0;i&&!o||(Y=o>0?o-1:l.getMonth());var p=a||0,v=f||0,D=h||0,g=u||0;return d?new Date(Date.UTC(M,Y,m,p,v,D,g+60*d.offset*1e3)):n?new Date(Date.UTC(M,Y,m,p,v,D,g)):new Date(M,Y,m,p,v,D,g)}catch(e){return new Date("")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),o={}}else if(a instanceof Array)for(var l=a.length,m=1;m<=l;m+=1){s[1]=a[m-1];var M=n.apply(this,s);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}m===l&&(this.$d=new Date(""))}else i.call(this,e)}}}));

/***/ }),

/***/ 2397:
/*!*********************************************************************************!*\
  !*** ./node_modules/.pnpm/ipaddr.js@2.2.0/node_modules/ipaddr.js/lib/ipaddr.js ***!
  \*********************************************************************************/
/***/ (function(module) {

(function (root) {
    'use strict';
    // A list of regular expressions that match arbitrary IPv4 addresses,
    // for which a number of weird notations exist.
    // Note that an address like 0010.0xa5.1.1 is considered legal.
    const ipv4Part = '(0?\\d+|0x[a-f0-9]+)';
    const ipv4Regexes = {
        fourOctet: new RegExp(`^${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}$`, 'i'),
        threeOctet: new RegExp(`^${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}$`, 'i'),
        twoOctet: new RegExp(`^${ipv4Part}\\.${ipv4Part}$`, 'i'),
        longValue: new RegExp(`^${ipv4Part}$`, 'i')
    };

    // Regular Expression for checking Octal numbers
    const octalRegex = new RegExp(`^0[0-7]+$`, 'i');
    const hexRegex = new RegExp(`^0x[a-f0-9]+$`, 'i');

    const zoneIndex = '%[0-9a-z]{1,}';

    // IPv6-matching regular expressions.
    // For IPv6, the task is simpler: it is enough to match the colon-delimited
    // hexadecimal IPv6 and a transitional variant with dotted-decimal IPv4 at
    // the end.
    const ipv6Part = '(?:[0-9a-f]+::?)+';
    const ipv6Regexes = {
        zoneIndex: new RegExp(zoneIndex, 'i'),
        'native': new RegExp(`^(::)?(${ipv6Part})?([0-9a-f]+)?(::)?(${zoneIndex})?$`, 'i'),
        deprecatedTransitional: new RegExp(`^(?:::)(${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}(${zoneIndex})?)$`, 'i'),
        transitional: new RegExp(`^((?:${ipv6Part})|(?:::)(?:${ipv6Part})?)${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}(${zoneIndex})?$`, 'i')
    };

    // Expand :: in an IPv6 address or address part consisting of `parts` groups.
    function expandIPv6 (string, parts) {
        // More than one '::' means invalid adddress
        if (string.indexOf('::') !== string.lastIndexOf('::')) {
            return null;
        }

        let colonCount = 0;
        let lastColon = -1;
        let zoneId = (string.match(ipv6Regexes.zoneIndex) || [])[0];
        let replacement, replacementCount;

        // Remove zone index and save it for later
        if (zoneId) {
            zoneId = zoneId.substring(1);
            string = string.replace(/%.+$/, '');
        }

        // How many parts do we already have?
        while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {
            colonCount++;
        }

        // 0::0 is two parts more than ::
        if (string.substr(0, 2) === '::') {
            colonCount--;
        }

        if (string.substr(-2, 2) === '::') {
            colonCount--;
        }

        // The following loop would hang if colonCount > parts
        if (colonCount > parts) {
            return null;
        }

        // replacement = ':' + '0:' * (parts - colonCount)
        replacementCount = parts - colonCount;
        replacement = ':';
        while (replacementCount--) {
            replacement += '0:';
        }

        // Insert the missing zeroes
        string = string.replace('::', replacement);

        // Trim any garbage which may be hanging around if :: was at the edge in
        // the source strin
        if (string[0] === ':') {
            string = string.slice(1);
        }

        if (string[string.length - 1] === ':') {
            string = string.slice(0, -1);
        }

        parts = (function () {
            const ref = string.split(':');
            const results = [];

            for (let i = 0; i < ref.length; i++) {
                results.push(parseInt(ref[i], 16));
            }

            return results;
        })();

        return {
            parts: parts,
            zoneId: zoneId
        };
    }

    // A generic CIDR (Classless Inter-Domain Routing) RFC1518 range matcher.
    function matchCIDR (first, second, partSize, cidrBits) {
        if (first.length !== second.length) {
            throw new Error('ipaddr: cannot match CIDR for objects with different lengths');
        }

        let part = 0;
        let shift;

        while (cidrBits > 0) {
            shift = partSize - cidrBits;
            if (shift < 0) {
                shift = 0;
            }

            if (first[part] >> shift !== second[part] >> shift) {
                return false;
            }

            cidrBits -= partSize;
            part += 1;
        }

        return true;
    }

    function parseIntAuto (string) {
        // Hexadedimal base 16 (0x#)
        if (hexRegex.test(string)) {
            return parseInt(string, 16);
        }
        // While octal representation is discouraged by ECMAScript 3
        // and forbidden by ECMAScript 5, we silently allow it to
        // work only if the rest of the string has numbers less than 8.
        if (string[0] === '0' && !isNaN(parseInt(string[1], 10))) {
        if (octalRegex.test(string)) {
            return parseInt(string, 8);
        }
            throw new Error(`ipaddr: cannot parse ${string} as octal`);
        }
        // Always include the base 10 radix!
        return parseInt(string, 10);
    }

    function padPart (part, length) {
        while (part.length < length) {
            part = `0${part}`;
        }

        return part;
    }

    const ipaddr = {};

    // An IPv4 address (RFC791).
    ipaddr.IPv4 = (function () {
        // Constructs a new IPv4 address from an array of four octets
        // in network order (MSB first)
        // Verifies the input.
        function IPv4 (octets) {
            if (octets.length !== 4) {
                throw new Error('ipaddr: ipv4 octet count should be 4');
            }

            let i, octet;

            for (i = 0; i < octets.length; i++) {
                octet = octets[i];
                if (!((0 <= octet && octet <= 255))) {
                    throw new Error('ipaddr: ipv4 octet should fit in 8 bits');
                }
            }

            this.octets = octets;
        }

        // Special IPv4 address ranges.
        // See also https://en.wikipedia.org/wiki/Reserved_IP_addresses
        IPv4.prototype.SpecialRanges = {
            unspecified: [[new IPv4([0, 0, 0, 0]), 8]],
            broadcast: [[new IPv4([255, 255, 255, 255]), 32]],
            // RFC3171
            multicast: [[new IPv4([224, 0, 0, 0]), 4]],
            // RFC3927
            linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],
            // RFC5735
            loopback: [[new IPv4([127, 0, 0, 0]), 8]],
            // RFC6598
            carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],
            // RFC1918
            'private': [
                [new IPv4([10, 0, 0, 0]), 8],
                [new IPv4([172, 16, 0, 0]), 12],
                [new IPv4([192, 168, 0, 0]), 16]
            ],
            // Reserved and testing-only ranges; RFCs 5735, 5737, 2544, 1700
            reserved: [
                [new IPv4([192, 0, 0, 0]), 24],
                [new IPv4([192, 0, 2, 0]), 24],
                [new IPv4([192, 88, 99, 0]), 24],
                [new IPv4([198, 18, 0, 0]), 15],
                [new IPv4([198, 51, 100, 0]), 24],
                [new IPv4([203, 0, 113, 0]), 24],
                [new IPv4([240, 0, 0, 0]), 4]
            ],
            // RFC7534, RFC7535
            as112: [
                [new IPv4([192, 175, 48, 0]), 24],
                [new IPv4([192, 31, 196, 0]), 24],
            ],
            // RFC7450
            amt: [
                [new IPv4([192, 52, 193, 0]), 24],
            ],
        };

        // The 'kind' method exists on both IPv4 and IPv6 classes.
        IPv4.prototype.kind = function () {
            return 'ipv4';
        };

        // Checks if this address matches other one within given CIDR range.
        IPv4.prototype.match = function (other, cidrRange) {
            let ref;
            if (cidrRange === undefined) {
                ref = other;
                other = ref[0];
                cidrRange = ref[1];
            }

            if (other.kind() !== 'ipv4') {
                throw new Error('ipaddr: cannot match ipv4 address with non-ipv4 one');
            }

            return matchCIDR(this.octets, other.octets, 8, cidrRange);
        };

        // returns a number of leading ones in IPv4 address, making sure that
        // the rest is a solid sequence of 0's (valid netmask)
        // returns either the CIDR length or null if mask is not valid
        IPv4.prototype.prefixLengthFromSubnetMask = function () {
            let cidr = 0;
            // non-zero encountered stop scanning for zeroes
            let stop = false;
            // number of zeroes in octet
            const zerotable = {
                0: 8,
                128: 7,
                192: 6,
                224: 5,
                240: 4,
                248: 3,
                252: 2,
                254: 1,
                255: 0
            };
            let i, octet, zeros;

            for (i = 3; i >= 0; i -= 1) {
                octet = this.octets[i];
                if (octet in zerotable) {
                    zeros = zerotable[octet];
                    if (stop && zeros !== 0) {
                        return null;
                    }

                    if (zeros !== 8) {
                        stop = true;
                    }

                    cidr += zeros;
                } else {
                    return null;
                }
            }

            return 32 - cidr;
        };

        // Checks if the address corresponds to one of the special ranges.
        IPv4.prototype.range = function () {
            return ipaddr.subnetMatch(this, this.SpecialRanges);
        };

        // Returns an array of byte-sized values in network order (MSB first)
        IPv4.prototype.toByteArray = function () {
            return this.octets.slice(0);
        };

        // Converts this IPv4 address to an IPv4-mapped IPv6 address.
        IPv4.prototype.toIPv4MappedAddress = function () {
            return ipaddr.IPv6.parse(`::ffff:${this.toString()}`);
        };

        // Symmetrical method strictly for aligning with the IPv6 methods.
        IPv4.prototype.toNormalizedString = function () {
            return this.toString();
        };

        // Returns the address in convenient, decimal-dotted format.
        IPv4.prototype.toString = function () {
            return this.octets.join('.');
        };

        return IPv4;
    })();

    // A utility function to return broadcast address given the IPv4 interface and prefix length in CIDR notation
    ipaddr.IPv4.broadcastAddressFromCIDR = function (string) {

        try {
            const cidr = this.parseCIDR(string);
            const ipInterfaceOctets = cidr[0].toByteArray();
            const subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            const octets = [];
            let i = 0;
            while (i < 4) {
                // Broadcast address is bitwise OR between ip interface and inverted mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error('ipaddr: the address does not have IPv4 CIDR format');
        }
    };

    // Checks if a given string is formatted like IPv4 address.
    ipaddr.IPv4.isIPv4 = function (string) {
        return this.parser(string) !== null;
    };

    // Checks if a given string is a valid IPv4 address.
    ipaddr.IPv4.isValid = function (string) {
        try {
            new this(this.parser(string));
            return true;
        } catch (e) {
            return false;
        }
    };

    // Checks if a given string is a valid IPv4 address in CIDR notation.
    ipaddr.IPv4.isValidCIDR = function (string) {
        try {
            this.parseCIDR(string);
            return true;
        } catch (e) {
            return false;
        }
    };

    // Checks if a given string is a full four-part IPv4 Address.
    ipaddr.IPv4.isValidFourPartDecimal = function (string) {
        if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/)) {
            return true;
        } else {
            return false;
        }
    };

    // A utility function to return network address given the IPv4 interface and prefix length in CIDR notation
    ipaddr.IPv4.networkAddressFromCIDR = function (string) {
        let cidr, i, ipInterfaceOctets, octets, subnetMaskOctets;

        try {
            cidr = this.parseCIDR(string);
            ipInterfaceOctets = cidr[0].toByteArray();
            subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            octets = [];
            i = 0;
            while (i < 4) {
                // Network address is bitwise AND between ip interface and mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error('ipaddr: the address does not have IPv4 CIDR format');
        }
    };

    // Tries to parse and validate a string with IPv4 address.
    // Throws an error if it fails.
    ipaddr.IPv4.parse = function (string) {
        const parts = this.parser(string);

        if (parts === null) {
            throw new Error('ipaddr: string is not formatted like an IPv4 Address');
        }

        return new this(parts);
    };

    // Parses the string as an IPv4 Address with CIDR Notation.
    ipaddr.IPv4.parseCIDR = function (string) {
        let match;

        if ((match = string.match(/^(.+)\/(\d+)$/))) {
            const maskLength = parseInt(match[2]);
            if (maskLength >= 0 && maskLength <= 32) {
                const parsed = [this.parse(match[1]), maskLength];
                Object.defineProperty(parsed, 'toString', {
                    value: function () {
                        return this.join('/');
                    }
                });
                return parsed;
            }
        }

        throw new Error('ipaddr: string is not formatted like an IPv4 CIDR range');
    };

    // Classful variants (like a.b, where a is an octet, and b is a 24-bit
    // value representing last three octets; this corresponds to a class C
    // address) are omitted due to classless nature of modern Internet.
    ipaddr.IPv4.parser = function (string) {
        let match, part, value;

        // parseInt recognizes all that octal & hexadecimal weirdness for us
        if ((match = string.match(ipv4Regexes.fourOctet))) {
            return (function () {
                const ref = match.slice(1, 6);
                const results = [];

                for (let i = 0; i < ref.length; i++) {
                    part = ref[i];
                    results.push(parseIntAuto(part));
                }

                return results;
            })();
        } else if ((match = string.match(ipv4Regexes.longValue))) {
            value = parseIntAuto(match[1]);
            if (value > 0xffffffff || value < 0) {
                throw new Error('ipaddr: address outside defined range');
            }

            return ((function () {
                const results = [];
                let shift;

                for (shift = 0; shift <= 24; shift += 8) {
                    results.push((value >> shift) & 0xff);
                }

                return results;
            })()).reverse();
        } else if ((match = string.match(ipv4Regexes.twoOctet))) {
            return (function () {
                const ref = match.slice(1, 4);
                const results = [];

                value = parseIntAuto(ref[1]);
                if (value > 0xffffff || value < 0) {
                    throw new Error('ipaddr: address outside defined range');
                }

                results.push(parseIntAuto(ref[0]));
                results.push((value >> 16) & 0xff);
                results.push((value >>  8) & 0xff);
                results.push( value        & 0xff);

                return results;
            })();
        } else if ((match = string.match(ipv4Regexes.threeOctet))) {
            return (function () {
                const ref = match.slice(1, 5);
                const results = [];

                value = parseIntAuto(ref[2]);
                if (value > 0xffff || value < 0) {
                    throw new Error('ipaddr: address outside defined range');
                }

                results.push(parseIntAuto(ref[0]));
                results.push(parseIntAuto(ref[1]));
                results.push((value >> 8) & 0xff);
                results.push( value       & 0xff);

                return results;
            })();
        } else {
            return null;
        }
    };

    // A utility function to return subnet mask in IPv4 format given the prefix length
    ipaddr.IPv4.subnetMaskFromPrefixLength = function (prefix) {
        prefix = parseInt(prefix);
        if (prefix < 0 || prefix > 32) {
            throw new Error('ipaddr: invalid IPv4 prefix length');
        }

        const octets = [0, 0, 0, 0];
        let j = 0;
        const filledOctetCount = Math.floor(prefix / 8);

        while (j < filledOctetCount) {
            octets[j] = 255;
            j++;
        }

        if (filledOctetCount < 4) {
            octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);
        }

        return new this(octets);
    };

    // An IPv6 address (RFC2460)
    ipaddr.IPv6 = (function () {
        // Constructs an IPv6 address from an array of eight 16 - bit parts
        // or sixteen 8 - bit parts in network order(MSB first).
        // Throws an error if the input is invalid.
        function IPv6 (parts, zoneId) {
            let i, part;

            if (parts.length === 16) {
                this.parts = [];
                for (i = 0; i <= 14; i += 2) {
                    this.parts.push((parts[i] << 8) | parts[i + 1]);
                }
            } else if (parts.length === 8) {
                this.parts = parts;
            } else {
                throw new Error('ipaddr: ipv6 part count should be 8 or 16');
            }

            for (i = 0; i < this.parts.length; i++) {
                part = this.parts[i];
                if (!((0 <= part && part <= 0xffff))) {
                    throw new Error('ipaddr: ipv6 part should fit in 16 bits');
                }
            }

            if (zoneId) {
                this.zoneId = zoneId;
            }
        }

        // Special IPv6 ranges
        IPv6.prototype.SpecialRanges = {
            // RFC4291, here and after
            unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],
            linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],
            multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],
            loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],
            uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],
            ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],
            // RFC6666
            discard: [new IPv6([0x100, 0, 0, 0, 0, 0, 0, 0]), 64],
            // RFC6145
            rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],
            // RFC6052
            rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],
            // RFC3056
            '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],
            // RFC6052, RFC6146
            teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],
            // RFC5180
            benchmarking: [new IPv6([0x2001, 0x2, 0, 0, 0, 0, 0, 0]), 48],
            // RFC7450
            amt: [new IPv6([0x2001, 0x3, 0, 0, 0, 0, 0, 0]), 32],
            as112v6: [
                [new IPv6([0x2001, 0x4, 0x112, 0, 0, 0, 0, 0]), 48],
                [new IPv6([0x2620, 0x4f, 0x8000, 0, 0, 0, 0, 0]), 48],
            ],
            deprecated: [new IPv6([0x2001, 0x10, 0, 0, 0, 0, 0, 0]), 28],
            orchid2: [new IPv6([0x2001, 0x20, 0, 0, 0, 0, 0, 0]), 28],
            droneRemoteIdProtocolEntityTags: [new IPv6([0x2001, 0x30, 0, 0, 0, 0, 0, 0]), 28],
            reserved: [
                // RFC3849
                [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 23],
                // RFC2928
                [new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32],
            ],
        };

        // Checks if this address is an IPv4-mapped IPv6 address.
        IPv6.prototype.isIPv4MappedAddress = function () {
            return this.range() === 'ipv4Mapped';
        };

        // The 'kind' method exists on both IPv4 and IPv6 classes.
        IPv6.prototype.kind = function () {
            return 'ipv6';
        };

        // Checks if this address matches other one within given CIDR range.
        IPv6.prototype.match = function (other, cidrRange) {
            let ref;

            if (cidrRange === undefined) {
                ref = other;
                other = ref[0];
                cidrRange = ref[1];
            }

            if (other.kind() !== 'ipv6') {
                throw new Error('ipaddr: cannot match ipv6 address with non-ipv6 one');
            }

            return matchCIDR(this.parts, other.parts, 16, cidrRange);
        };

        // returns a number of leading ones in IPv6 address, making sure that
        // the rest is a solid sequence of 0's (valid netmask)
        // returns either the CIDR length or null if mask is not valid
        IPv6.prototype.prefixLengthFromSubnetMask = function () {
            let cidr = 0;
            // non-zero encountered stop scanning for zeroes
            let stop = false;
            // number of zeroes in octet
            const zerotable = {
                0: 16,
                32768: 15,
                49152: 14,
                57344: 13,
                61440: 12,
                63488: 11,
                64512: 10,
                65024: 9,
                65280: 8,
                65408: 7,
                65472: 6,
                65504: 5,
                65520: 4,
                65528: 3,
                65532: 2,
                65534: 1,
                65535: 0
            };
            let part, zeros;

            for (let i = 7; i >= 0; i -= 1) {
                part = this.parts[i];
                if (part in zerotable) {
                    zeros = zerotable[part];
                    if (stop && zeros !== 0) {
                        return null;
                    }

                    if (zeros !== 16) {
                        stop = true;
                    }

                    cidr += zeros;
                } else {
                    return null;
                }
            }

            return 128 - cidr;
        };


        // Checks if the address corresponds to one of the special ranges.
        IPv6.prototype.range = function () {
            return ipaddr.subnetMatch(this, this.SpecialRanges);
        };

        // Returns an array of byte-sized values in network order (MSB first)
        IPv6.prototype.toByteArray = function () {
            let part;
            const bytes = [];
            const ref = this.parts;
            for (let i = 0; i < ref.length; i++) {
                part = ref[i];
                bytes.push(part >> 8);
                bytes.push(part & 0xff);
            }

            return bytes;
        };

        // Returns the address in expanded format with all zeroes included, like
        // 2001:0db8:0008:0066:0000:0000:0000:0001
        IPv6.prototype.toFixedLengthString = function () {
            const addr = ((function () {
                const results = [];
                for (let i = 0; i < this.parts.length; i++) {
                    results.push(padPart(this.parts[i].toString(16), 4));
                }

                return results;
            }).call(this)).join(':');

            let suffix = '';

            if (this.zoneId) {
                suffix = `%${this.zoneId}`;
            }

            return addr + suffix;
        };

        // Converts this address to IPv4 address if it is an IPv4-mapped IPv6 address.
        // Throws an error otherwise.
        IPv6.prototype.toIPv4Address = function () {
            if (!this.isIPv4MappedAddress()) {
                throw new Error('ipaddr: trying to convert a generic ipv6 address to ipv4');
            }

            const ref = this.parts.slice(-2);
            const high = ref[0];
            const low = ref[1];

            return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);
        };

        // Returns the address in expanded format with all zeroes included, like
        // 2001:db8:8:66:0:0:0:1
        //
        // Deprecated: use toFixedLengthString() instead.
        IPv6.prototype.toNormalizedString = function () {
            const addr = ((function () {
                const results = [];

                for (let i = 0; i < this.parts.length; i++) {
                    results.push(this.parts[i].toString(16));
                }

                return results;
            }).call(this)).join(':');

            let suffix = '';

            if (this.zoneId) {
                suffix = `%${this.zoneId}`;
            }

            return addr + suffix;
        };

        // Returns the address in compact, human-readable format like
        // 2001:db8:8:66::1
        // in line with RFC 5952 (see https://tools.ietf.org/html/rfc5952#section-4)
        IPv6.prototype.toRFC5952String = function () {
            const regex = /((^|:)(0(:|$)){2,})/g;
            const string = this.toNormalizedString();
            let bestMatchIndex = 0;
            let bestMatchLength = -1;
            let match;

            while ((match = regex.exec(string))) {
                if (match[0].length > bestMatchLength) {
                    bestMatchIndex = match.index;
                    bestMatchLength = match[0].length;
                }
            }

            if (bestMatchLength < 0) {
                return string;
            }

            return `${string.substring(0, bestMatchIndex)}::${string.substring(bestMatchIndex + bestMatchLength)}`;
        };

        // Returns the address in compact, human-readable format like
        // 2001:db8:8:66::1
        // Calls toRFC5952String under the hood.
        IPv6.prototype.toString = function () {
            return this.toRFC5952String();
        };

        return IPv6;

    })();

    // A utility function to return broadcast address given the IPv6 interface and prefix length in CIDR notation
    ipaddr.IPv6.broadcastAddressFromCIDR = function (string) {
        try {
            const cidr = this.parseCIDR(string);
            const ipInterfaceOctets = cidr[0].toByteArray();
            const subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            const octets = [];
            let i = 0;
            while (i < 16) {
                // Broadcast address is bitwise OR between ip interface and inverted mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`);
        }
    };

    // Checks if a given string is formatted like IPv6 address.
    ipaddr.IPv6.isIPv6 = function (string) {
        return this.parser(string) !== null;
    };

    // Checks to see if string is a valid IPv6 Address
    ipaddr.IPv6.isValid = function (string) {

        // Since IPv6.isValid is always called first, this shortcut
        // provides a substantial performance gain.
        if (typeof string === 'string' && string.indexOf(':') === -1) {
            return false;
        }

        try {
            const addr = this.parser(string);
            new this(addr.parts, addr.zoneId);
            return true;
        } catch (e) {
            return false;
        }
    };

    // Checks if a given string is a valid IPv6 address in CIDR notation.
    ipaddr.IPv6.isValidCIDR = function (string) {

        // See note in IPv6.isValid
        if (typeof string === 'string' && string.indexOf(':') === -1) {
            return false;
        }

        try {
            this.parseCIDR(string);
            return true;
        } catch (e) {
            return false;
        }
    };

    // A utility function to return network address given the IPv6 interface and prefix length in CIDR notation
    ipaddr.IPv6.networkAddressFromCIDR = function (string) {
        let cidr, i, ipInterfaceOctets, octets, subnetMaskOctets;

        try {
            cidr = this.parseCIDR(string);
            ipInterfaceOctets = cidr[0].toByteArray();
            subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            octets = [];
            i = 0;
            while (i < 16) {
                // Network address is bitwise AND between ip interface and mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`);
        }
    };

    // Tries to parse and validate a string with IPv6 address.
    // Throws an error if it fails.
    ipaddr.IPv6.parse = function (string) {
        const addr = this.parser(string);

        if (addr.parts === null) {
            throw new Error('ipaddr: string is not formatted like an IPv6 Address');
        }

        return new this(addr.parts, addr.zoneId);
    };

    ipaddr.IPv6.parseCIDR = function (string) {
        let maskLength, match, parsed;

        if ((match = string.match(/^(.+)\/(\d+)$/))) {
            maskLength = parseInt(match[2]);
            if (maskLength >= 0 && maskLength <= 128) {
                parsed = [this.parse(match[1]), maskLength];
                Object.defineProperty(parsed, 'toString', {
                    value: function () {
                        return this.join('/');
                    }
                });
                return parsed;
            }
        }

        throw new Error('ipaddr: string is not formatted like an IPv6 CIDR range');
    };

    // Parse an IPv6 address.
    ipaddr.IPv6.parser = function (string) {
        let addr, i, match, octet, octets, zoneId;

        if ((match = string.match(ipv6Regexes.deprecatedTransitional))) {
            return this.parser(`::ffff:${match[1]}`);
        }
        if (ipv6Regexes.native.test(string)) {
            return expandIPv6(string, 8);
        }
        if ((match = string.match(ipv6Regexes.transitional))) {
            zoneId = match[6] || '';
            addr = match[1]
            if (!match[1].endsWith('::')) {
                addr = addr.slice(0, -1)
            }
            addr = expandIPv6(addr + zoneId, 6);
            if (addr.parts) {
                octets = [
                    parseInt(match[2]),
                    parseInt(match[3]),
                    parseInt(match[4]),
                    parseInt(match[5])
                ];
                for (i = 0; i < octets.length; i++) {
                    octet = octets[i];
                    if (!((0 <= octet && octet <= 255))) {
                        return null;
                    }
                }

                addr.parts.push(octets[0] << 8 | octets[1]);
                addr.parts.push(octets[2] << 8 | octets[3]);
                return {
                    parts: addr.parts,
                    zoneId: addr.zoneId
                };
            }
        }

        return null;
    };

    // A utility function to return subnet mask in IPv6 format given the prefix length
    ipaddr.IPv6.subnetMaskFromPrefixLength = function (prefix) {
        prefix = parseInt(prefix);
        if (prefix < 0 || prefix > 128) {
            throw new Error('ipaddr: invalid IPv6 prefix length');
        }

        const octets = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        let j = 0;
        const filledOctetCount = Math.floor(prefix / 8);

        while (j < filledOctetCount) {
            octets[j] = 255;
            j++;
        }

        if (filledOctetCount < 16) {
            octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);
        }

        return new this(octets);
    };

    // Try to parse an array in network order (MSB first) for IPv4 and IPv6
    ipaddr.fromByteArray = function (bytes) {
        const length = bytes.length;

        if (length === 4) {
            return new ipaddr.IPv4(bytes);
        } else if (length === 16) {
            return new ipaddr.IPv6(bytes);
        } else {
            throw new Error('ipaddr: the binary input is neither an IPv6 nor IPv4 address');
        }
    };

    // Checks if the address is valid IP address
    ipaddr.isValid = function (string) {
        return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);
    };

    // Checks if the address is valid IP address in CIDR notation
    ipaddr.isValidCIDR = function (string) {
        return ipaddr.IPv6.isValidCIDR(string) || ipaddr.IPv4.isValidCIDR(string);
    };


    // Attempts to parse an IP Address, first through IPv6 then IPv4.
    // Throws an error if it could not be parsed.
    ipaddr.parse = function (string) {
        if (ipaddr.IPv6.isValid(string)) {
            return ipaddr.IPv6.parse(string);
        } else if (ipaddr.IPv4.isValid(string)) {
            return ipaddr.IPv4.parse(string);
        } else {
            throw new Error('ipaddr: the address has neither IPv6 nor IPv4 format');
        }
    };

    // Attempt to parse CIDR notation, first through IPv6 then IPv4.
    // Throws an error if it could not be parsed.
    ipaddr.parseCIDR = function (string) {
        try {
            return ipaddr.IPv6.parseCIDR(string);
        } catch (e) {
            try {
                return ipaddr.IPv4.parseCIDR(string);
            } catch (e2) {
                throw new Error('ipaddr: the address has neither IPv6 nor IPv4 CIDR format');
            }
        }
    };

    // Parse an address and return plain IPv4 address if it is an IPv4-mapped address
    ipaddr.process = function (string) {
        const addr = this.parse(string);

        if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {
            return addr.toIPv4Address();
        } else {
            return addr;
        }
    };

    // An utility function to ease named range matching. See examples below.
    // rangeList can contain both IPv4 and IPv6 subnet entries and will not throw errors
    // on matching IPv4 addresses to IPv6 ranges or vice versa.
    ipaddr.subnetMatch = function (address, rangeList, defaultName) {
        let i, rangeName, rangeSubnets, subnet;

        if (defaultName === undefined || defaultName === null) {
            defaultName = 'unicast';
        }

        for (rangeName in rangeList) {
            if (Object.prototype.hasOwnProperty.call(rangeList, rangeName)) {
                rangeSubnets = rangeList[rangeName];
                // ECMA5 Array.isArray isn't available everywhere
                if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {
                    rangeSubnets = [rangeSubnets];
                }

                for (i = 0; i < rangeSubnets.length; i++) {
                    subnet = rangeSubnets[i];
                    if (address.kind() === subnet[0].kind() && address.match.apply(address, subnet)) {
                        return rangeName;
                    }
                }
            }
        }

        return defaultName;
    };

    // Export for both the CommonJS and browser-like environment
    if ( true && module.exports) {
        module.exports = ipaddr;

    } else {
        root.ipaddr = ipaddr;
    }

}(this));


/***/ }),

/***/ 1763:
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/lib/locale/en_US.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  // Options
  items_per_page: '/ page',
  jump_to: 'Go to',
  jump_to_confirm: 'confirm',
  page: 'Page',
  // Pagination
  prev_page: 'Previous Page',
  next_page: 'Next Page',
  prev_5: 'Previous 5 Pages',
  next_5: 'Next 5 Pages',
  prev_3: 'Previous 3 Pages',
  next_3: 'Next 3 Pages',
  page_size: 'Page Size'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 6791:
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/lib/locale/ja_JP.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  // Options
  items_per_page: '件 / ページ',
  jump_to: '移動',
  jump_to_confirm: '確認する',
  page: 'ページ',
  // Pagination
  prev_page: '前のページ',
  next_page: '次のページ',
  prev_5: '前 5ページ',
  next_5: '次 5ページ',
  prev_3: '前 3ページ',
  next_3: '次 3ページ',
  page_size: 'ページサイズ'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 561:
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/lib/locale/ko_KR.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  // Options
  items_per_page: '/ 페이지',
  jump_to: '이동하기',
  jump_to_confirm: '확인하다',
  page: '페이지',
  // Pagination
  prev_page: '이전 페이지',
  next_page: '다음 페이지',
  prev_5: '이전 5 페이지',
  next_5: '다음 5 페이지',
  prev_3: '이전 3 페이지',
  next_3: '다음 3 페이지',
  page_size: '페이지 크기'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 5473:
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/en_US.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  locale: 'en_US',
  today: 'Today',
  now: 'Now',
  backToToday: 'Back to today',
  ok: 'OK',
  clear: 'Clear',
  month: 'Month',
  year: 'Year',
  timeSelect: 'select time',
  dateSelect: 'select date',
  weekSelect: 'Choose a week',
  monthSelect: 'Choose a month',
  yearSelect: 'Choose a year',
  decadeSelect: 'Choose a decade',
  yearFormat: 'YYYY',
  dateFormat: 'M/D/YYYY',
  dayFormat: 'D',
  dateTimeFormat: 'M/D/YYYY HH:mm:ss',
  monthBeforeYear: true,
  previousMonth: 'Previous month (PageUp)',
  nextMonth: 'Next month (PageDown)',
  previousYear: 'Last year (Control + left)',
  nextYear: 'Next year (Control + right)',
  previousDecade: 'Last decade',
  nextDecade: 'Next decade',
  previousCentury: 'Last century',
  nextCentury: 'Next century'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 4101:
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/ja_JP.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  locale: 'ja_JP',
  today: '今日',
  now: '現在時刻',
  backToToday: '今日に戻る',
  ok: '確定',
  timeSelect: '時間を選択',
  dateSelect: '日時を選択',
  weekSelect: '週を選択',
  clear: 'クリア',
  month: '月',
  year: '年',
  previousMonth: '前月 (ページアップキー)',
  nextMonth: '翌月 (ページダウンキー)',
  monthSelect: '月を選択',
  yearSelect: '年を選択',
  decadeSelect: '年代を選択',
  yearFormat: 'YYYY年',
  dayFormat: 'D',
  dateFormat: 'YYYY年M月D日',
  dateTimeFormat: 'YYYY年M月D日 HH時mm分ss秒',
  previousYear: '前年 (Controlを押しながら左キー)',
  nextYear: '翌年 (Controlを押しながら右キー)',
  previousDecade: '前の年代',
  nextDecade: '次の年代',
  previousCentury: '前の世紀',
  nextCentury: '次の世紀'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 4295:
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/ko_KR.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  locale: 'ko_KR',
  today: '오늘',
  now: '현재 시각',
  backToToday: '오늘로 돌아가기',
  ok: '확인',
  clear: '지우기',
  month: '월',
  year: '년',
  timeSelect: '시간 선택',
  dateSelect: '날짜 선택',
  monthSelect: '달 선택',
  yearSelect: '연 선택',
  decadeSelect: '연대 선택',
  yearFormat: 'YYYY년',
  dateFormat: 'YYYY-MM-DD',
  dayFormat: 'D',
  dateTimeFormat: 'YYYY-MM-DD HH:mm:ss',
  monthBeforeYear: false,
  previousMonth: '이전 달 (PageUp)',
  nextMonth: '다음 달 (PageDown)',
  previousYear: '이전 해 (Control + left)',
  nextYear: '다음 해 (Control + right)',
  previousDecade: '이전 연대',
  nextDecade: '다음 연대',
  previousCentury: '이전 세기',
  nextCentury: '다음 세기'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 9576:
/*!*******************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var m = __webpack_require__(/*! react-dom */ 9280);
if (true) {
  exports.H = m.createRoot;
  __webpack_unused_export__ = m.hydrateRoot;
} else { var i; }


/***/ }),

/***/ 7462:
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var f=__webpack_require__(/*! react */ 5156),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};
function q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=""+g);void 0!==a.key&&(e=""+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;


/***/ }),

/***/ 6070:
/*!***************************************************************************!*\
  !*** ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



if (true) {
  module.exports = __webpack_require__(/*! ./cjs/react-jsx-runtime.production.min.js */ 7462);
} else {}


/***/ }),

/***/ 3316:
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \*********************************************************************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ 3231:
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \*************************************************************************************************************************/
/***/ ((module) => {



var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ 584:
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \***************************************************************************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ 5260:
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \***************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ 525:
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \********************************************************************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ 117:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \**************************************************************************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ 5156:
/*!************************!*\
  !*** external "React" ***!
  \************************/
/***/ ((module) => {

module.exports = globalThis["React"];

/***/ }),

/***/ 9280:
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/***/ ((module) => {

module.exports = globalThis["ReactDOM"];

/***/ }),

/***/ 9557:
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@babel+runtime@7.24.5/node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \***************************************************************************************************************/
/***/ ((module) => {

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
module.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		id: moduleId,
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/nonce */
/******/ (() => {
/******/ 	__webpack_require__.nc = undefined;
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*****************************************!*\
  !*** ./console/window.tsx + 38 modules ***!
  \*****************************************/

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  y: () => (/* binding */ WindowModel)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(6070);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js
var injectStylesIntoStyleTag = __webpack_require__(3316);
var injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js
var styleDomAPI = __webpack_require__(525);
var styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js
var insertBySelector = __webpack_require__(3231);
var insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js
var setAttributesWithoutAttributes = __webpack_require__(5260);
var setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js
var insertStyleElement = __webpack_require__(584);
var insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js
var styleTagTransform = __webpack_require__(117);
var styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);
// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/scroll-bar.sass
var scroll_bar = __webpack_require__(386);
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/scroll-bar.sass

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (styleTagTransform_default());
options.setAttributes = (setAttributesWithoutAttributes_default());
options.insert = insertBySelector_default().bind(null, "head");
options.domAPI = (styleDomAPI_default());
options.insertStyleElement = (insertStyleElement_default());

var update = injectStylesIntoStyleTag_default()(scroll_bar/* default */.A, options);




       /* harmony default export */ const xshell_scroll_bar = (scroll_bar/* default */.A && scroll_bar/* default */.A.locals ? scroll_bar/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/window.sass
var cjs_ruleSet_1_rules_1_use_2_console_window = __webpack_require__(2183);
;// CONCATENATED MODULE: ./console/window.sass

      
      
      
      
      
      
      
      
      

var window_options = {};

window_options.styleTagTransform = (styleTagTransform_default());
window_options.setAttributes = (setAttributesWithoutAttributes_default());
window_options.insert = insertBySelector_default().bind(null, "head");
window_options.domAPI = (styleDomAPI_default());
window_options.insertStyleElement = (insertStyleElement_default());

var window_update = injectStylesIntoStyleTag_default()(cjs_ruleSet_1_rules_1_use_2_console_window/* default */.A, window_options);




       /* harmony default export */ const console_window = (cjs_ruleSet_1_rules_1_use_2_console_window/* default */.A && cjs_ruleSet_1_rules_1_use_2_console_window/* default */.A.locals ? cjs_ruleSet_1_rules_1_use_2_console_window/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/pagination.sass
var pagination = __webpack_require__(4523);
;// CONCATENATED MODULE: ./console/pagination.sass

      
      
      
      
      
      
      
      
      

var pagination_options = {};

pagination_options.styleTagTransform = (styleTagTransform_default());
pagination_options.setAttributes = (setAttributesWithoutAttributes_default());
pagination_options.insert = insertBySelector_default().bind(null, "head");
pagination_options.domAPI = (styleDomAPI_default());
pagination_options.insertStyleElement = (insertStyleElement_default());

var pagination_update = injectStylesIntoStyleTag_default()(pagination/* default */.A, pagination_options);




       /* harmony default export */ const console_pagination = (pagination/* default */.A && pagination/* default */.A.locals ? pagination/* default */.A.locals : undefined);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(5156);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js
var client = __webpack_require__(9576);
;// CONCATENATED MODULE: external "antd"
const external_antd_namespaceObject = globalThis["antd"];
;// CONCATENATED MODULE: ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/es/locale/zh_CN.js
var locale = {
  // Options
  items_per_page: '条/页',
  jump_to: '跳至',
  jump_to_confirm: '确定',
  page: '页',
  // Pagination
  prev_page: '上一页',
  next_page: '下一页',
  prev_5: '向前 5 页',
  next_5: '向后 5 页',
  prev_3: '向前 3 页',
  next_3: '向后 3 页',
  page_size: '页码'
};
/* harmony default export */ const zh_CN = (locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/es/locale/zh_CN.js
var zh_CN_locale = {
  locale: 'zh_CN',
  yearFormat: 'YYYY年',
  cellDateFormat: 'D',
  cellMeridiemFormat: 'A',
  today: '今天',
  now: '此刻',
  backToToday: '返回今天',
  ok: '确定',
  timeSelect: '选择时间',
  dateSelect: '选择日期',
  weekSelect: '选择周',
  clear: '清除',
  month: '月',
  year: '年',
  previousMonth: '上个月 (翻页上键)',
  nextMonth: '下个月 (翻页下键)',
  monthSelect: '选择月份',
  yearSelect: '选择年份',
  decadeSelect: '选择年代',
  previousYear: '上一年 (Control键加左方向键)',
  nextYear: '下一年 (Control键加右方向键)',
  previousDecade: '上一年代',
  nextDecade: '下一年代',
  previousCentury: '上一世纪',
  nextCentury: '下一世纪'
};
/* harmony default export */ const locale_zh_CN = (zh_CN_locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/time-picker/locale/zh_CN.js
const locale_zh_CN_locale = {
  placeholder: '请选择时间',
  rangePlaceholder: ['开始时间', '结束时间']
};
/* harmony default export */ const time_picker_locale_zh_CN = (locale_zh_CN_locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/date-picker/locale/zh_CN.js


// 统一合并为完整的 Locale
const date_picker_locale_zh_CN_locale = {
  lang: Object.assign({
    placeholder: '请选择日期',
    yearPlaceholder: '请选择年份',
    quarterPlaceholder: '请选择季度',
    monthPlaceholder: '请选择月份',
    weekPlaceholder: '请选择周',
    rangePlaceholder: ['开始日期', '结束日期'],
    rangeYearPlaceholder: ['开始年份', '结束年份'],
    rangeMonthPlaceholder: ['开始月份', '结束月份'],
    rangeQuarterPlaceholder: ['开始季度', '结束季度'],
    rangeWeekPlaceholder: ['开始周', '结束周']
  }, locale_zh_CN),
  timePickerLocale: Object.assign({}, time_picker_locale_zh_CN)
};
// should add whitespace between char in Button
date_picker_locale_zh_CN_locale.lang.ok = '确定';
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
/* harmony default export */ const date_picker_locale_zh_CN = (date_picker_locale_zh_CN_locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/calendar/locale/zh_CN.js

/* harmony default export */ const calendar_locale_zh_CN = (date_picker_locale_zh_CN);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/locale/zh_CN.js
/* eslint-disable no-template-curly-in-string */




const typeTemplate = '${label}不是一个有效的${type}';
const localeValues = {
  locale: 'zh-cn',
  Pagination: zh_CN,
  DatePicker: date_picker_locale_zh_CN,
  TimePicker: time_picker_locale_zh_CN,
  Calendar: calendar_locale_zh_CN,
  // locales for all components
  global: {
    placeholder: '请选择'
  },
  Table: {
    filterTitle: '筛选',
    filterConfirm: '确定',
    filterReset: '重置',
    filterEmptyText: '无筛选项',
    filterCheckall: '全选',
    filterSearchPlaceholder: '在筛选项中搜索',
    emptyText: '暂无数据',
    selectAll: '全选当页',
    selectInvert: '反选当页',
    selectNone: '清空所有',
    selectionAll: '全选所有',
    sortTitle: '排序',
    expand: '展开行',
    collapse: '关闭行',
    triggerDesc: '点击降序',
    triggerAsc: '点击升序',
    cancelSort: '取消排序'
  },
  Modal: {
    okText: '确定',
    cancelText: '取消',
    justOkText: '知道了'
  },
  Tour: {
    Next: '下一步',
    Previous: '上一步',
    Finish: '结束导览'
  },
  Popconfirm: {
    cancelText: '取消',
    okText: '确定'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: '请输入搜索内容',
    itemUnit: '项',
    itemsUnit: '项',
    remove: '删除',
    selectCurrent: '全选当页',
    removeCurrent: '删除当页',
    selectAll: '全选所有',
    deselectAll: '取消全选',
    removeAll: '删除全部',
    selectInvert: '反选当页'
  },
  Upload: {
    uploading: '文件上传中',
    removeFile: '删除文件',
    uploadError: '上传错误',
    previewFile: '预览文件',
    downloadFile: '下载文件'
  },
  Empty: {
    description: '暂无数据'
  },
  Icon: {
    icon: '图标'
  },
  Text: {
    edit: '编辑',
    copy: '复制',
    copied: '复制成功',
    expand: '展开',
    collapse: '收起'
  },
  Form: {
    optional: '（可选）',
    defaultValidateMessages: {
      default: '字段验证错误${label}',
      required: '请输入${label}',
      enum: '${label}必须是其中一个[${enum}]',
      whitespace: '${label}不能为空字符',
      date: {
        format: '${label}日期格式无效',
        parse: '${label}不能转换为日期',
        invalid: '${label}是一个无效日期'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label}须为${len}个字符',
        min: '${label}最少${min}个字符',
        max: '${label}最多${max}个字符',
        range: '${label}须在${min}-${max}字符之间'
      },
      number: {
        len: '${label}必须等于${len}',
        min: '${label}最小值为${min}',
        max: '${label}最大值为${max}',
        range: '${label}须在${min}-${max}之间'
      },
      array: {
        len: '须为${len}个${label}',
        min: '最少${min}个${label}',
        max: '最多${max}个${label}',
        range: '${label}数量须在${min}-${max}之间'
      },
      pattern: {
        mismatch: '${label}与模式不匹配${pattern}'
      }
    }
  },
  Image: {
    preview: '预览'
  },
  QRCode: {
    expired: '二维码过期',
    refresh: '点击刷新',
    scanned: '已扫描'
  },
  ColorPicker: {
    presetEmpty: '暂无'
  }
};
/* harmony default export */ const es_locale_zh_CN = (localeValues);
// EXTERNAL MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/en_US.js
var en_US = __webpack_require__(5685);
// EXTERNAL MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ja_JP.js
var ja_JP = __webpack_require__(2593);
// EXTERNAL MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ko_KR.js
var ko_KR = __webpack_require__(651);
;// CONCATENATED MODULE: ./node_modules/.pnpm/react-object-model@1.2.5_react@18.3.1/node_modules/react-object-model/index.js

/** 面向对象的 react 状态管理  Object-oriented state management for react.
    @see https://github.com/ShenHongFei/react-object-model
    @example ```ts
    class User extends Model <User> {
        name = 'Tom'
        age = 16
    }
    
    let user = new User()
    ``` */
class Model {
    /** Map<rerender, selector> */
    _selectors;
    /** 保存上次渲染的状态用于比较  last state */
    _state;
    constructor() {
        Object.defineProperty(this, '_selectors', {
            configurable: true,
            enumerable: false,
            writable: true,
            value: new Map()
        });
        Object.defineProperty(this, '_state', {
            configurable: true,
            enumerable: false,
            writable: true,
            value: {}
        });
    }
    /** 像使用 react hooks 那样订阅模型属性  use and watch model's properties like react hooks
        use 之后，通过 set 更新属性才会触发组件重新渲染  After `use`, properties updated by `set` will trigger rerender
        @param selector 订阅属性名称组成的数组  selector array of properties to watch
        @returns 模型本身  model self
        @example ```ts
            const { name, age } = user.use(['name', 'age'])
            ``` */
    use(selector) {
        // React guarantees that dispatch function identity is stable and won’t change on re-renders
        const [, rerender] = (0,external_React_.useState)({});
        // 需要在 render 阶段就将组件加到订阅中，因为 effects 之间的执行顺序很难规划，react 只保证 render 过程在 effect 之前
        // 一般情况下子组件 effect 先执行，如果此时子组件 effect 中改变了父组件通过 use 订阅的状态，
        // 而订阅关系又不在 render 阶段设置，那么通过 use 订阅的状态的父组件还未执行下面的 effect 建立订阅关系，会漏掉这次更新
        this._selectors.set(rerender, selector);
        (0,external_React_.useEffect)(() => {
            // 需要在 useEffect 里再次将组件加到订阅中，因为
            // strict mode 的 Ensuring reusable state 在 remount 组件时只会重新执行所有 effect, 不会再执行 render
            this._selectors.set(rerender, selector);
            return () => { this._selectors.delete(rerender); };
        }, []);
        return this;
    }
    /** 更新模型属性，diff, 重新渲染对应组件  assign properties to model then diff then rerender (when changed)
        @param data 属性  data properties
        @example ```ts
            user.set({ name: 'Tom', age: 16 })
            ``` */
    set(data) {
        Object.assign(this, data);
        this.render();
    }
    render(diffs) {
        const set_diffs = diffs ? new Set(diffs) : null;
        for (const [rerender, selector] of this._selectors)
            if (!selector ||
                selector.find(key => set_diffs ?
                    set_diffs.has(key)
                    :
                        this[key] !== this._state[key]))
                rerender({});
        this._state = { ...this };
    }
}
//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: external "dayjs"
const external_dayjs_namespaceObject = globalThis["dayjs"];
// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.11/node_modules/dayjs/plugin/customParseFormat.js
var customParseFormat = __webpack_require__(5289);
// EXTERNAL MODULE: ./node_modules/.pnpm/ipaddr.js@2.2.0/node_modules/ipaddr.js/lib/ipaddr.js
var ipaddr = __webpack_require__(2397);
;// CONCATENATED MODULE: ./node_modules/.pnpm/byte-size@8.1.1/node_modules/byte-size/index.js
/**
 * @module byte-size
 */

let defaultOptions = {}
const _options = new WeakMap()

const referenceTables = {
  metric: [
    { from: 0, to: 1e3, unit: 'B', long: 'bytes' },
    { from: 1e3, to: 1e6, unit: 'kB', long: 'kilobytes' },
    { from: 1e6, to: 1e9, unit: 'MB', long: 'megabytes' },
    { from: 1e9, to: 1e12, unit: 'GB', long: 'gigabytes' },
    { from: 1e12, to: 1e15, unit: 'TB', long: 'terabytes' },
    { from: 1e15, to: 1e18, unit: 'PB', long: 'petabytes' },
    { from: 1e18, to: 1e21, unit: 'EB', long: 'exabytes' },
    { from: 1e21, to: 1e24, unit: 'ZB', long: 'zettabytes' },
    { from: 1e24, to: 1e27, unit: 'YB', long: 'yottabytes' }
  ],
  metric_octet: [
    { from: 0, to: 1e3, unit: 'o', long: 'octets' },
    { from: 1e3, to: 1e6, unit: 'ko', long: 'kilooctets' },
    { from: 1e6, to: 1e9, unit: 'Mo', long: 'megaoctets' },
    { from: 1e9, to: 1e12, unit: 'Go', long: 'gigaoctets' },
    { from: 1e12, to: 1e15, unit: 'To', long: 'teraoctets' },
    { from: 1e15, to: 1e18, unit: 'Po', long: 'petaoctets' },
    { from: 1e18, to: 1e21, unit: 'Eo', long: 'exaoctets' },
    { from: 1e21, to: 1e24, unit: 'Zo', long: 'zettaoctets' },
    { from: 1e24, to: 1e27, unit: 'Yo', long: 'yottaoctets' }
  ],
  iec: [
    { from: 0, to: Math.pow(1024, 1), unit: 'B', long: 'bytes' },
    { from: Math.pow(1024, 1), to: Math.pow(1024, 2), unit: 'KiB', long: 'kibibytes' },
    { from: Math.pow(1024, 2), to: Math.pow(1024, 3), unit: 'MiB', long: 'mebibytes' },
    { from: Math.pow(1024, 3), to: Math.pow(1024, 4), unit: 'GiB', long: 'gibibytes' },
    { from: Math.pow(1024, 4), to: Math.pow(1024, 5), unit: 'TiB', long: 'tebibytes' },
    { from: Math.pow(1024, 5), to: Math.pow(1024, 6), unit: 'PiB', long: 'pebibytes' },
    { from: Math.pow(1024, 6), to: Math.pow(1024, 7), unit: 'EiB', long: 'exbibytes' },
    { from: Math.pow(1024, 7), to: Math.pow(1024, 8), unit: 'ZiB', long: 'zebibytes' },
    { from: Math.pow(1024, 8), to: Math.pow(1024, 9), unit: 'YiB', long: 'yobibytes' }
  ],
  iec_octet: [
    { from: 0, to: Math.pow(1024, 1), unit: 'o', long: 'octets' },
    { from: Math.pow(1024, 1), to: Math.pow(1024, 2), unit: 'Kio', long: 'kibioctets' },
    { from: Math.pow(1024, 2), to: Math.pow(1024, 3), unit: 'Mio', long: 'mebioctets' },
    { from: Math.pow(1024, 3), to: Math.pow(1024, 4), unit: 'Gio', long: 'gibioctets' },
    { from: Math.pow(1024, 4), to: Math.pow(1024, 5), unit: 'Tio', long: 'tebioctets' },
    { from: Math.pow(1024, 5), to: Math.pow(1024, 6), unit: 'Pio', long: 'pebioctets' },
    { from: Math.pow(1024, 6), to: Math.pow(1024, 7), unit: 'Eio', long: 'exbioctets' },
    { from: Math.pow(1024, 7), to: Math.pow(1024, 8), unit: 'Zio', long: 'zebioctets' },
    { from: Math.pow(1024, 8), to: Math.pow(1024, 9), unit: 'Yio', long: 'yobioctets' }
  ]
}

class ByteSize {
  constructor (bytes, options) {
    options = Object.assign({
      units: 'metric',
      precision: 1,
      locale: undefined // Default to the user's system locale
    }, defaultOptions, options)
    _options.set(this, options)

    Object.assign(referenceTables, options.customUnits)

    const prefix = bytes < 0 ? '-' : ''
    bytes = Math.abs(bytes)
    const table = referenceTables[options.units]
    if (table) {
      const units = table.find(u => bytes >= u.from && bytes < u.to)
      if (units) {
        const defaultFormat = new Intl.NumberFormat(options.locale, {
          style: 'decimal',
          minimumFractionDigits: options.precision,
          maximumFractionDigits: options.precision
        })
        const value = units.from === 0
          ? prefix + bytes
          : prefix + defaultFormat.format(bytes / units.from)
        this.value = value
        this.unit = units.unit
        this.long = units.long
      } else {
        this.value = prefix + bytes
        this.unit = ''
        this.long = ''
      }
    } else {
      throw new Error(`Invalid units specified: ${options.units}`)
    }
  }

  toString () {
    const options = _options.get(this)
    return options.toStringFn ? options.toStringFn.bind(this)() : `${this.value} ${this.unit}`
  }
}

/**
 * Returns an object with the spec `{ value: string, unit: string, long: string }`. The returned object defines a `toString` method meaning it can be used in any string context.
 * @param {number} - The bytes value to convert.
 * @param [options] {object} - Optional config.
 * @param [options.precision] {number} - Number of decimal places. Defaults to `1`.
 * @param [options.units] {string} - Specify `'metric'`, `'iec'`, `'metric_octet'`, `'iec_octet'` or the name of a property from the custom units table in `options.customUnits`. Defaults to `metric`.
 * @param [options.customUnits] {object} - An object containing one or more custom unit lookup tables.
 * @param [options.toStringFn] {function} - A `toString` function to override the default.
 * @param [options.locale] {string|string[]} - *Node >=13 or modern browser only - on earlier platforms this option is ignored*. The locale to use for number formatting (e.g. `'de-DE'`). Defaults to your system locale. Passed directed into [Intl.NumberFormat()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat).
 * @returns {object}
 * @alias module:byte-size
 */
function byteSize (bytes, options) {
  return new ByteSize(bytes, options)
}

/**
 * Set the default `byteSize` options for the duration of the process.
 * @param options {object} - A `byteSize` options object.
 */
byteSize.defaultOptions = function (options) {
  defaultOptions = options
}

/* harmony default export */ const byte_size = (byteSize);

;// CONCATENATED MODULE: ./node_modules/.pnpm/emoji-regex@10.3.0/node_modules/emoji-regex/index.mjs
/* harmony default export */ const emoji_regex = (() => {
	// https://mths.be/emoji
	return /[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;
});

;// CONCATENATED MODULE: ./node_modules/.pnpm/i18next@23.11.5/node_modules/i18next/dist/esm/i18next.js
const consoleLogger = {
  type: 'logger',
  log(args) {
    this.output('log', args);
  },
  warn(args) {
    this.output('warn', args);
  },
  error(args) {
    this.output('error', args);
  },
  output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};
class Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, 'log', '', true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, 'warn', '', true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, 'error', '');
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new Logger(this.logger, options);
  }
}
var baseLogger = new Logger();

class EventEmitter {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(' ').forEach(event => {
      if (!this.observers[event]) this.observers[event] = new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event]) return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach(_ref => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers['*']) {
      const cloned = Array.from(this.observers['*'].entries());
      cloned.forEach(_ref2 => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
}

function defer() {
  let res;
  let rej;
  const promise = new Promise((resolve, reject) => {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
}
function makeString(object) {
  if (object == null) return '';
  return '' + object;
}
function copy(a, s, t) {
  a.forEach(m => {
    if (s[m]) t[m] = s[m];
  });
}
const lastOfPathSeparatorRegExp = /###/g;
function getLastOfPath(object, path, Empty) {
  function cleanKey(key) {
    return key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;
  }
  function canNotTraverseDeeper() {
    return !object || typeof object === 'string';
  }
  const stack = typeof path !== 'string' ? path : path.split('.');
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper()) return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty) object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper()) return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
}
function setPath(object, path, newValue) {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== undefined || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === undefined && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {
      last.obj = undefined;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
}
function pushPath(object, path, newValue, concat) {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  if (concat) obj[k] = obj[k].concat(newValue);
  if (!concat) obj[k].push(newValue);
}
function getPath(object, path) {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj) return undefined;
  return obj[k];
}
function getPathWithDefaults(data, defaultData, key) {
  const value = getPath(data, key);
  if (value !== undefined) {
    return value;
  }
  return getPath(defaultData, key);
}
function deepExtend(target, source, overwrite) {
  for (const prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
}
function regexEscape(str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
}
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
function i18next_escape(data) {
  if (typeof data === 'string') {
    return data.replace(/[&<>"'\/]/g, s => _entityMap[s]);
  }
  return data;
}
class RegExpCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== undefined) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
}
const chars = [' ', ',', '?', '!', ';'];
const looksLikeObjectPathRegExpCache = new RegExpCache(20);
function looksLikeObjectPath(key, nsSeparator, keySeparator) {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0) return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\?' : c).join('|')})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
}
function deepFind(obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length;) {
    if (!current || typeof current !== 'object') {
      return undefined;
    }
    let next;
    let nextPath = '';
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== undefined) {
        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
}
function getCleanedCode(code) {
  if (code && code.indexOf('_') > 0) return code.replace('_', '-');
  return code;
}

class ResourceStore extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    if (this.options.ignoreJSONStructure === undefined) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (typeof key === 'string' && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf('.') > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join('.');
    }
    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent) this.emit('added', lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (typeof resources[m] === 'string' || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {
        silent: true
      });
    }
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit('removed', lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  }
  getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === 'v1') return {
      ...{},
      ...this.getResource(lng, ns)
    };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
}

var postProcessor = {
  processors: {},
  addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach(processor => {
      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

const checkedLoadedFor = {};
class Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super();
    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    this.logger = baseLogger.create('translator');
  }
  changeLanguage(lng) {
    if (lng) this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    if (key === undefined || key === null) {
      return false;
    }
    const resolved = this.resolve(key, options);
    return resolved && resolved.res !== undefined;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    if (typeof namespaces === 'string') namespaces = [namespaces];
    return {
      key,
      namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === 'object') options = {
      ...options
    };
    if (!options) options = {};
    if (keys === undefined || keys === null) return '';
    if (!Array.isArray(keys)) keys = [String(keys)];
    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved = this.resolve(keys, options);
    let res = resolved && resolved.res;
    const resUsedKey = resolved && resolved.usedKey || key;
    const resExactUsedKey = resolved && resolved.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved.res = r;
          resolved.usedParams = this.getUsedParamsDetails(options);
          return resolved;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy[m] === deepKey) copy[m] = res[m];
          }
        }
        res = copy;
      }
    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
      const hasDefaultValue = Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : '';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit('missingKey', l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach(language => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach(suffix => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== 'v1') {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved.res = res;
      resolved.usedParams = this.getUsedParamsDetails(options);
      return resolved;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {
        resolved
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation) this.interpolator.init({
        ...options,
        ...{
          interpolation: {
            ...this.options.interpolation,
            ...options.interpolation
          }
        }
      });
      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;
      if (this.options.interpolation.defaultVariables) data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft) options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;
      if (options.nest !== false) res = this.interpolator.nest(res, function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (lastKey && lastKey[0] === args[0] && !options.context) {
          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
          return null;
        }
        return _this.translate(...args, key);
      }, options);
      if (options.interpolation) this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;
    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (typeof keys === 'string') keys = [keys];
    keys.forEach(k => {
      if (this.isValidLookup(found)) return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach(ns => {
        if (this.isValidLookup(found)) return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(', ')}" won't get resolved as namespace "${usedNS}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        }
        codes.forEach(code => {
          if (this.isValidLookup(found)) return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];
    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = 'defaultValue';
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
        return true;
      }
    }
    return false;
  }
}

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}
class LanguageUtil {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return null;
    const p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === 'x') return null;
    return this.formatLanguageCode(p.join('-'));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return code;
    const p = code.split('-');
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (typeof code === 'string' && code.indexOf('-') > -1) {
      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      let p = code.split('-');
      if (this.options.lowerCaseLng) {
        p = p.map(part => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join('-');
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes) return null;
    let found;
    codes.forEach(code => {
      if (found) return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach(code => {
        if (found) return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly)) return found = lngOnly;
        found = this.options.supportedLngs.find(supportedLng => {
          if (supportedLng === lngOnly) return supportedLng;
          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;
          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;
        });
      });
    }
    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
    if (typeof fallbacks === 'string') fallbacks = [fallbacks];
    if (Array.isArray(fallbacks)) return fallbacks;
    if (!code) return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found) found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = c => {
      if (!c) return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (typeof code === 'string') {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach(fc => {
      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
}

let sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
let _rulesPluralsTypes = {
  1: function (n) {
    return Number(n > 1);
  },
  2: function (n) {
    return Number(n != 1);
  },
  3: function (n) {
    return 0;
  },
  4: function (n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  5: function (n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
  },
  6: function (n) {
    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
  },
  7: function (n) {
    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  8: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
  },
  9: function (n) {
    return Number(n >= 2);
  },
  10: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
  },
  11: function (n) {
    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
  },
  12: function (n) {
    return Number(n % 10 != 1 || n % 100 == 11);
  },
  13: function (n) {
    return Number(n !== 0);
  },
  14: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
  },
  15: function (n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  16: function (n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
  },
  17: function (n) {
    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);
  },
  18: function (n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
  },
  19: function (n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
  },
  20: function (n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
  },
  21: function (n) {
    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
  },
  22: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);
  }
};
const nonIntlVersions = ['v1', 'v2', 'v3'];
const intlVersions = ['v4'];
const suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
function createRules() {
  const rules = {};
  sets.forEach(set => {
    set.lngs.forEach(l => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
}
class PluralResolver {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }
    this.rules = createRules();
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      try {
        return new Intl.PluralRules(getCleanedCode(code === 'dev' ? 'en' : code), {
          type: options.ordinal ? 'ordinal' : 'cardinal'
        });
      } catch (err) {
        return;
      }
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);
    }
    return rule.numbers.map(number => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return '';
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = 'plural';
      } else if (suffix === 1) {
        suffix = '';
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === 'v1') {
      if (suffix === 1) return '';
      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === 'v2') {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
}

function deepFindWithDefaults(data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && typeof key === 'string') {
    path = deepFind(data, key, keySeparator);
    if (path === undefined) path = deepFind(defaultData, key, keySeparator);
  }
  return path;
}
class Interpolator {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('interpolator');
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || (value => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (!options.interpolation) options.interpolation = {
      escapeValue: true
    };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== undefined ? escape$1 : i18next_escape;
    this.escapeValue = escapeValue !== undefined ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';
    this.formatSeparator = formatSeparator || ',';
    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');
    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';
    this.maxReplaces = maxReplaces || 1000;
    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options) this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, 'g');
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    function regexSafe(val) {
      return val.replace(/\$/g, '$$$$');
    }
    const handleFormat = key => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, undefined, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: val => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach(todo => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            const temp = missingInterpolationHandler(str, match, options);
            value = typeof temp === 'string' ? temp : '';
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = '';
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = '';
          }
        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    function handleHasOptions(key, inheritedOptions) {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0) return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions) clonedOptions = {
          ...inheritedOptions,
          ...clonedOptions
        };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;
      return key;
    }
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && typeof value !== 'string') return value;
      if (typeof value !== 'string') value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = '';
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
}

function parseFormatStr(formatStr) {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf('(') > -1) {
    const p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(';');
      opts.forEach(opt => {
        if (opt) {
          const [key, ...rest] = opt.split(':');
          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;
          if (val === 'false') formatOptions[trimmedKey] = false;
          if (val === 'true') formatOptions[trimmedKey] = true;
          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
}
function createCachedFormatter(fn) {
  const cache = {};
  return function invokeFormatter(val, lng, options) {
    const key = lng + JSON.stringify(options);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
}
class Formatter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: 'currency'
        });
        return val => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val, opt.range || 'day');
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    const iOpts = options.interpolation;
    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
}

function removePending(q, name) {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
}
class Connector extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create('backendConnector');
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach(lng => {
      let hasAllNamespaces = true;
      namespaces.forEach(ns => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {
          if (pending[name] === undefined) pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === undefined) pending[name] = true;
          if (toLoad[name] === undefined) toLoad[name] = true;
          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces) toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    if (err) this.emit('failedLoading', lng, ns, err);
    if (data) {
      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    const loaded = {};
    this.queue.forEach(q => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err) q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach(l => {
          if (!loaded[l]) loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach(n => {
              if (loaded[l][n] === undefined) loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit('loaded', loaded);
    this.queue = this.queue.filter(q => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : undefined;
    if (!lng.length) return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === 'function') {
          r.then(data => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : undefined;
    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);
    if (typeof namespaces === 'string') namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback();
      return null;
    }
    toLoad.toLoad.forEach(name => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {
      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
      return;
    }
    if (key === undefined || key === null || key === '') return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === 'function') {
            r.then(data => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
}

function get() {
  return {
    debug: false,
    initImmediate: true,
    ns: ['translation'],
    defaultNS: ['translation'],
    fallbackLng: ['dev'],
    fallbackNS: false,
    supportedLngs: false,
    nonExplicitSupportedLngs: false,
    load: 'all',
    preload: false,
    simplifyPluralSuffix: true,
    keySeparator: '.',
    nsSeparator: ':',
    pluralSeparator: '_',
    contextSeparator: '_',
    partialBundledLanguages: false,
    saveMissing: false,
    updateMissing: false,
    saveMissingTo: 'fallback',
    saveMissingPlurals: true,
    missingKeyHandler: false,
    missingInterpolationHandler: false,
    postProcess: false,
    postProcessPassResolved: false,
    returnNull: false,
    returnEmptyString: true,
    returnObjects: false,
    joinArrays: false,
    returnedObjectHandler: false,
    parseMissingKeyHandler: false,
    appendNamespaceToMissingKey: false,
    appendNamespaceToCIMode: false,
    overloadTranslationOptionHandler: function handle(args) {
      let ret = {};
      if (typeof args[1] === 'object') ret = args[1];
      if (typeof args[1] === 'string') ret.defaultValue = args[1];
      if (typeof args[2] === 'string') ret.tDescription = args[2];
      if (typeof args[2] === 'object' || typeof args[3] === 'object') {
        const options = args[3] || args[2];
        Object.keys(options).forEach(key => {
          ret[key] = options[key];
        });
      }
      return ret;
    },
    interpolation: {
      escapeValue: true,
      format: value => value,
      prefix: '{{',
      suffix: '}}',
      formatSeparator: ',',
      unescapePrefix: '-',
      nestingPrefix: '$t(',
      nestingSuffix: ')',
      nestingOptionsSeparator: ',',
      maxReplaces: 1000,
      skipOnVariables: true
    }
  };
}
function transformOptions(options) {
  if (typeof options.ns === 'string') options.ns = [options.ns];
  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];
  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }
  return options;
}

function noop() {}
function bindMemberFunctions(inst) {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(mem => {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
}
class I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    this.isInitializing = true;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (typeof options.ns === 'string') {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf('translation') < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== 'v1') {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== undefined) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== undefined) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    function createClassOnDemand(ClassOrObject) {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    }
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== 'undefined') {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init) s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on('*', function (event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach(m => {
        if (m.init) m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn('init: no languageDetector is used and no lng is defined');
    }
    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
    storeApi.forEach(fcName => {
      this[fcName] = function () {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
    storeApiChained.forEach(fcName => {
      this[fcName] = function () {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');
        this.isInitialized = true;
        if (!this.options.isClone) this.logger.log('initialized', this.options);
        this.emit('initialized', this.options);
        deferred.resolve(t);
        callback(err, t);
      };
      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = typeof language === 'string' ? language : this.language;
    if (typeof language === 'function') usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();
      const toLoad = [];
      const append = lng => {
        if (!lng) return;
        if (lng === 'cimode') return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(l => {
          if (l === 'cimode') return;
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(l => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach(l => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, e => {
        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    if (!callback) callback = noop;
    this.services.backendConnector.reload(lngs, ns, err => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module) {
    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');
    if (module.type === 'backend') {
      this.modules.backend = module;
    }
    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }
    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }
    if (module.type === 'i18nFormat') {
      this.modules.i18nFormat = module;
    }
    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }
    if (module.type === 'formatter') {
      this.modules.formatter = module;
    }
    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages) return;
    if (['cimode', 'dev'].indexOf(l) > -1) return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit('languageChanging', lng);
    const setLngProps = l => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = undefined;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = undefined;
        this.emit('languageChanged', l);
        this.logger.log('languageChanged', l);
      } else {
        this.isLanguageChangingTo = undefined;
      }
      deferred.resolve(function () {
        return _this2.t(...arguments);
      });
      if (callback) callback(err, function () {
        return _this2.t(...arguments);
      });
    };
    const setLng = lngs => {
      if (!lng && !lngs && this.services.languageDetector) lngs = [];
      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language) this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, err => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function (key, opts) {
      let options;
      if (typeof opts !== 'object') {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || '.';
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (typeof lng === 'string') {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === 'cimode') return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== undefined) return preResult;
    }
    if (this.hasResourceBundle(lng, ns)) return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback) callback();
      return Promise.resolve();
    }
    if (typeof ns === 'string') ns = [ns];
    ns.forEach(n => {
      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);
    });
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (typeof lngs === 'string') lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback) callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng) return 'rtl';
    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    return new I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore) delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new I18n(mergedOptions);
    if (options.debug !== undefined || options.prefix !== undefined) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(m => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
}
const instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;

const createInstance = instance.createInstance;
const dir = instance.dir;
const init = instance.init;
const loadResources = instance.loadResources;
const reloadResources = instance.reloadResources;
const use = instance.use;
const changeLanguage = instance.changeLanguage;
const getFixedT = instance.getFixedT;
const i18next_t = instance.t;
const exists = instance.exists;
const setDefaultNamespace = instance.setDefaultNamespace;
const hasLoadedNamespace = instance.hasLoadedNamespace;
const loadNamespaces = instance.loadNamespaces;
const loadLanguages = instance.loadLanguages;



;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/dict.js
class Dict {
    _dict;
    constructor(_dict = {}) {
        this._dict = _dict;
    }
    get(key, language) {
        if (!key)
            return '';
        const item = this._dict[key];
        if (language)
            return item ?
                item[language] || ''
                :
                    '';
        return item;
    }
    to_resources() {
        return Object.entries(this._dict).reduce((acc, [key, item]) => {
            Object.entries(item).forEach(([language, translation]) => {
                if (!translation || !acc[language])
                    return;
                acc[language].translation[key] = translation;
            });
            return acc;
        }, {
            zh: { translation: {} },
            en: { translation: {} },
            ja: { translation: {} },
            ko: { translation: {} },
        });
    }
}
//# sourceMappingURL=dict.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/index.js


const LANGUAGES = (/* unused pure expression or super */ null && (['zh', 'en', 'ja', 'ko']));
/**
    提供翻译文本功能，自动解析当前语言
    @see https://github.com/ShenHongFei/xshell/tree/master/i18n
*/
class I18N {
    static LANGUAGE_REGEXP = /^(zh|en|ja|jp|ko)$/;
    /** (ISO 639-1 标准语言代码) 可能取 zh, en, ja, ko */
    language;
    /** hostname shortcuts */
    hosts;
    /** url prefix shortcuts */
    roots;
    /** 标记静态文本，以便扫描词条，并在运行时根据当前语言获取翻译 */
    t;
    /** render: 翻译配置字段 */
    r;
    i18next;
    /** react-i18next <Trans/> 组件 */
    Trans = ({ children }) => children;
    /** ```ts
        import dict from './dict.json'  // { "添加": { "en": "Add", "ja": "追加", "ko": "추가" } }
        
        const i18n = new I18N(dict, 'zh')  // 创建实例，传入词典 dict 并指定语言（NodeJS 环境），
        const i18n = new I18N(dict)        // 创建实例，传入词典 dict 并自动判断当前语言（浏览器环境），
        const i18n = new I18N({ })         // 创建实例，传入空词典
        ```
        @see https://github.com/ShenHongFei/xshell/tree/master/i18n
    */
    constructor(_dict, language) {
        const is_browser = typeof window !== 'undefined' && typeof location !== 'undefined';
        const dict = new Dict(_dict);
        if (!language && is_browser)
            language = (new URLSearchParams(location.search).get('language') ||
                window.language);
        if (!language)
            language = Intl.DateTimeFormat().resolvedOptions().locale.slice(0, 2);
        if (!I18N.LANGUAGE_REGEXP.test(language)) {
            if (language)
                console.error('invalid language:', language);
            language = 'zh';
        }
        // console.log('language:', language)
        this.language = language;
        this.t = (text, options) => {
            options = options || {};
            const language = options.language || this.language;
            return this.i18next.t(text, { ...options, lng: language, defaultValue: text });
        };
        this.r = (field, language = this.language) => field ?
            field[language] || field.zh || field.en || field || ''
            :
                field || '';
        // --- init i18next
        this.i18next = instance.createInstance();
        if (is_browser)
            try {
                // 在无 React 的浏览器环境下避免 react-i18next 中执行 React.createContext() 报错
                // const React = require('react') as typeof import('react')
                const { initReactI18next, Trans: I18NextTrans } = require('react-i18next');
                this.i18next.use(initReactI18next);
                const _i18next = this.i18next;
                // 绑定 Trans 组件的 i18n 到 this.i18next, 解决多个 i18next 冲突的问题
                // react-i18next/context.js 中 i18n 实例只在模块级别维护，多次 this.i18next.use(initReactI18next) 会覆盖前面的 i18n，导致 Trans 无法翻译
                // https://github.com/i18next/react-i18next/issues/726
                this.Trans = function Trans({ i18n = _i18next, ...others }) {
                    // 简单转发，性能更好
                    return I18NextTrans({ i18n, ...others });
                    // return React.createElement(I18NextTrans, { i18n, ...others } as any, children)
                    // return <I18NextTrans {...{ i18n, ...others } }>{children}</I18NextTrans>
                };
            }
            catch { }
        this.i18next.init({
            lng: this.language,
            // LOCAL
            // debug: true,
            debug: false,
            fallbackLng: {
                en: ['zh'],
                ja: ['en', 'zh'],
                ko: ['en', 'zh'],
            },
            // 禁用 : 和 . 作为 seperator
            keySeparator: false,
            nsSeparator: false,
            resources: dict.to_resources(),
            interpolation: {
                escapeValue: false
            },
            react: {
                transKeepBasicHtmlNodesFor: []
            },
        });
        if (typeof window !== 'undefined' && window && !('i18n' in window))
            window.i18n = this;
    }
    /** 加载词典文件 (需要将这两行单独放一个文件里，以保证在 import 其他文件之前执行)
        
        @example
        import dict from './dict.json'  // { "添加": { "en": "Add", "ja": "追加", "ko": "추가" } }
        i18n.init(dict)
    */
    init(dict) {
        const resources = new Dict(dict).to_resources();
        for (const language in resources)
            this.i18next.addResources(language, 'translation', resources[language].translation);
    }
    toJSON() {
        return {
            language: this.language,
        };
    }
}
//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/dict.json
const i18n_dict_namespaceObject = /*#__PURE__*/JSON.parse('{"存在":{"en":"exists"},"不存在":{"en":"not exists"},"打开文件":{"en":"open file"},"fp 必须是绝对路径，或传入 dir 参数: ":{"en":"fp must be absolute path, or pass in \'dir\' parameters:"},"读取":{"en":"read"}," 的编码可能是 ":{"en":"\'s encoding might be "},"写入":{"en":"write"},"追加":{"en":"append"},"data 不是 Buffer 或 string":{"en":"data is not a buffer or string"}," 必须是绝对路径":{"en":" must be absolute path"},"参数 fpd: ":{"en":"argument fpd: "}," 必须以 / 结尾":{"en":"must ends with /"},"fp 必须是绝对路径":{"en":"fp must be absolute path"},"删除了文件夹: ":{"en":"deleted folder: "},"删除了文件: ":{"en":"deleted file: "},"文件夹已不存在: ":{"en":"folder no longer exists: "},"文件已不存在: ":{"en":"file no longer exists: "},"fp_src 和 fp_dst 必须同为文件路径或文件夹路径":{"en":"fp_src and fp_dst must be the same as file paths or folder paths"},"fp_src 和 fp_dst 必须为完整路径":{"en":"fp_src and fp_dst must be complete paths"},"复制":{"en":"copy"},"src 和 dst 必须同为文件路径或文件夹路径":{"en":"src and dst must be the same as file paths or folder paths"},"src 和 dst 必须为完整路径":{"en":"src and dst must be complete paths"},"移动":{"en":"move"},"fp 和 fp_ 必须是绝对路径":{"en":"fp and fp_ must be absolute paths"},"重命名":{"en":"rename"},"文件已存在：":{"en":"file already exists: "},"fpd 必须是绝对路径: ":{"en":"fpd must be absolute path"},"fpd 必须以 / 结尾: ":{"en":"fpd must end with /"},"fp_real 和 fp_link 必须同为文件路径或文件夹路径":{"en":"fp_real and fp_link must be the same as file paths or folder paths"},"存在同名":{"en":"exists the same name "},"文件夹":{"en":"folder"},"文件":{"en":"file"},"，无法创建链接":{"en":", unable to create link"},"已将源文件 ":{"en":"linked src file"}," 链接到 ":{"en":" to "},"fp 必须是完整路径":{"en":"fp must be complete path"},"文件修改 (":{"en":"file changed ("},"remote.send(): websocket client 已断开":{"en":"remote.send(): websocket client disconnected"},"找不到 rpc handler":{"en":"cannot find rpc handler"},"凌晨":{"en":"early morning"},"清晨":{"en":"early morning"},"早上":{"en":"morning"},"上午":{"en":"morning"},"中午":{"en":"noon"},"下午":{"en":"afternoon"},"晚上":{"en":"night"},"深夜":{"en":"late at night"},"断言失败":{"en":"assertion failed"}," 太短":{"en":" is too short"},"xshell 正在启动":{"en":"xshell is booting"},"repl 已启动":{"en":"repl has started"},"server 正在启动":{"en":"server is starting"},"server 已启动":{"en":"server has started"},"xshell 启动完成":{"en":"xshell booted"},"xshell 正在监听: ":{"en":"xshell is listening at: "},"已加载":{"en":"loaded"},"所有模块全部加载":{"en":"all modules were loaded"},"状态码 {{status}}, 非 2xx: {{url}}":{"en":"status code {{code}} is not 2xx: {{url}}"},"请求参数:":{"en":"request.params:"},"请求体:":{"en":"request.body:"},"响应状态码:":{"en":"response.code:"},"响应错误:":{"en":"response.error:"},"响应头:":{"en":"response.headers:"},"响应体:":{"en":"response.body:"},"调用栈:":{"en":"call stack:"},"已存在":{"en":"exists"},"进程":{"en":"process"},"异常结束, 错误码:":{"en":"exited abnormally with error code:"},"信号:":{"en":"signal"},"正常结束":{"en":"exited normally"},"xshell 开始启动":{"en":"xshell is booting"},"nodejs.repl 启动成功":{"en":"nodejs.repl started successfully"},"server 启动成功":{"en":"server started successfully"},"xshell 启动成功":{"en":"xshell started successfully"},"xshell 正在退出":{"en":"xshell is exiting"},"所有模块加载成功":{"en":"all modules were loaded successfully"}," 已连接":{"en":" connected"}," 已正常关闭":{"en":" closed normally"},"被关闭":{"en":"was closed"},"原因":{"en":"reason"},"已创建文件夹":{"en":"created folder"},"已存在文件夹":{"en":"folder already exists:"}," 太短，防止误删文件":{"en":" is too short (prevent accidental deletion of files)"},"异常结束":{"en":"exited abnormally"},"结束":{"en":"exited"},"不能太短，防止误删文件":{"en":"can not be too short to prevent accidental deletion of files"},"连接出错了":{"en":"connection errored"},"超过等待时间:":{"en":"response.timeout exceeded:"},"等待 {{duration}} 秒后重试 fetch ({{_count}}) …":{"en":"Wait {{duration}} seconds to retry fetching ({{_count}}) …"},"状态码 {{status}} 非 2xx":{"en":"Status code {{status}} is not 2xx"},"传入 request 的 headers 参数中 key 应该都是小写的，实际为 {{key}}":{"en":"The key in the headers parameter of the incoming request should be all lowercase, and it is actually {{key}}"},"dir 必须以 / 结尾":{"en":"dir must end with /"},"fp 必须是文件，不能以 / 结尾":{"en":"fp must be a file and cannot end with /"},"fp 必须是绝对路径:":{"en":"fp must be an absolute path:"},"fp 必须是绝对路径，当前为:":{"en":"fp must be an absolute path, currently:"},"已正常关闭":{"en":"closed normally"},"websocket close 事件时应该已经 settled":{"en":"Promise should have been settled in websocket close event"},"连接被关闭":{"en":"connection closed"},"状态码 {{status}}, 非 2xx":{"en":"Status code {{status}}, not 2xx"},"构建 Remote 时 url 和 websocket 最多只能传一个":{"en":"When building Remote, only one url and websocket can be passed at most"},"创建 Remote 时传入的 websocket 连接已断开":{"en":"The incoming websocket connection was broken while creating the Remote"},"传入的 websocket 连接已断开":{"en":"The incoming websocket connection was disconnected"},"尝试释放未锁定的锁，这不应该发生":{"en":"Attempt to release an unlocked lock, this should not happen"},"超时错误":{"en":"timeout error"},"xshell 启动成功，用时 {{duration}}，正在监听: http://localhost:8421\\n":{"en":"xshell started successfully, took {{duration}}, is listening: http://localhost:8421\\n"},"xshell 启动成功，用时 ":{"en":"xshell started successfully, it took "},"正在监听: http://localhost:8421\\n":{"en":"listening: http://localhost:8421\\n"},"flist: 参数 fpd: \'{{fpd}}\' 必须是绝对路径":{"en":"flist: parameter fpd: \'{{fpd}}\' must be an absolute path"},"flist: 参数 fpd: \'{{fpd}}\' 必须以 / 结尾":{"en":"flist: argument fpd: \'{{fpd}}\' must end with /"},"fstat: 参数 fp: \'{{fp}}\' 必须是绝对路径":{"en":"fstat: parameter fp: \'{{fp}}\' must be an absolute path"},"不存在且无法创建文件夹 {{fpd}}":{"en":"Folder {{fpd}} does not exist and cannot be created"},"message.data 必须是数组":{"en":"message.data must be an array"},"fsend 必须传 absolute 选项或 root 文件夹":{"en":"fsend must pass absolute option or root folder"},"message.data 数组中不能有 undefined 的项, 因为 json 序列化后会变为 null":{"en":"There cannot be undefined items in the message.data array, because json will become null after serialization"},"xshell 启动成功，正在监听: http://localhost:8421":{"en":"xshell started successfully and is listening: http://localhost:8421"},"flstat: 参数 fp: \'{{fp}}\' 必须是绝对路径":{"en":"flstat: parameter fp: \'{{fp}}\' must be an absolute path"},"filter 选项只适用于 fp_src 为文件夹":{"en":"filter option only applies to fp_src for folders"},"已订阅 stdio":{"en":"subscribed to stdio"},"由于 websocket 连接关闭，stdio 订阅被关闭":{"en":"stdio subscription was closed due to websocket connection closed"},"已取消订阅 stdio":{"en":"stdio unsubscribed"},"{{name}} 启动成功，正在监听 {{ports}} 端口":{"en":"{{name}} started successfully and is listening on {{ports}} port"},"删除了文件夹":{"en":"deleted folder"},"删除了文件":{"en":"deleted file"},"已不存在文件":{"en":"file no longer exists:"},"已不存在文件夹":{"en":"folder no longer exists:"},"不支持 content-encoding: {{encoding}} 的 http 请求":{"en":"http requests with content-encoding: {{encoding}} are not supported"},"等待 {{duration}} 秒后重试 request (已尝试 {{_count}} 次) …":{"en":"Wait {{duration}} seconds before retrying request (tried {{_count}} times) …"}}');
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/instance.js


let i18n = new I18N(i18n_dict_namespaceObject);
const { t: instance_t, language } = i18n;

//# sourceMappingURL=instance.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/prototype.browser.js
/** 在浏览器端修改 prototype，需要更加小心 */



const prototype_browser_emoji_regex = emoji_regex();
function to_method_property_descriptors(methods) {
    return Object.fromEntries(Object.entries(methods)
        .map(([name, value]) => ([name, {
            configurable: true,
            writable: true,
            enumerable: false,
            value,
        }])));
}
function to_getter_property_descriptors(getters) {
    return Object.fromEntries(Object.entries(getters)
        .map(([name, get]) => ([name, {
            configurable: true,
            enumerable: false,
            get,
        }])));
}
const cjk = '([\u2e80-\u9fff\uf900-\ufaff])';
const quotes = {
    single: "'",
    double: '"',
    backtick: '`',
};
const brackets = {
    round: ['(', ')'],
    square: ['[', ']'],
    curly: ['{', '}'],
    pointy: ['<', '>'],
    corner: ['「', '」'],
    fat: ['【', '】'],
    tortoise_shell: ['〔', '〕'],
};
function to_fp(str) {
    if (!str)
        return str;
    const fp = str.replaceAll('\\', '/');
    // 转换小写盘符开头的路径
    return fp[1] === ':' && 'a' <= fp[0] && fp[0] <= 'z' ?
        fp[0].toUpperCase() + fp.slice(1)
        :
            fp;
}
// ------------------------------------ String.prototype
Object.defineProperties(String.prototype, {
    ...to_getter_property_descriptors({
        width() {
            const s = this.replace(prototype_browser_emoji_regex, '  ');
            let width = 0;
            for (let i = 0; i < s.length; i++) {
                const code = s.codePointAt(i);
                if ((code <= 0x1f || (code >= 0x7f && code <= 0x9f)) || // ignore control characters
                    code >= 0x300 && code <= 0x36f // ignore combining characters
                )
                    continue;
                // surrogates
                if (code > 0xffff)
                    i++;
                width += is_codepoint_fullwidth(code) ? 2 : 1;
            }
            return width;
        }
    }),
    // ------------ 文本处理工具方法
    ...to_method_property_descriptors({
        /** 截取字符串不超过 width 显示宽度的部分，并保留颜色
            找到并记录能容纳 字符串 + … 的最后一个字符的位置 i_fitted
              - 若完整的字符串长度超过 width，返回 slice(0, i_fitted + 1) + …
              - 否则                          返回 this
         */
        truncate(width) {
            const color_bak = this.startsWith('\u001b') ? this.slice(0, 5) : '';
            if (width <= 2)
                return this.slice(0, width);
            let i_fitted = 0;
            let fitted_width = 0;
            let cur_width = 0;
            for (let i = 0; i < this.length; i++) {
                const code = this.codePointAt(i);
                if ((code <= 0x1F || (code >= 0x7F && code <= 0x9F)) || // Ignore control characters
                    code >= 0x300 && code <= 0x36F // Ignore combining characters
                )
                    continue;
                // surrogates (codepoint 需要用两个 utf-16 编码单位表示，因此这里跳过第二个编码单位，防止重复计算显示宽度)
                if (code > 0xFFFF)
                    i++;
                const w = is_codepoint_fullwidth(code) ? 2 : 1;
                if (cur_width + w + 2 <= width) {
                    i_fitted = i;
                    fitted_width += w;
                }
                cur_width += w;
                if (cur_width > width) {
                    const i_fitted_next = i_fitted + 1;
                    const t = this.slice(0, i_fitted_next) + ' '.repeat(width - 2 - fitted_width) + '…';
                    return color_bak ? color_bak + t + '\u001b[39m' : t;
                }
            }
            return this;
        },
        pad(width, { character = ' ', position = 'right' } = {}) {
            const _width = this.width;
            if (_width >= width)
                return this;
            if (position === 'right')
                return this + character.repeat((width - _width) / character.width);
            return character.repeat(width - _width) + this;
        },
        limit(width, { character = ' ', position = 'right' } = {}) {
            return this.pad(width, { character, position }).truncate(width);
        },
        to_regexp(preservations, flags = '') {
            const preserved_chars = new Set(preservations);
            const replace_chars = Array.prototype.filter.call('|\\{}()[]^$+*?.-', (c) => !preserved_chars.has(c))
                .map((c) => c === ']' ? '\\]' : c).join('');
            return new RegExp(this.replace(new RegExp(`[${replace_chars}]`, 'g'), '\\$&'), flags);
        },
        refmt(pattern, pattern_, preservations = '', flags = '', transformer = (name, value) => value || '', pattern_placeholder = /\{.*?\}/g) {
            // --- 转换 pattern 为 pattern_regx
            let last_end = 0;
            // placeholder matched group indexes
            let $placeholders = {};
            let regx_parts = [];
            function add_part(left, right) {
                const part = pattern.slice(left, right);
                if (part)
                    regx_parts.push(part.to_regexp(preservations).source.bracket());
            }
            pattern.replace(pattern_placeholder, ($0, offset) => {
                add_part(last_end, offset);
                last_end = offset + $0.length;
                const placeholder = $0.slice(1, -1);
                let [placeholder_name, placeholder_pattern] = placeholder.split(':').map(s => s.trim());
                let optional = false;
                if (placeholder_name.endsWith('?')) {
                    placeholder_name = placeholder_name.slice(0, -1);
                    optional = true;
                }
                $placeholders[placeholder_name] = regx_parts.push(placeholder_pattern ?
                    `${placeholder_pattern.bracket()}${optional ? '?' : ''}`
                    :
                        '(.*?)');
                return '';
            });
            add_part(last_end);
            // 最后一个 (.*?) 改为贪心匹配，满足 .{suffix} 的需要
            regx_parts = regx_parts.filter(part => part);
            if (regx_parts[regx_parts.length - 1] === '(.*?)')
                regx_parts[regx_parts.length - 1] = '(.*)';
            const pattern_regx = new RegExp(regx_parts.join(''), flags);
            // --- 根据 pattern_regx 去匹配原有字符串，获取匹配结果，生成 placeholders 词典
            const matches = pattern_regx.exec(this);
            if (!matches)
                return this;
            const placeholders = Object.fromEntries(Object.entries($placeholders)
                .map(([name, $i]) => [
                [name, matches[$i]],
                [`${name}.before`, matches[$i - 1] || ''],
                [`${name}.after`, matches[$i + 1] || ''],
            ])
                .flat());
            // --- 转换 pattern_ 为 replacement_str，如果有 transformer 则在遇到 placeholder 时应用
            last_end = 0;
            let replacement_parts = [];
            pattern_.replace(pattern_placeholder, ($0, offset) => {
                replacement_parts.push(pattern_.slice(last_end, offset));
                last_end = offset + $0.length;
                const placeholder_name = $0.slice(1, -1);
                replacement_parts.push(transformer(placeholder_name, placeholders[placeholder_name], placeholders));
                return '';
            });
            replacement_parts.push(pattern_.slice(last_end));
            return this.replace(pattern_regx, replacement_parts.join(''));
        },
        find(pattern, preservations = '', flags = '', pattern_placeholder = /\{.*?\}/g) {
            // --- 转换 pattern 为 pattern_regx
            let last_end = 0;
            // placeholder matched group index
            let $placeholders = {};
            let regx_parts = [];
            function add_part(left, right) {
                const part = pattern.slice(left, right);
                if (part)
                    regx_parts.push(part.to_regexp(preservations).source.bracket());
            }
            pattern.replace(pattern_placeholder, ($0, offset) => {
                add_part(last_end, offset);
                last_end = offset + $0.length;
                const placeholder = $0.slice(1, -1);
                let [placeholder_name, placeholder_pattern] = placeholder.split(':').map(s => s.trim());
                let optional = false;
                if (placeholder_name.endsWith('?')) {
                    placeholder_name = placeholder_name.slice(0, -1);
                    optional = true;
                }
                $placeholders[placeholder_name] = regx_parts.push(placeholder_pattern ?
                    `${placeholder_pattern.bracket()}${optional ? '?' : ''}`
                    :
                        '(.*?)');
                return '';
            });
            add_part(last_end);
            // 最后一个 (.*?) 改为贪心匹配，满足 .{suffix} 的需要
            regx_parts = regx_parts.filter(part => part);
            if (regx_parts[regx_parts.length - 1] === '(.*?)')
                regx_parts[regx_parts.length - 1] = '(.*)';
            const pattern_regx = new RegExp(regx_parts.join(''), flags);
            // --- 根据 pattern_regx 去匹配原有字符串，获取匹配结果，生成 placeholders 词典
            const matches = pattern_regx.exec(this);
            if (!matches)
                return {};
            return Object.fromEntries(Object.entries($placeholders)
                .map(([name, $i]) => [name, matches[$i] || '']));
        },
        quote(type = 'single') {
            if (type === 'psh')
                return `& ${this.quote()}`;
            return this.surround(quotes[type]);
        },
        bracket(shape = 'round') {
            return this.surround(...brackets[shape]);
        },
        surround(left, right) {
            return left + this + (right || left);
        },
        surround_tag(tag_name) {
            return '<' + tag_name + '>' + this + '</' + tag_name + '>';
        },
        to_lf() {
            return this.replace(/\r\n/g, '\n');
        },
        rm(pattern, flags = 'g') {
            if (typeof pattern === 'string')
                pattern = new RegExp(pattern, flags);
            return this.replace(pattern, '');
        },
        split_lines(delimiter = /\r?\n/) {
            let lines = this.split(delimiter);
            if (lines[lines.length - 1] === '')
                lines.pop();
            return lines;
        },
        split_indent() {
            let i = 0;
            let indent = 0;
            for (; i < this.length; i++)
                if (this[i] === ' ')
                    indent++;
                else if (this[i] === '\t')
                    indent += 4;
                else
                    break;
            return {
                indent,
                text: this.slice(i)
            };
        },
        strip_start(prefix, validate) {
            if (validate && !this.startsWith(prefix))
                throw new Error(`字符串没有以前缀 ${prefix} 开头: ${this}`);
            return this.slice(prefix.length);
        },
        strip_if_start(prefix) {
            return this.startsWith(prefix) ? this.slice(prefix.length) : this;
        },
        strip_end(suffix, validate) {
            if (validate && !this.endsWith(suffix))
                throw new Error(`字符串没有以后缀 ${suffix} 结尾: ${this}`);
            return this.slice(0, -suffix.length);
        },
        strip_if_end(suffix) {
            return this.endsWith(suffix) ? this.slice(0, -suffix.length) : this;
        },
        space() {
            if (!this)
                return this;
            let text_;
            text_ = this
                .replace(new RegExp(cjk + '([\'"])', 'g'), '$1 $2')
                .replace(new RegExp('([\'"])' + cjk, 'g'), '$1 $2')
                .replace(/(["']+)\s*(.+?)\s*(["']+)/g, '$1$2$3')
                .replace(new RegExp(cjk + '([\\+\\-\\*\\/=&\\\\\\|<>])([A-Za-z0-9])', 'g'), '$1 $2 $3')
                .replace(new RegExp('([A-Za-z0-9])([\\+\\-\\*\\/=&\\\\\\|<>])' + cjk, 'g'), '$1 $2 $3');
            const textBak = text_;
            text_ = text_.replace(new RegExp(cjk + '([\\(\\[\\{<\u201c]+(.*?)[\\)\\]\\}>\u201d]+)' + cjk, 'g'), '$1 $2 $4');
            if (text_ === textBak)
                text_ = text_
                    .replace(new RegExp(cjk + '([\\(\\[\\{<\u201c>])', 'g'), '$1 $2')
                    .replace(new RegExp('([\\)\\]\\}>\u201d<])' + cjk, 'g'), '$1 $2');
            return text_
                .replace(/([\(\[\{<\u201c]+)(\s*)(.+?)(\s*)([\)\]\}>\u201d]+)/g, '$1$3$5')
                .replace(new RegExp(cjk + '([~!;:,\\.\\?\u2026])([A-Za-z0-9])', 'g'), '$1$2 $3')
                .replace(new RegExp(cjk + '([A-Za-z0-9`\\$%\\^&\\*\\-=\\+\\\\\\|\\/@\u00a1-\u00ff\u2022\u2027\u2150-\u218f])', 'g'), '$1 $2')
                .replace(new RegExp('([A-Za-z0-9`\\$%\\^&\\*\\-=\\+\\\\\\|\\/@\u00a1-\u00ff\u2022\u2027\u2150-\u218f])' + cjk, 'g'), '$1 $2');
        },
    }),
    // ------------ 文件路径操作
    ...to_getter_property_descriptors({
        isdir() {
            return this.endsWith('/');
        },
        fp() {
            return to_fp(this);
        },
        fpd() {
            if (!this)
                return this;
            const fp = to_fp(this);
            return fp.endsWith('/') ? fp : `${fp}/`;
        },
        fdir() {
            const fname = (this.endsWith('/') ? this.slice(0, -1) : this).split('/').at(-1);
            return this.slice(0, this.length - (fname.length + (this.endsWith('/') ? 1 : 0)));
        },
        fname() {
            const fname = (this.endsWith('/') ? this.slice(0, -1) : this).split('/').at(-1);
            if (fname)
                return `${fname}${this.endsWith('/') ? '/' : ''}`;
            else
                return '';
        },
        fext() {
            const index = this.lastIndexOf('.');
            return index === -1 ? '' : this.slice(index);
        },
    }),
});
// ------------------------------------ Date.prototype
Object.defineProperties(Date.prototype, to_method_property_descriptors({
    to_str(ms) {
        return `${this.to_date_str()} ${this.to_time_str(ms)}`;
    },
    to_date_str() {
        // 2024.01.01
        return this.getFullYear() + '.' +
            String(this.getMonth() + 1).padStart(2, '0') + '.' +
            String(this.getDate()).padStart(2, '0');
    },
    to_time_str(ms) {
        // 早上 09:00:00
        const [ampm, hour] = get_twelve_hour_clock(this);
        return `${ampm} ${get_time_str(this, hour, ms, ':')}`;
    },
    to_dot_time_str(ms) {
        // 17.03.02
        return get_time_str(this, this.getHours(), ms, '.');
    },
    to_dot_str(ms) {
        return `${this.to_date_str()} ${this.to_dot_time_str(ms)}`;
    },
    to_formal_time_str(ms) {
        // 17:03:02
        return get_time_str(this, this.getHours(), ms, ':');
    },
    to_formal_str(ms) {
        return `${this.to_date_str()} ${this.to_formal_time_str(ms)}`;
    }
}));
function get_twelve_hour_clock(date) {
    let hour = date.getHours();
    if (hour <= 6)
        return [instance_t('凌晨'), hour];
    if (hour <= 8)
        return [instance_t('清晨'), hour];
    if (hour <= 9)
        return [instance_t('早上'), hour];
    if (hour <= 10)
        return [instance_t('上午'), hour];
    if (hour <= 12)
        return [instance_t('中午'), hour];
    hour -= 12;
    if (hour <= 5)
        return [instance_t('下午'), hour];
    if (hour <= 10)
        return [instance_t('晚上'), hour];
    return [instance_t('深夜'), hour];
}
function get_time_str(date, hour, ms, splitter) {
    return String(hour).padStart(2, '0') + splitter +
        String(date.getMinutes()).padStart(2, '0') + splitter +
        String(date.getSeconds()).padStart(2, '0') +
        (ms ?
            '.' + String(date.getMilliseconds()).padStart(3, '0')
            :
                '');
}
// ------------------------------------ Number.prototype
Object.defineProperties(Number.prototype, to_method_property_descriptors({
    to_fsize_str(units = 'iec') {
        const { value, unit } = byte_size(this, { units });
        return `${value} ${unit.replace('i', '')}`;
    },
    to_bin_str() {
        return `0b${this.toString(2)}`;
    },
    to_hex_str(length) {
        const s = Math.abs(this).toString(16);
        // 长度自动对齐到 4 的倍数
        if (length === undefined)
            length = Math.ceil(s.length / 4) * 4;
        return `${this < 0 ? '-' : ''}0x${'0'.repeat(length - s.length)}${s}`;
    },
    to_oct_str() {
        return `0o${this.toString(8)}`;
    },
}));
// ------------------------------------ Array.prototype
Object.defineProperties(Array.prototype, {
    ...to_getter_property_descriptors({
        last() {
            return this.at(-1);
        }
    }),
    // --- 文本处理工具方法
    ...to_method_property_descriptors({
        trim_lines({ trim_line = true, rm_empty_lines = true, rm_last_empty_lines = false } = {}) {
            if (!this.length)
                return this;
            let lines = this;
            if (trim_line)
                lines = lines.map(line => line.trim());
            if (rm_empty_lines)
                return lines.filter(line => line);
            if (rm_last_empty_lines) {
                lines.reverse();
                const i_not_empty = lines.findIndex(line => line);
                if (i_not_empty !== -1)
                    lines = lines.slice(i_not_empty);
                lines.reverse();
                return lines;
            }
            return lines;
        },
        indent(width, character = ' ') {
            return this.map(line => character.repeat(width) + line);
        },
        join_lines(append = true) {
            return `${this.join('\n')}${append ? '\n' : ''}`;
        }
    })
});
Object.defineProperties(BigInt.prototype, to_method_property_descriptors({
    toJSON() {
        return this.toString();
    }
}));
Object.defineProperties(Error.prototype, to_method_property_descriptors({
    toJSON() {
        return Object.fromEntries(Object.getOwnPropertyNames(this)
            .map(name => [name, this[name]]));
    }
}));
function to_json(obj, replacer) {
    return JSON.stringify(obj, replacer, 4) + '\n';
}
function is_codepoint_fullwidth(codepoint) {
    // code points are derived from:
    // http://www.unix.org/Public/UNIDATA/EastAsianWidth.txt
    return (!Number.isNaN(codepoint) &&
        codepoint >= 0x1100 &&
        (codepoint <= 0x115f || // hangul jamo
            codepoint === 0x201c || codepoint === 0x201d || // 
            codepoint === 0x2026 || // …
            codepoint === 0x203b || // ※
            // arrows
            (0x2190 <= codepoint && codepoint <= 0x21FF) ||
            codepoint === 0x2329 || // left-pointing angle bracket
            codepoint === 0x232a || // right-pointing angle bracket
            // ①
            (0x2460 <= codepoint && codepoint <= 0x24ff) ||
            // box drawing
            (0x2500 <= codepoint && codepoint <= 0x257f) ||
            // shapes, symbols, …
            (0x2580 <= codepoint && codepoint <= 0x2bef) ||
            // cjk radicals supplement .. enclosed cjk letters and months
            (0x2e80 <= codepoint && codepoint <= 0x3247 && codepoint !== 0x303f) ||
            // enclosed cjk letters and months .. cjk unified ideographs extension a
            (0x3250 <= codepoint && codepoint <= 0x4dbf) ||
            // cjk unified ideographs .. yi radicals
            (0x4E00 <= codepoint && codepoint <= 0xA4C6) ||
            // hangul jamo extended-a
            (0xa960 <= codepoint && codepoint <= 0xa97c) ||
            // hangul syllables
            (0xac00 <= codepoint && codepoint <= 0xd7a3) ||
            // cjk compatibility ideographs
            (0xf900 <= codepoint && codepoint <= 0xfaff) ||
            // vertical forms
            (0xfe10 <= codepoint && codepoint <= 0xfe19) ||
            // cjk compatibility forms .. small form variants
            (0xfe30 <= codepoint && codepoint <= 0xfe6b) ||
            // halfwidth and fullwidth forms
            (0xff01 <= codepoint && codepoint <= 0xff60) ||
            (0xffe0 <= codepoint && codepoint <= 0xffe6) ||
            // kana supplement
            (0x1b000 <= codepoint && codepoint <= 0x1b001) ||
            // enclosed ideographic supplement
            (0x1f200 <= codepoint && codepoint <= 0x1f251) ||
            // cjk unified ideographs extension b .. tertiary ideographic plane
            (0x20000 <= codepoint && codepoint <= 0x3fffd)));
}
//# sourceMappingURL=prototype.browser.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/vendor/ansi-styles/index.js
const ANSI_BACKGROUND_OFFSET = 10;

const wrapAnsi16 = (offset = 0) => code => `\u001B[${code + offset}m`;

const wrapAnsi256 = (offset = 0) => code => `\u001B[${38 + offset};5;${code}m`;

const wrapAnsi16m = (offset = 0) => (red, green, blue) => `\u001B[${38 + offset};2;${red};${green};${blue}m`;

const styles = {
	modifier: {
		reset: [0, 0],
		// 21 isn't widely supported and 22 does the same thing
		bold: [1, 22],
		dim: [2, 22],
		italic: [3, 23],
		underline: [4, 24],
		overline: [53, 55],
		inverse: [7, 27],
		hidden: [8, 28],
		strikethrough: [9, 29],
	},
	color: {
		black: [30, 39],
		red: [31, 39],
		green: [32, 39],
		yellow: [33, 39],
		blue: [34, 39],
		magenta: [35, 39],
		cyan: [36, 39],
		white: [37, 39],

		// Bright color
		blackBright: [90, 39],
		gray: [90, 39], // Alias of `blackBright`
		grey: [90, 39], // Alias of `blackBright`
		redBright: [91, 39],
		greenBright: [92, 39],
		yellowBright: [93, 39],
		blueBright: [94, 39],
		magentaBright: [95, 39],
		cyanBright: [96, 39],
		whiteBright: [97, 39],
	},
	bgColor: {
		bgBlack: [40, 49],
		bgRed: [41, 49],
		bgGreen: [42, 49],
		bgYellow: [43, 49],
		bgBlue: [44, 49],
		bgMagenta: [45, 49],
		bgCyan: [46, 49],
		bgWhite: [47, 49],

		// Bright color
		bgBlackBright: [100, 49],
		bgGray: [100, 49], // Alias of `bgBlackBright`
		bgGrey: [100, 49], // Alias of `bgBlackBright`
		bgRedBright: [101, 49],
		bgGreenBright: [102, 49],
		bgYellowBright: [103, 49],
		bgBlueBright: [104, 49],
		bgMagentaBright: [105, 49],
		bgCyanBright: [106, 49],
		bgWhiteBright: [107, 49],
	},
};

const modifierNames = Object.keys(styles.modifier);
const foregroundColorNames = Object.keys(styles.color);
const backgroundColorNames = Object.keys(styles.bgColor);
const colorNames = [...foregroundColorNames, ...backgroundColorNames];

function assembleStyles() {
	const codes = new Map();

	for (const [groupName, group] of Object.entries(styles)) {
		for (const [styleName, style] of Object.entries(group)) {
			styles[styleName] = {
				open: `\u001B[${style[0]}m`,
				close: `\u001B[${style[1]}m`,
			};

			group[styleName] = styles[styleName];

			codes.set(style[0], style[1]);
		}

		Object.defineProperty(styles, groupName, {
			value: group,
			enumerable: false,
		});
	}

	Object.defineProperty(styles, 'codes', {
		value: codes,
		enumerable: false,
	});

	styles.color.close = '\u001B[39m';
	styles.bgColor.close = '\u001B[49m';

	styles.color.ansi = wrapAnsi16();
	styles.color.ansi256 = wrapAnsi256();
	styles.color.ansi16m = wrapAnsi16m();
	styles.bgColor.ansi = wrapAnsi16(ANSI_BACKGROUND_OFFSET);
	styles.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);
	styles.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);

	// From https://github.com/Qix-/color-convert/blob/3f0e0d4e92e235796ccb17f6e85c72094a651f49/conversions.js
	Object.defineProperties(styles, {
		rgbToAnsi256: {
			value(red, green, blue) {
				// We use the extended greyscale palette here, with the exception of
				// black and white. normal palette only has 4 greyscale shades.
				if (red === green && green === blue) {
					if (red < 8) {
						return 16;
					}

					if (red > 248) {
						return 231;
					}

					return Math.round(((red - 8) / 247) * 24) + 232;
				}

				return 16
					+ (36 * Math.round(red / 255 * 5))
					+ (6 * Math.round(green / 255 * 5))
					+ Math.round(blue / 255 * 5);
			},
			enumerable: false,
		},
		hexToRgb: {
			value(hex) {
				const matches = /[a-f\d]{6}|[a-f\d]{3}/i.exec(hex.toString(16));
				if (!matches) {
					return [0, 0, 0];
				}

				let [colorString] = matches;

				if (colorString.length === 3) {
					colorString = [...colorString].map(character => character + character).join('');
				}

				const integer = Number.parseInt(colorString, 16);

				return [
					/* eslint-disable no-bitwise */
					(integer >> 16) & 0xFF,
					(integer >> 8) & 0xFF,
					integer & 0xFF,
					/* eslint-enable no-bitwise */
				];
			},
			enumerable: false,
		},
		hexToAnsi256: {
			value: hex => styles.rgbToAnsi256(...styles.hexToRgb(hex)),
			enumerable: false,
		},
		ansi256ToAnsi: {
			value(code) {
				if (code < 8) {
					return 30 + code;
				}

				if (code < 16) {
					return 90 + (code - 8);
				}

				let red;
				let green;
				let blue;

				if (code >= 232) {
					red = (((code - 232) * 10) + 8) / 255;
					green = red;
					blue = red;
				} else {
					code -= 16;

					const remainder = code % 36;

					red = Math.floor(code / 36) / 5;
					green = Math.floor(remainder / 6) / 5;
					blue = (remainder % 6) / 5;
				}

				const value = Math.max(red, green, blue) * 2;

				if (value === 0) {
					return 30;
				}

				// eslint-disable-next-line no-bitwise
				let result = 30 + ((Math.round(blue) << 2) | (Math.round(green) << 1) | Math.round(red));

				if (value === 2) {
					result += 60;
				}

				return result;
			},
			enumerable: false,
		},
		rgbToAnsi: {
			value: (red, green, blue) => styles.ansi256ToAnsi(styles.rgbToAnsi256(red, green, blue)),
			enumerable: false,
		},
		hexToAnsi: {
			value: hex => styles.ansi256ToAnsi(styles.hexToAnsi256(hex)),
			enumerable: false,
		},
	});

	return styles;
}

const ansiStyles = assembleStyles();

/* harmony default export */ const ansi_styles = (ansiStyles);

;// CONCATENATED MODULE: ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/vendor/supports-color/browser.js
/* eslint-env browser */

const level = (() => {
	if (navigator.userAgentData) {
		const brand = navigator.userAgentData.brands.find(({brand}) => brand === 'Chromium');
		if (brand && brand.version > 93) {
			return 3;
		}
	}

	if (/\b(Chrome|Chromium)\//.test(navigator.userAgent)) {
		return 1;
	}

	return 0;
})();

const colorSupport = level !== 0 && {
	level,
	hasBasic: true,
	has256: level >= 2,
	has16m: level >= 3,
};

const supportsColor = {
	stdout: colorSupport,
	stderr: colorSupport,
};

/* harmony default export */ const browser = (supportsColor);

;// CONCATENATED MODULE: ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/utilities.js
// TODO: When targeting Node.js 16, use `String.prototype.replaceAll`.
function stringReplaceAll(string, substring, replacer) {
	let index = string.indexOf(substring);
	if (index === -1) {
		return string;
	}

	const substringLength = substring.length;
	let endIndex = 0;
	let returnValue = '';
	do {
		returnValue += string.slice(endIndex, index) + substring + replacer;
		endIndex = index + substringLength;
		index = string.indexOf(substring, endIndex);
	} while (index !== -1);

	returnValue += string.slice(endIndex);
	return returnValue;
}

function stringEncaseCRLFWithFirstIndex(string, prefix, postfix, index) {
	let endIndex = 0;
	let returnValue = '';
	do {
		const gotCR = string[index - 1] === '\r';
		returnValue += string.slice(endIndex, (gotCR ? index - 1 : index)) + prefix + (gotCR ? '\r\n' : '\n') + postfix;
		endIndex = index + 1;
		index = string.indexOf('\n', endIndex);
	} while (index !== -1);

	returnValue += string.slice(endIndex);
	return returnValue;
}

;// CONCATENATED MODULE: ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/index.js




const {stdout: stdoutColor, stderr: stderrColor} = browser;

const GENERATOR = Symbol('GENERATOR');
const STYLER = Symbol('STYLER');
const IS_EMPTY = Symbol('IS_EMPTY');

// `supportsColor.level` → `ansiStyles.color[name]` mapping
const levelMapping = [
	'ansi',
	'ansi',
	'ansi256',
	'ansi16m',
];

const source_styles = Object.create(null);

const applyOptions = (object, options = {}) => {
	if (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {
		throw new Error('The `level` option should be an integer from 0 to 3');
	}

	// Detect level if not set manually
	const colorLevel = stdoutColor ? stdoutColor.level : 0;
	object.level = options.level === undefined ? colorLevel : options.level;
};

class Chalk {
	constructor(options) {
		// eslint-disable-next-line no-constructor-return
		return chalkFactory(options);
	}
}

const chalkFactory = options => {
	const chalk = (...strings) => strings.join(' ');
	applyOptions(chalk, options);

	Object.setPrototypeOf(chalk, createChalk.prototype);

	return chalk;
};

function createChalk(options) {
	return chalkFactory(options);
}

Object.setPrototypeOf(createChalk.prototype, Function.prototype);

for (const [styleName, style] of Object.entries(ansi_styles)) {
	source_styles[styleName] = {
		get() {
			const builder = createBuilder(this, createStyler(style.open, style.close, this[STYLER]), this[IS_EMPTY]);
			Object.defineProperty(this, styleName, {value: builder});
			return builder;
		},
	};
}

source_styles.visible = {
	get() {
		const builder = createBuilder(this, this[STYLER], true);
		Object.defineProperty(this, 'visible', {value: builder});
		return builder;
	},
};

const getModelAnsi = (model, level, type, ...arguments_) => {
	if (model === 'rgb') {
		if (level === 'ansi16m') {
			return ansi_styles[type].ansi16m(...arguments_);
		}

		if (level === 'ansi256') {
			return ansi_styles[type].ansi256(ansi_styles.rgbToAnsi256(...arguments_));
		}

		return ansi_styles[type].ansi(ansi_styles.rgbToAnsi(...arguments_));
	}

	if (model === 'hex') {
		return getModelAnsi('rgb', level, type, ...ansi_styles.hexToRgb(...arguments_));
	}

	return ansi_styles[type][model](...arguments_);
};

const usedModels = ['rgb', 'hex', 'ansi256'];

for (const model of usedModels) {
	source_styles[model] = {
		get() {
			const {level} = this;
			return function (...arguments_) {
				const styler = createStyler(getModelAnsi(model, levelMapping[level], 'color', ...arguments_), ansi_styles.color.close, this[STYLER]);
				return createBuilder(this, styler, this[IS_EMPTY]);
			};
		},
	};

	const bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);
	source_styles[bgModel] = {
		get() {
			const {level} = this;
			return function (...arguments_) {
				const styler = createStyler(getModelAnsi(model, levelMapping[level], 'bgColor', ...arguments_), ansi_styles.bgColor.close, this[STYLER]);
				return createBuilder(this, styler, this[IS_EMPTY]);
			};
		},
	};
}

const proto = Object.defineProperties(() => {}, {
	...source_styles,
	level: {
		enumerable: true,
		get() {
			return this[GENERATOR].level;
		},
		set(level) {
			this[GENERATOR].level = level;
		},
	},
});

const createStyler = (open, close, parent) => {
	let openAll;
	let closeAll;
	if (parent === undefined) {
		openAll = open;
		closeAll = close;
	} else {
		openAll = parent.openAll + open;
		closeAll = close + parent.closeAll;
	}

	return {
		open,
		close,
		openAll,
		closeAll,
		parent,
	};
};

const createBuilder = (self, _styler, _isEmpty) => {
	// Single argument is hot path, implicit coercion is faster than anything
	// eslint-disable-next-line no-implicit-coercion
	const builder = (...arguments_) => applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));

	// We alter the prototype because we must return a function, but there is
	// no way to create a function with a different prototype
	Object.setPrototypeOf(builder, proto);

	builder[GENERATOR] = self;
	builder[STYLER] = _styler;
	builder[IS_EMPTY] = _isEmpty;

	return builder;
};

const applyStyle = (self, string) => {
	if (self.level <= 0 || !string) {
		return self[IS_EMPTY] ? '' : string;
	}

	let styler = self[STYLER];

	if (styler === undefined) {
		return string;
	}

	const {openAll, closeAll} = styler;
	if (string.includes('\u001B')) {
		while (styler !== undefined) {
			// Replace any instances already present with a re-opening code
			// otherwise only the part of the string until said closing code
			// will be colored, and the rest will simply be 'plain'.
			string = stringReplaceAll(string, styler.close, styler.open);

			styler = styler.parent;
		}
	}

	// We can move both next actions out of loop, because remaining actions in loop won't have
	// any/visible effect on parts we add here. Close the styling before a linebreak and reopen
	// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92
	const lfIndex = string.indexOf('\n');
	if (lfIndex !== -1) {
		string = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);
	}

	return openAll + string + closeAll;
};

Object.defineProperties(createChalk.prototype, source_styles);

const chalk = createChalk();
const chalkStderr = createChalk({level: stderrColor ? stderrColor.level : 0});





/* harmony default export */ const source = ((/* unused pure expression or super */ null && (chalk)));

;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/chalk.browser.js

const chalk_browser_chalk = new Chalk({ level: 2 });
const { red, green, yellow, blue, magenta, cyan, grey, redBright: red_, greenBright: green_, yellowBright: yellow_, blueBright: blue_, magentaBright: magenta_, cyanBright: cyan_, underline, } = chalk_browser_chalk;

//# sourceMappingURL=chalk.browser.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/utils.browser.js

const utils_browser_noop = () => { };
/** value 不为 null 或 undefined */
const not_empty = (value) => value !== null && value !== undefined;
function utils_browser_assert(assertion, message) {
    if (!assertion) {
        debugger;
        throw Object.assign(new Error(`断言失败: ${message ? `${message}: ` : ''}${assertion}`), { assertion });
    }
}
function log(obj) {
    console.log(obj);
    return obj;
}
/** 生成 0, 1, ..., n - 1 (不包括 n) 的数组，支持传入 generator 函数，通过 index 生成各个元素
    @example seq(10, i => `item-${i}`) */
function utils_browser_seq(n, generator) {
    let a = new Array(n);
    for (let i = 0; i < n; i++)
        a[i] = generator ? generator(i) : i;
    return a;
}
/** 将 keys, values 数组按对应的顺序组合成一个对象 */
function zip_object(keys, values) {
    return keys.reduce((obj, key, i) => {
        obj[key] = values[i];
        return obj;
    }, {});
}
async function utils_browser_delay(milliseconds) {
    return new Promise(resolve => {
        setTimeout(resolve, milliseconds);
    });
}
class TimeoutError extends Error {
    constructor(message, options) {
        super(message, options);
        this.name = this.constructor.name;
    }
}
async function timeout(milliseconds, action) {
    const error = new TimeoutError();
    return new Promise((resolve, reject) => {
        utils_browser_delay(milliseconds).then(() => { reject(error); });
        action().then(resolve, reject);
    });
}
/** 创建一个 promise，后续可调用 promise.resolve, promise.reject 方法设置其状态和值
    - initial?: `undefined` 传入非 undefined 值（包括 null）时直接设置为 resolved 状态
    注: 下面的方法不能标记为 aysnc function, 否则会对返回值再做一层 Promise.resolve() 导致 reject, resolve 属性丢失 */
// eslint-disable-next-line @typescript-eslint/promise-function-async
function utils_browser_defer(initial) {
    if (initial === undefined) {
        let resolve;
        let reject;
        let promise = new Promise((_resolve, _reject) => {
            resolve = _resolve;
            reject = _reject;
        });
        return Object.assign(promise, { resolve, reject });
    }
    else
        return Object.assign(Promise.resolve(initial), {
            resolve() { },
            reject() { }
        });
}
/** @example
    let lock = new Lock(redis)
    
    // 锁定资源后在 action 回调中操作资源，回调 promise 完成后自动释放资源，
    // 三秒内未成功独占资源直接抛出 TimeoutError (开始执行后不受 signal abort 影响)
    await lock.request(async redis => {
        const value = await redis.get('key')
        await redis.set('key', value * 2)
    }, AbortSignal.timeout(3000))
    
    参考:
    https://developer.mozilla.org/en-US/docs/Web/API/Web_Locks_API
    https://github.com/metarhia/web-locks
    https://www.npmjs.com/package/async-lock  */
class utils_browser_Lock {
    /** 如果操作不需要独占资源，可以直接通过 lock.resource 访问，否则需要通过 await lock.request() 独占资源后再访问 */
    resource;
    /** 等待链，新的 await lock.request() 调用会等待当前等待链尾部的 promise 完成，并作为新的尾部 */
    ptail = utils_browser_defer(null);
    /** 查询当前资源是否属于被锁定的状态，方便在资源闲置时做一些可选操作（操作前仍需锁定），或者做一些状态展示 */
    locked = false;
    /** 可以不传 resource，表示管理某个抽象或虚拟的资源 */
    constructor(resource) {
        this.resource = resource;
    }
    /** 通过 await lock.request() 锁定资源以便独占访问
        成功返回之后由调用方负责调用 release 方法释放资源
        在 signal aborted 时抛出错误结束等待，且由内部实现自动释放资源 */
    // async request (action: (resource: TResource) => Promise<void>, signal?: AbortSignal): Promise<void>
    // async request <TResult> (action: <TResult> (resource: TResource) => Promise<TResult>, signal?: AbortSignal): Promise<TResult>
    async request(action, signal) {
        signal?.throwIfAborted();
        const ptail = this.ptail;
        let pcurrent = this.ptail = utils_browser_defer();
        this.locked = true;
        return new Promise((resolve, reject) => {
            // 下面两种情况，先发生的决定 request 返回的 promise 状态
            // 不管是否 aborted, 都要等资源被前一次调用释放，先 aborted 只是将控制权交回给调用者，在锁定资源后不执行 action， 直接释放
            /** 防止执行过程中 signal abort */
            let executing = false;
            signal?.addEventListener('abort', () => {
                if (!executing)
                    // 这里不能释放锁，需要等 ptail resolve 后拿到资源再释放
                    reject(signal.reason);
            }, { once: true });
            ptail.then(async () => {
                // 这里已经能保证独占访问资源
                // 如果 aborted, 可以理解为独占资源失败，调用者不会使用资源，直接释放
                if (signal?.aborted)
                    reject(signal.reason);
                else
                    // 由调用者去操作资源
                    try {
                        executing = true;
                        resolve(await action(this.resource));
                    }
                    catch (error) {
                        reject(error);
                    }
                // 下面开始释放锁
                // assert(this.locked)
                if (!this.locked)
                    reject(new Error(instance_t('尝试释放未锁定的锁，这不应该发生')));
                this.locked = false;
                pcurrent.resolve();
            });
        });
    }
}
async function pause(milliseconds = 3000) {
    await utils_browser_delay(milliseconds);
    debugger;
}
globalThis.pause = pause;
// ------------ text
let encoder = new TextEncoder();
/** 将字符串简单的编码为 utf-8 的 buffer (Uint8Array)。高频使用或者在流式处理时，考虑使用 TextEncoder 的 encodeInto 方法 */
function utils_browser_encode(str) {
    return encoder.encode(str);
}
let decoder = new TextDecoder();
/** 将 utf-8 buffer (Uint8Array) 简单的解码为 string。
    在流式处理 (buffer 可能不完整) 时，应使用独立的 TextDecoder 实例调用 decode(buffer, { stream: true }) */
function utils_browser_decode(buffer) {
    return decoder.decode(buffer);
}
/** 字符串字典序比较 */
function strcmp(l, r) {
    if (l === r)
        return 0;
    if (l < r)
        return -1;
    return 1;
}
/** 比较 1.10.02 这种版本号 */
function vercmp(l, r) {
    const lparts = l.split('.').map(x => Number(x));
    const rparts = r.split('.').map(x => Number(x));
    utils_browser_assert(lparts.length === rparts.length, '传入 vercmp 的两个版本号应该格式一致');
    for (let i = 0; i < lparts.length; i++) {
        const l = lparts[i];
        const r = rparts[i];
        utils_browser_assert(!isNaN(l) && !isNaN(r), '传入 vercmp 的版本非法');
        if (l !== r)
            return l - r;
    }
    return 0;
}
function utils_browser_get(obj, keypath) {
    let obj_ = obj;
    for (const key of keypath.split('.'))
        obj_ = obj_[key];
    return obj_;
}
function global_get(keypath) {
    return utils_browser_get(globalThis, keypath);
}
function invoke(obj, funcpath, args) {
    const paths = funcpath.split('.');
    let obj_ = obj;
    for (let i = 0; i < paths.length - 1; i++)
        obj_ = obj_[paths[i]];
    return obj_[paths.at(-1)].call(obj_, ...args);
}
/** 拼接 TypedArrays 生成一个完整的 Uint8Array */
function utils_browser_concat(arrays) {
    let length = 0;
    for (const a of arrays)
        length += a.byteLength;
    let buf = new Uint8Array(length);
    let offset = 0;
    for (const a of arrays) {
        const uint8view = new Uint8Array(a.buffer, a.byteOffset, a.byteLength);
        buf.set(uint8view, offset);
        offset += uint8view.byteLength;
    }
    return buf;
}
/** 时间间隔 (milliseconds) 格式化 */
function delta2str(delta) {
    if (delta < 1)
        return '0 ms';
    // [1, 1000) ms
    if (delta < 1000)
        return `${delta.toFixed(0)} ms`;
    // 1.1 s
    if (1000 <= delta && delta < 1000 * 60)
        return `${(delta / 1000).toFixed(1)} s`;
    // 1 min 12 s [1 min 0s, 60 min)
    const seconds = Math.trunc(delta / 1000);
    if (seconds < 60 * 60)
        return `${Math.trunc(seconds / 60)} min ${seconds % 60} s`;
    const hour = Math.trunc(seconds / 3600);
    return `${hour} h ${Math.trunc((seconds - 3600 * hour) / 60)} min ${seconds % 60} s`;
}
/** generate random id */
function utils_browser_genid() {
    return Math.random() * 2 ** 53;
}
class Timer {
    started = new Date().getTime();
    ended;
    /** 停止秒表，保存读数 */
    stop() {
        this.ended = new Date().getTime();
    }
    /** 如果秒表未停止，获取当前秒表读数；
        如果秒表已停止，获取停止时的秒表读数; */
    get() {
        return (this.ended || new Date().getTime()) - this.started;
    }
    getstr() {
        return `(${delta2str(this.get())})`;
    }
    print() {
        console.log(this.getstr());
    }
}
function lowercase_first_letter(str) {
    return str[0].toLowerCase() + str.slice(1);
}
//# sourceMappingURL=utils.browser.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/net.browser.js

 // to_time_str()

const drop_request_headers = new Set([
    // : 开头的 key
    // sec-*
    'accept-charset',
    'connection',
    'content-length',
    'keep-alive',
    'trailer',
    'transfer-encoding',
    'upgrade',
]);
async function fetch_retry(url, options, timeout, retries = 0, count = 0) {
    try {
        // 旧的浏览器可能没有这个函数
        if (AbortSignal.timeout)
            options.signal = AbortSignal.timeout(timeout);
        return await fetch(url, options);
    }
    catch (error) {
        if (count >= retries ||
            error.name !== 'TimeoutError' && !['ECONNRESET', 'ETIMEDOUT', 'ESOCKETTIMEDOUT'].includes(error.cause?.code))
            throw error;
        else {
            const duration = 2 ** count;
            console.log(`${t('等待 {{duration}} 秒后重试 fetch ({{_count}}) …', { duration, _count: count })}  ${url.toString()}`);
            await delay(1000 * duration);
            return fetch_retry(url, options, timeout, retries, count + 1);
        }
    }
}
async function request(url, options = {}) {
    const { queries, headers: _headers, body, type = 'application/json', encoding, timeout = 5 * 1000, auth, cors, raw = false, full = false, credentials = 'include', } = options;
    let { method, retries, } = options;
    url = new URL(url, location.href);
    if (queries)
        for (const key in queries) {
            let value = queries[key];
            if (typeof value === 'boolean')
                value = value ? '1' : '0';
            url.searchParams.append(key, value);
        }
    if (body !== undefined && !method)
        method = 'POST';
    if (retries === true)
        retries = 2;
    // --- headers, http/2 开始都用小写的 headers
    let headers = new Headers();
    if (body !== undefined)
        headers.set('content-type', type);
    if (auth)
        headers.set('authorization', auth.type === 'basic' ? `Basic ${`${auth.username}:${auth.password}`.to_base64()}` : `Bearer ${auth.token}`);
    if (_headers)
        if (_headers instanceof Headers)
            // @ts-ignore: ts 类型不支持，实际上已经有了
            for (const [key, value] of _headers) {
                if (!key.startsWith(':') && !key.startsWith('sec-') && !drop_request_headers.has(key))
                    headers.set(key, value);
            }
        else
            for (const key in _headers)
                if (!key.startsWith(':') && !key.startsWith('sec-') && !drop_request_headers.has(key)) { // 可能在 http/2 的 response 中会有这样开头的保留 headers, 在透传时忽略比较好
                    assert(key === key.toLowerCase(), `传入 request 的 headers 参数中 key 应该都是小写的，实际为 ${key}`);
                    headers.set(key, _headers[key]);
                }
    let fetch_options = {
        ...method ? { method } : {},
        keepalive: true,
        redirect: 'follow',
        credentials,
        ...cors ? { mode: 'cors' } : {},
        headers,
        // --- body
        body: (() => {
            if (body === undefined)
                return;
            switch (type) {
                case 'application/json':
                    return typeof body === 'string' ||
                        ArrayBuffer.isView(body) ||
                        body instanceof ArrayBuffer ||
                        body instanceof Blob ?
                        body
                        :
                            JSON.stringify(body);
                case 'application/x-www-form-urlencoded':
                    return body instanceof URLSearchParams ? body : new URLSearchParams(body);
                case 'multipart/form-data':
                    if (body instanceof FormData)
                        return body;
                    else {
                        let form = new FormData();
                        for (const key in body) {
                            let value = body[key];
                            form.set(key, value);
                        }
                        return form;
                    }
            }
        })(),
    };
    let response;
    try {
        response = await fetch_retry(url, fetch_options, timeout, retries);
        if (!response.ok)
            throw Object.assign(new Error(t('状态码 {{status}}, 非 2xx: {{url}}', { status: response.status, url })), { name: 'StatusCodeError' });
    }
    catch (error) {
        ;
        error.url = url;
        error.options = options;
        if (response)
            error.response = {
                status: response.status,
                headers: response.headers,
                body: await response.text(),
            };
        throw error;
    }
    if (raw)
        return response;
    const body_ = await (async () => {
        if (!response.body)
            return encoding === 'binary' ? new ArrayBuffer(0) : '';
        if (encoding === 'binary')
            return response.arrayBuffer();
        else
            return response.text();
    })();
    return full ? {
        status: response.status,
        headers: response.headers,
        body: body_
    }
        :
            body_;
}
/** 发起 http 请求并将响应体作为 json 解析 */
async function request_json(url, options) {
    const resp = await request(url, options);
    if (!resp)
        return;
    try {
        return JSON.parse(resp);
    }
    catch (error) {
        console.error(resp);
        throw error;
    }
}
class WebSocketConnectionError extends Error {
    name = 'WebSocketConnectionError';
    // 这里不保留 websocket 引用，防止循环引用导致 JSON 序列化失败
    url;
    protocols;
    websocket;
    event;
    type;
    code;
    reason;
    constructor(url, protocols, event, message) {
        super(`${url}${protocols ? ' ' + protocols.join(', ').bracket() : ''} ${instance_t('连接出错了')}. ${message || ''}`);
        this.url = url;
        this.protocols = protocols;
        this.event = event;
        this.type = event.type;
        if (this.type === 'close') {
            this.code = event.code;
            this.reason = event.reason;
        }
    }
}
/** 连接 websocket url, 设置各种事件监听器。在 open 事件后 resolve, 返回 websocket
    遇到 error 时会创建 WebSocketConnectionError:
        - reject 掉返回的 promise (若此时未 settle)
        - 作为参数调用 on_error (已 settle 且有 on_error 回调)
    可以用 WebSocket.bufferedAmount 来显示大消息的发送进度
    https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/bufferedAmount
    - url
    - options:
        - protocols?
        - on_message: 根据 websocket frame 的 opcode 不同 (text frame 或 binary frame)，event 中的 data 对应为 ArrayBuffer 或者 string
          https://datatracker.ietf.org/doc/html/rfc6455#section-5.2
        - on_error?: 在 websocket 出错和非正常关闭 (close, error 事件) 时都调用，可以根据 error.type 来区分，error 的类型是 WebSocketConnectionError，
            type 为 'close' 时有 code 和 reason 属性
        - on_close?: 和 websocket 的 'close' 事件不相同，只在正常关闭 (close code 为 1000) 时才调用，否则都会调用 on_error
            https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes  */
async function connect_websocket(url, { protocols, on_message, on_error, on_close, }) {
    let websocket = new WebSocket(url, protocols);
    // https://stackoverflow.com/questions/11821096/what-is-the-difference-between-an-arraybuffer-and-a-blob/39951543
    websocket.binaryType = 'arraybuffer';
    return new Promise((resolve, reject) => {
        let settled = false;
        websocket.addEventListener('open', event => {
            console.log(websocket.url +
                (websocket.protocol ? ' ' + websocket.protocol.bracket() : '') +
                instance_t(' 已连接'));
            settled = true;
            resolve(websocket);
        });
        websocket.addEventListener('close', event => {
            if (event.code === 1000) // 正常关闭
                if (on_close)
                    on_close(event, websocket);
                else
                    console.log(`${websocket.url} ${instance_t('已正常关闭')}`);
            else { // 异常关闭，认为发生了错误，进行错误处理
                const error = new WebSocketConnectionError(websocket.url, protocols, event, `${instance_t('连接被关闭')}, code: ${event.code}${event.reason ? `, ${instance_t('原因')}: ${event.reason}` : ''}`);
                if (settled)
                    if (on_error)
                        on_error(error, websocket);
                    else // 既然用户不传 on_error, 就当 unhandled error 抛出来
                        throw error;
                else {
                    settled = true;
                    reject(error);
                }
            }
        });
        websocket.addEventListener('error', event => {
            const error = new WebSocketConnectionError(websocket.url, protocols, event);
            // https://blog.insiderattack.net/promises-next-ticks-and-immediates-nodejs-event-loop-part-3-9226cbe7a6aa
            // close 的错误信息比较多，这里延后触发 error 事件，放到微任务队列之后的 timers 队列中
            setTimeout(() => {
                if (settled)
                    if (on_error)
                        on_error(error, websocket);
                    else // 既然用户不传 on_error, 就当 unhandled error 抛出来
                        throw error;
                else {
                    settled = true;
                    reject(error);
                }
            });
        });
        websocket.addEventListener('message', event => {
            on_message(event.data, websocket);
        });
    });
}
/** 通过创建 remote 对象对 websocket rpc 进行抽象
    创建 remote 对象时传入 funcs 注册处理函数，使得对端能通过 (rpc message).func 调用
    使用 remote.handle 方法处理对端发来的 websocket message，对于 websocket 连接接收方需要手动绑定 websocket message 事件到 remote.handle
    使用 remote.call 进行一元 rpc
    使用 remote.send 结合 message.id 进行复杂 rpc
    创建后等到首个 remote.call 或 remote.send 时自动建立实际 websocket 连接
    rpc 状态与底层连接的状态无关，如果是传入 url 创建的 remote 实例，remote.send 时检测到断线会自动建立新的 websocket 连接
    
    @example
    // Zero 继承自 Remote 并通过 call 实现了一些方法
    let zero = new Zero({ local: true })
    
    // 一元 rpc
    await zero.repl_ts('1234')
    
    // 订阅流
    const id = genid()
    
    zero.handlers.set(id, ({ data: [chunk] }: Message<[Uint8Array]>) => {
        term.write(chunk)
    })
    
    zero.send({ id, func: 'subscribe_stdio' }) */
class Remote {
    /** 在构造 Remote 时, this.initiator = Boolean(url || websocket)
        - true:  作为 websocket 连接发起方
        - false: 作为 websocket 连接接收方 */
    initiator;
    /** 作为 websocket 连接发起方，对端的 url 地址 */
    url;
    /** 作为 websocket 连接发起方有 websocket lock */
    lwebsocket;
    /** websocket 连接发起方，接收方，都能被对端通过 (rpc message).func 调用的 rpc 函数 */
    funcs;
    /** map<id, message handler>: 通过 (rpc message).id 找到对应的 handler
        一元 rpc 接收方不需要设置 handlers, 发送方需要 */
    handlers = new Map();
    /** `false` 打印所有交互的 rpc messages */
    print = false;
    reconnecting = false;
    /** 使用 Uint8Array 作为参数更灵活 https://stackoverflow.com/a/74505197/7609214 */
    static parse(buffer) {
        const dv = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);
        const len_json = dv.getUint32(0, true);
        let offset = 4 + len_json;
        let message = JSON.parse(decode(buffer.subarray(4, offset)));
        if (message.bins) {
            const { bins } = message;
            let { data } = message;
            for (const ibin of bins) {
                const len_buf = data[ibin];
                data[ibin] = buffer.subarray(offset, offset + len_buf);
                offset += len_buf;
            }
        }
        if (message.error)
            message.error = Object.assign(new Error(), message.error);
        return message;
    }
    static pack({ id, func, data = [], done, error }) {
        assert('length' in data, t('message.data 必须是数组'));
        let data_ = new Array(data.length);
        let bins = [];
        let bufs = [];
        for (let i = 0; i < data.length; i++) {
            const item = data[i];
            if (item instanceof Uint8Array) {
                bins.push(i);
                bufs.push(item);
                data_[i] = item.length;
            }
            else
                data_[i] = item;
        }
        const data_json = {
            id,
            ...func ? { func } : {},
            ...done ? { done } : {},
            ...error ? { error } : {},
            ...data_.length ? { data: data_ } : {},
            ...bins.length ? { bins } : {},
        };
        // 有可能 data_json 含有循环引用导致 JSON.stringify 报错
        const str_json = encode(JSON.stringify(data_json));
        let dv = new DataView(new ArrayBuffer(4));
        dv.setUint32(0, str_json.length, true);
        return concat([dv, str_json, ...bufs]);
    }
    /** 作为 websocket 连接发起方，传入 url 或 websocket，定义远程 Remote
        作为 websocket 连接接收方，不传 url 和 websocket，定义本地 Remote */
    constructor({ url, funcs, print, websocket, on_error } = {}) {
        assert(!(url && websocket), t('构建 Remote 时 url 和 websocket 最多只能传一个'));
        this.initiator = Boolean(url || websocket);
        if (url)
            this.url = url;
        if (funcs)
            this.funcs = funcs;
        if (print !== undefined)
            this.print = print;
        if (on_error)
            this.on_error = on_error;
        if (this.initiator)
            this.lwebsocket = new Lock(websocket || null);
    }
    on_error(error, websocket) {
        throw error;
    }
    /** 幂等，保证 websocket 已连接，否则抛出异常
        一般情况不需要手动调用，在其它方法中会自动调用这个方法，除非需要手动建立 websocket 连接并确保成功
        连接断开后，通过传入 url 参数构造的 remote 实例会自动创建新的 websocket 连接，而通过传入 websocket 参数构造的实例只会检查连接状态，在断开时抛出异常
        作为 websocket 连接发起方，不需要传入 websocket
        作为 websocket 连接接收方，需要传入使用的 websocket 连接，确保这个这个连接的状态 */
    async connect(websocket) {
        if (this.initiator)
            if (this.lwebsocket.resource?.readyState === WebSocket.OPEN)
                return;
            else if (!this.url)
                throw new Error(t('创建 Remote 时传入的 websocket 连接已断开'));
            else
                // 假设有多个请求想要并发连接 websocket, 且此时 websocket 是断开的状态
                // 应该排队依次连接，而不是后续的连接直接使用第一次连接的 promise，后续调用还是应该尝试重连（不止连接一次）
                return this.lwebsocket.request(async (websocket) => {
                    // 保存的 rpc 状态在 this.handlers, 与 websocket 无关，因此即使断开重连也不影响 rpc 的运行，即
                    // 底层连接断开后自动重连对上层应该是无感知的，除非再次连接时失败
                    if (websocket?.readyState === WebSocket.OPEN)
                        return;
                    else // 重连
                        this.lwebsocket.resource = await connect_websocket(this.url, {
                            on_message: (data, websocket) => {
                                this.handle(new Uint8Array(data), websocket);
                            },
                            on_error: this.on_error.bind(this)
                        });
                });
        else if (websocket.readyState !== WebSocket.OPEN)
            throw new Error(t('传入的 websocket 连接已断开'));
    }
    /** 作为 websocket 连接发起方手动关闭到对端的 websocket 连接 */
    disconnect() {
        this.lwebsocket.resource?.close(1000);
    }
    /** 发送 message 到对端 remote
        作为 websocket 连接发起方，不需要传入 websocket
        作为 websocket 连接接收方，必传 websocket 参数
        发送或连接出错时自动清理 message.id 对应的 handler */
    async send(message, websocket) {
        assert(!message.data || message.data.every(arg => arg !== undefined), t('message.data 数组中不能有 undefined 的项, 因为 json 序列化后会变为 null'));
        if (this.print)
            console.log('remote.send:', message);
        try {
            await this.connect(websocket);
            if (!message.id)
                message.id = genid();
            (websocket || this.lwebsocket.resource).send(Remote.pack(message));
        }
        catch (error) {
            if (message.id)
                this.handlers.delete(message.id);
            throw error;
        }
    }
    /** 处理接收到的 websocket message 并解析, 根据 message.id 或 message.func 分发到对应的 handler 进行处理
        如果 message.done == true 则对端指示当前 remote 可以清理 handler
        如果 handler 返回了值 (一定是数组)，则包装为 message 发送
        使用 Uint8Array 作为参数更灵活 https://stackoverflow.com/a/74505197/7609214  */
    async handle(data, websocket) {
        const message = Remote.parse(data);
        const { id, func, done } = message;
        if (this.print)
            console.log('remote.handle:', message);
        let handler;
        if (func)
            handler = this.funcs[func];
        else {
            handler = this.handlers.get(id);
            if (done && handler)
                this.handlers.delete(id);
        }
        try {
            if (handler) {
                const data = await handler(message, websocket);
                if (data)
                    await this.send({ id, data }, websocket);
            }
            else
                throw message.error || new Error(`${t('找不到 rpc handler')}: ${func ? `func: ${func.quote()}` : `id: ${id}`}`);
        }
        catch (error) {
            // handler 出错并不意味着 rpc 一定会结束，可能 error 是运行中的正常数据，所以不能清理 handler
            if (websocket.readyState === WebSocket.OPEN &&
                !message.error // 防止无限循环往对方发送 error, 只有在对方无错误时才可以发送
            )
                await this.send({ id, error, /* 不能设置 done 清理对面 handler, 理由同上 */ }, websocket);
            throw error;
        }
    }
    /** 调用对端 remote 中的 func, 只适用于最简单的一元 rpc (请求, 响应)
        作为 websocket 连接发起方，不需要传入 websocket
        作为 websocket 连接接收方，必传 websocket 参数  */
    async call(func, args, websocket) {
        return new Promise(async (resolve, reject) => {
            const id = genid();
            this.handlers.set(id, (message) => {
                const { error, data } = message;
                if (error)
                    reject(error);
                else
                    resolve(data);
                this.handlers.delete(id);
            });
            try {
                await this.send({ id, func, data: args }, websocket); // 不需要 done: true, 因为对面的 remote.handlers 中不会有这个 id 的 handler
            }
            catch (error) {
                reject(error);
            }
        });
    }
    /** 是幂等的，在未连接，或 (on_error) 检测到连接断开后以固定间隔尝试 remote.call(func) 重连
        通常在 on_error 中和首次启动时调用
        - func?: 连接后调用的函数，通常为某个 register 函数，将自身注册到 server
        - duration?: `1000 * 30` 首次重连失败后的后续尝试间隔 (单位: ms)
        - first_delay?: `0` 调用函数后是否立即连接，还是在 first_delay 后重连 (单位: ms)
        - on_error?: 接收每次尝试连接的错误 */
    async start_reconnecting({ func, args, interval = 1000 * 10, first_delay = 0, on_error, } = {}) {
        assert(this.url);
        if (this.reconnecting)
            return;
        this.reconnecting = true;
        if (first_delay)
            await delay(first_delay);
        for (;;) {
            if (this.lwebsocket.resource?.readyState !== WebSocket.OPEN)
                try {
                    if (func)
                        await this.call(func, args);
                    else
                        await this.connect();
                    this.reconnecting = false;
                    break;
                }
                catch (error) {
                    on_error?.(error);
                }
            else {
                this.reconnecting = false;
                break;
            }
            await delay(interval);
        }
    }
}
//# sourceMappingURL=net.browser.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/i18n/dict.json
const dolphindb_i18n_dict_namespaceObject = /*#__PURE__*/JSON.parse('{"暂时不支持序列化":{"en":"serialization is not currently supported"},"不能自动转换 {{type}} 至 DdbObj":{"en":"cannot automatically convert {{type}} to DdbObj"},"form 必须是 DdbForm.table, 否则不能 to_rows":{"en":"form must be DdbForm.table, otherwise it cannot to_rows"},"this.form 必须是 DdbForm.dict, 否则不能调用 to_dict 转换为 js object":{"en":"this.form must be DdbForm.dict, otherwise to_dict cannot be called to convert to js object"},"当前只支持自动转换 dict<string, any | ...dictables> 为 js object":{"en":"currently api only supports automatic conversion of dict<string, any | ...dictables> to js object"},"deep = true 时必须设置 strip = true":{"en":"strip = true must be set when deep = true"},"timestamp 字符串长度必须等于格式串长度":{"en":"the length of the timestamp string must be equal to the length of the format string"},"格式串必须包含秒的格式 (ss)":{"en":"the format string must contain the format for seconds (ss)"},"格式串必须包含纳秒的格式 (SSSSSSSSS)":{"en":"format string must contain nanosecond format (SSSSSSSSS)"},"nanotimestamp 字符串长度必须等于格式串长度":{"en":"nanotimestamp string length must be equal to format string length"},"指定 node 时必须设置 func_type":{"en":"func_type must be set when specifying node"},"variable 指令参数不能为空且参数名不能为空，且数量应该匹配":{"en":"variable command parameter cannot be empty and parameter name cannot be empty, and the number should match"},"session id 从 {{sid}} 变为 {{sid_}}":{"en":"session id changed from {{sid}} to {{sid_}}"},"订阅流表成功:":{"en":"subscribed to streaming table:"},"vector {{type}} 暂不支持序列化":{"en":"vector {{type}} serialization is not currently supported"},"form 必须是 DdbForm.table, 否则不能 to_cols":{"en":"form must be DdbForm.table, otherwise it cannot to_cols"},"这是在调用 this.rpc 之前默认的 on_message, 不应该被调用到，除非建立连接后 server 先推送了 message":{"en":"This is the default on_message before calling this.rpc, it should not be called unless the server pushes the message first after the connection is established"}," 暂时不支持解析":{"en":" parsing is currently not supported"},"array vector 存在非法 unit: {{unit}}":{"en":"array vector has invalid unit: {{unit}}"}," 暂时不支持序列化":{"en":" serialization is currently not supported"},"print 消息的 buffer 应该以 \\\\0 结束":{"en":"The buffer of the print message should end with \\\\0"},"print 消息的 buffer 中间不应该有 \\\\0":{"en":"There should not be \\\\0 in the buffer of the print message"},"已断开":{"en":"is already disconnected"},"连接出错了，可能由于网络原因连接已被关闭，或服务器断开连接":{"en":"connection errored. The connection may have been closed due to network reasons, or the server disconnected"},"new DdbBlob 不能传空的 value":{"en":"new DdbBlob cannot pass an empty value"},"{{form}}<{{type}}> 暂时不支持解析":{"en":"cannot parse {{form}}<{{type}}>"},"流数据订阅后一定先返回 schema":{"en":"After subscribing to streaming data, the schema must be returned first."},"{{form}} {{type}} 暂不支持 data()":{"en":"{{form}} {{type}} does not support data() yet"}," 暂时不支持转换为 js 对象":{"en":" conversion to js object is not supported at the moment"}}');
;// CONCATENATED MODULE: ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/i18n/index.js


let i18n_i18n = new I18N(dolphindb_i18n_dict_namespaceObject);
const { t: i18n_t, language: i18n_language } = i18n_i18n;

//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/browser.js


external_dayjs_namespaceObject.extend(customParseFormat);

const { fromByteArray: buf2ipaddr } = ipaddr;





const nulls = {
    int8: -0x80, // -128
    int16: -0x80_00, // -32768
    int32: -0x80_00_00_00, // -21_4748_3648
    int64: -0x8000000000000000n, // -922_3372_0368_5477_5808
    int128: -0x80000000000000000000000000000000n, // -170_1411_8346_0469_2317_3168_7303_7158_8410_5728
    float32: -3.4028234663852886e+38,
    /** -Number.MAX_VALUE */
    double: -Number.MAX_VALUE,
    bytes16: Uint8Array.from(new Array(16).fill(0))
};
var browser_DdbForm;
(function (DdbForm) {
    DdbForm[DdbForm["scalar"] = 0] = "scalar";
    DdbForm[DdbForm["vector"] = 1] = "vector";
    DdbForm[DdbForm["pair"] = 2] = "pair";
    DdbForm[DdbForm["matrix"] = 3] = "matrix";
    DdbForm[DdbForm["set"] = 4] = "set";
    DdbForm[DdbForm["dict"] = 5] = "dict";
    DdbForm[DdbForm["table"] = 6] = "table";
    DdbForm[DdbForm["chart"] = 7] = "chart";
    /** 节点内部通信可能会使用，调用函数执行脚本一般不会返回这种类型 */
    DdbForm[DdbForm["chunk"] = 8] = "chunk";
    /** sysobj */
    DdbForm[DdbForm["object"] = 9] = "object";
})(browser_DdbForm || (browser_DdbForm = {}));
/** DolphinDB DataType
    对应的 array vector 类型为 64 + 基本类型
    对应的 extended 类型为 128 + 基本类型 */
var browser_DdbType;
(function (DdbType) {
    DdbType[DdbType["void"] = 0] = "void";
    DdbType[DdbType["bool"] = 1] = "bool";
    DdbType[DdbType["char"] = 2] = "char";
    DdbType[DdbType["short"] = 3] = "short";
    DdbType[DdbType["int"] = 4] = "int";
    DdbType[DdbType["long"] = 5] = "long";
    DdbType[DdbType["date"] = 6] = "date";
    DdbType[DdbType["month"] = 7] = "month";
    DdbType[DdbType["time"] = 8] = "time";
    DdbType[DdbType["minute"] = 9] = "minute";
    DdbType[DdbType["second"] = 10] = "second";
    DdbType[DdbType["datetime"] = 11] = "datetime";
    DdbType[DdbType["timestamp"] = 12] = "timestamp";
    DdbType[DdbType["nanotime"] = 13] = "nanotime";
    DdbType[DdbType["nanotimestamp"] = 14] = "nanotimestamp";
    DdbType[DdbType["float"] = 15] = "float";
    DdbType[DdbType["double"] = 16] = "double";
    DdbType[DdbType["symbol"] = 17] = "symbol";
    DdbType[DdbType["string"] = 18] = "string";
    DdbType[DdbType["uuid"] = 19] = "uuid";
    DdbType[DdbType["functiondef"] = 20] = "functiondef";
    DdbType[DdbType["handle"] = 21] = "handle";
    DdbType[DdbType["code"] = 22] = "code";
    DdbType[DdbType["datasource"] = 23] = "datasource";
    DdbType[DdbType["resource"] = 24] = "resource";
    DdbType[DdbType["any"] = 25] = "any";
    DdbType[DdbType["compressed"] = 26] = "compressed";
    DdbType[DdbType["dict"] = 27] = "dict";
    DdbType[DdbType["datehour"] = 28] = "datehour";
    DdbType[DdbType["ipaddr"] = 30] = "ipaddr";
    DdbType[DdbType["int128"] = 31] = "int128";
    DdbType[DdbType["blob"] = 32] = "blob";
    DdbType[DdbType["complex"] = 34] = "complex";
    DdbType[DdbType["point"] = 35] = "point";
    DdbType[DdbType["duration"] = 36] = "duration";
    DdbType[DdbType["decimal32"] = 37] = "decimal32";
    DdbType[DdbType["decimal64"] = 38] = "decimal64";
    DdbType[DdbType["decimal128"] = 39] = "decimal128";
    DdbType[DdbType["object"] = 40] = "object";
    DdbType[DdbType["pynone"] = 41] = "pynone";
    DdbType[DdbType["symbol_extended"] = 145] = "symbol_extended";
})(browser_DdbType || (browser_DdbType = {}));
var DdbFunctionType;
(function (DdbFunctionType) {
    DdbFunctionType[DdbFunctionType["SystemFunc"] = 0] = "SystemFunc";
    DdbFunctionType[DdbFunctionType["SystemProc"] = 1] = "SystemProc";
    DdbFunctionType[DdbFunctionType["OperatorFunc"] = 2] = "OperatorFunc";
    DdbFunctionType[DdbFunctionType["UserDefinedFunc"] = 3] = "UserDefinedFunc";
    DdbFunctionType[DdbFunctionType["PartialFunc"] = 4] = "PartialFunc";
    DdbFunctionType[DdbFunctionType["DynamicFunc"] = 5] = "DynamicFunc";
    DdbFunctionType[DdbFunctionType["PiecewiseFunc"] = 6] = "PiecewiseFunc";
    DdbFunctionType[DdbFunctionType["JitFunc"] = 7] = "JitFunc";
    DdbFunctionType[DdbFunctionType["JitPartialFunc"] = 8] = "JitPartialFunc";
})(DdbFunctionType || (DdbFunctionType = {}));
var DdbDurationUnit;
(function (DdbDurationUnit) {
    DdbDurationUnit[DdbDurationUnit["ns"] = 0] = "ns";
    DdbDurationUnit[DdbDurationUnit["us"] = 1] = "us";
    DdbDurationUnit[DdbDurationUnit["ms"] = 2] = "ms";
    DdbDurationUnit[DdbDurationUnit["s"] = 3] = "s";
    DdbDurationUnit[DdbDurationUnit["m"] = 4] = "m";
    DdbDurationUnit[DdbDurationUnit["H"] = 5] = "H";
    DdbDurationUnit[DdbDurationUnit["d"] = 6] = "d";
    DdbDurationUnit[DdbDurationUnit["w"] = 7] = "w";
    DdbDurationUnit[DdbDurationUnit["M"] = 8] = "M";
    DdbDurationUnit[DdbDurationUnit["y"] = 9] = "y";
    DdbDurationUnit[DdbDurationUnit["B"] = 10] = "B";
})(DdbDurationUnit || (DdbDurationUnit = {}));
var DdbChartType;
(function (DdbChartType) {
    DdbChartType[DdbChartType["area"] = 0] = "area";
    DdbChartType[DdbChartType["bar"] = 1] = "bar";
    DdbChartType[DdbChartType["column"] = 2] = "column";
    DdbChartType[DdbChartType["histogram"] = 3] = "histogram";
    DdbChartType[DdbChartType["line"] = 4] = "line";
    DdbChartType[DdbChartType["pie"] = 5] = "pie";
    DdbChartType[DdbChartType["scatter"] = 6] = "scatter";
    DdbChartType[DdbChartType["trend"] = 7] = "trend";
    DdbChartType[DdbChartType["kline"] = 8] = "kline";
})(DdbChartType || (DdbChartType = {}));
// server 实现中区分了 0: NULL (nothing), 1: NULL (null), 2: DFLT (default)
// Void::serialize()
//     (isNothing() ? 0 : 1) + (isDefault_ ? 2 : 0);
var DdbVoidType;
(function (DdbVoidType) {
    DdbVoidType[DdbVoidType["undefined"] = 0] = "undefined";
    DdbVoidType[DdbVoidType["null"] = 1] = "null";
    DdbVoidType[DdbVoidType["default"] = 2] = "default";
})(DdbVoidType || (DdbVoidType = {}));
const dictables = new Set([browser_DdbType.any, browser_DdbType.string, browser_DdbType.double, browser_DdbType.float, browser_DdbType.int, browser_DdbType.long]);
/** 可以表示所有 DolphinDB 数据库中的数据类型  Can represent data types in all DolphinDB databases */
class DdbObj {
    static dec = new TextDecoder('utf-8');
    static enc = new TextEncoder();
    /** 维护已解析的 symbol base，比如流数据中后续的 symbol 向量可能只发送一个 base.id, base.size == 0, 依赖之前发送的 symbol base ？
        只是暂存，如果一张表有多个 symbol 列，可能这个 symbol base 会被复用，不同的对象之间 symbol base 一般不复用
    */
    static symbol_bases = {};
    /** little endian (client) */
    static le_client = Boolean(new Uint8Array(Uint32Array.of(1).buffer)[0]);
    /** 是否为小端 (little endian) */
    le = DdbObj.le_client;
    /** 数据形式 https://www.dolphindb.cn/cn/help/DataTypesandStructures/DataForms/index.html */
    form;
    /** 数据类型 https://www.dolphindb.cn/cn/help/DataTypesandStructures/DataTypes/index.html */
    type;
    /** 占用 parse 时传入的 buf 的长度 */
    length;
    /** table name / column name */
    name;
    /** 最低维、第 1 维
        - vector: rows = n, cols = 1
        - pair:   rows = 2, cols = 1
        - matrix: rows = n, cols = m
        - set:    同 vector
        - dict:   包含 keys, values 向量
        - table:  同 matrix */
    rows;
    /** 第 2 维 */
    cols;
    /** 实际数据。不同的 DdbForm, DdbType 使用 DdbValue 中不同的类型来表示实际数据
        The actual data. Different DdbForm, DdbType use different types in DdbValue to represent actual data */
    value;
    /** 原始二进制数据，仅在 parse_object 为 false 时通过 parse_message 生成的顶层对象有这个属性 */
    buffer;
    constructor(data) {
        Object.assign(this, data);
    }
    static parse(buf, le) {
        if (!buf.length)
            return new this({
                le,
                form: browser_DdbForm.scalar,
                type: browser_DdbType.void,
                length: 0,
                value: null
            });
        const type = buf[0];
        const form = buf[1];
        if (buf.length <= 2)
            return new this({
                le,
                form,
                type,
                length: 2,
                value: null,
            });
        // set 里面 data 嵌套了一个 vector, 跳过 vector 的 type 和 form
        const i_data = form === browser_DdbForm.set ? 4 : 2;
        const buf_data = buf.subarray(i_data);
        switch (form) {
            case browser_DdbForm.scalar: {
                const [length, value] = this.parse_scalar(buf_data, le, type);
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + length,
                    value,
                });
            }
            case browser_DdbForm.vector:
            case browser_DdbForm.pair:
            case browser_DdbForm.set: {
                let vector = this.parse_vector(buf_data, le, type);
                vector.length += i_data;
                vector.form = form;
                return vector;
            }
            case browser_DdbForm.table: {
                // table([
                //     [1, 2] as a,
                //     [1, 2] as b
                // ])
                // <Buffer 
                // 00 06 form = table
                // 02 00 00 00 02 00 00 00 rows = 2, cols = 2
                // 00 行名称
                // 61 00 62 00 列名称 a, b
                // 04 01 form = vector, type = int
                // 02 00 00 00 01 00 00 00 cols = 2, rows = 1
                // 01 00 00 00 02 00 00 00 
                // 04 01 
                // 02 00 00 00 01 00 00 00 
                // 01 00 00 00 02 00 00 00>
                const dv = new DataView(buf.buffer, buf.byteOffset + i_data);
                const rows = dv.getUint32(0, le);
                const cols = dv.getUint32(4, le);
                const i_name_tail = buf_data.indexOf(0, 8);
                const name = this.dec.decode(buf_data.subarray(8, i_name_tail));
                const i_items_start = i_name_tail + 1;
                const [len_items, colnames] = this.parse_vector_items(buf_data.subarray(i_items_start), le, browser_DdbType.string, cols);
                let value = new Array(cols);
                let i_start = i_items_start + len_items;
                for (let i = 0; i < cols; i++) {
                    const type = buf_data[i_start];
                    if (type === browser_DdbType.compressed)
                        throw new Error(i18n_t('{{form}}<{{type}}> 暂时不支持解析', { form: 'table', type: 'compress' }));
                    let col = this.parse_vector(buf_data.subarray(i_start + 2), le, type);
                    col.length += 2;
                    col.name = colnames[i];
                    value[i] = col;
                    i_start += col.length;
                }
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + i_start,
                    name,
                    rows,
                    cols,
                    value,
                });
            }
            case browser_DdbForm.dict:
            case browser_DdbForm.chart: {
                // <Buffer 19 05 type = any, form = dict
                // 12 01 keys.type = string, keys.form = vector
                // 03 00 00 00 01 00 00 00 keys.cols = 3, keys.rows = 1
                // 63 00 62 00 61 00 
                // 19 01 values.type = any, values.form = vector
                // 03 00 00 00 01 00 00 00 values.cols = 3, values.rows = 1
                // 04 00 03 00 00 00 04 00 02 00 00 00 04 00 01 00 00 00>
                let keys = this.parse_vector(buf_data.subarray(2), le, buf_data[0]);
                keys.length += 2;
                let values = this.parse_vector(buf_data.subarray(keys.length + 2), le, buf_data[keys.length]);
                values.length += 2;
                let dict = new this({
                    le,
                    form: browser_DdbForm.dict,
                    type,
                    length: i_data + keys.length + values.length,
                    rows: keys.rows,
                    cols: 2,
                    value: [
                        keys,
                        values
                    ],
                });
                if (form === browser_DdbForm.dict)
                    return dict;
                else {
                    const { chartType: type, stacking, binStart: bin_start, binEnd: bin_end, binCount: bin_count, title: titles, extras, data, ...others } = dict.to_dict();
                    const [chart, x_axis, y_axis] = titles.value;
                    dict.form = browser_DdbForm.chart;
                    dict.value = {
                        type: type.value,
                        stacking: stacking.value,
                        titles: {
                            chart,
                            x_axis,
                            y_axis,
                        },
                        ...bin_start ? { bin_start, bin_end, } : {},
                        ...bin_count ? { bin_count } : {},
                        ...extras ? (() => {
                            const { multiYAxes: multi_y_axes = false, ...extras_others } = extras.to_dict({ strip: true });
                            return {
                                extras: {
                                    multi_y_axes,
                                    ...extras_others,
                                }
                            };
                        })() : {},
                        data,
                        ...others,
                    };
                    return dict;
                }
            }
            case browser_DdbForm.matrix: {
                // rename!(
                //     1..9$3:3,
                //     [1, 2, 3],
                //     ['c1', 'c2', 'c3']
                // )
                // <Buffer 04 03 type = int, form = matrix
                // 03 has_row_label (& 0x01) = 1, has_col_label (& 0x02) = 1
                // row labels
                // 04 01 type = int, form = vector
                // 03 00 00 00 01 00 00 00 rows = 3, cols = 1
                // 01 00 00 00 02 00 00 00 03 00 00 00 vector values
                // col labels
                // 12 01 type = string, form = vector
                // 03 00 00 00 01 00 00 00 rows = 3, cols = 1
                // 63 31 00 63 32 00 63 33 00 
                // matrix data
                // 04 03 type = matrix.type, form = matrix
                // 03 00 00 00 03 00 00 00 rows = 3, cols = 3
                const dv = new DataView(buf.buffer, buf.byteOffset + i_data);
                const label_flags = buf_data[0];
                const has_row_labels = Boolean(label_flags & 0x01);
                const has_col_labels = Boolean(label_flags & 0x02);
                let row_labels = null;
                let col_labels = null;
                let offset = 1;
                if (has_row_labels) {
                    row_labels = this.parse_vector(buf_data.subarray(offset + 2), le, buf_data[offset]);
                    row_labels.length += 2;
                    offset += row_labels.length;
                }
                if (has_col_labels) {
                    col_labels = this.parse_vector(buf_data.subarray(offset + 2), le, buf_data[offset]);
                    col_labels.length += 2;
                    offset += col_labels.length;
                }
                utils_browser_assert(buf_data[offset] === type, 'matrix.datatype === matrix.type');
                const rows = dv.getUint32(offset + 2, le);
                const cols = dv.getUint32(offset + 6, le);
                const [len_items, data] = this.parse_vector_items(buf_data.subarray(offset + 10), le, type, rows * cols // 假设小于 2**32
                );
                offset += 10 + len_items;
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + offset,
                    rows,
                    cols,
                    value: {
                        rows: row_labels,
                        cols: col_labels,
                        data,
                    },
                });
            }
            default:
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + buf_data.length,
                    value: buf_data
                });
        }
    }
    static parse_scalar(buf, le, type) {
        switch (type) {
            case browser_DdbType.bool: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt8(0);
                return [1, value === nulls.int8 ? null : Boolean(value)];
            }
            case browser_DdbType.void:
            case browser_DdbType.char: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt8(0);
                return [1, value === nulls.int8 ? null : value];
            }
            case browser_DdbType.short: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt16(0, le);
                return [2, value === nulls.int16 ? null : value];
            }
            case browser_DdbType.int:
            // datetime
            case browser_DdbType.date:
            case browser_DdbType.month:
            case browser_DdbType.time:
            case browser_DdbType.minute:
            case browser_DdbType.second:
            case browser_DdbType.datetime:
            case browser_DdbType.datehour: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt32(0, le);
                return [4, value === nulls.int32 ? null : value];
            }
            case browser_DdbType.float: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getFloat32(0, le);
                return [4, value === nulls.float32 ? null : value];
            }
            case browser_DdbType.double: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getFloat64(0, le);
                return [8, value === nulls.double ? null : value];
            }
            case browser_DdbType.long:
            // timestamp
            case browser_DdbType.timestamp:
            case browser_DdbType.nanotime:
            case browser_DdbType.nanotimestamp: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getBigInt64(0, le);
                return [8, value === nulls.int64 ? null : value];
            }
            case browser_DdbType.string:
            case browser_DdbType.symbol:
            case browser_DdbType.code:
            case browser_DdbType.handle:
            // sqlDS 函数会返回包含 datasource 的 any vector
            case browser_DdbType.datasource:
            case browser_DdbType.functiondef:
            // mysql 插件 connect 方法会返回 resource 类型的对象
            case browser_DdbType.resource: {
                const i_head = type === browser_DdbType.functiondef ? 1 : 0;
                let i_zero = buf.indexOf(0, i_head);
                let i_end; // 整个字符串（包括 0）的末尾，excluding
                if (i_zero === -1)
                    i_end = i_zero = buf.length;
                else
                    i_end = i_zero + 1;
                // 调整了 i_zero 到字符串（不包括 0）的末尾，excluding
                const str = this.dec.decode(buf.subarray(i_head, i_zero));
                return [
                    i_end,
                    type === browser_DdbType.functiondef ?
                        {
                            type: buf[0],
                            name: str
                        }
                        :
                            str
                ];
            }
            case browser_DdbType.uuid:
            case browser_DdbType.ipaddr:
            case browser_DdbType.int128:
                return [16, buf.slice(0, 16)];
            case browser_DdbType.blob: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const length = dv.getUint32(0, le);
                return [4 + length, buf.slice(4, 4 + length)];
            }
            case browser_DdbType.complex:
            case browser_DdbType.point: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [16, [dv.getFloat64(0, le), dv.getFloat64(8, le)]];
            }
            case browser_DdbType.duration: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [8, { unit: dv.getUint32(4, le), data: dv.getInt32(0, le) }];
            }
            case browser_DdbType.decimal32: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const data = dv.getInt32(4, le);
                return [8, { scale: dv.getInt32(0, le), data: data === nulls.int32 ? null : data }];
            }
            case browser_DdbType.decimal64: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const data = dv.getBigInt64(4, le);
                return [12, { scale: dv.getInt32(0, le), data: data === nulls.int64 ? null : data }];
            }
            case browser_DdbType.decimal128: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const data = get_big_int_128(dv, 4, le);
                return [20, { scale: dv.getInt32(0, le), data: data === nulls.int128 ? null : data }];
            }
            default:
                throw new Error(String(browser_DdbType[type] || type) + i18n_t(' 暂时不支持解析'));
        }
    }
    /** parse: rows, cols, items
        返回的 ddbobj.length 不包括 vector 的 type 和 form */
    static parse_vector(buf, le, type) {
        const dv = new DataView(buf.buffer, buf.byteOffset);
        const rows = dv.getUint32(0, le);
        let i_items_start = 8;
        if (type < 64 || type >= 128) { // 普通数组
            const [len_items, value] = this.parse_vector_items(buf.subarray(i_items_start), le, type, rows);
            return new this({
                le,
                form: browser_DdbForm.vector,
                type,
                length: i_items_start + len_items,
                cols: 1,
                rows,
                value,
            });
        }
        else { // array vector
            // av = array(INT[], 0, 3)
            // append!(av, [1..4])
            // append!(av, [1..70000])
            // av
            // <Buffer 44 01  type = array vector, form = vector
            // 02 00 00 00 74 11 01 00 rows = 2, cols = 70004 (0x011174)
            // block 0
            // 01 00 block.rows = 1
            // 04 block.unit = 4
            // 00 reserved
            // 04 00 00 00 block.lengths = [4]
            // 01 00 00 00 02 00 00 00 03 00 00 00 04 00 00 00 block.data
            // block 1
            // 01 00 block.rows = 1
            // 04 block.unit = 4
            // 00 reserved
            // 70 11 01 00 block.lengths = [70000 (0x00011170)]
            // 01 00 00 00 02 00 00 00 ... 279992 more bytes> block.data
            // decimal array vector
            // a = array(DECIMAL32(2)[], 0, 10)
            // append!(a, [
            //     [1, 2, 3], 
            //     [4, 5], 
            //     [6, 7, 8],
            //     [9, 10]
            // ])
            // print(a)
            // a
            // [[1.00,2.00,3.00],[4.00,5.00],[6.00,7.00,8.00],[9.00,10.00]]
            // <Buffer 65 01 type = 101 = 64 + 37 (decimal32) , form = vector
            // 04 00 00 00 0a 00 00 00 rows = 4, cols = 10
            // scale (只有 decimal32 才有)
            // 02 00 00 00 scale = 2
            // block 0
            // 04 00 block.rows = 4
            // 01 block.unit = 1
            // 00 reserved
            // 03 02 03 02 block.lengths = [3, 2, 3, 2]
            // 64 00 00 00 c8 00 00 00 2c 01 00 00 90 01 00 00 f4 01 00 00 58 02 00 00 bc 02 00 00 ... 12 more bytes> [100, 200, 300, ...]
            // block 1
            // ...
            const type_ = type - 64;
            const cols = dv.getUint32(4, le);
            let blocks = [];
            // decimal 会在所有 blocks 之前多一个 scale
            if (is_decimal_type(type_)) {
                blocks.scale = dv.getInt32(i_items_start, le);
                i_items_start += 4;
            }
            let i_block_start = i_items_start;
            // 解析一个 block
            for (let i_row = 0; i_row < rows;) {
                /** 对应 array vector 中元素个数 */
                const rows = dv.getUint16(i_block_start, le);
                /** 每个 length 占用的字节数 */
                const unit = dv.getUint8(i_block_start + 2);
                /** array vector 每个元素的子元素长度 */
                let lengths;
                const i_lengths_start = i_block_start + 4;
                const i_data_start = i_lengths_start + rows * unit;
                const lengths_buf = buf.slice(i_lengths_start, i_data_start);
                switch (unit) {
                    case 1:
                        lengths = lengths_buf;
                        break;
                    case 2:
                        lengths = new Uint16Array(lengths_buf.buffer);
                        break;
                    case 4:
                        lengths = new Uint32Array(lengths_buf.buffer);
                        break;
                    default:
                        throw new Error(i18n_t('array vector 存在非法 unit: {{unit}}', { unit }));
                }
                let total_length = 0;
                for (const x of lengths)
                    total_length += x;
                let len_items;
                let data;
                switch (type_) {
                    case browser_DdbType.decimal32:
                        len_items = total_length * 4;
                        data = new Int32Array(buf.buffer.slice(buf.byteOffset + i_data_start, buf.byteOffset + i_data_start + len_items));
                        break;
                    case browser_DdbType.decimal64:
                        len_items = total_length * 8;
                        data = new BigInt64Array(buf.buffer.slice(buf.byteOffset + i_data_start, buf.byteOffset + i_data_start + len_items));
                        break;
                    case browser_DdbType.decimal128:
                        len_items = total_length * 16;
                        data = new BigInt128Array(buf.buffer.slice(buf.byteOffset + i_data_start, buf.byteOffset + i_data_start + len_items));
                        break;
                    default:
                        [len_items, data] = this.parse_vector_items(buf.subarray(i_data_start), le, type - 64, total_length);
                }
                blocks.push({
                    unit,
                    rows,
                    lengths,
                    data: data
                });
                i_block_start = i_data_start + len_items;
                i_row += rows;
            }
            return new this({
                le,
                form: browser_DdbForm.vector,
                type,
                length: i_block_start,
                cols,
                rows,
                value: blocks
            });
        }
    }
    /** 有可能没有字节对齐，不能直接使用原有 message 的 arraybuffer, 统一复制出来，让原有 arraybuffer 被回收掉比较好 */
    static parse_vector_items(buf, le, type, length) {
        switch (type) {
            case browser_DdbType.void:
                return [0, null];
            case browser_DdbType.bool:
            case browser_DdbType.char:
                return [
                    length,
                    new Int8Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + length))
                ];
            case browser_DdbType.short:
                return [
                    2 * length,
                    new Int16Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 2 * length))
                ];
            case browser_DdbType.int:
            // datetime
            case browser_DdbType.date:
            case browser_DdbType.month:
            case browser_DdbType.time:
            case browser_DdbType.minute:
            case browser_DdbType.second:
            case browser_DdbType.datetime:
            case browser_DdbType.datehour:
                return [
                    4 * length,
                    new Int32Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 4 * length))
                ];
            case browser_DdbType.float:
                return [
                    4 * length,
                    new Float32Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 4 * length))
                ];
            case browser_DdbType.double:
                return [
                    8 * length,
                    new Float64Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 8 * length))
                ];
            case browser_DdbType.long:
            // timestamp
            case browser_DdbType.timestamp:
            case browser_DdbType.nanotime:
            case browser_DdbType.nanotimestamp:
                return [
                    8 * length,
                    new BigInt64Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 8 * length))
                ];
            case browser_DdbType.string:
            case browser_DdbType.symbol:
            case browser_DdbType.handle:
            case browser_DdbType.datasource:
            case browser_DdbType.code: {
                let value = new Array(length);
                let i_head = 0, i_tail = i_head;
                for (let i = 0; i < length; i++) {
                    i_tail = buf.indexOf(0, i_head);
                    value[i] = this.dec.decode(buf.subarray(i_head, i_tail));
                    i_head = i_tail + 1;
                }
                return [i_head, value];
            }
            case browser_DdbType.symbol_extended: {
                // <Buffer 91 01 type = symbol extended, form = vector
                // 05 00 00 00 01 00 00 00 row = 5, col = 1
                // buf:
                // 00 00 00 00 symbol base id = 0 (uint32)
                // 02 00 00 00 symbol base size = 2
                // 00 61 61 00 以 \0 分割的字符串
                // 01 00 00 00 01 00 00 00 01 00 00 00 01 00 00 00 01 00 00 00>
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const base_id = dv.getUint32(0, le);
                const base_size = dv.getUint32(4, le);
                let base_length = 0;
                let base = this.symbol_bases[base_id];
                // base_size 为 0 时复用之前的 symbol base
                if (base_size) {
                    [base_length, base] = this.parse_vector_items(buf.subarray(8), le, browser_DdbType.string, base_size);
                    this.symbol_bases[base_id] = base;
                }
                const value_start = 8 + base_length;
                const value_end = value_start + length * 4;
                const data = new Uint32Array(buf.buffer.slice(buf.byteOffset + value_start, buf.byteOffset + value_end));
                return [
                    value_end,
                    {
                        base_id,
                        base,
                        data
                    }
                ];
            }
            case browser_DdbType.uuid:
            case browser_DdbType.ipaddr:
            case browser_DdbType.int128:
                return [
                    16 * length,
                    new Uint8Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 16 * length))
                ];
            case browser_DdbType.blob: {
                // <Buffer 20 01 type = blob, form = vector
                // 02 00 00 00 01 00 00 00 cols = 2, rows = 1
                // 04 00 00 00 61 62 63 64 
                // 04 00 00 00 61 62 63 64>
                let value = new Array(length);
                const dv = new DataView(buf.buffer, buf.byteOffset);
                let i_head = 0;
                for (let i = 0; i < length; i++) {
                    const sublen = dv.getUint32(i_head, le);
                    const i_blob_head = i_head + 4;
                    const i_blob_tail = i_blob_head + sublen;
                    value[i] = buf.slice(i_blob_head, i_blob_tail);
                    i_head = i_blob_tail;
                }
                return [i_head, value];
            }
            case browser_DdbType.complex:
            case browser_DdbType.point:
                return [
                    16 * length,
                    new Float64Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 16 * length))
                ];
            case browser_DdbType.any: {
                // [1, 2, 'a', 'aaa']
                // any[4](<Buffer 
                // 04 00 DdbType.int, DdbForm.scalar
                // 01 00 00 00 
                // 04 00 DdbType.int, DdbForm.scalar
                // 02 00 00 00 
                // 02 00 DdbType.char, DdbForm.scalar
                // 61 
                // 12 00 DdbType.string, DdbForm.scalar
                // 61 61 61 00>)
                let values = new Array(length);
                let i_head = 0;
                for (let i = 0; i < length; i++) {
                    const obj = this.parse(buf.subarray(i_head), le);
                    values[i] = obj;
                    i_head += obj.length;
                }
                return [
                    i_head,
                    values
                ];
            }
            // 25 01 type = decimal32, form = vector
            // 02 00 00 00 01 00 00 00
            // 00 00 00 00 scale = 0
            // 01 00 00 00 data[0] = 1
            // 3a 01 00 00 data[1] = 0x013a = 314
            case browser_DdbType.decimal32: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [
                    4 + 4 * length,
                    {
                        scale: dv.getInt32(0, le),
                        data: new Int32Array(buf.buffer.slice(buf.byteOffset + 4, buf.byteOffset + 4 + 4 * length))
                    }
                ];
            }
            case browser_DdbType.decimal64: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [
                    4 + 8 * length,
                    {
                        scale: dv.getInt32(0, le),
                        data: new BigInt64Array(buf.buffer.slice(buf.byteOffset + 4, buf.byteOffset + 4 + 8 * length))
                    }
                ];
            }
            case browser_DdbType.decimal128: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [
                    4 + 16 * length,
                    {
                        scale: dv.getInt32(0, le),
                        data: new BigInt128Array(buf.buffer.slice(buf.byteOffset + 4, buf.byteOffset + 4 + 16 * length))
                    }
                ];
            }
            // 以下情况时, DdbType.duration 实际会返回一个 any vector
            // [2y, 1M, 3d, 7H, 11m, 12s, 15ms, 16us, 17ns]
            // <Buffer 19 01 type = any, form = vector
            // 09 00 00 00 01 00 00 00 rows = 9, cols = 1
            // 24 00 type = DdbType.duration, form = scalar
            // 02 00 00 00 09 00 00 00 
            // 24 00 01 00 00 00 08 00 00 00 24 00 03 00 00 00 06 00 00 00 24 00 07 00 00 00 05 00 00 00 ... 50 more bytes>
            // 其余情况 (目前仅 pair) 下, 会返回特殊的 duration 序列化
            // 4 bytes data 4 bytes unit
            // 01 00 00 00 data: 1 
            // 01 00 00 00 unit: 1
            // 02 00 00 00 data: 2
            // 02 00 00 00 unit: 2
            case browser_DdbType.duration: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                let durations = [];
                for (let i = 0; i < length; i++)
                    durations.push({
                        data: dv.getInt32(0 + 8 * i, le),
                        unit: dv.getInt32(4 + 8 * i, le)
                    });
                return [8 * length, durations];
            }
            case browser_DdbType.compressed:
                return [
                    length,
                    new Uint8Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + length))
                ];
            default:
                throw new Error(i18n_t('{{form}}<{{type}}> 暂时不支持解析', { form: 'vector', type: get_type_name(type) }));
        }
    }
    pack() {
        const { form, type, value } = this;
        let header = new Uint8Array(2);
        header[0] = type;
        header[1] = form;
        const body = (() => {
            switch (form) {
                case browser_DdbForm.scalar:
                    switch (type) {
                        case browser_DdbType.void:
                            return [Uint8Array.of(Number(value))];
                        case browser_DdbType.bool:
                            return [
                                Int8Array.of(value === null ?
                                    nulls.int8
                                    :
                                        Number(value))
                            ];
                        case browser_DdbType.char:
                            return [
                                Int8Array.of((value === null ?
                                    nulls.int8
                                    :
                                        value))
                            ];
                        case browser_DdbType.short:
                            return [
                                Int16Array.of(value === null ?
                                    nulls.int16
                                    :
                                        value)
                            ];
                        case browser_DdbType.int:
                        // datetime
                        case browser_DdbType.date:
                        case browser_DdbType.month:
                        case browser_DdbType.time:
                        case browser_DdbType.minute:
                        case browser_DdbType.second:
                        case browser_DdbType.datetime:
                        case browser_DdbType.datehour:
                            return [
                                Int32Array.of(value === null ?
                                    nulls.int32
                                    :
                                        value)
                            ];
                        case browser_DdbType.float:
                            return [
                                Float32Array.of(value === null ?
                                    nulls.float32
                                    :
                                        value)
                            ];
                        case browser_DdbType.double:
                            return [
                                Float64Array.of(value === null ?
                                    nulls.double
                                    :
                                        value)
                            ];
                        case browser_DdbType.long:
                        // timestamp
                        case browser_DdbType.timestamp:
                        case browser_DdbType.nanotime:
                        case browser_DdbType.nanotimestamp:
                            return [
                                BigInt64Array.of(value === null ?
                                    nulls.int64
                                    :
                                        value)
                            ];
                        case browser_DdbType.string:
                        case browser_DdbType.symbol:
                        case browser_DdbType.code:
                        case browser_DdbType.handle:
                        case browser_DdbType.datasource:
                        case browser_DdbType.resource:
                            return [
                                DdbObj.enc.encode(value),
                                Uint8Array.of(0),
                            ];
                        case browser_DdbType.functiondef:
                            return [
                                Uint8Array.of(value.type),
                                DdbObj.enc.encode(value.name),
                                Uint8Array.of(0)
                            ];
                        case browser_DdbType.uuid:
                        case browser_DdbType.ipaddr:
                        case browser_DdbType.int128:
                            return [this.value];
                        case browser_DdbType.blob:
                            return [Uint32Array.of(this.value.byteLength), this.value];
                        case browser_DdbType.complex:
                        case browser_DdbType.point:
                            return [Float64Array.from(this.value)];
                        case browser_DdbType.duration: {
                            const { unit, data } = this.value;
                            return [Int32Array.of(data, unit)];
                        }
                        case browser_DdbType.decimal32: {
                            const { scale, data } = this.value;
                            return [Int32Array.of(scale, data === null ? nulls.int32 : data)];
                        }
                        case browser_DdbType.decimal64: {
                            const { scale, data } = this.value;
                            return [Int32Array.of(scale), BigInt64Array.of(data === null ? nulls.int64 : data)];
                        }
                        case browser_DdbType.decimal128: {
                            const { scale, data } = value;
                            return [Int32Array.of(scale), BigInt128Array.of(data === null ? nulls.int128 : data)];
                        }
                        default:
                            throw new Error(String(browser_DdbType[type] || type) + i18n_t(' 暂时不支持序列化'));
                    }
                case browser_DdbForm.vector:
                case browser_DdbForm.pair:
                    // pack array vector
                    if (form === browser_DdbForm.vector && 64 <= type && type < 128)
                        return [
                            Uint32Array.of(this.rows, this.cols),
                            ...(is_decimal_type(type - 64)) ?
                                [Int32Array.of(this.value.scale)]
                                :
                                    [],
                            ...this.value.map(block => ([
                                Uint16Array.of(block.rows),
                                Uint8Array.of(block.unit, 0),
                                block.lengths,
                                block.data
                            ])).flat()
                        ];
                    return [
                        Uint32Array.of(this.rows, 1),
                        ...DdbObj.pack_vector_body(value, type, this.rows)
                    ];
                case browser_DdbForm.set:
                    return [new DdbObj({ ...this, form: browser_DdbForm.vector }).pack()];
                case browser_DdbForm.table:
                    return [
                        Uint32Array.of(this.rows, this.cols),
                        DdbObj.enc.encode(this.name || ''),
                        // column names
                        Uint8Array.of(0),
                        ...DdbObj.pack_vector_body(this.value.map((col, i) => col.name || `col${i}`), browser_DdbType.string, this.cols),
                        // column vectors
                        ...this.value.map(col => col.pack())
                    ];
                case browser_DdbForm.dict:
                    return [value[0].pack(), value[1].pack()];
                case browser_DdbForm.chart: {
                    const { type, stacking, bin_start, bin_end, bin_count, titles: { chart, x_axis, y_axis }, extras, data } = this.value;
                    const { value: [keys, values] } = new DdbDict({
                        chartType: new DdbInt(type),
                        stacking,
                        ...bin_start ? { binStart: bin_start, binEnd: bin_end } : {},
                        ...bin_count ? { binCount: bin_count } : {},
                        title: new DdbVectorString([chart, x_axis, y_axis]),
                        ...extras ? (() => {
                            const { multi_y_axes, ...extras_other } = extras;
                            return { extras: new DdbDict({ multiYAxes: multi_y_axes, ...extras_other }) };
                        })() : {},
                        data,
                    });
                    return [keys.pack(), values.pack()];
                }
                case browser_DdbForm.matrix: {
                    const { rows, cols, data } = value;
                    return [
                        Uint8Array.of((rows ? 0x01 : 0x00) | (cols ? 0x02 : 0x00)),
                        ...rows ? [rows.pack()] : [],
                        ...cols ? [cols.pack()] : [],
                        Uint8Array.of(this.type, this.form),
                        Uint32Array.of(this.rows, this.cols),
                        ...DdbObj.pack_vector_body(data, this.type, this.rows * this.cols)
                    ];
                }
                default:
                    throw new Error(i18n_t('vector {{type}} 暂不支持序列化', { type: get_type_name(type) }));
            }
        })();
        if (!body)
            return new Uint8Array(0);
        return utils_browser_concat([header, ...body]);
    }
    static pack_vector_body(value, type, length) {
        switch (type) {
            case browser_DdbType.void:
                return [];
            case browser_DdbType.bool:
            case browser_DdbType.char:
                return [value];
            case browser_DdbType.short:
                return [value];
            case browser_DdbType.int:
            // datetime
            case browser_DdbType.date:
            case browser_DdbType.month:
            case browser_DdbType.time:
            case browser_DdbType.minute:
            case browser_DdbType.second:
            case browser_DdbType.datetime:
            case browser_DdbType.datehour:
                return [value];
            case browser_DdbType.float:
                return [value];
            case browser_DdbType.double:
                return [value];
            case browser_DdbType.long:
            // timestamp
            case browser_DdbType.timestamp:
            case browser_DdbType.nanotime:
            case browser_DdbType.nanotimestamp:
                return [value];
            case browser_DdbType.string:
            case browser_DdbType.symbol:
            case browser_DdbType.handle:
            case browser_DdbType.datasource:
            case browser_DdbType.code: {
                let bufs = new Array(length * 2);
                for (let i = 0; i < length; i++) {
                    bufs[2 * i] = this.enc.encode(value[i]);
                    bufs[2 * i + 1] = Uint8Array.of(0);
                }
                return bufs;
            }
            case browser_DdbType.uuid:
            case browser_DdbType.ipaddr:
            case browser_DdbType.int128:
            case browser_DdbType.compressed:
                return [value];
            case browser_DdbType.blob: {
                let bufs = new Array(length * 2);
                for (let i = 0; i < length; i++) {
                    const blob_value = value[i];
                    bufs[2 * i] = Uint32Array.of(blob_value.length);
                    bufs[2 * i + 1] = blob_value;
                }
                return bufs;
            }
            case browser_DdbType.complex:
            case browser_DdbType.point:
                return [value];
            case browser_DdbType.duration: {
                let bufs = new Int32Array(length * 2);
                for (let i = 0; i < length; i++) {
                    const { data, unit } = value[i];
                    bufs[2 * i] = data;
                    bufs[2 * i + 1] = unit;
                }
                return [bufs];
            }
            case browser_DdbType.any: {
                // [1, 2, 'a', 'aaa']
                // any[4](<Buffer 
                // 04 00 DdbType.int, DdbForm.scalar
                // 01 00 00 00 
                // 04 00 DdbType.int, DdbForm.scalar
                // 02 00 00 00 
                // 02 00 DdbType.char, DdbForm.scalar
                // 61 
                // 12 00 DdbType.string, DdbForm.scalar
                // 61 61 61 00>)
                let bufs = new Array(length);
                for (let i = 0; i < length; i++)
                    bufs[i] = value[i].pack();
                return bufs;
            }
            case browser_DdbType.symbol_extended: {
                const { base_id, base, data } = value;
                return [
                    Uint32Array.of(base_id || 0, base.length),
                    ...this.pack_vector_body(base, browser_DdbType.string, base.length),
                    data
                ];
            }
            case browser_DdbType.decimal32:
            case browser_DdbType.decimal64:
            case browser_DdbType.decimal128: {
                const { scale, data } = value;
                return [Int32Array.of(scale), data];
            }
            default:
                throw new Error(i18n_t('vector {{type}} 暂不支持序列化', { type: get_type_name(type) }));
        }
    }
    data(options) {
        const { form, type, value, le, rows, name } = this;
        switch (form) {
            case browser_DdbForm.scalar:
                return convert(type, value, le, options);
            case browser_DdbForm.vector:
            case browser_DdbForm.pair:
            case browser_DdbForm.set: {
                const data = converts(type, value, rows, le, options);
                return (form === browser_DdbForm.set ? new Set(data) : data);
            }
            case browser_DdbForm.table: {
                const cols = value;
                const jscols = cols.map(col => col.data(options));
                const keys = cols.map(({ name }) => name);
                return {
                    name: name || '',
                    columns: cols.map(({ name }) => name),
                    types: cols.map(({ type }) => type),
                    data: utils_browser_seq(rows, i => zip_object(keys, utils_browser_seq(cols.length, j => jscols[j][i])))
                };
            }
            case browser_DdbForm.dict: {
                const [keys, values] = value;
                return zip_object(keys.data(options), values.data(options));
            }
            case browser_DdbForm.chart:
                return value;
            case browser_DdbForm.matrix: {
                const ncolumns = this.cols;
                const { rows: _rows, cols: _cols, data } = value;
                const jsdata = converts(type, data, rows * ncolumns, le, options);
                return {
                    type,
                    nrows: rows,
                    ncolumns,
                    rows: _rows?.data(options),
                    columns: _cols?.data(options),
                    data: utils_browser_seq(rows, i => utils_browser_seq(ncolumns, j => jsdata[j * rows + i]))
                };
            }
            default:
                throw new Error(i18n_t('{{form}} {{type}} 暂不支持 data()', { form, type: get_type_name(type) }));
        }
    }
    toString(options = { nullstr: true, quote: true }) {
        const type = this.inspect_type();
        const data = (() => {
            switch (this.form) {
                case browser_DdbForm.scalar:
                    return format(this.type, this.value, this.le, options);
                case browser_DdbForm.vector:
                case browser_DdbForm.pair:
                case browser_DdbForm.set: {
                    const form = this.form;
                    function format_array(items, ellipsis) {
                        const str_items = items.join(', ') + (ellipsis ? ', ...' : '');
                        return form === browser_DdbForm.pair ?
                            str_items
                            :
                                str_items.bracket('square');
                    }
                    if (64 <= this.type && this.type < 128) { // array vector
                        // 因为 array vector 目前只支持：Logical, Integral（不包括 INT128, COMPRESS 类型）, Floating, Temporal
                        // 都对应 TypedArray 中的一格，所以直接根据 index 去取即可
                        // av = array(INT[], 0, 5)
                        // append!(av, [1..1])
                        // append!(av, [1..70000])
                        // append!(av, [1..1])
                        // append!(av, [1..500])
                        // ...
                        // av
                        const type_ = this.type - 64;
                        const limit = 10;
                        let array_items = new Array(Math.min(limit, this.rows));
                        let i_items = 0;
                        for (const { lengths, data } of this.value) {
                            let acc_len = 0;
                            for (const length of lengths) {
                                let items = new Array(Math.min(limit, length));
                                for (let i = 0; i < items.length; i++)
                                    switch (type_) {
                                        case browser_DdbType.decimal32:
                                        case browser_DdbType.decimal64:
                                        case browser_DdbType.decimal128:
                                            const x = data[acc_len + i];
                                            if (is_decimal_null_value(type_, x))
                                                items[i] = '';
                                            else {
                                                const { scale } = this.value;
                                                const s = String(x < 0 ? -x : x).padStart(scale, '0');
                                                const str = (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                                                items[i] = options.colors ? green(str) : str;
                                            }
                                            break;
                                        case browser_DdbType.complex:
                                        case browser_DdbType.point: {
                                            const index = acc_len + i;
                                            items[i] = format(type_, data.subarray(2 * index, 2 * (index + 1)), this.le, options);
                                            break;
                                        }
                                        case browser_DdbType.uuid:
                                        case browser_DdbType.int128:
                                        case browser_DdbType.ipaddr: {
                                            const index = acc_len + i;
                                            items[i] = format(type_, data.subarray(16 * index, 16 * (index + 1)), this.le, options);
                                            break;
                                        }
                                        default:
                                            items[i] = format(type_, data[acc_len + i], this.le, options);
                                            break;
                                    }
                                array_items[i_items++] = format_array(items, length > limit);
                                acc_len += length;
                            }
                            if (i_items >= limit)
                                break;
                        }
                        return format_array(array_items, this.rows > limit);
                    }
                    switch (this.type) {
                        case browser_DdbType.symbol_extended: {
                            const limit = 50;
                            const { base, data } = this.value;
                            let items = new Array(Math.min(limit, data.length));
                            for (let i = 0; i < items.length; i++)
                                items[i] = base[data[i]].quote('single');
                            return format_array(items, data.length > limit);
                        }
                        case browser_DdbType.void:
                            return format(this.type, this.value, this.le, options);
                        case browser_DdbType.uuid:
                        case browser_DdbType.int128:
                        case browser_DdbType.ipaddr: {
                            const limit = 10;
                            const value = this.value;
                            const len_data = value.length / 16;
                            let items = new Array(Math.min(limit, len_data));
                            for (let i = 0; i < items.length; i++)
                                items[i] = format(this.type, value.subarray(16 * i, 16 * (i + 1)), this.le, options);
                            return format_array(items, len_data > limit);
                        }
                        case browser_DdbType.complex:
                        case browser_DdbType.point: {
                            const limit = 20;
                            const value = this.value;
                            const len_data = value.length / 2;
                            let items = new Array(Math.min(limit, len_data));
                            for (let i = 0; i < items.length; i++)
                                items[i] = format(this.type, value.subarray(2 * i, 2 * (i + 1)), this.le, options);
                            return format_array(items, len_data > limit);
                        }
                        case browser_DdbType.decimal32:
                        case browser_DdbType.decimal64:
                        case browser_DdbType.decimal128: {
                            const limit = 50;
                            const { data } = this.value;
                            let items = new Array(Math.min(limit, data.length));
                            for (let i = 0; i < items.length; i++)
                                items[i] = browser_formati(this, i, options);
                            return format_array(items, data.length > limit);
                        }
                        default: {
                            const limit = this.type === browser_DdbType.compressed ? 5 : 50;
                            let items = new Array(Math.min(limit, this.value.length));
                            for (let i = 0; i < items.length; i++)
                                items[i] = format(this.type, this.value[i], this.le, options);
                            return format_array(items, this.value.length > limit);
                        }
                    }
                }
                case browser_DdbForm.chart:
                    return JSON.stringify(this.value, (key, value) => key === 'data' ? value.toString(options) : value, 4);
            }
            return String(this.value);
        })();
        // 如果类型为 string 则不需要加上类型名
        if (this.form === browser_DdbForm.scalar && this.type === browser_DdbType.string)
            return data;
        else
            return `${options?.colors ? blue(type) : type}(${this.name ? `'${this.name}', ` : ''}${data})`;
    }
    inspect_type() {
        const tname = browser_DdbType[this.type];
        switch (this.form) {
            case browser_DdbForm.scalar:
                if (this.type === browser_DdbType.functiondef)
                    return `functiondef<${DdbFunctionType[this.value.type]}>`;
                return tname;
            case browser_DdbForm.vector:
                if (64 <= this.type && this.type < 128)
                    return `${browser_DdbType[this.type - 64]}[][${this.rows}]`;
                return `${tname}[${this.rows}]`;
            case browser_DdbForm.pair:
                return `pair<${tname}>`;
            case browser_DdbForm.set:
                return `set<${tname}>[${this.rows}]`;
            case browser_DdbForm.table:
                return `table[${this.rows}r][${this.cols}c]`;
            case browser_DdbForm.dict:
                return `dict<${browser_DdbType[this.value[0].type]}, ${browser_DdbType[this.value[1].type]}>[${this.rows}]`;
            case browser_DdbForm.chart:
                return `chart<${DdbChartType[this.value.type]}>`;
            case browser_DdbForm.matrix:
                return `matrix<${tname}>[${this.rows}r][${this.cols}c]`;
            default:
                return `${browser_DdbForm[this.form]} ${tname}`;
        }
    }
    /** 自动转换 js string, boolean 为 DdbObj */
    static to_ddbobj(value) {
        if (value && value instanceof DdbObj)
            return value;
        const type = typeof value;
        switch (type) {
            case 'string':
                return new DdbString(value);
            case 'boolean':
                return new DdbBool(value);
            default:
                throw new Error(i18n_t('不能自动转换 {{type}} 至 DdbObj', { type }));
        }
    }
    /** 转换 js 数组为 DdbObj[] */
    static to_ddbobjs(values) {
        return values.map(value => this.to_ddbobj(value));
    }
    /** @deprecated 用 data() */
    to_cols() {
        utils_browser_assert(this.form === browser_DdbForm.table, i18n_t('form 必须是 DdbForm.table, 否则不能 to_cols'));
        return this.value.map(col => ({
            title: col.name,
            dataIndex: col.name,
            render: value => format(col.type, value, col.le, { nullstr: false, quote: false })
        }));
    }
    /** 将 table 转换为 rows，空值转换为 null
        @deprecated 用 data() */
    to_rows() {
        utils_browser_assert(this.form === browser_DdbForm.table, i18n_t('form 必须是 DdbForm.table, 否则不能 to_rows'));
        let rows = new Array(this.rows);
        for (let i = 0; i < this.rows; i++) {
            let row = {};
            for (let j = 0; j < this.cols; j++) {
                const { type, name, value: values } = this.value[j]; // column
                switch (type) {
                    case browser_DdbType.bool: {
                        const value = values[i];
                        row[name] = value === nulls.int8 ?
                            null
                            :
                                Boolean(value);
                        break;
                    }
                    case browser_DdbType.char:
                        row[name] = values[i] === nulls.int8 ? null : values[i];
                        break;
                    case browser_DdbType.short:
                        row[name] = values[i] === nulls.int16 ? null : values[i];
                        break;
                    case browser_DdbType.int:
                    case browser_DdbType.date:
                    case browser_DdbType.month:
                    case browser_DdbType.time:
                    case browser_DdbType.minute:
                    case browser_DdbType.second:
                    case browser_DdbType.datetime:
                    case browser_DdbType.datehour:
                        row[name] = values[i] === nulls.int32 ? null : values[i];
                        break;
                    case browser_DdbType.long:
                    case browser_DdbType.timestamp:
                    case browser_DdbType.nanotime:
                    case browser_DdbType.nanotimestamp:
                        row[name] = values[i] === nulls.int64 ? null : values[i];
                        break;
                    case browser_DdbType.int128:
                        row[name] = values[i] === nulls.int128 ? null : values[i];
                        break;
                    case browser_DdbType.float:
                        row[name] = values[i] === nulls.float32 ? null : values[i];
                        break;
                    case browser_DdbType.double:
                        row[name] = values[i] === nulls.double ? null : values[i];
                        break;
                    case browser_DdbType.decimal32:
                    case browser_DdbType.decimal64:
                    case browser_DdbType.decimal128:
                        row[name] = is_decimal_null_value(type, values[i]) ? null : values[i];
                        break;
                    case browser_DdbType.ipaddr:
                        row[name] = values.subarray(16 * i, 16 * (i + 1));
                        break;
                    case browser_DdbType.symbol_extended: {
                        const { base, data } = values;
                        row[name] = base[data[i]];
                        break;
                    }
                    default:
                        row[name] = values[i];
                }
            }
            rows[i] = row;
        }
        return rows;
    }
    to_dict({ strip, deep, } = {}) {
        utils_browser_assert(this.form === browser_DdbForm.dict, i18n_t('this.form 必须是 DdbForm.dict, 否则不能调用 to_dict 转换为 js object'));
        const [{ value: keys, type: key_type }, { value: values, type: value_type }] = this.value;
        utils_browser_assert(key_type === browser_DdbType.string && dictables.has(value_type), i18n_t('当前只支持自动转换 dict<string, any | ...dictables> 为 js object'));
        utils_browser_assert(!(deep && !strip), i18n_t('deep = true 时必须设置 strip = true'));
        let obj = {};
        for (let i = 0; i < this.rows; i++) {
            const key = keys[i];
            if (value_type === browser_DdbType.any) {
                let value = values[i];
                if (deep && value.form === browser_DdbForm.dict)
                    obj[key] = value.to_dict({ strip, deep });
                else
                    obj[key] = strip ? value.value : value;
            }
            else
                obj[key] = values[i];
        }
        return obj;
    }
}
/** 根据 DdbType 获取其名称，array vector type 自动在后面加上 [] */
function get_type_name(type) {
    return `${browser_DdbType[type] || type}${64 <= type && type < 128 ? '[]' : ''}`;
}
function is_decimal_type(type) {
    return type === browser_DdbType.decimal32 || type === browser_DdbType.decimal64 || type === browser_DdbType.decimal128;
}
function is_decimal_null_value(type, value) {
    return ((value === nulls.int128 && type === browser_DdbType.decimal128) ||
        (value === nulls.int64 && type === browser_DdbType.decimal64) ||
        (value === nulls.int32 && type === browser_DdbType.decimal32));
}
function get_duration_unit(code) {
    let str = String.fromCharCode((code >> 24) & 0xff);
    str += String.fromCharCode((code >> 16) & 0xff);
    str += String.fromCharCode((code >> 8) & 0xff);
    str += String.fromCharCode(code & 0xff);
    return str;
}
/** 整数一定用这个 number formatter, InspectOptions.decimals 不传也用这个 */
let default_formatter = new Intl.NumberFormat('en-US', { maximumFractionDigits: 20 });
let _decimals = 20;
let _grouping = true;
/** 缓存，为了优化性能，通常 options.decimals 都是不变的 */
let _formatter = new Intl.NumberFormat('en-US', { maximumFractionDigits: 20 });
/** 用来处理时差  To deal with jet lag */
let _datetime_formatter = new Intl.DateTimeFormat('zh-CN', { dateStyle: 'short', timeStyle: 'medium', timeZone: 'UTC', hour12: false });
/** 根据 DdbType 格式化单个元素 (value) 为字符串 */
function format(type, value, le, options = {}) {
    const { nullstr = false, colors = false, quote = false, grouping = true } = options;
    const formatter = (() => {
        const decimals = options.decimals ?? _decimals;
        if (decimals !== _decimals || grouping !== _grouping) {
            _decimals = decimals;
            _grouping = grouping;
            default_formatter = new Intl.NumberFormat('en-US', { maximumFractionDigits: 20, useGrouping: grouping });
            _formatter = new Intl.NumberFormat('en-US', {
                maximumFractionDigits: decimals,
                minimumFractionDigits: decimals,
                useGrouping: grouping
            });
        }
        return options.decimals === undefined || options.decimals === null ? default_formatter : _formatter;
    })();
    function get_nullstr() {
        const str = value === DdbVoidType.default ? 'default' : 'null';
        return nullstr ?
            colors ? grey(str) : str
            :
                '';
    }
    function format_time(formatter, _null) {
        if (value === null || value === _null)
            return get_nullstr();
        let str;
        // formatter 可能会在 value 不属于 new Date() 有效值时，调用  抛出错误，这里统一处理
        try {
            str = formatter(value);
        }
        catch (error) {
            if (error instanceof RangeError)
                str = 'Invalid Date';
            else
                throw error;
        }
        return colors ? magenta(str) : str;
    }
    switch (type) {
        case browser_DdbType.void:
            return get_nullstr();
        case browser_DdbType.bool:
            if (value === null || value === nulls.int8)
                return get_nullstr();
            else {
                const str = String(Boolean(value));
                return colors ? blue(str) : str;
            }
        case browser_DdbType.char:
            if (value === null || value === nulls.int8)
                return get_nullstr();
            else {
                let str = 
                // ascii printable
                // http://facweb.cs.depaul.edu/sjost/it212/documents/ascii-pr.htm
                (32 <= value && value <= 126) ?
                    String.fromCharCode(value)
                    :
                        '\\' + String(value);
                if (quote)
                    str = str.quote();
                return colors ? green(str) : str;
            }
        case browser_DdbType.short:
            if (value === null || value === nulls.int16)
                return get_nullstr();
            else {
                const str = default_formatter.format(value);
                return colors ? green(str) : str;
            }
        case browser_DdbType.int:
            if (value === null || value === nulls.int32)
                return get_nullstr();
            else {
                const str = default_formatter.format(value);
                return colors ? green(str) : str;
            }
        case browser_DdbType.long:
            if (value === null || value === nulls.int64)
                return get_nullstr();
            else {
                const str = default_formatter.format(value);
                return colors ? green(str) : str;
            }
        case browser_DdbType.date:
            return format_time(date2str, nulls.int32);
        case browser_DdbType.month:
            return format_time(month2str, nulls.int32);
        case browser_DdbType.time:
            return format_time(time2str, nulls.int32);
        case browser_DdbType.minute:
            return format_time(minute2str, nulls.int32);
        case browser_DdbType.second:
            return format_time(second2str, nulls.int32);
        case browser_DdbType.datetime:
            return format_time(datetime2str, nulls.int32);
        case browser_DdbType.timestamp:
            return format_time(timestamp2str, nulls.int64);
        case browser_DdbType.nanotime:
            return format_time(nanotime2str, nulls.int64);
        case browser_DdbType.nanotimestamp:
            return format_time(nanotimestamp2str, nulls.int64);
        case browser_DdbType.float:
            if (value === null || value === nulls.float32)
                return get_nullstr();
            else {
                const str = formatter.format(value);
                return colors ? green(str) : str;
            }
        case browser_DdbType.double:
            if (value === null || value === nulls.double)
                return get_nullstr();
            else {
                const str = formatter.format(value);
                return colors ? green(str) : str;
            }
        case browser_DdbType.symbol:
        case browser_DdbType.string: {
            let str = value;
            if (quote)
                str = str.quote('single');
            return colors ? cyan(str) : str;
        }
        case browser_DdbType.uuid: {
            const str = uuid2str(value, le);
            return colors ? cyan(str) : str;
        }
        case browser_DdbType.functiondef: {
            const str = value.name.quote('single');
            return colors ? cyan(str) : str;
        }
        case browser_DdbType.handle:
        case browser_DdbType.code:
        case browser_DdbType.datasource:
        case browser_DdbType.resource: {
            const str = value.quote('single');
            return colors ? cyan(str) : str;
        }
        case browser_DdbType.datehour:
            return format_time(datehour2str, nulls.int32);
        case browser_DdbType.ipaddr: {
            const str = ipaddr2str(value, le);
            return colors ? cyan(str) : str;
        }
        case browser_DdbType.int128: {
            const str = int1282str(value, le);
            return colors ? cyan(str) : str;
        }
        case browser_DdbType.blob: {
            const str = value.length > 100 ?
                DdbObj.dec.decode(value.subarray(0, 98)) + '…'
                :
                    DdbObj.dec.decode(value);
            return colors ? cyan(str) : str;
        }
        case browser_DdbType.point: {
            const [x, y] = value;
            return `(${format(browser_DdbType.double, x, le, options)}, ${format(browser_DdbType.double, y, le, options)})`;
        }
        case browser_DdbType.complex: {
            const [x, y] = value;
            return `${format(browser_DdbType.double, x, le, options)}+${format(browser_DdbType.double, y, le, options)}i`;
        }
        case browser_DdbType.duration: {
            const { data, unit } = value;
            const str = `${data}${DdbDurationUnit[unit] ?? get_duration_unit(unit)}`;
            return colors ? magenta(str) : str;
        }
        case browser_DdbType.decimal32:
        case browser_DdbType.decimal64:
        case browser_DdbType.decimal128: {
            const { scale, data } = value;
            if (data === null ||
                is_decimal_null_value(type, data))
                return get_nullstr();
            const s = String(data < 0 ? -data : data).padStart(scale, '0');
            const str = (data < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
            return colors ? green(str) : str;
        }
        default:
            return value === null ? get_nullstr() : String(value);
    }
}
/** 格式化向量、集合中的第 index 项为字符串，空值返回 'null' 字符串  formatted vector, the index-th item in the collection is a string, a null value returns a 'null' string */
function browser_formati(obj, index, options = {}) {
    utils_browser_assert(index < obj.rows, 'index < obj.rows');
    if (obj.type < 64 || obj.type >= 128) // 普通数组
        switch (obj.type) {
            case browser_DdbType.symbol_extended: {
                const { base, data } = obj.value;
                return format(browser_DdbType.string, base[data[index]], obj.le, options);
            }
            case browser_DdbType.void:
                return format(obj.type, obj.value, obj.le, options);
            case browser_DdbType.uuid:
            case browser_DdbType.int128:
            case browser_DdbType.ipaddr:
                return format(obj.type, obj.value.subarray(16 * index, 16 * (index + 1)), obj.le, options);
            case browser_DdbType.blob: {
                const value = obj.value[index];
                return value.length > 100 ?
                    DdbObj.dec.decode(value.subarray(0, 98)) + '…'
                    :
                        DdbObj.dec.decode(value);
            }
            case browser_DdbType.complex:
            case browser_DdbType.point:
                return format(obj.type, obj.value.subarray(2 * index, 2 * (index + 1)), obj.le, options);
            case browser_DdbType.decimal32:
            case browser_DdbType.decimal64:
            case browser_DdbType.decimal128: {
                const { scale, data } = obj.value;
                const x = data[index];
                if (is_decimal_null_value(obj.type, x))
                    return '';
                const s = String(x < 0 ? -x : x).padStart(scale, '0');
                const str = (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                return options.colors ? green(str) : str;
            }
            default:
                return format(obj.type, obj.value[index], obj.le, options);
        }
    else { // array vector
        // 因为 array vector 目前只支持：Logical, Integral（不包括 INT128, COMPRESS 类型）, Floating, Temporal
        // 都对应 TypedArray 中的一格，所以 lengths.length 等于 block 中的 row 的个数
        // av = array(INT[], 0, 5)
        // append!(av, [1..1])
        // append!(av, [1..70000])
        // append!(av, [1..1])
        // append!(av, [1..500])
        // ...
        // av
        const type_ = obj.type - 64;
        let offset = 0;
        // array vector 中每一项如果为 null 都展示，避免多个逗号堆在一起的情况
        options = { ...options, nullstr: true };
        for (const { lengths, data, rows } of obj.value) {
            let acc_len = 0;
            if (offset + rows <= index) {
                offset += rows;
                continue; // 跳过这个 block
            }
            for (const length of lengths) {
                if (offset < index) {
                    offset++;
                    acc_len += length;
                    continue;
                }
                const limit = 10;
                let items = new Array(Math.min(limit, length));
                for (let i = 0; i < items.length; i++)
                    switch (type_) {
                        case browser_DdbType.decimal32:
                        case browser_DdbType.decimal64:
                        case browser_DdbType.decimal128:
                            const x = data[acc_len + i];
                            if (is_decimal_null_value(type_, x))
                                items[i] = options.colors ? grey('null') : 'null';
                            else {
                                const { scale } = obj.value;
                                const s = String(x < 0 ? -x : x).padStart(scale, '0');
                                const str = (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                                items[i] = options.colors ? green(str) : str;
                            }
                            break;
                        case browser_DdbType.complex:
                        case browser_DdbType.point: {
                            const index = acc_len + i;
                            items[i] = format(type_, data.subarray(2 * index, 2 * (index + 1)), obj.le, options);
                            break;
                        }
                        case browser_DdbType.uuid:
                        case browser_DdbType.int128:
                        case browser_DdbType.ipaddr: {
                            const index = acc_len + i;
                            items[i] = format(type_, data.subarray(16 * index, 16 * (index + 1)), obj.le, options);
                            break;
                        }
                        default:
                            items[i] = format(type_, data[acc_len + i], obj.le, options);
                            break;
                    }
                return (items.join(', ') + (length > limit ? ', ...' : '')).bracket('square');
            }
        }
    }
}
function convert(type, value, le, { blob = 'string' } = {}) {
    switch (type) {
        case browser_DdbType.void:
            return value === DdbVoidType.null ? null : undefined;
        case browser_DdbType.char:
            return value === null || value === nulls.int8 ? '' : String.fromCharCode(value);
        case browser_DdbType.bool:
            return value === null || value === nulls.int8 ? null : Boolean(value);
        case browser_DdbType.short:
            return value === null || value === nulls.int16 ? null : value;
        case browser_DdbType.int:
            return value === null || value === nulls.int32 ? null : value;
        case browser_DdbType.float:
            return value === null || value === nulls.float32 ? null : value;
        case browser_DdbType.double:
            return value === null || value === nulls.double ? null : value;
        case browser_DdbType.long:
            return value === null || value === nulls.int64 ? null : value;
        case browser_DdbType.functiondef:
            return value.name;
        case browser_DdbType.string:
        case browser_DdbType.symbol:
        case browser_DdbType.code:
        case browser_DdbType.handle:
        case browser_DdbType.datasource:
        case browser_DdbType.resource:
            return value;
        case browser_DdbType.blob:
            return blob === 'string' ? utils_browser_decode(value) : value;
        case browser_DdbType.complex:
        case browser_DdbType.point: {
            const [x, y] = value;
            return [
                x === null || x === nulls.double ? null : x,
                y === null || y === nulls.double ? null : y,
            ];
        }
        case browser_DdbType.date:
        case browser_DdbType.month:
        case browser_DdbType.time:
        case browser_DdbType.minute:
        case browser_DdbType.second:
        case browser_DdbType.datetime:
        case browser_DdbType.datehour:
        case browser_DdbType.timestamp:
        case browser_DdbType.nanotime:
        case browser_DdbType.nanotimestamp:
        case browser_DdbType.duration:
        case browser_DdbType.uuid:
        case browser_DdbType.ipaddr:
        case browser_DdbType.int128:
        // decimal 类型转换为固定位数小数的 string 不丢失精度，一般也是展示用
        case browser_DdbType.decimal32:
        case browser_DdbType.decimal64:
        case browser_DdbType.decimal128:
            return format(type, value, le, { colors: false });
        default:
            throw new Error(String(browser_DdbType[type] || type) + i18n_t(' 暂时不支持转换为 js 对象'));
    }
}
/** 转换一个向量到 js 原生数组 */
function converts(type, value, rows, le, options) {
    if (type < 64 || type >= 128)
        switch (type) {
            // 可以直接用下标取值再转换的类型
            case browser_DdbType.bool:
            case browser_DdbType.char:
            case browser_DdbType.short:
            case browser_DdbType.int:
            case browser_DdbType.float:
            case browser_DdbType.double:
            case browser_DdbType.long:
            case browser_DdbType.date:
            case browser_DdbType.month:
            case browser_DdbType.time:
            case browser_DdbType.minute:
            case browser_DdbType.second:
            case browser_DdbType.datetime:
            case browser_DdbType.datehour:
            case browser_DdbType.timestamp:
            case browser_DdbType.nanotime:
            case browser_DdbType.nanotimestamp:
            case browser_DdbType.duration:
            case browser_DdbType.string:
            case browser_DdbType.symbol:
            case browser_DdbType.code:
            case browser_DdbType.handle:
            case browser_DdbType.datasource:
            case browser_DdbType.resource:
            case browser_DdbType.functiondef:
            case browser_DdbType.blob:
                return Array.prototype.map.call(value, (x) => convert(type, x, le, options));
            case browser_DdbType.void:
                return [];
            case browser_DdbType.symbol_extended: {
                const { base, data } = value;
                return Array.prototype.map.call(data, (x) => base[x]);
            }
            case browser_DdbType.complex:
            case browser_DdbType.point:
                return utils_browser_seq(rows, i => {
                    const x = value[2 * i];
                    const y = value[2 * i + 1];
                    return [x === nulls.double ? null : x, y === nulls.double ? null : y];
                });
            case browser_DdbType.uuid:
            case browser_DdbType.ipaddr:
            case browser_DdbType.int128:
                return utils_browser_seq(rows, i => convert(type, value.subarray(16 * i, 16 * (i + 1)), le, options));
            case browser_DdbType.decimal32:
            case browser_DdbType.decimal64:
            case browser_DdbType.decimal128: {
                const { scale, data } = value;
                return Array.prototype.map.call(data, (x) => {
                    if (is_decimal_null_value(type, x))
                        return '';
                    const s = String(x < 0 ? -x : x).padStart(scale, '0');
                    return (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                });
            }
            case browser_DdbType.any:
                return value.map(x => x.data(options));
            default:
                throw new Error(String(browser_DdbType[type] || type) + '[]' + i18n_t(' 暂时不支持转换为 js 对象'));
        }
    else { // array vector
        const type_ = type - 64;
        return value.map(({ lengths, data, rows }) => {
            let acc_len = 0;
            return Array.prototype.map.call(lengths, (length) => {
                switch (type_) {
                    case browser_DdbType.decimal32:
                    case browser_DdbType.decimal64:
                    case browser_DdbType.decimal128:
                        return converts(type_, { scale: value.scale, data: data.subarray(acc_len, acc_len += length) }, length, le, options);
                    case browser_DdbType.complex:
                    case browser_DdbType.point:
                        return converts(type_, data.subarray(acc_len, acc_len += 2 * length), length, le, options);
                    case browser_DdbType.uuid:
                    case browser_DdbType.int128:
                    case browser_DdbType.ipaddr:
                        return converts(type_, data.subarray(acc_len, acc_len += 16 * length), length, le, options);
                    default:
                        return converts(type_, data.subarray(acc_len, acc_len += length), length, le, options);
                }
            });
        }).flat();
    }
}
class DdbVoid extends DdbObj {
    constructor(value = DdbVoidType.undefined) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.void,
            value,
        });
    }
}
class DdbBool extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.bool,
            value,
        });
    }
}
class DdbChar extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.char,
            value: typeof value === 'string' ?
                value.charCodeAt(0)
                :
                    value
        });
    }
}
class DdbInt extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.int,
            value,
        });
    }
}
class DdbString extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.string,
            value
        });
    }
}
class DdbLong extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.long,
            value
        });
    }
}
class DdbDouble extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.double,
            value
        });
    }
}
class DdbDateTime extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.datetime,
            value
        });
    }
}
class DdbTimeStamp extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.timestamp,
            value
        });
    }
}
class DdbNanoTimeStamp extends DdbObj {
    constructor(value) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.nanotimestamp,
            value
        });
    }
}
class DdbBlob extends DdbObj {
    constructor(value) {
        utils_browser_assert(value, i18n_t('new DdbBlob 不能传空的 value'));
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.blob,
            value: value instanceof Uint8Array ? value : new Uint8Array(value)
        });
    }
}
class DdbPair extends DdbObj {
    constructor(l, r = null) {
        super({
            form: browser_DdbForm.pair,
            type: browser_DdbType.int,
            rows: 2,
            cols: 1,
            value: Int32Array.of(l === null ? nulls.int32 : l, r === null ? nulls.int32 : r)
        });
    }
}
class DdbFunction extends DdbObj {
    constructor(name, type) {
        super({
            form: browser_DdbForm.scalar,
            type: browser_DdbType.functiondef,
            value: { type, name }
        });
    }
}
class DdbVectorInt extends DdbObj {
    constructor(ints, name) {
        super({
            form: browser_DdbForm.vector,
            type: browser_DdbType.int,
            rows: ints.length,
            cols: 1,
            value: ints instanceof Int32Array ?
                ints
                :
                    Int32Array.from(ints, v => v === null ?
                        nulls.int32
                        :
                            v),
            name,
        });
    }
}
class DdbVectorLong extends DdbObj {
    constructor(longs, name) {
        super({
            form: browser_DdbForm.vector,
            type: browser_DdbType.long,
            rows: longs.length,
            cols: 1,
            value: longs instanceof BigInt64Array ?
                longs
                :
                    BigInt64Array.from(longs, v => v === null ?
                        nulls.int64
                        :
                            BigInt(v)),
            name,
        });
    }
}
class DdbVectorDouble extends DdbObj {
    constructor(doubles, name) {
        super({
            form: browser_DdbForm.vector,
            type: browser_DdbType.double,
            rows: doubles.length,
            cols: 1,
            value: doubles instanceof Float64Array ?
                doubles
                :
                    Float64Array.from(doubles, v => v === null ?
                        nulls.double
                        :
                            v),
            name,
        });
    }
}
class DdbVectorString extends DdbObj {
    constructor(strings, name) {
        super({
            form: browser_DdbForm.vector,
            type: browser_DdbType.string,
            rows: strings.length,
            cols: 1,
            value: strings,
            name,
        });
    }
}
class DdbVectorAny extends DdbObj {
    constructor(objs, name) {
        super({
            form: browser_DdbForm.vector,
            type: browser_DdbType.any,
            rows: objs.length,
            cols: 1,
            value: DdbObj.to_ddbobjs(objs),
            name,
        });
    }
}
class DdbVectorSymbol extends DdbObj {
    constructor(strings, name) {
        let map = new Map([
            ['', 0]
        ]);
        let data = new Uint32Array(strings.length);
        for (let i = 0; i < strings.length; i++) {
            const x = strings[i];
            let index = map.get(x);
            if (index === undefined) {
                index = map.size;
                map.set(x, index);
            }
            data[i] = index;
        }
        super({
            form: browser_DdbForm.vector,
            type: browser_DdbType.symbol_extended,
            rows: strings.length,
            cols: 1,
            value: {
                base: [...map.keys()],
                base_id: null,
                data,
            },
            name
        });
    }
}
class DdbSetInt extends DdbObj {
    constructor(ints) {
        super({
            form: browser_DdbForm.set,
            type: browser_DdbType.int,
            rows: ints instanceof Set ?
                ints.size
                :
                    ints.length,
            cols: 1,
            value: ints instanceof Int32Array ?
                ints
                :
                    Int32Array.from(ints, v => v === null ?
                        nulls.int32
                        :
                            v),
        });
    }
}
class DdbSetDouble extends DdbObj {
    constructor(doubles) {
        super({
            form: browser_DdbForm.set,
            type: browser_DdbType.double,
            rows: doubles instanceof Set ?
                doubles.size
                :
                    doubles.length,
            cols: 1,
            value: doubles instanceof Int32Array ?
                doubles
                :
                    Int32Array.from(doubles, v => v === null ?
                        nulls.int32
                        :
                            v),
        });
    }
}
class DdbSetString extends DdbObj {
    constructor(strings) {
        if (strings instanceof Set)
            strings = [...strings];
        super({
            form: browser_DdbForm.set,
            type: browser_DdbType.string,
            rows: strings.length,
            cols: 1,
            value: strings
        });
    }
}
/** 构造 DdbDict 对象，支持两种用法:  Constructs a DdbDict object, which supports two usages:
     - 传入类型是 DdbVectorObj 的 keys, values 两个参数直接组成 dict<keys.type, values.type> 的 DdbDict
         The incoming type is the keys of DdbObj<DdbVectorValue>, and the two parameters of values directly form the DdbDict of dict<keys.type, values.type>
     - 传入 js object (类型是 Record<string, boolean | string | DdbObj>), 自动转换为 dict<string, any> 的 DdbDict
         Pass in js object (type is Record<string, boolean | string | DdbObj>), automatically converted to DdbDict of dict<string, any> */
class DdbDict extends DdbObj {
    constructor(arg0, arg1) {
        if (arg1)
            super({
                form: browser_DdbForm.dict,
                type: arg1.type,
                rows: arg0.rows,
                cols: 2,
                value: [arg0, arg1]
            });
        else {
            const keys = Object.keys(arg0);
            super({
                form: browser_DdbForm.dict,
                type: browser_DdbType.any,
                rows: keys.length,
                cols: 2,
                value: [
                    new DdbVectorString(keys),
                    new DdbVectorAny(Object.values(arg0))
                ]
            });
        }
    }
}
class DdbTable extends DdbObj {
    constructor(columns, name = '') {
        super({
            form: browser_DdbForm.table,
            type: browser_DdbType.void,
            rows: columns[0].rows,
            cols: columns.length,
            name,
            value: columns,
        });
    }
}
function date2ms(date) {
    // 将 server 的本地时间 (以 ms 为单位，1970.01.01 00:00:00 作为零点) 当成是客户端这里的本地的时间，然后根据本地的时区信息转换为 utc 时间
    // 本地的时区与实际的时间值相关，timezone offset 可能会受到夏令时 (DST) 的影响
    // 得到的 utc 毫秒数交给 js date 或者 dayjs 去格式化
    if (date === null || date === nulls.int32)
        return null;
    const ms = 1000 * 3600 * 24 * date;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function date2str(date, format = 'YYYY.MM.DD') {
    return (date === null || date === nulls.int32) ?
        'null'
        :
            external_dayjs_namespaceObject(date2ms(date)).format(format);
}
function month2ms(month) {
    return (month === null || month === nulls.int32) ?
        null
        :
            dayjs(month2str(month), 'YYYY.MM[M]').valueOf();
}
function month2str(month) {
    if (month === null || month === nulls.int32)
        return 'null';
    if (month < 0)
        return String(month);
    const _month = month % 12;
    const year = Math.trunc(month / 12);
    return `${String(year).padStart(4, '0')}.${String(_month + 1).padStart(2, '0')}M`;
}
function time2ms(time) {
    return (time === null || time === nulls.int32) ?
        null
        :
            1000 * 60 * new Date(time).getTimezoneOffset() + time;
}
function time2str(time, format = 'HH:mm:ss.SSS') {
    return (time === null || time === nulls.int32) ?
        'null'
        :
            external_dayjs_namespaceObject(time2ms(time)).format(format);
}
function minute2ms(minute) {
    if (minute === null || minute === nulls.int32)
        return null;
    const ms = 60 * 1000 * minute;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function minute2str(minute, format = 'HH:mm[m]') {
    return (minute === null || minute === nulls.int32) ?
        'null'
        :
            external_dayjs_namespaceObject(minute2ms(minute)).format(format);
}
function second2ms(second) {
    if (second === null || second === nulls.int32)
        return null;
    const ms = 1000 * second;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function second2str(second, format = 'HH:mm:ss') {
    return (second === null || second === nulls.int32) ?
        'null'
        :
            external_dayjs_namespaceObject(second2ms(second)).format(format);
}
function datetime2ms(datetime) {
    if (datetime === null || datetime === nulls.int32)
        return null;
    const date = new Date(1000 * datetime);
    return external_dayjs_namespaceObject(`${_datetime_formatter.format(date)}.${date.getUTCMilliseconds()}`).valueOf();
}
function datetime2str(datetime, format = 'YYYY.MM.DD HH:mm:ss') {
    return (datetime === null || datetime === nulls.int32) ?
        'null'
        :
            external_dayjs_namespaceObject(datetime2ms(datetime)).format(format);
}
/** _datetime_formatter.format 会在 date 为 Invalid Date 时抛出错误 */
function timestamp2ms(timestamp) {
    if (timestamp === null || timestamp === nulls.int64)
        return null;
    const date = new Date(Number(timestamp));
    return external_dayjs_namespaceObject(`${_datetime_formatter.format(date)}.${date.getUTCMilliseconds()}`).valueOf();
}
/** format timestamp (bigint) to string
    - timestamp: bigint value
    - format?:
        格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSS`  format string, default to `YYYY.MM.DD HH:mm:ss.SSS`
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens */
function timestamp2str(timestamp, format = 'YYYY.MM.DD HH:mm:ss.SSS') {
    return (timestamp === null || timestamp === nulls.int64) ?
        'null'
        :
            external_dayjs_namespaceObject(timestamp2ms(timestamp)).format(format);
}
function datehour2ms(datehour) {
    if (datehour === null || datehour === nulls.int32)
        return null;
    const ms = 1000 * 3600 * datehour;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function datehour2str(datehour, format = 'YYYY.MM.DDTHH') {
    if (datehour === null || datehour === nulls.int32)
        return 'null';
    const ms = 1000 * 3600 * datehour;
    return external_dayjs_namespaceObject(1000 * 60 * new Date(ms).getTimezoneOffset() + ms).format(format);
}
/** parse timestamp string to bigint value
    - str: timestamp string, 如果为空字符串或 'null' 会返回对应的空值 (nulls.int64)
        timestamp string, If it is an empty string or 'null', it will return the corresponding empty value (nulls.int64)
    - format?:
        对应传入字符串的格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSS`
        The format string corresponding to the incoming string, the default is `YYYY.MM.DD HH:mm:ss.SSS`
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens */
function str2timestamp(str, format = 'YYYY.MM.DD HH:mm:ss.SSS') {
    if (!str || str === 'null')
        return nulls.int64;
    assert(str.length === format.length, t('timestamp 字符串长度必须等于格式串长度'));
    const ms = dayjs(str, format).valueOf();
    return BigInt(-(1000 * 60 * new Date(ms).getTimezoneOffset()) +
        ms);
}
function nanotime2ns(nanotime) {
    return nanotimestamp2ns(nanotime);
}
function nanotime2str(nanotime, format = 'HH:mm:ss.SSSSSSSSS') {
    if (nanotime === null || nanotime === nulls.int64)
        return 'null';
    if (nanotime < 0n)
        return String(nanotime);
    const i_second_start = format.indexOf('ss');
    utils_browser_assert(i_second_start !== -1, i18n_t('格式串必须包含秒的格式 (ss)'));
    const i_second_end = i_second_start + 2;
    const i_nanosecond_start = format.indexOf('SSSSSSSSS', i_second_end);
    utils_browser_assert(i_nanosecond_start !== -1, i18n_t('格式串必须包含纳秒的格式 (SSSSSSSSS)'));
    const ms = Number(nanotime) / 1000000;
    return (external_dayjs_namespaceObject(1000 * 60 * new Date(ms).getTimezoneOffset() + ms).format(format.slice(0, i_second_end)) +
        format.slice(i_second_end, i_nanosecond_start) +
        String(nanotime % 1000000000n).padStart(9, '0'));
}
function nanotimestamp2ns(nanotimestamp) {
    if (nanotimestamp === null || nanotimestamp === nulls.int64)
        return null;
    const date = new Date(Number(nanotimestamp / 1000000n));
    return BigInt(dayjs(`${_datetime_formatter.format(date)}.${date.getUTCMilliseconds()}`).valueOf()) * 1000000n + nanotimestamp % 1000000n;
}
/** format nanotimestamp value (bigint) to string
    - nanotimestamp: bigint value
    - format?:
        格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`  format string, default is `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`
        秒的格式为 ss (必须包含); 纳秒的格式为 SSSSSSSSS (必须包含)  Seconds are in the format ss (must be included); nanoseconds are in the format SSSSSSSSS (must be included)
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens
*/
function nanotimestamp2str(nanotimestamp, format = 'YYYY.MM.DD HH:mm:ss.SSSSSSSSS') {
    // tests:
    // nanotimestamp2str(0n)
    // nanotimestamp2str(-1n)
    // nanotimestamp2str(-9_9999_9999n)
    // nanotimestamp2str(-10_0000_0000n)
    // nanotimestamp2str(-10_0000_0001n)
    if (nanotimestamp === null || nanotimestamp === nulls.int64)
        return 'null';
    const i_second_start = format.indexOf('ss');
    utils_browser_assert(i_second_start !== -1, i18n_t('格式串必须包含秒的格式 (ss)'));
    const i_second_end = i_second_start + 2;
    const i_nanosecond_start = format.indexOf('SSSSSSSSS', i_second_end);
    utils_browser_assert(i_nanosecond_start !== -1, i18n_t('格式串必须包含纳秒的格式 (SSSSSSSSS)'));
    const remainder = nanotimestamp % 1000000000n;
    const borrow = remainder < 0n;
    const ms = Number((nanotimestamp - remainder + (borrow ? -1000000000n : 0n)) / 1000000n);
    return (external_dayjs_namespaceObject(_datetime_formatter.format(new Date(ms))).format(format.slice(0, i_second_end)) +
        format.slice(i_second_end, i_nanosecond_start) +
        String(borrow ?
            (remainder + 1000000000n) % 1000000000n
            :
                remainder).padStart(9, '0'));
}
/** parse nano timestamp string to bigint value
    - str: nano timestamp string, 如果为空字符串或 'null' 会返回对应的空值 (nulls.int64)
        nano timestamp string, If it is an empty string or 'null', it will return the corresponding empty value (nulls.int64)
    - format?:
        对应传入字符串的格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`
        秒的格式为 ss (必须包含); 纳秒的格式为 SSSSSSSSS (必须包含)
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens
        The format string corresponding to the incoming string, the default is `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`
        Seconds are in the format ss (must be included); nanoseconds are in the format SSSSSSSSS (must be included) */
function str2nanotimestamp(str, format = 'YYYY.MM.DD HH:mm:ss.SSSSSSSSS') {
    if (!str || str === 'null')
        return nulls.int64;
    assert(str.length === format.length, t('nanotimestamp 字符串长度必须等于格式串长度'));
    const i_second_start = format.indexOf('ss');
    assert(i_second_start !== -1, t('格式串必须包含秒的格式 (ss)'));
    const i_second_end = i_second_start + 2;
    const i_nanosecond_start = format.indexOf('SSSSSSSSS', i_second_end);
    assert(i_nanosecond_start !== -1, t('格式串必须包含纳秒的格式 (SSSSSSSSS)'));
    const ms = dayjs(str.slice(0, i_second_end), format.slice(0, i_second_end)).valueOf();
    return (BigInt(-(1000 * 60 * new Date(ms).getTimezoneOffset()) +
        ms) * 1000000n
        +
            BigInt(str.slice(i_nanosecond_start, i_nanosecond_start + 9)));
}
function ipaddr2str(buffer, le = true, ipv6) {
    let buf = buffer;
    if (le)
        buf = buffer.slice().reverse();
    const i_non_zero = buf.findIndex(x => x !== 0);
    if (ipv6 ||
        i_non_zero !== -1 && i_non_zero < 12) // ipv6
        return buf2ipaddr([...buf]).toString();
    else // ipv4
        return buf.subarray(12).join('.');
}
function uuid2str(buffer, le = true) {
    const str = int1282str(buffer, le);
    return `${str.slice(0, 8)}-${str.slice(8, 12)}-${str.slice(12, 16)}-${str.slice(16, 20)}-${str.slice(20)}`;
}
function int1282str(buffer, le = true) {
    let buf = buffer;
    if (le)
        buf = buffer.slice().reverse();
    return [...buf].map(x => x.toString(16)
        .padStart(2, '0')).join('');
}
const winsize = 10_0000;
class DdbConnectionError extends Error {
    name = 'DdbConnectionError';
    cause;
    url;
    // 这里不保留 ddb 的引用，会导致无法序列化
    constructor(url, error) {
        super(error?.message || `${url} ${i18n_t('连接出错了，可能由于网络原因连接已被关闭，或服务器断开连接')}`, { cause: error });
        this.url = url;
        if (error)
            this.cause = error;
    }
}
class DdbDatabaseError extends Error {
    name = 'DdbDatabaseError';
    url;
    // 这里不保留 ddb 的引用，会导致无法序列化
    id;
    type;
    options;
    constructor(message, url, type, options, id) {
        super(message);
        this.url = url;
        this.type = type;
        this.options = options;
        this.id = id;
    }
}
/** SQL Standrd 标准类型 */
var SqlStandard;
(function (SqlStandard) {
    SqlStandard[SqlStandard["DolphinDB"] = 0] = "DolphinDB";
    SqlStandard[SqlStandard["Oracle"] = 1] = "Oracle";
    SqlStandard[SqlStandard["MySQL"] = 2] = "MySQL";
})(SqlStandard || (SqlStandard = {}));
class browser_DDB {
    /** 当前的 session id (http 或 tcp) */
    sid = '0';
    /** utf-8 text decoder */
    dec = new TextDecoder('utf-8');
    enc = new TextEncoder();
    /** DolphinDB WebSocket URL
        e.g. `ws://127.0.0.1:8848/`, `wss://dolphindb.com` */
    url;
    /** 为所有 websocket 操作加锁，包括设置 this.on_message, this.on_error, websocket.send */
    lwebsocket = new utils_browser_Lock();
    /** little endian (server) */
    le = true;
    /** little endian (client) */
    static le_client = Boolean(new Uint8Array(Uint32Array.of(1).buffer)[0]);
    /** 是否在建立连接后自动登录，默认 true  Whether to automatically log in after the connection is established, the default is true */
    autologin = true;
    /** DolphinDB 登录用户名  DolphinDB username */
    username = 'admin';
    /** DolphinDB 登录密码  DolphinDB password */
    password = '123456';
    /** python session flag (2048) */
    python = false;
    /** 表示本次会话执行的 SQL 标准 */
    sql = SqlStandard.DolphinDB;
    /** 是否为流数据连接，非流数据这个字段恒为 null  Whether it is a streaming data connection, this field is always null for non-streaming data */
    streaming = null;
    /** 是否打印每个 rpc 的信息用于调试 */
    verbose = false;
    // --- 内部选项, 状态
    print_message_buffer = false;
    print_object_buffer = false;
    print_message = true;
    parse_object = true;
    /** 在 websocket 收到的第一个 error 时，
        在 connect_websocket 的 on_error 回调中构造 DdbConnectionError 并保存到 DDB 对象上，
        这个 error 的错误信息最准确 */
    error;
    /** DdbMessage listeners */
    listeners = [];
    /** 首次 connect 连接的 promise, 后面的 connect 调用都返回这个 */
    pconnect;
    /** 首次定义 pnode_run 的 promise，保证并发调用 rpc 时只定义一次 pnode_run */
    ppnode_run;
    /** 首次定义 invoke 的 promise，保证并发调用 rpc 时只定义一次 invoke */
    pinvoke;
    get connected() {
        return !this.error && this.lwebsocket.resource?.readyState === WebSocket.OPEN;
    }
    /**
        使用 WebSocket URL 初始化连接到 DolphinDB 的实例（不建立实际的网络连接）
        Initialize an instance of DolphinDB Client using the WebSocket URL (without establishing an actual network connection)
        - url?: DolphinDB WebSocket URL，如：`ws://127.0.0.1:8848`, 默认为当前页面 URL
            DolphinDB WebSocket URL. e.g.：`ws://127.0.0.1:8848`, Defaults to the current page URL
        - options?: DdbOptions
            - autologin?: 是否在建立连接后自动登录，默认 `true`  Whether to log in automatically after establishing a connection, default `true`
            - username?: DolphinDB 登录用户名，默认 `'admin'`  DolphinDB username, default `'admin'`
            - password?: DolphinDB 登录密码，默认 `'123456'`  DolphinDB password, default `'123456'`
            - python?: 设置 python session flag，默认 `false`  set python session flag, default `false`
            - streaming?: 设置该选项后，该 WebSocket 连接只用于流数据  When this option is set, the WebSocket connection is only used for streaming data
            - verbose?: 是否打印每个 rpc 的信息用于调试
            - sql?: 设置当前会话执行的 sql 标准, 请使用 SqlStandard 枚举进行传参，默认 `DolphinDB`
        
        @example
        let ddb = new DDB('ws://127.0.0.1:8848')
        
        // 使用 HTTPS 加密  Encrypt with HTTPS
        let ddbsecure = new DDB('wss://dolphindb.com', {
            autologin: true,
            username: 'admin',
            password: '123456',
            python: false
        }) */
    constructor(url, options = {}) {
        this.url = url;
        if (options.verbose !== undefined)
            this.verbose = options.verbose;
        if (options.autologin !== undefined)
            this.autologin = options.autologin;
        if (options.username !== undefined)
            this.username = options.username;
        if (options.password !== undefined)
            this.password = options.password;
        if (options.python !== undefined)
            this.python = options.python;
        if (options.sql !== undefined)
            this.sql = options.sql;
        if (options.streaming !== undefined)
            this.streaming = options.streaming;
    }
    on_message(buffer, websocket) {
        throw new Error(i18n_t('这是在调用 this.rpc 之前默认的 on_message, 不应该被调用到，除非建立连接后 server 先推送了 message'));
    }
    on_error() {
        // 这里的实现一定会被 connect, rpc 中的实现覆盖
    }
    /** 调用后会确保和数据库的连接是正常的 (this.connected === true)，否则抛出错误
        这个方法是幂等的，首次调用建立实际的 WebSocket 连接到 URL 对应的 DolphinDB，然后执行自动登录，
        如果是流数据连接，还会调用 publishTable 订阅流表
        后续调用检查上面的条件
        连接断开后禁止再次调用 connect 重连原有 ddb 对象，应该通过 new DDB() 的方式新建连接对象，原因是：
        1. on_error 回调和某个 websocket 绑定了，不方便解绑后重新绑定
        2. session 是有状态的，重连也无法恢复之前的状态
        3. 断线后所有之前的 ddb.call, ddb.eval 都应该抛出连接错误
        
        After calling, it will ensure that the connection with the database is normal (this.connected === true), otherwise an error will be thrown
        This method is idempotent, the first call establishes an actual WebSocket connection to the DolphinDB corresponding to the URL, and subsequent calls check the above conditions
        After the connection is disconnected, it is forbidden to call connect again to reconnect the original ddb object. You should use new DDB() to create a new connection object because:
        1. The on_error callback is bound to a certain websocket, and it is inconvenient to unbind and rebind
        2. The session is stateful, and the previous state cannot be restored even after reconnection
        3. After disconnection, all previous ddb.call, ddb.eval should throw a connection error */
    async connect() {
        if (this.connected)
            return;
        if (this.error)
            throw this.error;
        const { resource: websocket } = this.lwebsocket;
        if (websocket && (websocket.readyState === WebSocket.CLOSING || websocket.readyState === WebSocket.CLOSED))
            throw this.error = new DdbConnectionError(this.url);
        return this.pconnect ??= new Promise(async (resolve, reject) => {
            this.on_error = () => {
                reject(this.error /* 一定有，不需要再 || new DdbConnectionError(this)  */);
            };
            try {
                let url = new URL(this.url);
                if (this.streaming?.filters?.expression)
                    url.searchParams.set('filter', this.streaming.filters.expression.trim());
                // 连接建立之前应该不会有别的调用占用 this.lwebsocket
                this.lwebsocket.resource = await connect_websocket(url, {
                    protocols: this.streaming ? ['streaming'] : this.python ? ['python'] : undefined,
                    on_message: (buffer, websocket) => {
                        this.on_message(new Uint8Array(buffer), websocket);
                    },
                    on_error: error => {
                        this.error ??= new DdbConnectionError(this.url, error);
                        this.on_error();
                    }
                });
            }
            catch (error) {
                this.error ??= new DdbConnectionError(this.url, error);
                reject(this.error);
                return;
            }
            try {
                utils_browser_assert(this.connected);
                await this.rpc('connect', { skip_connection_check: true });
                if (this.streaming)
                    await this.subscribe();
                resolve();
            }
            catch (error) {
                this.error ??= error;
                reject(error);
            }
        });
    }
    get_rpc_options({ urgent = false, secondary = false, async: _async = false, pickle = false, clear = false, api = false, compress = false, cancellable = true, priority = urgent ? 8 : 4, parallelism = 8, root_id = '', limit, } = {}) {
        let flag = 0;
        if (urgent)
            flag += 1;
        if (secondary)
            flag += 2;
        if (_async)
            flag += 4;
        if (pickle)
            flag += 8;
        if (clear)
            flag += 16;
        if (api)
            flag += 32;
        if (compress)
            flag += 64;
        // python session
        if (this.python)
            flag += 2048;
        // sql standrd
        flag += 2 ** 19 * this.sql;
        const options = [
            flag,
            cancellable ? 1 : 0,
            priority,
            parallelism,
            ...limit ? [
                root_id,
                limit,
            ] : [],
        ];
        return options.join('_');
    }
    disconnect() {
        const { resource } = this.lwebsocket;
        if (resource) {
            const { readyState } = resource;
            if (readyState !== WebSocket.CLOSED && readyState !== WebSocket.CLOSING)
                // 这里不获取 lock，直接关闭连接
                resource.close(1000);
        }
    }
    /** (内部使用的方法) rpc through websocket (function/script/variable command)
        未连接到 DDB 时调用会自动连接，连接断开时调用会抛出 DdbConnectionError
        When the DDB is not connected, the call will be automatically connected. When the connection is disconnected, the call will throw the DdbConnectionError
        - type: API 类型: 'script' | 'function' | 'variable' | 'connect'
        - options:
            - urgent?: 决定 `行为标识` 那一行字符串的取值（只适用于 script 和 function）
            - vars?: type === 'variable' 时必传，variable 指令中待上传的变量名
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage)
            - parse_object?: 在本次 rpc 期间设置 parse_object, 结束后恢复原有
                为 false 时返回的 DdbObj 仅含有 buffer 和 le，不做解析，以便后续转发、序列化
            - skip_connection_check?: 在首次 await ddb.connect() 建立连接时不能再次调用 await this.connect() 确保连接状态，会导致循环依赖，
                将这个 flag 设为 true 跳过连接状态检查 */
    async rpc(type, options) {
        // 保留调用栈信息
        const id = utils_browser_genid() % 1000;
        let error = new DdbDatabaseError('', this.url, type, options, id);
        if (!options.skip_connection_check)
            await this.connect();
        const { script, func, args: _args = [], vars = [], urgent, listener, on_more_messages, } = options;
        if (func === 'pnode_run')
            await (this.ppnode_run ??= this.eval(this.python ?
                '\n' +
                    'def pnode_run (nodes, func_name, args, add_node_alias):\n' +
                    '    nargs = size(args)\n' +
                    '    func = funcByName(func_name)\n' +
                    '    \n' +
                    '    if not nargs:\n' +
                    '        return pnodeRun(func, nodes, add_node_alias)\n' +
                    '    \n' +
                    '    args_partial = [ ]\n' +
                    '    args_partial.append(func)\n' +
                    '    for a in args:\n' +
                    '        args_partial.append(a)\n' +
                    '    \n' +
                    '    return pnodeRun(\n' +
                    '        unifiedCall(partial, args_partial),\n' +
                    '        nodes,\n' +
                    '        add_node_alias\n' +
                    '    )\n'
                :
                    // 这个开头的空行很重要，应该可以绕过 webLoginRequired = true 时禁止执行代码
                    // 搜一下 APISocketConsole::execute
                    // https://dolphindb1.atlassian.net/browse/D20-4991
                    '\n' +
                        'def pnode_run (nodes, func_name, args, add_node_alias = true) {\n' +
                        '    nargs = size(args)\n' +
                        '    func = funcByName(func_name)\n' +
                        '    \n' +
                        '    if (!nargs)\n' +
                        '        return pnodeRun(func, nodes, add_node_alias)\n' +
                        '    \n' +
                        '    args_partial = array(any, 1 + nargs, 1 + nargs)\n' +
                        '    args_partial[0] = func\n' +
                        '    args_partial[1:] = args\n' +
                        '    return pnodeRun(\n' +
                        '        unifiedCall(partial, args_partial),\n' +
                        '        nodes,\n' +
                        '        add_node_alias\n' +
                        '    )\n' +
                        '}\n', { urgent: true }));
        // this 上的当前配置需要在 message 到达后使用，先保存起来
        const _listeners = [...this.listeners].reverse();
        // rpc 请求期间需要独占 websocket，所以设计了一个锁，申请之后才能使用
        // ddb 世界观：需要等待上一个 rpc 结果从 server 返回之后才能发起下一个调用  
        // 违反世界观可能造成:  
        // 1. 并发多个请求只返回第一个结果（阻塞，需后续请求疏通）
        // 2. windows 下 ddb server 返回多个相同的结果
        // 既然上一个请求没有出现 websocket error，且函数开头已经调用了 await this.connect() 检查过，
        // 这里也乐观的认为 this.connected && !this.errored 为 true
        return this.lwebsocket.request(async (websocket) => {
            // 独占资源后先检查状态
            if (this.error)
                throw this.error;
            const args = DdbObj.to_ddbobjs(_args);
            const rpc_id = ` (id = ${id})`;
            const command = this.enc.encode((() => {
                switch (type) {
                    case 'function':
                        if (this.verbose)
                            console.log(func + args.map(arg => arg.toString()).join(', ').bracket() + rpc_id);
                        return 'function\n' +
                            `${func}\n` +
                            `${args.length}\n` +
                            `${Number(browser_DDB.le_client)}\n`;
                    case 'script':
                        if (this.verbose)
                            console.log(script + rpc_id);
                        return 'script\n' +
                            script;
                    case 'variable':
                        if (this.verbose)
                            for (let i = 0; i < vars.length; i++)
                                console.log(`${vars[i]} = ${args[i].toString()}`);
                        return 'variable\n' +
                            `${vars.join(',')}\n` +
                            `${vars.length}\n` +
                            `${Number(browser_DDB.le_client)}\n`;
                    case 'connect':
                        if (this.verbose)
                            console.log('connect()' +
                                (this.autologin ?
                                    '\n' +
                                        `login(${this.username.quote()}, ${this.password.quote()})`
                                    :
                                        '') +
                                rpc_id);
                        return 'connect\n' +
                            // 详见 InterProcessIO.cpp#APISocketConsole::parseScript 中的
                            // Util::startWith "connect"
                            (this.autologin ?
                                'login\n' +
                                    this.username + '\n' +
                                    this.password /* encrypted (可选参数) + '\n' + 'false' */
                                :
                                    '');
                }
            })());
            // 使用资源发送请求并等待请求完成
            const result = await new Promise((resolve, reject) => {
                let first_message = true;
                this.on_error = () => {
                    // 这里一定有了 this.error, 不需要再 || new DdbConnectionError(this)
                    reject(this.error);
                };
                this.on_message = buffer => {
                    if (!on_more_messages || first_message)
                        try {
                            if (this.print_message_buffer)
                                console.log(buffer);
                            const message = this.parse_message(buffer, error);
                            listener?.(message, this);
                            for (const listener of _listeners)
                                listener(message, this);
                            const { type, data } = message;
                            switch (type) {
                                case 'print':
                                    if (this.print_message)
                                        console.log(data);
                                    break;
                                case 'object':
                                    first_message = false;
                                    resolve(data);
                                    break;
                                case 'error':
                                    first_message = false;
                                    reject(data);
                                    break;
                            }
                        }
                        catch (error) {
                            // 这里的错误并非 websocket 错误，而是 rpc 错误
                            reject(error);
                        }
                    else
                        on_more_messages(buffer);
                };
                websocket.send(utils_browser_concat([
                    this.enc.encode(`API2 ${this.sid} ${command.length} / ${this.get_rpc_options({ urgent })}\n`),
                    command,
                    ...args.map(arg => arg.pack())
                ]));
            });
            if (this.verbose)
                console.log(result.toString() + rpc_id);
            return result;
        });
    }
    /** eval script through websocket (script command)
        - script?: 执行的脚本  Script to execute
        - options?: 执行选项  execution options
            - urgent?: 紧急 flag，确保提交的脚本使用 urgent worker 处理，防止被其它作业阻塞
                Urgent flag to ensure that submitted scripts are processed by urgent workers to prevent being blocked by other jobs
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage)  Process messages during this rpc (DdbMessage)
            - parse_object?: 在该次 rpc 期间设置 parse_object, 结束后恢复原有，为 false 时返回的 DdbObj 仅含有 buffer 和 le，
                不做解析，以便后续转发、序列化
                Set parse_object during this rpc, and restore the original after the end.
                When it is false, the returned DdbObj only contains buffer and le without parsing,
                so as to facilitate subsequent forwarding and serialization */
    async eval(script, { urgent, listener, parse_object, } = {}) {
        return this.rpc('script', { script, urgent, listener, parse_object });
    }
    /** call function through websocket (function command)
        - func: 函数名  function name
        - args?: `[ ]` 调用参数 (传入的原生 string 和 boolean 会被自动转换为 DdbObj<string> 和 DdbObj<boolean>)
            Call parameters (the incoming native string and boolean will be automatically converted to DdbObj<string> and DdbObj<boolean>)
        - options?: 调用选项  call options
            - urgent?: 紧急 flag。使用 urgent worker 执行，防止被其它作业阻塞
                Emergency flag. Use urgent worker execution to prevent being blocked by other jobs
            - node?: 设置结点 alias 时发送到集群中对应的结点执行 (使用 DolphinDB 中的 rpc 方法)
                When the node alias is set, it is sent to the corresponding node in the cluster for execution (using the rpc method in DolphinDB)
            - nodes?: 设置多个结点 alias 时发送到集群中对应的多个结点执行 (使用 DolphinDB 中的 pnodeRun 方法)
                When setting multiple node aliases, send them to the corresponding multiple nodes in the cluster for execution (using the pnodeRun method in DolphinDB)
            - func_type?: 设置 node 参数时必传，需指定函数类型，其它情况下不传
                It must be passed when setting the node parameter, the function type needs to be specified, and it is not passed in other cases
            - add_node_alias?: 设置 nodes 参数时选传，其它情况不传
                Select to pass when setting the nodes parameter, otherwise not pass
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage)
                Process messages during this rpc (DdbMessage)
            - parse_object?: 在该次 rpc 期间设置 parse_object, 结束后恢复原有，为 false 时返回的 DdbObj 仅含有 buffer 和 le，
                不做解析，以便后续转发、序列化
                Set parse_object during this rpc, and restore the original after the end.
                When it is false, the returned DdbObj only contains buffer and le without parsing,
                so as to facilitate subsequent forwarding and serialization
            - skip_connection_check?: (内部使用) 在首次 await ddb.connect() 建立连接时不能再次调用 await this.connect() 确保连接状态，会导致循环依赖，
                将这个 flag 设为 true 跳过连接状态检查
                (internal use) When await ddb.connect() establishes a connection for the first time, you cannot call await this.connect() again to ensure the connection status, which will lead to circular dependencies.
                 Set this flag to true to skip connection status checks */
    async call(func, args = [], { urgent, node, nodes, func_type, add_node_alias, listener, parse_object, skip_connection_check, on_more_messages } = {}) {
        if (node) {
            utils_browser_assert(func_type in DdbFunctionType, i18n_t('指定 node 时必须设置 func_type'));
            args = [
                node,
                new DdbFunction(func, func_type),
                ...args
            ];
            func = 'rpc';
        }
        if (nodes) {
            args = [
                new DdbVectorString(nodes),
                func,
                new DdbVectorAny(args),
                ...(() => {
                    if (typeof add_node_alias !== 'undefined')
                        return [add_node_alias];
                    if (this.python)
                        return [true];
                    return [];
                })()
            ];
            func = 'pnode_run';
        }
        return this.rpc('function', {
            func,
            args,
            urgent,
            listener,
            parse_object,
            skip_connection_check,
            on_more_messages
        });
    }
    /** 调用 dolphindb 函数，传入 js 原生数组作为参数，返回 js 原生对象或值（调用 DdbObj.data() 后的结果）
        - func: 函数名
        - args?: `[ ]` 调用参数，可以是 js 原生数组，参数在中间且想用 server 函数的默认参数值时可以传 null 占位
        - options?: 调用选项
            - urgent?: 紧急 flag。使用 urgent worker 执行，防止被其它作业阻塞
            - node?: 设置结点 alias 时发送到集群中对应的结点执行 (使用 DolphinDB 中的 rpc 方法)
            - nodes?: 设置多个结点 alias 时发送到集群中对应的多个结点执行 (使用 DolphinDB 中的 pnodeRun 方法)
            - func_type?: 设置 node 参数且参数数组为空时必传，需指定函数类型，其它情况下不传
            - add_node_alias?: 设置 nodes 参数时选传，其它情况不传
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage) */
    async invoke(func, args, options) {
        await (this.pinvoke ??= this.eval(this.python ?
            '\n' +
                'def invoke (func_name, args_json):\n' +
                '    args = fromStdJson(args_json)\n' +
                '    if type(args) != ANY:\n' +
                '        args = cast(args, ANY)\n' +
                '    return unifiedCall(funcByName(func_name), args)\n'
            :
                '\n' +
                    'def invoke (func_name, args_json) {\n' +
                    '    args = fromStdJson(args_json)\n' +
                    '    if (type(args) != ANY)\n' +
                    '        args = cast(args, ANY)\n' +
                    '    return unifiedCall(funcByName(func_name), args)\n' +
                    '}\n', { urgent: true }));
        if (options?.node)
            options.func_type = DdbFunctionType.UserDefinedFunc;
        return (await this.call(args?.length ? 'invoke' : func, args?.length ? [func, JSON.stringify(args)] : undefined, options)).data();
    }
    /** 执行 dolphindb 脚本，返回 js 原生对象或值（调用 DdbObj.data() 后的结果）
        - script?: 执行的脚本
        - options?: 执行选项
            - urgent?: 紧急 flag，确保提交的脚本使用 urgent worker 处理，防止被其它作业阻塞
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage) */
    async execute(script, options) {
        return (await this.eval(script, options))
            .data();
    }
    /** upload variable through websocket (variable command) */
    async upload(
    /** 上传的变量名  Uploaded variables' name */
    vars, 
    /** 上传的变量值  Uploaded variables' value */
    args, { listener, parse_object, } = {}) {
        utils_browser_assert(args.length && args.length === vars.length, i18n_t('variable 指令参数不能为空且参数名不能为空，且数量应该匹配'));
        return this.rpc('variable', { vars, args, listener, parse_object });
    }
    /** 取消当前 session id 对应的所有 console jobs  Cancel all console jobs corresponding to the current session id */
    async cancel() {
        let ddb = new browser_DDB(this.url, this);
        try {
            // 因为是新建的连接，而且执行完脚本之后马上就关闭了，所以不用考虑变量泄漏的问题
            await ddb.eval(`jobs = exec rootJobId from getConsoleJobs() where sessionId = ${this.sid}\n` +
                (this.python ? 'if size(jobs):\n' : 'if (size(jobs))\n') +
                '    cancelConsoleJob(jobs)\n', { urgent: true });
        }
        finally {
            ddb.disconnect();
        }
    }
    /** 解析服务端响应报文，返回去掉 header 的 data buf */
    parse_message(buf, error) {
        // MSG\n
        // <message>\0
        // 'M'.codePointAt(0).to_hex_str()
        if (buf[0] === 0x4d && buf[1] === 0x53 && buf[2] === 0x47 && buf[3] === 0x0a) {
            utils_browser_assert(buf.at(-1) === 0, i18n_t('print 消息的 buffer 应该以 \\0 结束'));
            if (buf.indexOf(0) !== buf.length - 1)
                console.warn(i18n_t('print 消息的 buffer 中间不应该有 \\0'));
            return {
                type: 'print',
                data: this.dec.decode(buf.subarray(4, -1))
            };
        }
        // '1166953221 1 1\n'
        // 'OK\n'
        // '\x04\x00\x02\x00\x00\x00'
        /** index of line feed 0 */
        const ilf0 = buf.indexOf(0x0a); // '\n'
        const parts = this.dec.decode(buf.subarray(0, ilf0)).split(' ');
        /** session id */
        const sid = parts[0];
        if (sid !== this.sid) {
            console.log(i18n_t('session id 从 {{sid}} 变为 {{sid_}}', { sid: this.sid, sid_: sid }));
            this.sid = sid;
        }
        /** 返回对象的数量 */
        const nobj = Number(parts[1]);
        /** 大小端: 协议中大端为 0, 小端为 1 */
        this.le = Number(parts[2]) !== 0;
        const ils1 = ilf0 + 1;
        const ilf1 = buf.indexOf(0x0a, ils1); // '\n'
        /** 'OK' 表示成功，其它文本表示失败 */
        const message = this.dec.decode(buf.subarray(ils1, ilf1));
        if (message !== 'OK') {
            error.message = message;
            return { type: 'error', data: error };
        }
        const bufobj = buf.subarray(ilf1 + 1);
        if (this.print_object_buffer)
            console.log(bufobj);
        return {
            type: 'object',
            data: error.options.parse_object ?? this.parse_object ?
                DdbObj.parse(bufobj, this.le)
                :
                    new DdbObj({
                        form: browser_DdbForm.scalar,
                        type: browser_DdbType.void,
                        length: 0,
                        le: this.le,
                        buffer: bufobj,
                    })
        };
    }
    /** 内部的流订阅方法  Internal stream subscription method */
    async subscribe() {
        // 流表推送过来的第一条数据是 schema，需要特殊处理
        let first = true;
        let win = {
            offset: 0,
            rows: 0,
            segments: [],
            objs: []
        };
        let schema;
        console.log(i18n_t('订阅流表成功:'), 
        // 普通流表结果为 columns (string[])
        // 高可用流表为 [columns (string[]), node sites (string[])]
        (await this.call('publishTable', [
            'localhost',
            new DdbInt(0),
            this.streaming.table,
            (this.streaming.action ||= `api_js_${new Date().getTime()}`),
            ...this.streaming?.filters?.column ? [
                new DdbVoid(), // offset
                this.streaming.filters.column // filter
            ] : []
        ], {
            skip_connection_check: true,
            // 先准备好收到 websocket message 的 callback
            on_more_messages: buffer => {
                try {
                    let data;
                    const dv = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);
                    const i_topic_end = buffer.indexOf(0, 17);
                    // 首个 message 一定是 table schema, 后续消息是 column 片段组成的 any vector
                    const obj = DdbObj.parse(buffer.subarray(i_topic_end + 1), this.le);
                    // server 推数据时遇到错误会返回 string，一般格式为 error.xxx: 错误信息
                    if (obj.form === browser_DdbForm.scalar && obj.type === browser_DdbType.string) {
                        this.disconnect();
                        const value = obj.value;
                        throw new Error(value.slice(value.indexOf(':') + 1).trim());
                    }
                    if (first) {
                        schema = data = obj.data();
                        data.name ||= this.streaming.table;
                        first = false;
                    }
                    else {
                        let rows;
                        // 用了流数据过滤功能后，必然发 table
                        if (obj.form === browser_DdbForm.table) {
                            data = obj.data();
                            data.name ||= schema.name;
                            rows = data.data.length;
                        }
                        else {
                            const _data = obj.data();
                            const { columns } = schema;
                            rows = _data[0]?.length || 0;
                            data = {
                                ...schema,
                                data: utils_browser_seq(rows, i => zip_object(columns, utils_browser_seq(columns.length, j => _data[j][i])))
                            };
                        }
                        win.rows += rows;
                        win.segments.push(data);
                        win.objs.push(obj);
                        if (win.rows >= winsize * 2 && win.segments.length >= 2) {
                            let winsize_ = 0;
                            let i = win.segments.length - 1;
                            // 往前移动至首个累计 winsize_ 超过 winsize 的位置
                            for (; winsize_ < winsize; i--)
                                winsize_ += win.segments[i].data.length;
                            win.segments = win.segments.slice(i);
                            win.objs = win.objs.slice(i);
                            win.offset += win.rows - winsize_;
                            win.rows = winsize_;
                        }
                    }
                    this.streaming.handler({
                        ...this.streaming,
                        id: dv.getBigInt64(9, this.le),
                        time: dv.getBigInt64(1, this.le),
                        topic: this.dec.decode(buffer.subarray(17, i_topic_end)),
                        obj,
                        data,
                        window: win,
                    });
                }
                catch (error) {
                    // 将 error 交给 handler 处理
                    this.streaming.handler({ ...this.streaming, error });
                }
            }
        })).data());
    }
}
/** https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer#security_requirements
    SharedArrayBuffer is disabled by default in most browsers as a security precaution to avoid Spectre attacks.
    But it's still available in Node.js or some browsers. */
const has_shared_array_buffer = typeof SharedArrayBuffer !== 'undefined';
class BigInt128Array {
    static of(...items) {
        return new BigInt128Array(items);
    }
    static from(arrayLike, mapfn, thisArg) {
        if (mapfn) {
            const array = [];
            for (let i = 0; i < arrayLike.length; i++)
                array.push(mapfn.call(thisArg, arrayLike[i], i));
            return new BigInt128Array(array);
        }
        else {
            const v = new BigInt128Array(arrayLike.length);
            v.set(arrayLike);
        }
    }
    BYTES_PER_ELEMENT = 16;
    buffer;
    byteLength;
    byteOffset;
    constructor(fisrtArg, byteOffset, length) {
        if (typeof fisrtArg === 'number') {
            const length = fisrtArg;
            this.buffer = new ArrayBuffer(length * this.BYTES_PER_ELEMENT);
            this.byteOffset = 0;
            this.byteLength = length * this.BYTES_PER_ELEMENT;
        }
        else if (fisrtArg instanceof ArrayBuffer || (has_shared_array_buffer && fisrtArg instanceof SharedArrayBuffer)) {
            this.buffer = fisrtArg;
            this.byteOffset = byteOffset ?? 0;
            let byteLength = 0;
            if (length !== undefined) {
                byteLength = length * this.BYTES_PER_ELEMENT;
                if (byteLength + this.byteOffset > fisrtArg.byteLength)
                    throw new RangeError(`valid typed array length: ${length}`);
            }
            else {
                byteLength = fisrtArg.byteLength - this.byteOffset;
                if (byteLength % this.BYTES_PER_ELEMENT !== 0)
                    throw new RangeError('byte length of BigInt128Array should be a multiple of 16');
            }
            this.byteLength = byteLength;
        }
        else {
            const array = [];
            for (const value of fisrtArg)
                array.push(value);
            this.buffer = new ArrayBuffer(array.length * this.BYTES_PER_ELEMENT);
            this.byteOffset = 0;
            this.byteLength = array.length * this.BYTES_PER_ELEMENT;
            this.set(array);
        }
        return new Proxy(this, {
            get(target, key) {
                if (typeof key === 'string') {
                    const index = Number(key);
                    // only positive integer index is allowed
                    if (Number.isInteger(index) && index >= 0 && index < target.length)
                        return target.at(index);
                }
                return Reflect.get(target, key);
            },
            set(target, key, value) {
                if (typeof key === 'string') {
                    const index = Number(key);
                    if (Number.isInteger(index) && index >= 0 && index < target.length)
                        target.set([value], index);
                    // ignore invalid number index setter, and never set value to target
                    return true;
                }
                return Reflect.set(target, key, value);
            },
            has(target, key) {
                if (typeof key === 'string') {
                    const index = Number(key);
                    if (Number.isInteger(index) && index >= 0 && index < target.length)
                        return true;
                }
                return Reflect.has(target, key);
            }
        });
    }
    get length() {
        return this.byteLength / this.BYTES_PER_ELEMENT;
    }
    set(array, offset = 0) {
        if (offset + array.length > this.length)
            throw new RangeError('offset is out of bounds');
        const dv = new DataView(this.buffer);
        for (let i = 0; i < array.length; i++) {
            const byteOffset = this.byteOffset + (offset + i) * this.BYTES_PER_ELEMENT;
            set_big_int_128(dv, byteOffset, array[i]);
        }
    }
    at(index) {
        const length = this.length;
        if (index < 0)
            index += length;
        if (index >= length || index < 0)
            return undefined;
        const dv = new DataView(this.buffer);
        return get_big_int_128(dv, this.byteOffset + index * this.BYTES_PER_ELEMENT);
    }
    subarray(begin = 0, end = this.length) {
        const length = this.length;
        // subarray arguments should be the same behavior as other TypedArray
        // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/subarray#%E8%AF%B4%E6%98%8E
        if (begin < 0)
            begin += length;
        if (end < 0)
            end += length;
        if (begin < 0)
            begin = 0;
        else if (begin > length)
            begin = length;
        if (end < 0)
            end = 0;
        else if (end > length)
            end = length;
        const newLength = Math.max(end - begin, 0);
        return new BigInt128Array(this.buffer, this.byteOffset + begin * this.BYTES_PER_ELEMENT, newLength);
    }
    [Symbol.iterator]() {
        let index = 0;
        const array = this;
        return {
            next() {
                if (index < array.length)
                    return { value: array.at(index++), done: false };
                else
                    return { done: true };
            },
        };
    }
    toString() {
        const values = [];
        for (const value of this)
            values.push(value);
        return values.join(',');
    }
}
Object.defineProperty(BigInt128Array.prototype, Symbol.toStringTag, {
    configurable: false,
    writable: false,
    enumerable: false,
    value: 'BigInt128Array',
});
// DataView Extends for bigint 128 operations
function get_big_uint_128(dataview, byte_offset, le = true) {
    let cursor = byte_offset + (le ? 15 : 0);
    const end = byte_offset + (le ? -1 : 16);
    const step = le ? -1 : 1;
    let value = 0n;
    while (cursor !== end) {
        value = value << 8n | BigInt(dataview.getUint8(cursor));
        cursor += step;
    }
    return value;
}
function get_big_int_128(dataview, byte_offset, le = true) {
    return BigInt.asIntN(128, get_big_uint_128(dataview, byte_offset, le));
}
function set_big_uint_128(dataView, byte_offset, value, le = true) {
    let cursor = byte_offset + (le ? 0 : 15);
    const end = byte_offset + (le ? 16 : -1);
    const step = le ? 1 : -1;
    while (cursor !== end) {
        dataView.setUint8(cursor, Number(value & 0xffn));
        value = value >> 8n;
        cursor += step;
    }
}
function set_big_int_128(dataview, byte_offset, value, le = true) {
    set_big_uint_128(dataview, byte_offset, value, le);
}
// 大端
// const dataBE = new ArrayBuffer(16)
// const dataViewBE = new DataView(dataBE)
// set_big_int_128(dataViewBE, 0, -34355n, false)
// console.log(dataViewBE.buffer)
// const bigInt128BE = get_big_int_128(dataViewBE, 0, false)
// const bigUint128BE = get_big_uint_128(dataViewBE, 0, false)
// console.log(bigInt128BE.toString(), bigUint128BE.toString())
// 小端
// const dataLE = new ArrayBuffer(16)
// const dataViewLE = new DataView(dataLE)
// set_big_int_128(dataViewLE, 0, -34355n, true)
// console.log(dataViewLE.buffer)
// const bigInt128LE = get_big_int_128(dataViewLE, 0, true)
// const bigUint128LE = get_big_uint_128(dataViewLE, 0, true)
// console.log(bigInt128LE.toString(), bigUint128LE.toString())
//# sourceMappingURL=browser.js.map
;// CONCATENATED MODULE: ./i18n/dict.json
const i18n_dict_namespaceObject_0 = /*#__PURE__*/JSON.parse('{"控制台":{"en":"Console"},"注销":{"en":"Log out"},"登录":{"en":"Log in"},"集群总览":{"en":"Cluster"},"交互编程":{"en":"Shell"},"作业管理":{"en":"Job"},"文件系统":{"en":"DFS"},"日志查看":{"en":"Log"},"刷新":{"en":"Refresh"},"编译并刷新 (r)":{"en":"Compile and refresh (r)"},"输入关键字后按回车可搜索作业":{"en":"Type keywords then press enter to search jobs"},"同步作业":{"en":"Synchronized Jobs"},"个进行中":{"en":"in progress"},"异步作业":{"en":"Asynchronized Jobs"},"个已完成":{"en":"finished"},"定时作业":{"en":"Scheduled Jobs"},"个已配置":{"en":"configured"},"确认停止作业":{"en":"Stop the job?"},"确认删除作业":{"en":"Delete the job?"},"停止作业成功":{"en":"Stopped the job sucessfully"},"删除作业成功":{"en":"Deleted the job successfully"},"作业已完成":{"en":"Job is already finished"},"停止":{"en":"Stop"},"删除":{"en":"Delete"},"请输入用户名":{"en":"Input username"}," 用户名 (默认: admin)":{"en":" username (default: admin)"},"请输入密码":{"en":"Input password"}," 密码 (默认: 123456)":{"en":" password (default: 123456)"},"运行中作业":{"en":"Running Jobs"},"已提交作业":{"en":"Submitted Jobs"},"已定时作业":{"en":"Scheduled Jobs"},"登录成功":{"en":"Logged in successfully."},"用户名或密码错误":{"en":"Incorrect username or password"}," 用户名":{"en":" Username"}," 密码":{"en":" Password"},"停止作业指令发送成功":{"en":"The command of stopping the job was sent successfully"},"集群管理":{"en":"Cluster Management"},"新建集群":{"en":"Create Cluster"},"确认删除集群":{"en":"Delete cluster"},"集群删除成功":{"en":"Cluster deleted"},"新建集群配置":{"en":"New Cluster Configuration"},"集群创建成功":{"en":"Cluster created"},"集群创建失败":{"en":"Cluster creation failed"},"核":{"en":"core"},"提交":{"en":"Submit"},"重置":{"en":"Reset"},"取消":{"en":"Cancel"},"收起侧栏":{"en":"Collapse"},"基本信息":{"en":"Basic Info"},"配置参数":{"en":"Configuration"},"集群参数":{"en":"Cluster Config"},"控制节点参数":{"en":"Controller Config"},"代理节点参数":{"en":"Agent Config"},"请输入参数值":{"en":"Please input a config value."},"保存更改":{"en":"Save"},"编辑参数":{"en":"Edit"},"提交参数修改":{"en":"Submit All"},"重置全部参数":{"en":"Reset All"},"参数重置成功":{"en":"parameters resetting succeed."},"参数重置失败":{"en":"parameters resetting failed."},"参数修改成功":{"en":"Configuration parameters successfully changed."},"参数修改失败":{"en":"Submittion failed."},"确认重置?":{"en":"Reset parameters?"},"确认提交?":{"en":"Submit changes?"},"名称":{"en":"name"},"模式":{"en":"mode"},"版本":{"en":"version"},"服务":{"en":"Service"},"状态":{"en":"status"},"状态_node_type":{"en":" Status"},"操作":{"en":"Action"},"当前值":{"en":"value"},"默认值":{"en":"default value"},"类型":{"en":"Type"},"描述":{"en":"description"},"内存":{"en":"memory"},"命名空间":{"en":"Namesapce"},"日志模式":{"en":"log mode"},"创建时间":{"en":"created at"},"存储类":{"en":"storage class"},"输出到文件":{"en":"file"},"输出到标准输出":{"en":"stdout"},"同时输出到文件和标准输出":{"en":"file & stdout"},"集群类型":{"en":"cluster type"},"节点数":{"en":"number of nodes"},"控制节点存储空间":{"en":"controller data size"},"数据节点存储空间":{"en":"datanode data size"},"只能包含小写字母、数字以及\'-\'，必须以小写字母开头，以小写字母或数字结尾":{"en":"Cluster name must consist of lowercase letters, numbers or \'-\', start with lowercase letter and end with lowercase letter or number."},"集群名称只能包含小写字母、数字以及\'-\'，必须以小写字母开头，以小写字母或数字结尾":{"en":"Cluster name must consist of lowercase letters, numbers or \'-\', start with lowercase letter and end with lowercase letter or number."},"控制节点配置":{"en":"Controller Configuration"},"数据存储空间":{"en":"data size"},"日志存储空间":{"en":"log size"},"数据节点配置":{"en":"Datanode Configuration"},"资源限制":{"en":"Resources Limit"},"确认重启？":{"en":"Restart node?"},"正在重启节点":{"en":"Restarting node"},"重启节点失败":{"en":"Restarting node failed"},"重启":{"en":"Restart"},"输入关键字搜索集群名称":{"en":"Input keywords to search cluster by name"},"内存已用 (已分配) / 最大可用":{"en":"memory used (allocated) / max"},"CPU 用量 (平均负载)":{"en":"CPU usage (load avg.)"},"当前连接 | 最大连接":{"en":"current | max connections"},"硬盘读取 | 硬盘写入":{"en":"hard disk read | write"},"网络接收 | 网络发送":{"en":"network receive | send"},"排队作业 | 运行作业":{"en":"queued | running jobs"},"排队任务 | 运行任务":{"en":"queued | running tasks"},"端口":{"en":"port"},"内存使用量":{"en":"memory usage"},"CPU 使用量":{"en":"cpu usage"},"日志":{"en":"log"},"日志刷新成功":{"en":"Log was refreshed successfully"},"日志刷新失败":{"en":"Failed to refresh log"},"配置":{"en":"Configuration"},"显示所有配置":{"en":"Show All Configurations"},"信息":{"en":"Info"},"总览":{"en":"Overview"},"数据":{"en":"Data"},"数据表":{"en":"Tables"},"DolphinDB: 执行代码":{"en":"DolphinDB: Execute Code"},"DolphinDB: 执行当前行代码":{"en":"DolphinDB: Execute Current Line"},"DolphinDB: 保存代码":{"en":"DolphinDB: Save Code"},"代码已保存在浏览器中":{"en":"The code is saved in the browser"},"确认删除服务？":{"en":"Delete service?"},"服务删除成功":{"en":"Service deleted"},"服务删除失败":{"en":"Service deletion failed"},"确认创建服务？":{"en":"Create service?"},"服务创建成功":{"en":"Service created"},"服务创建失败":{"en":"service creation failed"},"创建":{"en":"Create"},"控制节点":{"en":"Controllers"},"控制节点_node_type":{"en":"controller"},"控制节点_node_type_title":{"en":"Controller"},"数据节点":{"en":"Datanodes"},"数据节点_node_type":{"en":"datanode"},"数据节点_node_type_title":{"en":"Datanode"},"单机节点":{"en":" Standalone"},"单机节点_node_type":{"en":"single"},"单机节点_node_type_title":{"en":"Single"},"单机":{"en":"Standalone"},"集群监控":{"en":"Cluster Monitor"},"计算节点":{"en":"Computenodes"},"计算节点_node_type":{"en":"computenode"},"计算节点_node_type_title":{"en":"Computenode"},"计算节点配置":{"en":"Computenode Configuration"},"计算节点存储空间":{"en":"computenode data size"},"集群":{"en":"cluster"},"单控制节点":{"en":"singlecontroller"},"多控制节点":{"en":"multicontroller"},"您访问的这个控制节点现在不是高可用 (raft) 集群的 leader 节点, 将会为您自动跳转到集群当前的 leader 节点: ":{"en":"The controller you\'re visiting is not the raft leader in the high-availability cluster. You will be redirected to the current leader: "},"左侧编辑器使用指南:\\n":{"en":"Editor usage guide on the left\\n"},"按 Ctrl + E 执行选中代码或光标所在行代码，点击 执行中 可取消作业\\n":{"en":"Press Ctrl + E to execute selected code or the line of code where the cursor is placed. Click Executing to cancel the job\\n"},"按 Ctrl + Shift + E 执行选中代码或全部代码\\n":{"en":"Press Ctrl + Shift + E to execute selected code or all code\\n"},"按 Ctrl + S 保存代码\\n":{"en":"Press Ctrl + S to save the code\\n"},"按 F1 查看更多编辑器命令":{"en":"Press F1 to see more editor commands"},"终端":{"en":"Terminal"},"隐藏终端":{"en":"Hide Terminal"},"连接已关闭":{"en":"connection closed"},"连接出错: ":{"en":"connection errored: "},"已连接到: ":{"en":"connected to "},"共享变量":{"en":"Shared Variables"},"本地变量":{"en":"Local Variables"},"成交量":{"en":"vol"},"开盘价":{"en":"open"},"收盘价":{"en":"close"},"最高价":{"en":"high"},"最低价":{"en":"low"},"模块":{"en":"modules"},"每节点最大可用内存":{"en":"max memory per node"},"每节点最大可用核数":{"en":"max cores per node"},"过期时间":{"en":"expiration"},"最大节点数":{"en":"max nodes"},"绑定 CPU":{"en":"bind CPU"},"许可类型":{"en":"license type"},"授权类型":{"en":"authorization"},"试用版":{"en":"trial"},"商业版":{"en":"commercial"},"社区版":{"en":"community"},"客户名称":{"en":"client name"},"授权客户":{"en":"client name"},"内存已用":{"en":"memory used"},"内存已分配":{"en":"memory allocated"},"内存最大可用":{"en":"max memory available"},"CPU用量":{"en":"CPU usage"},"CPU平均负载":{"en":"CPU average load"},"当前连接":{"en":"current connections"},"最大连接":{"en":"maximum connections"},"硬盘读取":{"en":"disk read rate"},"硬盘写入":{"en":"disk write rate"},"磁盘剩余容量":{"en":"disk free space"},"磁盘总容量":{"en":"disk total capacity"},"网络接收速率":{"en":"network receive rate"},"网络发送速率":{"en":"network send rate"},"排队作业":{"en":"queued jobs"},"运行作业":{"en":"running jobs"},"作业负载":{"en":"job load"},"排队任务":{"en":"queued tasks"},"运行任务":{"en":"running tasks"},"前 10 个查询耗费中间值":{"en":"last 10 queries\' average cost"},"前 10 个查询耗费最大值":{"en":"last 10 queries\' maximum cost"},"前 100 个查询耗费中间值":{"en":"last 100 queries\' average cost"},"前 100 个查询耗费最大值":{"en":"last 100 queries\' maximum cost"},"前一分钟读磁盘容量":{"en":"last minute read volume rate"},"前一分钟写磁盘容量":{"en":"last minute write volume rate"},"前一分钟接收字节数":{"en":"last minute received bytes"},"前一分钟发送字节数":{"en":"last minute send bytes"},"前一批消息延时":{"en":"last message latency"},"所有消息平均延时":{"en":"cumulative average latency"},"节点内存空间上限":{"en":"memory limit"},"CPU 占用率":{"en":"CPU usage"},"CPU 平均负载":{"en":"CPU load average"},"worker 线程数":{"en":"workers"},"executor 线程数":{"en":"executors"},"磁盘":{"en":"Disk"},"磁盘读速率":{"en":"disk read rate"},"磁盘写速率":{"en":"disk write rate"},"前一分钟读磁盘量":{"en":"last minute disk read volume"},"前一分钟写磁盘量":{"en":"last minute disk write volume"},"网络":{"en":"network"},"任务与作业":{"en":"Task and Job"},"查询":{"en":"Query"},"内存_perf":{"en":"Memory"},"网络_perf":{"en":"Network"},"磁盘可用空间占比":{"en":"disk available space ratio"},"数据库":{"en":"Database"},"全部折叠":{"en":"Collapse All"},"前 100 行":{"en":"The first 100 rows of table"},"数据看板":{"en":"Dashboard"},"设置成功，目前小数位数为：":{"en":"Set up successfully, the current decimals is "},"默认":{"en":"Default"},"设置":{"en":"Set"},"设置小数位数: ":{"en":"Set decimal places: "},"重置成功，目前小数位数为：默认":{"en":"The reset is successful, the current number of decimal places is: default"},"确定":{"en":"Confirm"},"正在加载代码编辑器...":{"en":"Loading code editor..."},"在新窗口中打开":{"en":"Open in new window"},"流表":{"en":"streaming table"},"窗口":{"en":"window"},"偏移量":{"en":"offset"},"继续显示流表更新":{"en":"continue to show flow table updates"},"暂停显示流表更新":{"en":"pause showing flow table updates"},"实时":{"en":"real time"},"开始时间":{"en":"Start Time"},"结束时间":{"en":"End Time"},"错误信息":{"en":"Error Message"},"作业 ID":{"en":"Job ID"},"根作业 ID":{"en":"Root Job ID"},"详情":{"en":"Description"},"优先级":{"en":"Priority"},"并行度":{"en":"Parallelism"},"节点":{"en":"Node"},"用户 ID":{"en":"User ID"},"收到作业时间":{"en":"Received Time"},"会话 ID":{"en":"Session ID"},"客户端 IP":{"en":"Client IP"},"客户端端口":{"en":"Client Port"},"全部任务":{"en":"Total Tasks"},"已完成任务":{"en":"Finished Tasks"},"正在运行的任务":{"en":"Running Tasks"},"状态_job":{"en":"Status"},"主题":{"en":"Theme"},"进度":{"en":"Progress"},"开始日期":{"en":"Start Date"},"结束日期":{"en":"End Date"},"执行频率":{"en":"Execution Frequency"},"执行定时任务的时间":{"en":"Time to Execute"},"执行定时任务的日期":{"en":"Date to Execute"},"操作_job":{"en":"Actions"},"首个任务开始时间":{"en":"First Task Start Time"},"最后任务开始时间":{"en":"Last Task Start Time"},"队列":{"en":"Queue"},"类型_job":{"en":"Type"},"点击了 RefId 链接:":{"en":"RefId link clicked: "},"实际位数":{"en":"actual decimals"},"输入应为空或介于 0 ~ 20":{"en":"Input should be empty or between 0 and 20"},"重置成功，目前小数位数为：实际位数":{"en":"Reset successfully, now with actual decimals "},"上传文件":{"en":"Upload File"},"文件上传路径":{"en":"Upload Path"},"上传路径不能为空":{"en":"Upload path cannot be empty"},"点击此处或者拖拽文件到此处":{"en":"Click or drag and drop a File here"},"确认启动？":{"en":"Start Node?"},"启动节点失败":{"en":"Starting node failed"},"启动":{"en":"Start"},"确认暂停？":{"en":"Pause Node?"},"暂停成功":{"en":"Pausing node succeeded"},"暂停节点失败":{"en":"Pausing node failed"},"暂停":{"en":"Pause"},"添加列":{"en":"Add column"},"显示shchema信息":{"en":"Show schema"},"显示前一百行数据":{"en":"Show first 100 rows"},"添加成功":{"en":"Add successfully"},"列名":{"en":"Name"},"请输入列名":{"en":"Please enter the column name!"},"请选择该列的类型":{"en":"Please select the type of the column!"},"选择类型":{"en":"Select type"},"注释":{"en":"Comment"},"启动成功":{"en":"Start succeeded"},"上传文件至 {{instance}}":{"en":"Upload file to {{instance}}"},"Pod 内路径，如: /data/ddb/server/":{"en":"The path in the Pod, such as: /data/ddb/server/"},"文件大小限制 100 MB":{"en":"File size limit 100 MB"},"文件 {{filename}} 上传成功":{"en":"Upload succeeded"},"文件 {{filename}} 上传失败":{"en":"Upload failed"},"设置_settings":{"en":"Settings"},"文件上传成功":{"en":"File upload successfully"},"文件上传失败":{"en":"File upload failed"},"向下复制行":{"en":"Copy row down"},"删除行":{"en":"Delete row"},"按 Ctrl + D 向下复制行\\n":{"en":"Press Ctrl + D to copy lines down\\n"},"按 Ctrl + Y 删除行\\n":{"en":"Press Ctrl + Y to delete lines\\n"},"查看表结构":{"en":"Show table schema"},"字体已全部加载":{"en":"Fonts are all loaded"},"正在加载字体...":{"en":"loading font"},"首页":{"en":"Index"},"模块数量":{"en":"number of modules"},"当前为中信证券的 web, 启用单点登录":{"en":"Currently for CITIC Securities\' web, single sign-on is enabled"},"没有 sessionData 参数，将会跳转到登录页":{"en":"Without the sessionData parameter, it will jump to the login page"},"通过非 /dolphindb/ 路径直接访问中信证券 web":{"en":"Direct access to CITIC Securities web through a path other than /dolphindb/"},"ticket 登录失败":{"en":"ticket logged in failed"},"{{username}} 使用账号密码登陆成功":{"en":"{{username}} successfully logged in with the account password"},"没有自动登录的 ticket":{"en":"Tickets without auto-login"},"{{username}} 使用 ticket 登陆成功":{"en":"{{username}} successfully logged in with ticket"},"通过 session 登录失败，即将跳转到单点登录页":{"en":"Failed to log in through session, will jump to the single sign-on page"},"通过 session 登录成功:":{"en":"Successful logged in by session:"},"节点类型:":{"en":"node type:"},"节点名称:":{"en":"node name:"},"控制节点:":{"en":"control node:"},"版本:":{"en":"version:"},"集群节点:":{"en":"cluster nodes:"},"当前节点:":{"en":"current node:"},"保存代码至浏览器中":{"en":"Save the code to the browser"},"保存":{"en":"Save"},"执行选中代码或全部代码":{"en":"Execute the selected code or all code"},"执行":{"en":"Execute"},"当前连接正在执行作业，请等待":{"en":"The current connection is executing a job, please wait"},"按 Tab 补全函数\\n":{"en":"Press Tab to complete functions\\n"},"查看数据表结构":{"en":"View data table structure"},"查看前一百行数据":{"en":"View the first hundred rows of data"},"词典":{"en":"dict"},"个键":{"en":"keys"},"集合":{"en":"set"},"向量":{"en":"vector"},"个元素":{"en":"items"},"表格":{"en":"table"},"行":{"en":"rows"},"列":{"en":"columns"},"矩阵":{"en":"matrix"},"备份管理":{"en":"Backup Management"},"名字":{"en":"Name"},"备份信息":{"en":"Backup Information"},"主机":{"en":"Host"},"新建备份":{"en":"Create Backup"},"基础信息":{"en":"Basic Information"},"服务器信息":{"en":"Server Information"},"最大备份数":{"en":"Max Backups"},"备份":{"en":"Backups"},"还原":{"en":"Restores"},"服务地址":{"en":"End Point"},"供应商":{"en":"Providers"},"访问密钥":{"en":"AccessKey"},"加密密钥":{"en":"SecretAccessKey"},"共享目录_backup":{"en":"Path"},"调度中":{"en":"Scheduled"},"清理中":{"en":"Complete"},"清理完成":{"en":"Cleaned"},"参数异常":{"en":"Invalid"},"路径信息":{"en":"Path Information"},"用户名":{"en":"User ID"},"新建":{"en":"Create"},"此项必填":{"en":"This item is required"},"集群信息":{"en":"Cluster Information"},"桶名":{"en":"Prefix"},"存储类名称":{"en":"Storage Class Name"},"名称_backup":{"en":"Name"},"创建时间_backup":{"en":"Created At"},"操作_backup":{"en":"Operation"},"完成":{"en":"Complete"},"云端存储配置":{"en":"Cloud Storage Configuration"},"添加云端存储配置":{"en":"Add Cloud Storage Configuration"},"云端存储类型":{"en":"Cloud Storage Type"},"备份源":{"en":"Source of Backup"},"存储路径":{"en":"Storage Path"},"存储信息":{"en":"Storage Information"},"存储空间":{"en":"Storage Space"},"确认删除？":{"en":"Delete?"},"确认重新触发？":{"en":"Retrigger?"},"重新触发":{"en":"Retrigger"},"类型_backup":{"en":"Type"},"存储备份文件的存储系统配置":{"en":"Storage system configuration for storing backup files"},"存储临时备份文件的存储卷名称":{"en":"The name of the storage volume where temporary backup files are stored"},"区域":{"en":"Region"},"this.streaming.data 中的元素应该是 vector":{"en":"Elements in this.streaming.data should be vector"},"没有 mandate_code 参数，将会跳转到登录页":{"en":"Without the mandatory_code parameter, it will jump to the login page"},"代码地图:":{"en":"Code Map"},"回车补全:":{"en":"Enter Completion"},"是否取消执行中的作业？":{"en":"Do you want to cancel the job in progress?"},"取消作业":{"en":"Cancel Job"},"不要取消":{"en":"Do Not Cancel"},"执行中":{"en":"Executing"},"空闲中":{"en":"Idle"},"按 Tab 或 Enter 补全函数\\n":{"en":"Press Tab or Enter to complete functions\\n"},"控制是否显示缩略图":{"en":"Controls whether code mini map are displayed"},"控制除了 Tab 键以外，Enter 键是否同样可以接受建议。这能减少“插入新行”和“接受建议”命令之间的歧义。":{"en":"Controls whether the Enter key accepts suggestions in addition to the Tab key. This reduces the ambiguity between the \\"insert newline\\" and \\"accept suggestion\\" commands."},"函数文档 {{fname}} 已加载":{"en":"function documentation {{fname}} loaded"},"下限必须小于上限":{"en":"Lower limit must be less than upper limit"},"上限必须大于下限":{"en":"Upper limit must be greater than lower limit"},"升级":{"en":"Upgrade"},"下限":{"en":"Lower Limit"},"上限":{"en":"Upper Limit"},"升级失败，请查看网络请求":{"en":"Upgrade failed, please check the network request"},"升级 {{name}}":{"en":"Upgrade {{name}}"},"的词典":{"en":" dict"},"的 {{type}} 集合":{"en":" {{type}} set"},"的 {{type}} 向量":{"en":"{{type}} vector"},"的表格":{"en":" table"},"的流表":{"en":" streaming table"},"的矩阵":{"en":" matrix"},"排队中":{"en":"queuing"},"已完成":{"en":"completed"},"出错了":{"en":"failed"},"运行中_job.status":{"en":"running"},"登录后可查看{{info}}":{"en":"You need to be logged in to view {{info}}"},"当前节点日志":{"en":"the logs of the current node"},"去登录":{"en":"To log in"},"下限必须小于或等于上限":{"en":"The lower bound must be less than or equal to the upper bound"},"上限必须大于或等于下限":{"en":"The upper bound must be greater than or equal to lower bound"},"升级成功":{"en":"Update successed"},"运行正常":{"en":"Available"},"等待调度":{"en":"Unschedulable"},"已暂停":{"en":"Paused"},"准备中_pending":{"en":"Pending"},"开发":{"en":"development"},"生产":{"en":"production"},"使用默认账号密码登录失败":{"en":"Failed to log in with the default account and password"},"license 版本":{"en":"license version"},"web 构建时间":{"en":"web build time"},"web 开始初始化，当前处于{{mode}}模式，版本为 {{version}}":{"en":"The web starts to initialize, it is currently in {{mode}} mode, and the version is {{version}}"},"License Server 地址":{"en":"License Server Address"},"运行以下脚本时出错:\\n":{"en":"An error occurred while running the following script:\\n"},"调用 {{func}} 函数时出错，参数为:\\n":{"en":"Error calling {{func}} function with arguments:\\n"},"调用栈:\\n":{"en":"Call stack:\\n"},"web 初始化成功":{"en":"web initialization succeeded"},"使用 admin 账号密码登录失败":{"en":"Log in with admin account password failed"},"没有自动登录的 username":{"en":"No autologin username"},"getTablesByTabletChunk 应该只返回一个对应的 table":{"en":"getTablesByTabletChunk should only return a corresponding table"},"应该只有一个满足条件的 PartitionFile 在 PartitionDirectory 下面":{"en":"There should be only one PartitionFile that satisfies the condition under PartitionDirectory"},"directories 和 file 应该只有一个有值，另一个为空":{"en":"directories and file should only have a value, the other should be empty"},"数据库路径应该以 dfs:// 开头":{"en":"The database path should start with dfs://"},"结构":{"en":"schema"},"分区数据":{"en":"partition data"},"分区的数据":{"en":"partitioned data"},"分区":{"en":"partitions"},"sites 中应该有存放 chunk 所在节点的信息":{"en":"There should be information about the node where the chunk is stored in sites"},"登录后查看":{"en":"Log in to view"},"去登陆":{"en":"To log in"},"web 强制登录:":{"en":"web login required:"},"请登录":{"en":"Please log in"},"其他方式":{"en":"Other"},"机器指纹绑定":{"en":"Machine Fingerprint Bind"},"在线验证":{"en":"Online Verify"},"LicenseServer 验证":{"en":"LicenseServer Verify"},"是否为 LicenseServer":{"en":"Is LicenseServer"},"是":{"en":"Yes"},"否":{"en":"No"},"所有节点最大可用内存":{"en":"Max memory all nodes"},"所有节点最大可用核数":{"en":"Max cores all nodes"},"数据节点:":{"en":"datanode:"},"测试版":{"en":"test"},"所有节点可用内存之和":{"en":"The sum of available memory of all nodes"},"所有节点可用核数之和":{"en":"The sum of available cores of all nodes"},"没有找到可以正常访问的节点":{"en":"Can not find a node that can be accessed normally"},", 即将关闭页面":{"en":", the page will be closed"},"设置注释":{"en":"Set comment"},"设置注释成功":{"en":"Set comment successfully"},"输入列名，支持包含特殊字符":{"en":"Enter the name of the column, which supports special characters"},"运行中_node":{"en":"Ready"},"调度中_backup":{"en":"Scheduling"},"运行中_backup":{"en":"Running"},"运行成功":{"en":"Succeeded"},"运行失败_backup":{"en":"Failed"},"已就绪":{"en":"Ready"},"调度中_cluster":{"en":"Progressing"},"运行失败_cluster":{"en":"Unavailable"},"未就绪":{"en":"Unknown"},"转译错误信息出错，待解析文本 {{ text }}":{"en":"An error occurred while translating the error message, text to be parsed: {{ text }}"},"启用 JIT":{"en":"Enable JIT"},"日志管理":{"en":"Log Management"},"复制":{"en":"Copy"},"复制成功":{"en":"Copied successfully"},"上一步":{"en":"Go Back"},"建表中...":{"en":"Creating table..."},"创建失败":{"en":"Creation has failed"},"创建成功":{"en":"Successfully created"},"数据库路径 (directory)":{"en":"directory"},"表类型":{"en":"table type"},"分布式表":{"en":"partition table"},"维度表":{"en":"dimension table"},"表名":{"en":"Table Name"},"已存在相同名称的表":{"en":"A table with the same name already exists"},"数据列":{"en":"data columns"},"分区列":{"en":"partition columns"},"排序列":{"en":"sort columns"},"重复值处理方式":{"en":"de-duplicate method"},"保留全部":{"en":"keep all"},"保留最后一项":{"en":"keep last"},"保留第一项":{"en":"keep first"},"下一步":{"en":"Next"},"创建数据表":{"en":"Create table"},"命令预览":{"en":"Command preview"},"执行成功":{"en":"Execution finished"},"创建数据库":{"en":"Create database"},"数据库路径不能为空":{"en":"db path cannot be empty"},"数据库路径不能包含双引号":{"en":"db path cannot contain double quotes"},"请输入数据库路径":{"en":"Please enter db path"},"分区层级":{"en":"partition layer count"},"分区层级必须在1-3之间":{"en":"Partition layer count must be between 1 and 3"},"分区类型不能为空":{"en":"Partition type cannot be empty"},"顺序分区。分区方案格式为：整型标量，表示分区的数量。":{"en":"Sequential partition. partitionScheme format: integer scalar, indicating the number of partitions."},"顺序分区":{"en":"sequential partition"},"范围分区。分区方案格式为：向量，向量的任意两个相邻元素定义分区的范围。":{"en":"Range partition. partitionScheme format: vector, where any two adjacent elements of the vector define the range of a sub-partition."},"范围分区":{"en":"range partition"},"哈希分区。分区方案格式为：元组，第一个元素是分区列的数据类型，第二个元素是分区的数量。":{"en":"Hash partition. partitionScheme format: tuple, where the first element is the data type of the partition column, and the second element is the number of partitions."},"哈希分区":{"en":"hash partition"},"值分区。分区方案格式为：向量，向量的每个元素定义了一个分区。":{"en":"Value partition. partitionScheme format: vector, where each element of the vector defines a partition."},"值分区":{"en":"value partition"},"列表分区。分区方案格式为：嵌套向量，外层向量的每个元素定义了一个分区。":{"en":"List partition. partitionScheme format: vector of vector, where each element of the outer vector defines a partition."},"列表分区":{"en":"list partition"},"分区方案不能为空":{"en":"Partition scheme cannot be empty"},"分区位置":{"en":"partition location"},"存储引擎 (engine)":{"en":"engine"},"请选择存储引擎":{"en":"Please select storage engine"},"OLAP 引擎。OLAP 数据表的每个列存储为一个文件，数据以追加的方式存储到相应的列文件中，因此，数据写入的顺序决定了它们的存储顺序。":{"en":"OLAP engine. Each column of an OLAP table is stored as a file, and the data is stored in the corresponding column file in an append-only manner, so the order in which the data is written determines their storage order."},"TSDB 引擎。采用经典的 LSMT 模型，引入了排序列以提升在用户查询某个或少数几个设备（股票）在特定时间段数据的场景下的查询性能。":{"en":"TSDB engine. Using the classic LSMT model, the sorted column is introduced to improve the query performance in the scenario where the user queries the data of a few devices (or stocks) in a specific time period."},"写入事务原子性 (atomic)":{"en":"atomic"},"请选择写入事务原子性":{"en":"Please select transaction atomicity"},"写入事务的原子性层级为事务，即一个事务写入多个分区时，若某个分区被其他写入事务锁定而出现写入冲突，则该事务的写入全部失败。因此，该设置下，不允许并发写入同一个分区。":{"en":"Transaction level transaction atomicity. That is, when a transaction writes to multiple partitions, if a partition is locked by another write transaction and a write conflict occurs, all writes of this transaction fail. Therefore, in this setting, concurrent writes to the same partition are not allowed."},"事务级原子性":{"en":"transaction level transaction atomicity"},"写入事务的原子性层级为分区。若一个事务写入多个分区时，某分区被其它写入事务锁定而出现冲突，系统会完成其他分区的写入，同时对之前发生冲突的分区不断尝试写入，尝试数分钟后仍冲突才放弃。此设置下，允许并发写入同一个分区，但由于不能完全保证事务的原子性，可能出现部分分区写入成功而部分分区写入失败的情况。同时由于采用了重试机制，写入速度可能较慢。":{"en":"Partition level transaction atomicity. If a transaction writes to multiple partitions, and one of the partitions is locked by another write transaction so that a conflict occurs, the system will complete the write to other partitions first, and continuously attempts to write to the conflicted partition, giving up after several minutes of unsuccessful attempts. In this setting, concurrent writes to the same partition are allowed, but because the atomicity of the transaction cannot be guaranteed, it is possible that some partitions are written successfully while others fail. At the same time, due to the retry mechanism, the write speed may be slower."},"分区级原子性":{"en":"partition level transaction atomicity"},"分区粒度 (chunkGranularity)":{"en":"chunkGranularity"},"请选择分区粒度":{"en":"Please select chunk granularity"},"表级分区，设置后支持同时写入同一分区的不同表。":{"en":"Table level chunk granularity. Different tables can be written to the same partition at the same time."},"表级分区":{"en":"table level chunk granularity"},"数据库级分区，设置后只支持同时写入不同分区。":{"en":"Database level chunk granularity. Only different partitions can be written to at the same time."},"数据库级分区":{"en":"database level chunk granularity"},"已存在相同名称的列":{"en":"A column with the same name already exists"},"数据类型":{"en":"Data Type"},"备注":{"en":"Comment"},"压缩算法":{"en":"Compression"},"列 {{columns}} 不支持排序":{"en":"Column {{columns}} does not support sorting"},"索引列 {{columns}} 不能为 TIME, TIMESTAMP, NANOTIME, NANOTIMESTAMP 类型":{"en":"Index column {{columns}} cannot be of type TIME, TIMESTAMP, NANOTIME, and NANOTIMESTAMP"},"清空":{"en":"Clear"},"预览":{"en":"Preview"},"脚本预览":{"en":"script Preview"},"创建数据库的脚本:":{"en":"Scripts for creating database:"},"创建数据库成功":{"en":"Database created successfully."},"{{i18nIndex}}分区类型 (partitionType)":{"en":"{{i18nIndex}} partitionType"},"请选择{{i18nIndex}}分区类型":{"en":"Please select the partition type of the {{i18nIndex}} partition"},"{{i18nIndex}}分区方案 (partitionScheme)":{"en":"{{i18nIndex}} partitionScheme"},"请输入{{i18nIndex}}分区方案":{"en":"Please enter the partition scheme of the {{i18nIndex}} partition"},"参考教程":{"en":"Reference"},"一级":{"en":"first"},"二级":{"en":"second"},"三级":{"en":"third"},"仅支持单机节点和数据节点创建数据表":{"en":"Only single node and data node support create table"},"当前节点不是数据节点或单机节点，暂不支持在当前节点上创建数据库。":{"en":"The current node is not a data node or a single node, and does not support creating database yet."},"仅支持单机节点和数据节点创建数据库":{"en":"Only single node and data node support create database"},"小数位数":{"en":"Scale"},"请输入小数位数":{"en":"Please input scale"},"小数位数超出限制":{"en":"Scale out of limit"},"分区方案":{"en":"Partition Schema"},"请根据分区方案顺序选择分区列":{"en":"Please select partition columns according to partition schema"},"该数据库没有需要配置的分区列":{"en":"This database has no partition columns that need to be configured"},"请先登录再调用 init":{"en":"Please login first before calling init"},"登录失败":{"en":"Login Failed"},"jwt token 过期时间无法解析:":{"en":"invalid jwt token expire time:"},"License 过期提醒":{"en":"License expiration reminder"},"DolphinDB License 已过期，请联系管理人员立即更新，避免数据库关闭":{"en":"DolphinDB License has expired, please contact the administrator to update immediately to avoid database shutdown"},"DolphinDB License 将在两周内过期，请提醒管理人员及时更新，避免数据库过期后自动关闭":{"en":"The DolphinDB License will expire within two weeks, please remind the administrators to update it in time to avoid automatic shutdown of the database after expiration"},"修改密码":{"en":"Change password"},"登出":{"en":"Log out"},"修改失败":{"en":"Fail to change password"},"两次输入密码不一致":{"en":"The passwords entered twice are inconsistent"},"请输入新密码":{"en":"Please enter a new password"},"请重新输入新密码":{"en":"Please re-enter the new password"},"确认":{"en":"Confirm"},"刷新信息":{"en":"Refresh"},"启动节点":{"en":"Start node"},"停止节点":{"en":"Stop node"},"集群节点配置":{"en":"Cluster node configuration"},"已启动":{"en":"activated"},"未启动":{"en":"unactivated"},"work 线程数":{"en":"num of worker"},"读速率":{"en":"read rate"},"前一分钟读入":{"en":"last minute read"},"写速率":{"en":"write rate"},"前一分钟写入":{"en":"last minute written"},"用量":{"en":"used"},"接收速率":{"en":"receive rate"},"前一分钟接收":{"en":"last minute received bytes"},"发送速率":{"en":"send rate"},"前一分钟发送":{"en":"last minute sent bytes"},"代理节点":{"en":"agent node"},"单机总览":{"en":"single node overview"},"worker 线程总数":{"en":"num of worker"},"executor 线程总数":{"en":"num of executor"},"全部展开":{"en":"expand all"},"占用率":{"en":"usage"},"平均负载":{"en":"average load"},"已分配":{"en":"allocated"},"读":{"en":"read"},"前一分钟读":{"en":"read (1 min)"},"写":{"en":"write"},"前一分钟写":{"en":"written (1 min)"},"收":{"en":"receive"},"前一分钟收":{"en":"received (1 min)"},"发":{"en":"send"},"前一分钟发":{"en":"sent (1 min)"},"代理节点: ":{"en":"agent node"},"全选":{"en":"select all"},"控制":{"en":"controller"},"代理":{"en":"agent"},"节点不可停止":{"en":"node is not stoppable"},"确认启动以下节点":{"en":"Confirm the following nodes are to be started"},"确认停止以下节点":{"en":"Confirm that the following nodes are to be stopped"},"运行中":{"en":"running"},"当前连接数":{"en":"connections"},"最大连接数":{"en":"max number of connections"},"前一批消息时延":{"en":"pre batch msgs delay"},"所有消息平均时延":{"en":"all msgs avg latency"},"控制节点不可停止，停止控制节点将无法对集群节点进行启停操作。":{"en":"The control node cannot be stopped.Stopping the control node will not be able to start and stop the cluster nodes."},"代理节点不可停止，停止代理节点会导致控制节点发出的命令无法执行。":{"en":"The agent node cannot be stopped. Stopping the agent node will cause the commands issued by the controller node to be unable to be executed."},"代理节点不可跳转":{"en":"agent nodes cannot navigate"},"当前用户未登录，请登陆后再进行启停操作。":{"en":"Please log in before this operation."},"CDN 部署时无法使用配置管理":{"en":"Configuration management is not available for CDN deployments"},"设置当前代码执行的 SQL 标准":{"en":"Sets the SQL standard for the current code execution"},"SQL 标准:":{"en":"SQL Standard:"},"确认切换 SQL 标准？":{"en":"Confirm to switch SQL standard?"},"切换 SQL Standard 后，当前页面将会刷新，且内存变量会清空":{"en":"After switching to SQL Standard, the current page will be refreshed and the memory variables will be cleared"},"SQL 标准":{"en":"SQL Standard"},"取消作业指令发送成功":{"en":"Cancel job command sent successfully"},"点击可以取消当前执行中的作业":{"en":"Click to cancel the currently executing job"},"··· 共 {{total_lines}} 行 ···":{"en":"··· {{total_lines}} lines in total ···"},"去启动节点":{"en":"To start the node"},"没有正在运行的数据节点和计算节点":{"en":"No running data nodes and compute nodes"},"偏移":{"en":"offset"},"因子平台":{"en":"FactorLab"},"标题":{"en":"Title"},"数据源":{"en":"DataSource"},"基本属性":{"en":"Basic properties"},"数值轴，适用于连续数据":{"en":"Numerical axis, suitable for continuous data"},"类目轴，适用于离散的类目数据":{"en":"Category axis, suitable for discrete category data"},"时间轴，适用于连续的时序数据":{"en":"Time axis, suitable for continuous time series data"},"对数轴，适用于对数数据":{"en":"Logarithmic axis, suitable for logarithmic data"},"X 轴名称":{"en":"X-axis name"},"增加数据列":{"en":"Add data column"},"增加 Y 轴":{"en":"Add Y axis"},"坐标列":{"en":"Axis column"},"是否展示 X 缩略轴":{"en":"Display the X thumbnail axis"},"是否展示 Y 缩略轴":{"en":"Display the Y thumbnail axis"},"保存并应用":{"en":"Save and Apply"},"请先选中您需要更改配置的图表":{"en":"Please select the chart you want to change the configuration first"},"请为您的图表配置数据源":{"en":"Please configure the data source for your chart"},"画布":{"en":"Canvas"},"图表":{"en":"Charts"},"图例":{"en":"Legend"},"提示":{"en":"Hint"},"X 轴缩略轴":{"en":"X-axis abbreviated axis"},"Y 轴缩略轴":{"en":"Y-axis abbreviated axis"},"位置":{"en":"Position"},"左侧":{"en":"Left"},"关联 Y 轴":{"en":"Associated Y axis"},"列配置":{"en":"Column configuration"},"增加映射":{"en":"Add mapping"},"原始列名":{"en":"Original column name"},"展示列名":{"en":"Show column names"},"分页设置":{"en":"Pagination settings"},"需要分页":{"en":"Need pagination"},"默认分页数":{"en":"Default number of pages"},"编辑数据源":{"en":"Edit data source"},"堆叠值":{"en":"Stack value"},"同个类目轴上为数据列配置相同的堆叠值可以堆叠放置":{"en":"Series configurations with the same stack value on the same category axis can be stacked."},"关联变量":{"en":"Associated variables"},"实时计算":{"en":"Computing"},"流计算发布订阅状态":{"en":"Stream Computing Publish And Subscribe Status"},"流引擎状态":{"en":"Streaming Engines Status"},"流表状态":{"en":"Stream Tables Status"},"刷新成功":{"en":" refresh successfully"},"订阅线程状态":{"en":"Subscriber Thread State"},"表 SubWorkers 监控订阅节点的工作线程的状态。工作线程状态信息会按照 topic 来展示。":{"en":"The table SubWorkers monitors the state of worker threads of subscribing nodes. Worker thread status information will be displayed by topic."},"表 PubTables 监控流数据表状态。每一行表示一个流数据表的信息。":{"en":"Stream data table status"},"订阅状态":{"en":"subscriber status"},"表 SubConns 监控本地订阅节点和订阅节点之间的连接状态。":{"en":"The table SubConns monitors the connection status between the local subscribing node and subscribing nodes."},"发布状态":{"en":"Publisher Status"},"表 PubConns 监控本地发布节点和它的所有订阅节点之间的连接状态。":{"en":"The table PubConns monitors the connection status between the local publishing node and all its subscribing nodes."},"持久化线程状态":{"en":"Persistent Thread State"},"表 PersistWorkers 监控负责持久化流数据表的工作线程的状态。":{"en":"Table PersistWorkers monitors the status of worker threads responsible for persisting streaming data tables."},"持久化共享流表状态":{"en":"Persistent Shared Stream Table State"},"表 PersistenceMeta 返回启用了持久化的共享流数据表的元数据。":{"en":"Table PersistenceMeta returns the metadata of a shared stream data table with persistence enabled."},"非持久化共享流表状态":{"en":"Non-persistent Shared Stream Table State"},"表 sharedStreamingTableStat 返回未启用持久化的共享流数据表的元数据。":{"en":"The table sharedStreamingTableStat returns the metadata of the shared streaming table that does not enable persistence."},"表 EngineStat 返回流计算引擎的状态。":{"en":"The table EngineStat returns the status of the stream computing engine."},"批量取消订阅":{"en":"Batch unsubscribe"},"确认取消订阅选中的流数据表吗？":{"en":"Are you sure to unsubscribe the selected stream data table?"},"批量删除":{"en":"Batch Delete"},"确认删除选中的引擎吗？":{"en":"Are you sure you want to delete the selected engine?"},"确认删除选中的持久化共享数据流表吗？":{"en":"Are you sure to delete the selected persistent shared data flow table?"},"确认删除选中的共享流数据表吗？":{"en":"Are you sure to delete the selected shared stream data table?"},"线程 ID":{"en":"Worker ID"},"订阅主题":{"en":"Topic"},"订阅队列深度":{"en":"Queue Depth"},"订阅队列深度上限":{"en":"Queue Depth Limit"},"最近处理失败的错误信息":{"en":"Last Error Message"},"最近处理失败的时刻":{"en":"Last Failed Timestamp"},"处理失败的消息总数":{"en":"Failed Message Count"},"已处理消息数":{"en":"Processed Message Count"},"最近消息 ID":{"en":"Last Message ID"},"最近处理失败的消息 ID":{"en":"Last Failed Message ID"},"共享流数据表":{"en":"Table Name"},"订阅节点":{"en":"Subscriber"},"最近消息的偏移量":{"en":"Message Offset"},"订阅任务":{"en":"Actions"},"发布队列深度上限":{"en":"Queue Depth Limit"},"发布队列深度":{"en":"Queue Depth"},"发布节点":{"en":"Publisher"},"接收消息总量":{"en":"Cumulative Message Count"},"接收消息平均延迟":{"en":"Average Message Latency"},"最近消息的延迟":{"en":"Last Message Latency"},"最近消息的接收时刻":{"en":"Last Update"},"总行数":{"en":"Total Rows"},"内存中行数":{"en":"Number of Rows in Memory"},"内存中偏移量":{"en":"Offset in Memory"},"磁盘中行数":{"en":"Number of Rows on Disk"},"磁盘中偏移量":{"en":"Offset on Disk"},"是否异步持久化":{"en":"Whether to Persist Asynchronously"},"保留时间":{"en":"Retention Minutes"},"是否压缩":{"en":"Compress"},"持久化路径":{"en":"Persistence Dir"},"持久化线程":{"en":"Persistence Worker"},"Raft 组":{"en":"Raft Group"},"Raft 日志序号":{"en":"Last Log Seq"},"行数":{"en":"Number of Rows"},"列数":{"en":"Number of Columns"},"字节数":{"en":"Bytes"},"引擎名":{"en":"Engine Name"},"引擎类型":{"en":"Engine Type"},"最近错误信息":{"en":"Last Error Message"},"分组数":{"en":"Number of Groups"},"行数（单表）":{"en":"Number of Rows (Single Table)"},"行数（左表）":{"en":"Number of Rows (Left Table)"},"行数（右表）":{"en":"Number of Rows (Right Table)"},"内存清理阈值":{"en":"Memory Cleanup Threshold"},"指标数量":{"en":"Number of Indicators"},"指标源码":{"en":"Indicator Source Code"},"用户":{"en":"User"},"窗口长度":{"en":"Window Length"},"步长":{"en":"Step Size"},"是否使用系统时间":{"en":"Use System Time"},"快照目录":{"en":"Snapshot Directory"},"快照间隔":{"en":"Snapshot Interval"},"快照 ID":{"en":"Snapshot ID"},"快照时间戳":{"en":"Snapshot Timestamp"},"触发方式":{"en":"Trigger"},"触发间隔":{"en":"Trigger Interval"},"时间间隔":{"en":"Time Interval"},"等待时间间隔":{"en":"Waitting Time Interval"},"过滤条件":{"en":"Filter Condition"},"0 为绿色，1-10000 为橙色，10000 以上为红色。":{"en":"0 is green, 1-10000 is orange, and above 10000 is red."},"取消订阅成功":{"en":"Successfully unsubscribed"},"引擎删除成功":{"en":"Engine deleted successfully"},"流数据表删除成功":{"en":"Stream data table deleted successfully"},"流数据表状态":{"en":"Streaming tables status"},"最近消息延迟":{"en":"last message latency"},"最近消息接收时刻":{"en":"last message received time"},"当前节点流计算状态":{"en":"the current node stream computing status"},"队列深度":{"en":"Queue Depth"},"队列深度上限":{"en":"Queue Depth Limit"},"最近错误时刻":{"en":"Latest Error Timestamp"},"失败消息总数":{"en":"Number of Failed Messages"},"最近错误消息 ID":{"en":"Latest Error Message ID"},"最近接收时刻":{"en":"Receive Average Latency"},"错误详细信息":{"en":"error details"},"详细":{"en":"details"},"接收平均延迟":{"en":"receive average latency"},"流计算监控":{"en":"Stream"},"流计算引擎状态":{"en":"Stream Computing Engine Status"},"监控订阅节点的工作线程的状态。工作线程状态信息会按照 topic 来展示。":{"en":"Monitor the status of the worker threads of subscribing nodes. Worker thread status information will be displayed according to topic."},"监控本地发布节点和它的所有订阅节点之间的连接状态。":{"en":"Monitors the connection status between the local publishing node and all its subscribing nodes."},"监控负责持久化流数据表的工作线程的状态。":{"en":"Monitor the status of the worker thread responsible for persisting the streaming data table."},"监控启用了持久化的共享流数据表的元数据。":{"en":"Monitor metadata for shared streaming data tables with persistence enabled."},"监控未启用持久化的共享流数据表的元数据。":{"en":"Monitor metadata for shared streaming data tables that do not have persistence enabled."},"监控流计算引擎的状态。":{"en":"Monitor the status of the stream computing engine."},"流数据表":{"en":"Stream Table"},"取消订阅":{"en":"Unsubscribe"},"引擎":{"en":"Engines"},"持久化共享数据流表":{"en":"Persistent Shared Streaming Tables"},"共享数据流表":{"en":"Shared Streaming Tables"},"最近处理消息 ID":{"en":"Recently processed message ID"},"条":{"en":"piece"},"毫秒":{"en":"millisecond"},"更多信息":{"en":"More info"},"点击查看":{"en":"click to view"},"请输入 \'YES\' 以确认该操作":{"en":"Please enter \'YES\' to confirm this action"},"控制节点不支持流数据的发布订阅，请跳转到数据节点或计算节点查看流数据状态。":{"en":"The control node does not support publishing and subscription of streaming data. Please jump to the data node or computing node to view the streaming data status."},"批量":{"en":"Batch "},"当前配置不存在":{"en":"The current configuration does not exist"},"配置id重复，无法保存":{"en":"The configuration id is duplicated and cannot be saved"},"当前配置与已有配置重名，请改名":{"en":"The current configuration has the same name as the existing configuration, please change the name"},"命名不可为空":{"en":"Name cannot be empty"},"分布式数据库":{"en":"Distributed Database"},"共享内存表":{"en":"Shared In-Memory Table"},"函数视图":{"en":"Function View"},"脚本权限":{"en":"script permissions"},"dfs 表名":{"en":"dfs table name"},"revoke 成功":{"en":"revoke successful"},"权限赋予成功":{"en":"Permission granted successfully"},"新增权限":{"en":"Add Access"},"请选择{{category}}":{"en":"Please choose {{category}}"},"请选择 dfs 数据库/表":{"en":"Please select DFS database/table"},"请选择权限":{"en":"Please select permissions"},"请选择权限类型":{"en":"Please select permission type"},"增加":{"en":"add"},"当前查看{{role}}:":{"en":"currently viewing {{role}}"},"组":{"en":"group"},"返回{{role}}列表":{"en":"return {{role}} list"},"权限管理":{"en":"Permission"},"权限查看":{"en":"permission view"},"请输入想要搜索的{{category}}":{"en":"Search {{category}}"},"组名":{"en":"Group Name"},"组内用户":{"en":"group members"},"成员管理":{"en":"member management"},"查看权限":{"en":"Access"},"删除组":{"en":"Delete Group"},"确认删除组 {{group}} 吗":{"en":"Are you sure to delete {{group}}"},"组删除成功":{"en":"Successfully Deleted"},"新建组":{"en":"Create Group"},"组创建成功":{"en":"Successfully Created"},"成员":{"en":"Members"},"请输入想查找的用户":{"en":"Please enter the user you want to search for"},"组 {{group}} 成员管理":{"en":"Manage Members for {{group}}"},"成员修改成功":{"en":"Successfully Changed"},"确认删除选中的 {{num}} 个组吗？":{"en":"Are you sure to delete selected groups?"},"请输入想要搜索的组":{"en":"Search Groups"},"是否管理员":{"en":"Is Admin"},"管理员":{"en":"Admin"},"非管理员":{"en":"Non-admin"},"请选择想要添加的组":{"en":"Please select the group."},"重置密码":{"en":"Reset Password"},"删除用户":{"en":"Delete User"},"确认删除用户 {{user}} 吗":{"en":"Are you sure to delete {{user}}?"},"用户删除成功":{"en":"Successfully Deleted"},"新建用户":{"en":"Create User"},"用户创建成功":{"en":"Successfully Created"},"密码":{"en":"Password"},"确认密码":{"en":"Confirm Password"},"确认删除选中的 {{num}} 个用户吗？":{"en":"Are you sure to delete selected users?"},"密码修改成功":{"en":"Successfully Reset Password."},"重置用户 {{user}} 密码":{"en":"Reset Password for {{user}}"},"新密码":{"en":"New Password"},"请输入想要搜索的用户":{"en":"Search Users"},"用户管理":{"en":"User"},"组管理":{"en":"Group"},"数据面板":{"en":"Dashboard"},"加载到内存":{"en":"Load into Memory"},"内存大小":{"en":"Memory Size"},"类目轴，适用于离散的类目数据，或者时序数据":{"en":"Category axis, suitable for discrete category data or time series data"},"字号":{"en":"font size"},"强制包含零刻度":{"en":"force include zero scale"},"底数":{"en":"base"},"时间格式化":{"en":"time formatting"},"数据列 1":{"en":"data column 1"},"热力值列":{"en":"heatmap value column"},"颜色":{"en":"color"},"标记点":{"en":"marker points"},"水平线":{"en":"horizontal line"},"阈值":{"en":"threshold"},"低于阈值配色":{"en":"color below threshold"},"高于阈值配色":{"en":"color above threshold"},"线类型":{"en":"line type"},"展示端标签":{"en":"display end labels"},"散点大小":{"en":"scatter plot size"},"散点标记":{"en":"scatter plot marker"},"阴暗色":{"en":"dark color"},"明亮色":{"en":"bright color"},"最小值":{"en":"minimum value"},"最大值":{"en":"maximum value"},"展示标签":{"en":"display labels"},"Y 轴相对于左右默认位置的偏移":{"en":"Y-axis offset relative to default left/right position"},"Y 轴":{"en":"Y-axis"},"X 轴配置":{"en":"X-axis configuration"},"Y 轴配置":{"en":"Y-axis configuration"},"每行变量数":{"en":"number of variables per row"},"查询按钮":{"en":"query button"},"不展示查询按钮的情况，表单更新即会进行查询，在变量设置较多的情况下，建议使用查询按钮，点击之后再运行数据源代码":{"en":"In cases where the query button is not displayed, the form will be queried upon update. In situations with a large number of variable settings, it is recommended to use the query button and click it before running the data source code."},"上内边距":{"en":"top padding"},"下内边距":{"en":"bottom padding"},"左内边距":{"en":"left padding"},"右内边距":{"en":"right padding"},"标题字号":{"en":"title font size"},"提示框":{"en":"tooltip"},"展示网格线":{"en":"display grid lines"},"展示边框":{"en":"display border"},"展示列选择":{"en":"display column selection"},"倒序展示":{"en":"display in reverse order"},"流数据开启此功能可将最新的数据插入到表格头部":{"en":"Enable this function for streaming data to insert the latest data at the top of the table"},"启用此选项之后，会在表格内层滚动":{"en":"After enabling this option, the table will have inner scrolling"},"禁止滚动":{"en":"Disable scrolling"},"变量设置":{"en":"variable settings"},"是否展示":{"en":"whether to display"},"列宽":{"en":"column width"},"数值列可设置阈值，设置之后后超过阈值的数值展示为红色，低于阈值则展示为绿色，非数值列不生效":{"en":"Numeric columns can have thresholds set. After setting, values exceeding the threshold will be displayed in red, while values below the threshold will be displayed in green. This does not apply to non-numeric columns."},"字体颜色":{"en":"font color"},"背景颜色":{"en":"background color"},"是否千分位":{"en":"whether to display thousands separator"},"对齐方式":{"en":"alignment"},"数据轴":{"en":"data axis"},"类目轴":{"en":"category axis"},"对数":{"en":"logarithmic"},"右侧":{"en":"right side"},"平均值":{"en":"average value"},"实线":{"en":"solid line"},"虚线":{"en":"dashed line"},"点线":{"en":"dotted line"},"运行按钮文字":{"en":"text for the run button"},"按钮文字":{"en":"button text"},"时间轴":{"en":"time axis"},"数值轴，适用于连续数据\\n类目轴，适用于离散的类目数据或者时序数据\\n对数轴，适用于对数数据":{"en":"Numeric axis, suitable for continuous data\\ncategory axis, suitable for discrete category data or time series data\\nlogarithmic axis, suitable for logarithmic data"},"交易量":{"en":"trading volume"},"k 线颜色（涨）":{"en":"k-line color (up)"},"k 线颜色（跌）":{"en":"k-line color (down)"},"线条颜色":{"en":"line color"},"k 线":{"en":"k-line"},"Y 轴分割线":{"en":"Y-axis gridline"},"柱状图颜色":{"en":"bar chart color"},"曲线颜色":{"en":"curve color"},"倍率":{"en":"multiplier"},"行情数据档数":{"en":"quotation data level"},"订单图":{"en":"Order"},"数据环":{"en":"data loop"},"增加环":{"en":"add loop"},"标签列":{"en":"label column"},"正在加载 ReactQuill":{"en":"loading ReactQuill"},"添加文本":{"en":"add text"},"不保存":{"en":"Don\'t save"},"此数据源存在未保存的更改。你想保存吗？":{"en":"There are unsaved changes in this data source. do you want to save?"},"点击填充数据源":{"en":"populate data source"},"配置数据源":{"en":"configure data source"},"应用":{"en":"apply"},"关闭":{"en":"Close"},"重命名":{"en":"Rename"},"保存成功":{"en":"save successful"},"当前数据源已被图表绑定无法删除":{"en":"current data source is bound to a chart and cannot be deleted"},"该数据源名已存在":{"en":"this data source name already exists"},"数据源名长度不能大于10":{"en":"data source name cannot be longer than 10 characters"},"数据源名不能为空":{"en":"data source name cannot be empty"},"当前数据源存在错误":{"en":"current data source has errors"},"轮询启动失败":{"en":"polling failed to start"},"无法订阅到流数据表":{"en":"unable to subscribe to streaming data table"},"复制失败":{"en":"copy failed"},"插入变量":{"en":"insert variable"},"数据预览":{"en":"data preview"},"自动刷新":{"en":"Auto refresh"},"间隔时间":{"en":"Interval time"},"最大展示行数":{"en":"Maximum display rows"},"若该值为空则表示不对最大展示行数进行限制":{"en":"If the value is empty, it means that there is no limit on the maximum number of display rows"},"自定义":{"en":"custom"},"列名预览（共{{length}}列）：":{"en":"column name preview ({{length}} columns):"},"列过滤":{"en":"Column filter"},"值过滤、范围过滤、哈希过滤":{"en":"value filter, range filter, hash filter"},"当前过滤列为:":{"en":"Current filter column is:"},"当前流表无过滤列":{"en":"Current streaming table has no filter columns"},"表达式过滤":{"en":"Expression filter"},"无可用流表":{"en":"No available streaming table"},"过滤":{"en":"Filter"},"数据面板保存成功":{"en":"dashboard saved successfully"},"修改成功":{"en":"modification successful"},"当前数据面板列表为空":{"en":"Current dashboard list is empty"},"撤销成功":{"en":"undo successful"},"删除成功":{"en":"deletion successful"},"选择 dashboard":{"en":"select dashboard"},"仅编辑":{"en":"edit only"},"仅预览":{"en":"preview only"},"返回主界面":{"en":"Return to overview"},"离开此界面您当前更改会丢失，是否需要保存当前更改":{"en":"Leaving this interface will result in the loss of your current changes. Do you want to save the changes?"},"请输入数据面板的名称":{"en":"Please enter the name of the dashboard"},"请输入新的数据面板名称":{"en":"Please enter a new name for the dashboard"},"创建副本成功":{"en":"copy created successfully"},"请输入 dashboard 副本名称":{"en":"Please enter the name of the dashboard copy"},"新增":{"en":"Add"},"导出":{"en":"Export"},"创建副本":{"en":"Create copy"},"修改名称":{"en":"Rename"},"分享":{"en":"Share"},"确定当前 dashboard 删除吗？":{"en":"Are you sure you want to delete the current dashboard?"},"确认删除":{"en":"confirm deletion"},"撤销":{"en":"Revoke"},"编辑":{"en":"Edit"},"批量导入":{"en":"Batch import"},"导入":{"en":"Import"},"你确定要导入这 {{length}} 个 dashboard 吗？":{"en":"Are you sure you want to import these {{length}} dashboards?"},"已存在":{"en":"already exists"},"导入成功！":{"en":"Import successful!"},"覆盖":{"en":"overwrite"},"重命名后导入":{"en":"import after renaming"},"控制节点不支持数据面板，请跳转到数据节点或计算节点查看。":{"en":"Control nodes do not support dashboards. Please navigate to data nodes or compute nodes to view."},"请点击下方按钮完成初始化":{"en":"Please click the button below to complete initialization"},"初始化操作将新增以下数据库表：":{"en":"The initialization operation will add the following database tables:"},"以及 11 个以 dashboard_ 开头的函数视图（FunctionView）":{"en":"and 11 function views starting with dashboard_"},"你确定要初始化数据面板功能吗？":{"en":"Are you sure you want to initialize dashboard functionality?"},"初始化":{"en":"Initialize"},"数据面板功能未初始化，请联系管理员初始化数据面板功能":{"en":"Datshboard functionality is not initialized. Please contact the administrator to initialize dashboard functionality"},"dashboard 配置加载成功":{"en":"Dashboard configuration loaded successfully"},"当前 url 所指向的 dashboard 不存在":{"en":"The dashboard pointed to by the current URL does not exist"},"请输入新数据面板的名称":{"en":"Please enter a new name for the dashboard"},"请输入新的 dashboard 名称":{"en":"Please enter a new name for the dashboard"},"您没有删除 {{name}} 的权限":{"en":"you do not have permission to delete {{name}}"},"确认删除选中的 {{length}} 个数据面板吗？":{"en":"Are you sure to delete the {{length}} selected dashboard"},"拥有":{"en":"own"},"来源于 ":{"en":"source from"},"确定删除 {{name}} 吗？":{"en":"Are you sure you want to delete {{name}}?"},"当前 dashboard 列表为空":{"en":"the current dashboard list is empty"},"确认撤销":{"en":"confirm Undo"},"请选择至少一个面板进行导出":{"en":"please select at least one panel to export"},"您没有导出 {{name}} 的权限":{"en":"you do not have permission to export {{name}}"},"批量导出":{"en":"Batch export"},"请至少选中一个数据面板后再删除":{"en":"please select at least one dashboard before deleting"},"基础":{"en":"basic"},"画布样式":{"en":"canvas style"},"确定要重置配置吗？":{"en":"Are you sure you want to reset the configuration?"},"重置配置":{"en":"reset configuration"},"配置表单与数据源结构相关，如修改数据源结构，建议重置表单以适应最新结构":{"en":"The configuration form is related to the data source structure. If you modify the data source structure, it is recommended to reset the form to adapt to the latest structure"},"请至少选中一个数据面板后再分享":{"en":"please select at least one dashboard before sharing"},"批量分享":{"en":"Batch share"},"请选择需要分享的用户":{"en":"please select the users to share with"},"全部编辑":{"en":"edit all"},"全部仅预览":{"en":"preview only"},"全部无":{"en":"none"},"请选择想要分享的 dashboard":{"en":"please select the dashboard to share"},"您没有分享 {{name}} 的权限":{"en":"You don\'t have permission to share {{name}}"},"分享成功":{"en":"share successful"},"权限":{"en":"Access"},"无":{"en":"none"},"dashboard 名称不允许为空":{"en":"dashboard name cannot be empty"},"dashboard 名称中不允许包含 \\"/\\" 或 \\"\\\\\\" ":{"en":"dashboard names are not allowed to contain \\"/\\" or \\"\\\\\\""},"名称重复，请重新输入":{"en":"duplicate name, please enter a different name"},"标签":{"en":"label"},"值":{"en":"value"},"确定要删除该选项吗？":{"en":"Are you sure you want to delete this option?"},"可选项：":{"en":"options:"},"变量":{"en":"Variable"},"不存在":{"en":"does not exist"},"当前变量已被数据源使用无法删除":{"en":"the current variable is being used by a data source and cannot be deleted"},"该变量名已存在":{"en":"variable name already exists"},"变量名长度不能大于10":{"en":"variable name cannot be longer than 10 characters"},"变量名不能为空":{"en":"variable name cannot be empty"},"此变量已被数据源引用无法修改名称":{"en":"this variable is referenced by a data source and cannot have its name modified"},"变量冲突，复制失败":{"en":"variable conflict, copy failed"},"此变量存在未保存的更改。你想保存吗？":{"en":"There are unsaved changes to this variable. Do you want to save them?"},"配置变量":{"en":"configure variable"},"显示名称：":{"en":"display name:"},"变量类型：":{"en":"variable type:"},"单选":{"en":"single select"},"多选":{"en":"multi-select"},"自由文本":{"en":"free text"},"日期":{"en":"date"},"变量值：":{"en":"variable value:"},"使用默认 admin 账号密码登录失败":{"en":"failed to log in using the default admin account password"},"柱状图":{"en":"Bar"},"折线图":{"en":"Line"},"饼图":{"en":"Pie"},"K 线":{"en":"K-line"},"混合图":{"en":"Mix"},"富文本":{"en":"Text"},"描述表":{"en":"Describe"},"编辑器":{"en":"Editor"},"仪表盘":{"en":"Gauge"},"雷达图":{"en":"Radar"},"散点图":{"en":"Scatter"},"热力图":{"en":"Heat"},"保留时间（分钟）":{"en":"retention time (minutes)"},"气泡提示":{"en":"tooltip"},"值列":{"en":"value column"},"标签字号":{"en":"label font size"},"值字号":{"en":"value font size"},"每行展示数量":{"en":"number of items per row"},"值颜色":{"en":"value color"},"列属性":{"en":"column attributes"},"编辑文本":{"en":"Edit text"},"查看数据库 {{db_name}} 用户权限":{"en":"View database {{db_name}} user permissions"},"查看用户权限":{"en":"View user permissions"},"确认{{action}}选中的 ":{"en":"Confirm {{action}} Selected "}," 个{{item}}吗?":{"en":" {{item}} ?"},"请选择想要添加的用户":{"en":"Please select the user you want to add."},"请输入要搜索的流表名":{"en":"Please enter the table name you want to search."},"以下内容已复制到剪切板":{"en":"The following content has been copied to the clipboard."},"已存在，粘贴失败!":{"en":"already exists, paste failed!"},"初始化数据面板成功！":{"en":"Dashboard initialization successful!"},"新数据面板":{"en":"New dashboard"},"提示：初始化后请完善相关配置（详见文档），并重启服务器":{"en":"Tip: After initialization, please complete the relevant configuration (see the documentation for details) and restart the server"},"新数据源":{"en":"New data source"},"请输入新数据源的名称":{"en":"Please enter a name for the new data source"},"新变量":{"en":"New variable"},"请输入新变量的名称":{"en":"Please enter a name for the new variable"},"web 版本":{"en":"web version"},"是否排序":{"en":"Sort or not"},"为多列设置排序时需设置优先级，该值越高表明优先级越高":{"en":"When setting sorting for multiple columns, you need to set a priority. The higher the value, the higher the priority."},"排序优先级":{"en":"Sort priority"},"请输入优先级":{"en":"Please enter priority"},"自定义端标签":{"en":"Custom end tag"},"支持静态标签与模板变量，其中模板变量包含以下几种":{"en":"Supports static tags and template variables, where template variables include the following types"},"{a}：数据列名称":{"en":"{a}: data column name"},"{c}：当 x 轴为类目轴时显示 y 轴值，当 x 轴为其余轴时显示 x轴值,y轴值":{"en":"When the x-axis is the category axis, the y-axis value is displayed. When the x-axis is the other axes, the x-axis value and y-axis value are displayed."},"{b}：x轴值":{"en":"{b}: x-axis value"},"示例: 名称-{a}":{"en":"Example: name-{a}"},"请注意，不填自定义端标签时默认展示 y 轴值":{"en":"Please note that when the custom end label is not filled in, the y-axis value is displayed by default."},"请输入自定义端标签":{"en":"Please enter custom end tag"},"仅数值类型可支持排序":{"en":"Only numeric types support sorting"},"请编辑代码":{"en":"Please edit the code"},"新建查询":{"en":"Create query"},"向导查询":{"en":"Use Query Builder"},"脚本查询":{"en":"Use Script Editor"},"筛选查询列":{"en":"Select Columns"},"查询列":{"en":"Selected"},"非查询列":{"en":"Unselected"},"增加查询列":{"en":"Add Column"},"删除查询列":{"en":"Remove Column"},"查询列不可为空，请重新筛选！":{"en":"Select at least 1 column."},"添加查询条件":{"en":"Set Query Conditions"},"分区列查询条件":{"en":"Partitioning Columns"},"必填项，仅支持【且满足】，与”其他查询条件”亦为【且满足】关系。":{"en":"Set at least 1 condition. Conditions on partitioning columns can only be combined with others (on either partitioning or non-partitioning columns) using the AND operator."},"请选择列名":{"en":"Select column"},"请选择运算符":{"en":"Select operator"},"请输入对比值":{"en":"Enter at least 1 value."},"且满足":{"en":"AND"},"增加且条件项":{"en":"Add AND condition"},"删除该条件项":{"en":"Delete condition"},"删除该条件块":{"en":"Delete condition group"},"其他查询条件":{"en":"Non-Partitioning Columns"},"或满足":{"en":"OR"},"新增条件块":{"en":"Add Condition Group"},"重置条件":{"en":"Reset"},"查看 SQL 语句":{"en":"View Generated Query"},"返回修改":{"en":"Go Back"},"预览数据":{"en":"Preview Data"},"导出数据":{"en":"Export Data"},"当前数据量已达 50 万行，暂不支持导出功能。":{"en":"Cannot export data exceeding 500,000 rows."},"当前数据为空，暂不支持导出功能。":{"en":"No rows to export. Query returned no data."},"当前数据量已达 2000 万行的预览上限，此处仅显示部分截断数据。":{"en":"Showing a partial preview of the data. The full dataset exceeds 20 million rows."},"输入对比值时须带有通配符 “%”。“%” 表示任意 0 个或者多个字符，可匹配任意类型和长度的字符。使用时请注意区分大小写。以下为使用示例：":{"en":"The LIKE/NOT LIKE pattern must include the wildcard character %, which represents zero, one, or multiple characters of any type or length. It is case-sensitive. For example:"},"688%（匹配以 “688” 开头的字符串，能够匹配例如 “688101.SH”、”688101”的字符串）":{"en":"688% matches strings starting with \\"688\\", like \\"688101\\"."},"%SZ%（匹配包含 “SZ” 的字符串， 能够匹配例如 “300951.SZ”、 “SZ.300951”的字符串）":{"en":"%SZ% matches strings that contain \\"SZ\\", such as \\"001SZ\\"."},"%6（匹配以 “6” 结尾的字符串，能够匹配例如 “abcd6” 的字符串）":{"en":"%6 matches strings ending with \\"6\\", like \\"abcd6\\"."},"在对比值的下拉框中选择一个或多个枚举值。注意，下拉框中仅展示部分枚举值，且存在响应延时。":{"en":"For IN and NOT IN operators, the dropdown shows a subset of available values with a brief delay."},"请手动输入未显示的枚举值，单击回车键以完成操作。":{"en":"Alternatively, enter one or more values manually in the field, pressing \'Enter\' after each."},"复制代码":{"en":"Copy"},"文件名":{"en":"File Name"},"请输入文件名":{"en":"Specify a file name."},"等于 (=)":{"en":"= (Equal to)"},"不等于 (!=)":{"en":"!= (Not equal to)"},"匹配 (like)":{"en":"Like"},"不匹配 (not like)":{"en":"Not like"},"包含 (in)":{"en":"In"},"不包含 (not in)":{"en":"Not in"},"大于 (>)":{"en":"> (Greater than)"},"小于 (<)":{"en":"< (Less than)"},"大于等于 (>=)":{"en":">= (Greater than or equal to)"},"小于等于 (<=)":{"en":"<= (Less than or equal to)"},"导出成功":{"en":"Export successfully"},"共 {{total}} 条数据":{"en":"Number of Rows: {{total}}"},"请注意，无法删除或者编辑当前选中的选项":{"en":"Please note that currently selected options cannot be deleted or edited"},"仅单机节点、数据节点和计算节点支持新建查询":{"en":"Queries can only be created on data/compute nodes, or on a standalone server."},"CEP 流计算引擎":{"en":"CEP Streaming Engine"},"引擎信息":{"en":"Engine Info"},"数据视图":{"en":"Data View"},"发送事件到引擎":{"en":"Send Event"},"CEP 引擎":{"en":"CEP Engine"},"引擎名称":{"en":"Engine Name"},"创建人":{"en":"Creator"},"子引擎数":{"en":"Sub Engines"},"子引擎数：{{num}}":{"en":"Sub Engines: {{num}}"},"接收事件数":{"en":"Received Events"},"发送事件数":{"en":"Sent Events"},"事件队列最大深度":{"en":"Maximum Event Queue Depth"},"队列中发送事件数":{"en":"Sent Events in Output Queue"},"子引擎信息":{"en":"Sub Engine Info"},"事件队列中待处理事件数":{"en":"Pending Events in Event Queue"},"事件监听数":{"en":"Event Listeners"},"计时器数":{"en":"Timers"},"插入队列头事件数":{"en":"Events Sent to Queue Head"},"插入队列尾事件数":{"en":"Events Sent to Queue Tail"},"匹配成功事件数":{"en":"Matched Events"},"最近接收事件的时间":{"en":"Timestamp of the Last Received Event"},"请输入要查询的 key":{"en":"Please enter a key for query."},"发送事件到 {{name}} 引擎":{"en":"Send An Event to {{name}} Engine"},"事件类型":{"en":"Event Type"},"事件字段":{"en":"Fields"},"类型说明":{"en":"DataTypes"},"{{type}} 的值":{"en":"Value of {{type}}"},"{{type}} 的精度":{"en":"Scale of {{type}}"},"发送成功":{"en":"Success"},"字段类型有误，请检查":{"en":"The entered field type is incorrect."},"请输入事件字段":{"en":"Please enter the fields."},"请选择事件类型":{"en":"Please select the event type."},"数据类型为 {{name}}":{"en":"Please enter data of {{name}} type."},"最近错误时间":{"en":"Last Error Time"},"请选择数据视图":{"en":"Please select a data view"},"监视器数":{"en":"Monitors"},"k 线图仅支持时间轴":{"en":"K-line only supports timeline"},"配置管理":{"en":"Config"},"请输入配置名":{"en":"Please enter config name"},"请输入配置名！":{"en":"Please enter config name!"},"数值":{"en":"Value"},"请输入配置值":{"en":"Please enter config value"},"请输入配置值！":{"en":"Please enter config value!"},"确认删除此配置项？":{"en":"Confirm to delete this config item?"},"新增控制节点配置":{"en":"Add controller config"},"请输入想要查找的配置项":{"en":"Please enter config name"},"集群节点管理":{"en":"Cluster node management"},"限定词":{"en":"Qualifier"},"请输入选择器":{"en":"Please enter qualifier"},"其它":{"en":"others"},"新增配置":{"en":"New config"},"请输入或选择配置项名":{"en":"Please enter or select a config item name"},"请输入配置项值":{"en":"Please enter the config item value"},"主机名":{"en":"Host"},"请输入主机名":{"en":"Please enter host"},"端口号":{"en":"Port"},"请输入端口号":{"en":"Please enter the port"},"别名":{"en":"Alias"},"请输入别名":{"en":"Please enter an alias"},"请选择节点类型":{"en":"Please select node mode"},"确认删除此节点？":{"en":"Confirm to delete this node?"},"新增节点":{"en":"Add new node"},"请输入想要查找的节点别名":{"en":"Please enter the node alias"},"线程":{"en":"thread"},"发布流":{"en":"streaming_pub"},"订阅流":{"en":"streaming_sub"},"系统":{"en":"system"},"返回":{"en":"Return"},"动作":{"en":"Actions"},"撤销权限":{"en":"Revoke"},"确认 revoke 该权限吗？":{"en":"Confirm revoke permission?"},"Revoke":{"en":"Revoke"},"确认添加":{"en":"Confirm"},"添加权限":{"en":"Add Access"},"请选择权限应用范围":{"en":"Please select the access object."},"应用范围为全局":{"en":"Global level"},"预添加":{"en":"Add"},"移除":{"en":"remove"},"Revoke 成功":{"en":"Revoke successfully"},"确认 revoke 选中的 {{num}} 条权限吗？":{"en":"Confirm {{num}} permissions selected by revoke?"},"全局权限":{"en":"Global"},"请输入组名":{"en":"Please enter a group name"},"组名长度不能超过 30 个字符":{"en":"Group name must be less than 30 characters."},"预览修改":{"en":"Preview"},"确认对组 {{group}} 进行以下改动吗？":{"en":"Confirm the following changes to {{group}}?"},"组内用户修改成功":{"en":"Users in the group have been modified successfully"},"原组内用户:":{"en":"Users in the original group"},"移入用户:":{"en":"Add"},"移出用户:":{"en":"Remove"},"非管理员不能查看权限管理模块。":{"en":"Available only for administrators."},"重置用户 ":{"en":"Reset user "},"用户 {{user}} 所属组管理":{"en":"Manage Groups for {{user}}"},"请输入想查找的组":{"en":"Search Groups"},"确认对用户 {{user}} 进行以下改动吗？":{"en":"Confirm the following changes to {{user}}?"},"用户所属组修改成功":{"en":"Successfully Changed"},"原有组:":{"en":"Groups"},"移入组:":{"en":"Move into"},"移出组:":{"en":"Move out"},"用户组管理":{"en":"group management"},"列名完全匹配":{"en":"Column names match exactly"},"为指定名称的列定制配置":{"en":"Customize the configuration for a column with a specified name"},"列名正则匹配":{"en":"Column name regular matching"},"为列名匹配正则表达式的列定制配置":{"en":"Customize configuration for columns whose column names match regular expressions"},"类型匹配":{"en":"type matching"},"为特定 DolphinDB 数据类型的列定制配置，如 INT, DOUBLE":{"en":"Custom configuration for columns of specific DolphinDB data types, such as INT, DOUBLE"},"配置规则 {{name}}":{"en":"Configure rule {{name}}"},"匹配类型":{"en":"Match Type"},"筛选列":{"en":"Filter Columns"},"正则表达式":{"en":"Regular Expression"},"支持子面量形式和构造函数形式的正则对象":{"en":"Supports regular objects in literal form and constructor form"},"子面量：/abc/g":{"en":"Amount of sub-face: /abc/g"},"构造函数：new RegExp(\\"abc\\", \\"g\\")":{"en":"Constructor: new RegExp(\\"abc\\", \\"g\\")"},"正则表达式书写规则":{"en":"Regular expression writing rules"},"请输入正则表达式":{"en":"Please enter a regular expression"},"增加配置规则":{"en":"Add configuration rules"},"阈值设置":{"en":"Threshold setting"},"阈值类型":{"en":"Threshold type"},"绝对值":{"en":"Absolute Value"},"百分比":{"en":"Percentage"},"管理权限":{"en":"Manage Access"},"批量撤销":{"en":"Revoke Access"},"DFS 表名":{"en":"DFS tables"},"确认撤销该权限吗？":{"en":"Are you sure to revoke this access?"},"确认撤销选中的 {{num}} 条权限吗？":{"en":"Are you sure to delete selected access?"},"当前{{role}}:":{"en":"Current {{role}}"},"组成员":{"en":"Members"},"组名只能包含字母、下划线或数字，并且不能以数字或下划线开头":{"en":"Group name can only use letters, digits or underscores (_), and must start with letters."},"非组成员":{"en":"Non-Members"},"组成员修改成功":{"en":"Successfully Changed"},"管理成员":{"en":"Manage Members"},"所属组":{"en":"Group"},"请输入用户名!":{"en":"Please enter user ID."},"用户名长度不能超过 30 个字符":{"en":"User ID must be less than 30 characters."},"用户名只能包含字母、下划线或数字，并且不能以数字或下划线开头":{"en":"User ID can only use letters, digits or underscores (_), and must start with letters."},"请输入密码!":{"en":"Please enter password."},"密码长度为 6-20 个字符，且不包含空格或中文":{"en":"Use a password 6-20 characters long. Spaces and Chinese characters are not allowed."},"请再次输入密码!":{"en":"Please confirm your password."},"两次输入密码需要保持一致!":{"en":"Your passwords do not match."},"未所属组":{"en":"Other Groups"},"管理用户组":{"en":"Manage Groups"},"范围":{"en":"Scope"},"原组成员:":{"en":"Members"},"设置密码":{"en":"Set Password"},"设置权限":{"en":"Manage Access"},"设置用户组":{"en":"Manage Groups"},"配置项":{"en":"key"},"请输入配置项":{"en":"Please enter key"},"请输入配置项！":{"en":"Please enter key"},"请输入或选择配置项":{"en":"Please enter or select key"},"主机名 / IP 地址":{"en":"Hostname/IP address"},"请输入主机名 / IP 地址":{"en":"Please enter hostname/IP address"},"请输入正确的主机名 / IP 地址":{"en":"Please enter correct hostname/IP address"},"流发布":{"en":"streaming_pub"},"流订阅":{"en":"streaming_sub"},"停用":{"en":"deactivate"},"启用":{"en":"activate"},"{{label}}{{active_label}}提示":{"en":"{{label}} {{active_label}} tips"},"{{label}}{{active_label}}成功":{"en":"{{label}} {{active_label}} successfully"},"可选模块":{"en":"Optional Modules"}}');
;// CONCATENATED MODULE: ./i18n/index.ts


const i18n_i18n_0 = new I18N(i18n_dict_namespaceObject_0);
const { t: i18n_t_0, Trans, language: i18n_language_0 } = i18n_i18n_0;


// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/obj.sass
var obj = __webpack_require__(7076);
;// CONCATENATED MODULE: ./console/obj.sass

      
      
      
      
      
      
      
      
      

var obj_options = {};

obj_options.styleTagTransform = (styleTagTransform_default());
obj_options.setAttributes = (setAttributesWithoutAttributes_default());
obj_options.insert = insertBySelector_default().bind(null, "head");
obj_options.domAPI = (styleDomAPI_default());
obj_options.insertStyleElement = (insertStyleElement_default());

var obj_update = injectStylesIntoStyleTag_default()(obj/* default */.A, obj_options);




       /* harmony default export */ const console_obj = (obj/* default */.A && obj/* default */.A.locals ? obj/* default */.A.locals : undefined);

;// CONCATENATED MODULE: external "icons"
const external_icons_namespaceObject = globalThis["icons"];
var external_icons_default = /*#__PURE__*/__webpack_require__.n(external_icons_namespaceObject);
;// CONCATENATED MODULE: external "Plots"
const external_Plots_namespaceObject = globalThis["Plots"];
;// CONCATENATED MODULE: ./node_modules/.pnpm/react-object-model@1.2.5_react@18.3.1/node_modules/react-object-model/hooks.js

function use_rerender() {
    const set_state = (0,external_React_.useState)({})[1];
    return function rerender() {
        set_state({});
    };
}
function use_modal() {
    const [visible, set_visible] = useState(false);
    return {
        visible,
        open() {
            set_visible(true);
        },
        close() {
            set_visible(false);
        }
    };
}
//# sourceMappingURL=hooks.js.map
;// CONCATENATED MODULE: ./console/link.icon.svg
var _g;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgLinkicon = function SvgLinkicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 16 16"
  }, props), _g || (_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "currentColor"
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "m8 3 1.793 1.793L6 8.586 7.414 10l3.793-3.793L13 8V3z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M11 11H5V5h2V3H3v10h10V9h-2z"
  }))));
};
/* harmony default export */ const link_icon = (SvgLinkicon);
;// CONCATENATED MODULE: ./console/obj.tsx











const max_strlen = 10000;
const page_sizes = [1, 2, 3, 5, 10, 15, 20, 25, 30, 40, 50, 75, 100, 150, 200, 300, 400, 500, 750, 1000, 5000, 10000, 100000];
const views = {
    [browser_DdbForm.vector]: Vector,
    [browser_DdbForm.set]: Vector,
    [browser_DdbForm.table]: Table,
    [browser_DdbForm.matrix]: Matrix,
    [browser_DdbForm.chart]: Chart,
    [browser_DdbForm.dict]: obj_Dict,
};
const UpSelect = Object.assign(props => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { ...props, size: 'small', placement: 'topLeft', listHeight: 128 }), { Option: external_antd_namespaceObject.Select.Option });
function truncate(str) {
    return str.length >= max_strlen ? str.slice(0, max_strlen - 2) + '···' : str;
}
function Obj({ obj, objref, ctx = 'webview', remote, ddb, options, }) {
    const info = obj || objref;
    const View = views[info.form] || Default;
    return (0,jsx_runtime.jsx)(View, { obj: obj, objref: objref, ctx: ctx, remote: remote, ddb: ddb, options: options });
}
/** 对应 ddb.ext 中的 DdbVar, 是从 objs(true) 中获取到的变量信息 */
class DdbObjRef {
    static size_limit = (/* unused pure expression or super */ null && (10240n));
    node;
    // --- by objs(true)
    name;
    form;
    type;
    rows;
    cols;
    bytes;
    shared;
    extra;
    /** this.bytes <= DdbVar.size_limit */
    obj;
    constructor(data) {
        Object.assign(this, data);
    }
}
async function open_obj({ obj, objref, remote, ddb, options, }) {
    let win = window.open('./window.html', new Date().toString(), 'left=100,top=100,width=1000,height=640,popup');
    await new Promise(resolve => {
        win.resolve = resolve;
    });
    win.model.set({
        obj,
        objref,
        remote,
        ddb,
        options,
    });
}
function Default({ obj, objref, options }) {
    return (0,jsx_runtime.jsx)("div", { className: 'default-obj', children: (obj || objref).toString(options) });
}
function obj_Dict({ obj, objref, remote, ddb, ctx, options, }) {
    const render = (0,external_React_.useState)({})[1];
    const _obj = obj || objref.obj;
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (_obj)
                return;
            const { node, name } = objref;
            console.log('dict.fetch:', name);
            objref.obj = ddb ?
                await ddb.eval(name)
                :
                    DdbObj.parse(...await remote.call('eval', [node, name]));
            render({});
        })();
    }, [obj, objref]);
    if (!_obj)
        return null;
    return (0,jsx_runtime.jsxs)("div", { className: 'dict', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Tree, { treeData: build_tree_data(_obj, { remote, ddb, ctx, options }), defaultExpandAll: true, focusable: false, blockNode: true, showLine: true, motion: null }, utils_browser_genid()), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar', children: (0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [_obj.rows, " ", i18n_t_0('个键'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: i18n_t_0('的词典') })] }) })] });
}
function build_tree_data(obj, { remote, ctx, ddb, options }) {
    const dict_key = obj.value[0];
    const dict_value = obj.value[1];
    return utils_browser_seq(dict_key.rows, i => {
        let key = browser_formati(dict_key, i, options);
        let valueobj = dict_value.value[i];
        // if (valueobj instanceof DdbObj)
        // valueobj 可能来自不同 window
        if (valueobj && Object.getPrototypeOf(valueobj)?.constructor.name === 'DdbObj')
            if (valueobj.form === browser_DdbForm.dict)
                return {
                    title: `${key}: `,
                    key: utils_browser_genid(),
                    children: build_tree_data(valueobj, { remote, ctx, ddb })
                };
            else if (valueobj.form === browser_DdbForm.scalar)
                return {
                    title: `${key}: ${format(valueobj.type, valueobj.value, valueobj.le, { ...options, quote: true, nullstr: true })}`,
                    key: utils_browser_genid()
                };
            else {
                const View = views[valueobj.form] || Default;
                return {
                    title: `${key}:`,
                    key: utils_browser_genid(),
                    children: [
                        {
                            title: (0,jsx_runtime.jsx)(View, { obj: valueobj, ctx: ctx, ddb: ddb, remote: remote, options: options }),
                            key: utils_browser_genid()
                        }
                    ]
                };
            }
        else
            return {
                title: `${key}: ${truncate(browser_formati(dict_value, i, options))}`,
                key: utils_browser_genid()
            };
    });
}
function Vector({ obj, objref, ctx, remote, ddb, options, }) {
    const info = obj || objref;
    const { type } = info;
    const typestr = (64 <= type && type < 128 ? `${browser_DdbType[type - 64]}[]` : browser_DdbType[type]) || String(type);
    const ncols = Math.min(10, info.rows);
    const [page_size, set_page_size] = (0,external_React_.useState)((ctx === 'page' || ctx === 'window') ? 200 : 100);
    const nrows = info.rows === 0 ?
        0
        :
            Math.min(Math.ceil(info.rows / ncols), Math.ceil(page_size / ncols));
    const [page_index, set_page_index] = (0,external_React_.useState)(0);
    const render = (0,external_React_.useState)({})[1];
    (0,external_React_.useEffect)(() => {
        set_page_index(0);
    }, [obj, objref]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (obj ||
                info.form === browser_DdbForm.set && objref.obj)
                return;
            const { node, name, rows, form } = objref;
            const offset = page_size * page_index;
            if (
            // 允许在 rows 为 0 时拉一次变量获取 obj 用来显示类型
            rows === 0 && offset === 0 ||
                offset < rows) {
                const script = (form === browser_DdbForm.set || rows === 0) ?
                    name
                    :
                        `${name}[${offset}..${Math.min(offset + page_size, rows) - 1}]`;
                console.log(`${browser_DdbForm[form]}.fetch:`, script);
                objref.obj = ddb ?
                    await ddb.eval(script)
                    :
                        DdbObj.parse(...await remote.call('eval', [node, script]));
                render({});
            }
        })();
    }, [obj, objref, page_index, page_size]);
    // 当 obj 为空的时候，我们需要等待其在 useEffect 中重新拉取, 因此先返回 null
    if (!(obj || objref.obj))
        return null;
    if (!info.rows)
        return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (obj || objref.obj).toString(options) });
    return (0,jsx_runtime.jsxs)("div", { className: 'vector', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { dataSource: utils_browser_seq(nrows), rowKey: x => x, bordered: true, pagination: false, columns: [
                    {
                        title: '',
                        key: 'index',
                        className: 'row-head',
                        fixed: 'left',
                        render(value, row, index) {
                            return page_size * page_index + index * ncols;
                        }
                    },
                    ...utils_browser_seq(ncols, index => new VectorColumn({
                        obj,
                        objref,
                        index,
                        form: info.form,
                        ncols,
                        page_index,
                        page_size,
                        options,
                    }))
                ] }), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), (0,jsx_runtime.jsxs)("div", { className: 'bottom-bar', children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [info.rows, " ", i18n_t_0('个元素'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: info.form === browser_DdbForm.set ?
                                    i18n_t_0('的 {{type}} 集合', { type: typestr })
                                    :
                                        i18n_t_0('的 {{type}} 向量', { type: typestr }) }), info.name && (0,jsx_runtime.jsx)("span", { className: 'name', children: info.name })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'pagination', total: info.rows, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 200, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: i18n_t_0('在新窗口中打开'), component: link_icon, onClick: async () => {
                                await open_obj({ obj, objref, remote, ddb, options });
                            } }) })] })] });
}
class VectorColumn {
    index;
    form;
    obj;
    objref;
    ncols;
    page_index;
    page_size;
    title;
    key;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.title = String(this.index);
        this.key = this.index;
    }
    render = (value, row, index) => {
        const obj = this.obj || this.objref.obj;
        if (!obj)
            return null;
        // 在 obj 中的 index
        const index_ = (this.obj || this.form === browser_DdbForm.set ? this.page_size * this.page_index : 0) + // 之前页的 items 数量
            this.ncols * index + // 之前行的 items 数量
            this.index;
        return index_ < obj.rows ?
            truncate(browser_formati(obj, index_, this.options))
            :
                null;
    };
}
function StreamingCell({ window: { objs }, icol, irow, options }) {
    // 在 objs 中从后往前查找 index 所属的 segment, 这样能更快找到（最新的记录都在最后面）
    // 最坏复杂度 O(page.size)，整个表格的渲染复杂度 page.size^2 * ncols
    let _rows = 0;
    for (let i = objs.length - 1; i >= 0; i--) {
        const segment = objs[i];
        const { rows } = segment.value[0]; // 当前 segment 所包含的 rows
        if (irow < _rows + rows) { // irow 位于这个 segment 中
            const col = segment.value[icol];
            return _jsx(_Fragment, { children: formati(col, col.rows - 1 - (irow - _rows), options) });
        }
        _rows += rows;
    }
    return null;
}
function Table({ obj, objref, ctx, remote, ddb, options, show_bottom_bar = true, ...others }) {
    const info = obj || objref;
    const ncols = info.cols;
    const [page_size, set_page_size] = (0,external_React_.useState)((ctx === 'page' || ctx === 'window') ? 20 : 10);
    const nrows = Math.min(page_size, info.rows);
    const [page_index, set_page_index] = (0,external_React_.useState)(0);
    const render = use_rerender();
    (0,external_React_.useEffect)(() => {
        set_page_index(0);
    }, [obj, objref]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (obj)
                return;
            const { node, name, rows } = objref;
            const offset = page_size * page_index;
            if (
            // 允许在 rows 为 0 时拉一次空的 table[0:0] 获取 obj 用来显示列名
            rows === 0 && offset === 0 ||
                offset < rows) {
                const script = `${name}[${offset}:${Math.min(offset + page_size, rows)}]`;
                console.log('table.fetch:', script);
                if (ddb)
                    objref.obj = await ddb.eval(script);
                else
                    objref.obj = DdbObj.parse(...await remote.call('eval', [node, script]));
                render();
            }
        })();
    }, [obj, objref, page_index, page_size]);
    return (0,jsx_runtime.jsxs)("div", { className: 'table', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { dataSource: utils_browser_seq(nrows), rowKey: x => x, bordered: true, pagination: false, columns: [
                    {
                        title: '',
                        key: 'index',
                        className: 'row-head',
                        fixed: 'left',
                        render: irow => page_size * page_index + irow
                    },
                    ...utils_browser_seq(ncols, index => new TableColumn({
                        obj,
                        objref,
                        index,
                        page_index,
                        page_size,
                        options,
                    }))
                ], ...others }), show_bottom_bar && (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), show_bottom_bar && (0,jsx_runtime.jsxs)("div", { className: 'bottom-bar', children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [info.rows ? `${info.rows} ${i18n_t_0('行')} ` : ' ', info.cols, " ", i18n_t_0('列'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: i18n_t_0('的表格') }), info.name && (0,jsx_runtime.jsx)("span", { className: 'name', children: info.name })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'pagination', total: info.rows, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 50, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: i18n_t_0('在新窗口中打开'), component: link_icon, onClick: async () => {
                                await open_obj({ obj, objref, remote, ddb, options });
                            } }) })] })] });
}
function StreamingTable({ url, table: _table, username, password, ctx, options, on_error, }) {
    let rsddb = useRef();
    let rddbapi = useRef();
    let rauto_append = useRef(false);
    let rappended = useRef(0);
    let rreceived = useRef(0);
    let rmessage = useRef(null);
    const default_rate = 0;
    /** 刷新率 (ms): 0 实时更新, -1 暂停, > 0 刷新间隔 */
    let rrate = useRef(default_rate);
    function set_rate(rate = default_rate) {
        rrate.current = rate;
        rerender({});
    }
    let rlast = useRef(0);
    /** 订阅的流表 */
    let [table, set_table] = useState(_table || new URLSearchParams(location.search).get('streaming-table') || 'prices');
    let [, rerender] = useState({});
    const [page_size, set_page_size] = useState((ctx === 'page' || ctx === 'window') ? 20 : 10);
    const [page_index, set_page_index] = useState(0);
    // 有可能会资源泄露，sddb 在 unmount 时还没有，后面才被赋值
    useEffect(() => () => {
        rsddb.current?.disconnect();
        rddbapi.current?.disconnect();
    }, []);
    useEffect(() => {
        if (!rauto_append.current)
            return;
        let stopped = false;
        (async () => {
            for (; rauto_append.current && !stopped;) {
                await append_data();
                await delay(1000);
            }
            console.log('自动更新已停止');
        })();
        return () => {
            stopped = true;
        };
    }, [rauto_append.current]);
    const StreamingTableActions = useCallback(() => {
        const label_span = 3;
        const wrapper_span = 24 - label_span;
        return _jsxs("div", { className: 'actions', children: [_jsxs(Form, { className: 'form', name: '\u6D41\u8868\u914D\u7F6E\u8868\u5355', labelCol: { span: label_span }, wrapperCol: { span: wrapper_span }, initialValues: { table: table }, autoComplete: 'off', onFinish: async ({ table, column, expression }) => {
                        set_table(table);
                        try {
                            rddbapi.current?.disconnect();
                            rsddb.current?.disconnect();
                            rmessage.current = null;
                            rappended.current = 0;
                            rreceived.current = 0;
                            (async () => {
                                try {
                                    let apiddb = rddbapi.current = new DDB(url);
                                    if (table === 'prices')
                                        await apiddb.eval('try {\n' +
                                            "    if (!defined('prices', SHARED)) {\n" +
                                            '        share(\n' +
                                            '            streamTable(\n' +
                                            '                10000:0,\n' +
                                            "                ['time', 'stock', 'price'],\n" +
                                            '                [TIMESTAMP, SYMBOL, DOUBLE]\n' +
                                            '            ),\n' +
                                            "            'prices'\n" +
                                            '        )\n' +
                                            "        setStreamTableFilterColumn(objByName('prices'), 'stock')\n" +
                                            "        print('prices 流表创建成功')\n" +
                                            '    } else\n' +
                                            "        print('prices 流表已存在')\n" +
                                            '} catch (error) {\n' +
                                            "    print('prices 流表创建失败')\n" +
                                            '    print(error)\n' +
                                            '}\n');
                                    let sddb = rsddb.current = new DDB(url, {
                                        autologin: Boolean(username),
                                        username,
                                        password,
                                        streaming: {
                                            table,
                                            filters: {
                                                ...column ? { column: await apiddb.eval(column) } : {},
                                                expression: expression
                                            },
                                            handler(message) {
                                                const { error } = message;
                                                if (error) {
                                                    on_error?.(error);
                                                    throw error;
                                                }
                                                const time = new Date().getTime();
                                                rreceived.current += message.data.data.length;
                                                // 冻结或者未到更新时间
                                                if (rrate.current === -1 || time - rlast.current < rrate.current)
                                                    return;
                                                rmessage.current = message;
                                                rlast.current = time;
                                                rerender({});
                                            }
                                        }
                                    });
                                    // 开始订阅
                                    await sddb.connect();
                                    rerender({});
                                }
                                catch (error) {
                                    on_error?.(error);
                                    throw error;
                                }
                            })();
                        }
                        catch (error) {
                            on_error?.(error);
                            throw error;
                        }
                    }, children: [_jsx(Form.Item, { label: '\u6D41\u8868\u540D\u79F0', name: 'table', children: _jsx(Input, { placeholder: 'prices' }) }), _jsx(Form.Item, { label: '\u5217\u8FC7\u6EE4', name: 'column', children: _jsx(Input, { placeholder: "['MSFT']" }) }), _jsx(Form.Item, { label: '\u8868\u8FBE\u5F0F\u8FC7\u6EE4', name: 'expression', children: _jsx(Input, { placeholder: 'price > 190' }) }), _jsx(Form.Item, { wrapperCol: { offset: label_span, span: wrapper_span }, children: _jsx(Button, { className: 'subscribe-button', type: 'primary', htmlType: 'submit', children: "\u5F00\u59CB\u8BA2\u9605" }) })] }), table === 'prices' && _jsxs(_Fragment, { children: [_jsx("div", { children: _jsx(Button, { onClick: async () => {
                                    rlast.current = 0;
                                    await append_data();
                                }, children: "\u5411\u6D41\u8868\u4E2D\u6DFB\u52A0\u4E09\u6761\u6570\u636E" }) }), _jsx("div", { children: _jsx(Button, { onClick: async () => {
                                    rlast.current = 0;
                                    await append_data(1);
                                }, children: "\u5411\u6D41\u8868\u4E2D\u6DFB\u52A0\u4E00\u6761\u6570\u636E" }) }), _jsx("div", { children: _jsx(Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 2000 * 5;
                                    await rddbapi.current.eval('n = 2000\n' +
                                        '\n' +
                                        'for (i in 0..4)\n' +
                                        '    append!(\n' +
                                        '        prices,\n' +
                                        '        table([\n' +
                                        '            (now() + 0..(n-1)) as time,\n' +
                                        "            take(['MSFT', 'FUTU'], n) as stock,\n" +
                                        '            (0..(n-1) \\ 10) as price\n' +
                                        '        ])\n' +
                                        '    )\n');
                                }, children: "\u6D4B\u8BD5\u63D2\u5165 2000 \u6761\u6570\u636E 5 \u6B21" }) }), _jsx("div", { children: _jsx(Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 1_0000 * 10;
                                    await rddbapi.current.eval('n = 10000\n' +
                                        '\n' +
                                        'for (i in 0..9)\n' +
                                        '    append!(\n' +
                                        '        prices,\n' +
                                        '        table([\n' +
                                        '            (now() + 0..(n-1)) as time,\n' +
                                        "            take(['MSFT', 'FUTU'], n) as stock,\n" +
                                        '            (0..(n-1) \\ 10) as price\n' +
                                        '        ])\n' +
                                        '    )\n');
                                }, children: "\u6D4B\u8BD5\u63D2\u5165 1_0000 \u6761\u6570\u636E 10 \u6B21" }) }), _jsx("div", { children: _jsx(Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 10_0000 * 10;
                                    await rddbapi.current.eval('n = 100000\n' +
                                        '\n' +
                                        'for (i in 0..9)\n' +
                                        '    append!(\n' +
                                        '        prices,\n' +
                                        '        table([\n' +
                                        '            (now() + 0..(n-1)) as time,\n' +
                                        "            take(['MSFT', 'FUTU'], n) as stock,\n" +
                                        '            (0..(n-1) \\ 10) as price\n' +
                                        '        ])\n' +
                                        '    )\n');
                                }, children: "\u6D4B\u8BD5\u63D2\u5165 10_0000 \u6761\u6570\u636E 10 \u6B21" }) }), _jsx("div", { children: _jsx(Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 2000;
                                    await rddbapi.current.eval('n = 2000\n' +
                                        'for (i in 0..(n-1))\n' +
                                        "    insert into prices values (now(), 'MSFT', rand(100, 1)[0])\n");
                                }, children: "\u6D4B\u8BD5\u6DFB\u52A0\u4E00\u6761\u6570\u636E 2000 \u6B21" }) }), _jsxs("div", { children: ["\u5E94\u6DFB\u52A0\u884C\u6570: ", rappended.current] }), _jsxs("div", { children: ["\u5B9E\u9645\u7684\u884C\u6570: ", rreceived.current] }), _jsx("div", { children: "\u4E0A\u9762\u4E24\u4E2A\u5E94\u8BE5\u76F8\u7B49" }), _jsxs("div", { children: ["\u81EA\u52A8\u6DFB\u52A0\u6570\u636E: ", _jsx(Switch, { onChange: checked => {
                                        rauto_append.current = checked;
                                        rerender({});
                                    } })] })] }), _jsx("div", { children: "\u63A5\u6536\u5230\u63A8\u9001\u7684 message \u4E4B\u540E\uFF0C\u624D\u4F1A\u5728\u4E0B\u9762\u663E\u793A\u51FA\u8868\u683C" })] });
    }, [table]);
    if (!rsddb.current || !rddbapi.current || !rmessage.current)
        return _jsx("div", { className: 'streaming-table', children: _jsx(StreamingTableActions, {}) });
    const { current: message } = rmessage;
    const cols = seq(message.data.columns.length, index => new StreamingTableColumn({
        rmessage,
        index,
        page_size,
        page_index,
        options,
    }));
    async function append_data(n = 3) {
        rappended.current += n;
        try {
            await rddbapi.current.eval(n === 3 ?
                'append!(\n' +
                    '    prices,\n' +
                    '    table([\n' +
                    '        [now(), timestamp(now() + 10), timestamp(now() + 20)] as time,\n' +
                    "        ['MSFT', 'FUTU', 'MSFT'] as stock,\n" +
                    '        [1.0, 2.0, 3.0] as price\n' +
                    '    ])\n' +
                    ')\n'
                :
                    'append!(\n' +
                        '    prices,\n' +
                        '    table([\n' +
                        '        [now()] as time,\n' +
                        "        ['MSFT'] as stock,\n" +
                        '        [1.0] as price\n' +
                        '    ])\n' +
                        ')\n');
        }
        catch (error) {
            on_error?.(error);
            throw error;
        }
    }
    return _jsxs("div", { className: 'streaming-table', children: [_jsx(StreamingTableActions, {}), _jsx("div", { className: 'table', children: _jsx(AntTable, { dataSource: seq(page_size), rowKey: x => x, bordered: true, pagination: false, columns: [
                        {
                            title: '',
                            key: 'index',
                            className: 'row-head',
                            fixed: 'left',
                            render: irow => page_size * page_index + irow
                        },
                        ...cols
                    ] }) }), _jsx("div", { className: 'bottom-bar-placeholder' }), _jsxs("div", { className: 'bottom-bar', children: [_jsxs("div", { className: 'info', children: [_jsxs("span", { className: 'desc', children: [rreceived.current, " ", t('行'), " ", cols.length, " ", t('列'), message.window.offset > 0 ? ` ${message.window.offset} ${t('偏移')}` : ''] }), ' ', _jsx("span", { className: 'type', children: t('的流表') }), _jsx("span", { className: 'name', children: table })] }), _jsx(Pagination, { className: 'pagination', total: rreceived.current, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 50, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), _jsxs("div", { className: 'actions', children: [(ctx === 'page' || ctx === 'embed') && _jsx(Icon, { className: 'icon-link', title: t('在新窗口中打开'), component: SvgLink, onClick: async () => {
                                    throw new Error('未实现');
                                    // await open_obj({ obj, objref, remote, ddb })
                                } }), _jsx("div", { className: 'pause-play', children: rrate.current === -1 ?
                                    _jsx(CaretRightOutlined, { title: t('继续显示流表更新'), onClick: () => { set_rate(); } })
                                    :
                                        _jsx(PauseOutlined, { title: t('暂停显示流表更新'), onClick: () => { set_rate(-1); } }) }), _jsxs(Select, { defaultValue: default_rate, onSelect: (value) => {
                                    set_rate(value);
                                }, children: [_jsx(Select.Option, { value: 0, children: t('实时') }), _jsx(Select.Option, { value: 1000, children: "1 s" }), _jsx(Select.Option, { value: 2000, children: "2 s" }), _jsx(Select.Option, { value: 3000, children: "3 s" }), _jsx(Select.Option, { value: 5000, children: "5 s" }), _jsx(Select.Option, { value: 10 * 1000, children: "10 s" }), _jsx(Select.Option, { value: 30 * 1000, children: "30 s" }), _jsx(Select.Option, { value: 60 * 1000, children: "60 s" })] })] })] })] });
}
class StreamingTableColumn {
    /** 表格数据的第 index 列 */
    index;
    key;
    rmessage;
    col;
    page_index;
    page_size;
    title;
    align;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.key = this.index;
        const { current: { obj, data: { columns } } } = this.rmessage;
        this.col = obj.value[this.index];
        assert(this.col.form === DdbForm.vector, t('this.streaming.data 中的元素应该是 vector'));
        this.title = _jsx(Tooltip, { title: DdbType[this.col.type === DdbType.symbol_extended ? DdbType.symbol : this.col.type], children: columns[this.index] });
        this.align = TableColumn.left_align_types.has(this.col.type) ? 'left' : 'right';
    }
    render = (irow) => _jsx(StreamingCell, { window: this.rmessage.current.window, irow: this.page_size * this.page_index + irow, icol: this.index, options: this.options });
}
class TableColumn {
    static left_align_types = new Set([
        browser_DdbType.symbol,
        browser_DdbType.symbol_extended,
        browser_DdbType.string,
        browser_DdbType.functiondef,
        browser_DdbType.handle,
        browser_DdbType.code,
        browser_DdbType.datasource,
        browser_DdbType.resource,
    ]);
    /** 表格数据的第 index 列 */
    index;
    obj;
    objref;
    col;
    page_index;
    page_size;
    title;
    key;
    align;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.key = this.index;
        let obj = this.obj || this.objref.obj;
        if (!obj)
            return;
        this.col = obj.value[this.index];
        this.title = (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: browser_DdbType[this.col.type === browser_DdbType.symbol_extended ? browser_DdbType.symbol : this.col.type], children: this.col.name });
        this.align = TableColumn.left_align_types.has(this.col.type) ? 'left' : 'right';
    }
    render = (irow) => {
        const obj = this.col;
        if (!obj)
            return null;
        const index = (this.obj ? this.page_size * this.page_index : 0) + // 之前页的 items 数量
            irow;
        return index < obj.rows ?
            truncate(browser_formati(obj, index, this.options))
            :
                null;
    };
}
function Matrix({ obj, objref, ctx, remote, ddb, options, }) {
    const info = obj || objref;
    const ncols = info.cols;
    const [page_size, set_page_size] = (0,external_React_.useState)((ctx === 'page' || ctx === 'window') ? 20 : 10);
    const nrows = Math.min(page_size, info.rows);
    const [page_index, set_page_index] = (0,external_React_.useState)(0);
    const render = (0,external_React_.useState)({})[1];
    (0,external_React_.useEffect)(() => {
        set_page_index(0);
    }, [obj, objref]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (obj)
                return;
            const { node, name, rows } = objref;
            const offset = page_size * page_index;
            if (offset >= rows)
                return;
            const script = `${name}[${offset}:${Math.min(offset + page_size, rows)},]`;
            console.log('matrix.fetch:', script);
            if (ddb)
                objref.obj = await ddb.eval(script);
            else
                objref.obj = DdbObj.parse(...await remote.call('eval', [node, script]));
            render({});
        })();
    }, [obj, objref, page_index, page_size]);
    return (0,jsx_runtime.jsxs)("div", { className: 'matrix', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { dataSource: utils_browser_seq(nrows), rowKey: x => x, bordered: true, pagination: false, columns: [
                    {
                        title: '',
                        key: 'index',
                        className: 'row-head',
                        fixed: 'left',
                        render(irow) {
                            const i = obj ?
                                page_size * page_index + irow
                                :
                                    irow;
                            const rows = (obj || objref.obj)?.value.rows;
                            return rows ?
                                i < rows.rows ?
                                    browser_formati(rows, i, options)
                                    :
                                        ''
                                :
                                    i;
                        }
                    },
                    ...utils_browser_seq(ncols, index => new MatrixColumn({
                        obj,
                        objref,
                        index,
                        page_index,
                        page_size,
                        options,
                    }))
                ] }), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), (0,jsx_runtime.jsxs)("div", { className: 'bottom-bar', children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [info.rows, " ", i18n_t_0('行'), " ", info.cols, " ", i18n_t_0('列'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: i18n_t_0('的矩阵') }), info.name && (0,jsx_runtime.jsx)("span", { className: 'name', children: info.name })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'pagination', total: info.rows, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 50, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: i18n_t_0('在新窗口中打开'), component: link_icon, onClick: async () => {
                                await open_obj({ obj, objref, remote, ddb, options });
                            } }) })] })] });
}
class MatrixColumn {
    index;
    obj;
    objref;
    page_index;
    page_size;
    title;
    key;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.title = String(this.index);
        this.key = this.index;
        let obj = this.obj || this.objref.obj;
        if (!obj)
            return;
        const cols = obj?.value.cols;
        if (cols)
            this.title = browser_formati(cols, this.index, this.options);
    }
    render = (irow) => {
        const obj = this.obj || this.objref.obj;
        if (!obj)
            return null;
        const irow_ = this.obj ?
            this.page_size * this.page_index + irow
            :
                irow;
        if (irow_ >= obj.rows)
            return null;
        const nitems = obj.cols * obj.rows;
        // this.index 列之前所有列的元素 + this.index 列之前分页中的列内的元素 + 当前元素下标
        const index = this.obj ?
            obj.rows * this.index + this.page_size * this.page_index + irow
            :
                obj.rows * this.index + irow;
        utils_browser_assert(index < nitems, 'index < obj.cols * obj.rows');
        return browser_formati(new DdbObj({
            form: browser_DdbForm.vector,
            type: obj.type,
            rows: nitems,
            value: obj.value.data
        }), index, this.options);
    };
}
function to_chart_data(data, datatype) {
    switch (datatype) {
        case browser_DdbType.int:
            return data === nulls.int32 ? null : Number(data);
        case browser_DdbType.short:
            return data === nulls.int16 ? null : Number(data);
        case browser_DdbType.float:
            return data === nulls.float32 ? null : Number(data);
        case browser_DdbType.double:
            return data === nulls.double ? null : Number(data);
        case browser_DdbType.long:
            return data === nulls.int64 ? null : Number(data);
        default:
            return Number(data);
    }
}
function Chart({ obj, objref, ctx, remote, ddb, options, }) {
    const [{ inited, charttype, data, titles, stacking, multi_y_axes, col_labels, bin_count, }, set_config] = (0,external_React_.useState)({
        inited: false,
        charttype: DdbChartType.line,
        data: [],
        titles: {},
        stacking: false,
        multi_y_axes: false,
        col_labels: [],
        bin_count: null,
        bin_start: null,
        bin_end: null,
    });
    (0,external_React_.useEffect)(() => {
        (async () => {
            const { value: { bin_count, bin_start, bin_end, titles, type: charttype, stacking, extras, data: { rows, cols, type: datatype, value: { rows: rows_, cols: cols_, data } } } } = obj ||
                (ddb ?
                    await ddb.eval(objref.name)
                    :
                        DdbObj.parse(...await remote.call('eval', [objref.node, objref.name])));
            const { multi_y_axes = false } = extras || {};
            const col_labels_ = (cols_?.value || utils_browser_seq(cols)).map(col_label => col_label?.value?.name || col_label);
            const row_labels = (() => {
                // 没有设置 label 的话直接以序号赋值并返回
                if (!rows_)
                    return utils_browser_seq(rows);
                else if (charttype === DdbChartType.kline || charttype === DdbChartType.scatter)
                    return rows_.value;
                else
                    // format 为 string
                    return utils_browser_seq(rows, i => browser_formati(rows_, i, options));
            })();
            const n = charttype === DdbChartType.line && multi_y_axes || charttype === DdbChartType.kline ? rows : rows * cols;
            let data_ = new Array(n);
            switch (charttype) {
                case DdbChartType.line:
                    if (multi_y_axes)
                        for (let j = 0; j < rows; j++) {
                            let dataobj = {};
                            dataobj.row = row_labels[j];
                            for (let i = 0; i < cols; i++) {
                                let idata = i * rows + j;
                                dataobj[col_labels_[i]] = to_chart_data(data[idata], datatype);
                            }
                            data_[j] = dataobj;
                        }
                    else
                        for (let i = 0; i < cols; i++)
                            for (let j = 0; j < rows; j++) {
                                const idata = i * rows + j;
                                data_[idata] = {
                                    row: row_labels[j],
                                    col: col_labels_[i],
                                    value: to_chart_data(data[idata], datatype)
                                };
                            }
                    break;
                case DdbChartType.kline:
                    for (let j = 0; j < rows; j++) {
                        let dataobj = {};
                        dataobj.row = row_labels[j];
                        dataobj.row_ = browser_formati(rows_, j, options);
                        dataobj.open = to_chart_data(data[j], datatype);
                        dataobj.high = to_chart_data(data[rows + j], datatype);
                        dataobj.low = to_chart_data(data[rows * 2 + j], datatype);
                        dataobj.close = to_chart_data(data[rows * 3 + j], datatype);
                        if (cols === 5)
                            dataobj.vol = to_chart_data(data[rows * 4 + j], datatype);
                        data_[j] = dataobj;
                    }
                    break;
                default:
                    for (let i = 0; i < cols; i++)
                        for (let j = 0; j < rows; j++) {
                            const idata = i * rows + j;
                            data_[idata] = {
                                row: row_labels[j],
                                col: col_labels_[i],
                                value: to_chart_data(data[idata], datatype)
                            };
                        }
                    if (charttype === DdbChartType.histogram && bin_start && bin_end)
                        data_ = data_.filter(data => data.value >= Number(bin_start.value) && data.value <= Number(bin_end.value));
                    break;
            }
            console.log('data:', data_);
            set_config({
                inited: true,
                charttype,
                data: data_,
                titles,
                stacking,
                multi_y_axes,
                col_labels: col_labels_,
                bin_count,
                bin_start,
                bin_end,
            });
        })();
    }, [obj, objref]);
    if (!inited)
        return null;
    return (0,jsx_runtime.jsxs)("div", { className: 'chart', children: [(0,jsx_runtime.jsx)("div", { className: 'chart-title', children: titles.chart }), (() => {
                switch (charttype) {
                    case DdbChartType.line:
                        if (!multi_y_axes)
                            return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Line, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', xAxis: {
                                    title: {
                                        text: titles.x_axis
                                    }
                                }, yAxis: {
                                    title: {
                                        text: titles.y_axis
                                    }
                                }, isStack: stacking, padding: 'auto', animation: false });
                        else
                            return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.DualAxes, { className: 'chart-body', data: [data, data], xField: 'row', yField: col_labels, xAxis: {
                                    title: {
                                        text: titles.x_axis
                                    }
                                }, yAxis: {
                                    [col_labels[0]]: {
                                        title: {
                                            text: titles.y_axis
                                        }
                                    }
                                }, padding: 'auto', animation: false });
                    case DdbChartType.column:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Column, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, isGroup: true, label: {
                                position: 'middle',
                                layout: [
                                    {
                                        type: 'interval-adjust-position',
                                    },
                                    {
                                        type: 'interval-hide-overlap',
                                    },
                                    {
                                        type: 'adjust-color',
                                    },
                                ],
                            }, padding: 'auto', animation: false });
                    case DdbChartType.bar:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Bar, { className: 'chart-body', data: data, xField: 'value', yField: 'row', seriesField: 'col', xAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, isStack: stacking, isGroup: !stacking, label: {
                                position: 'middle',
                                layout: [
                                    {
                                        type: 'interval-adjust-position',
                                    },
                                    {
                                        type: 'interval-hide-overlap',
                                    },
                                    {
                                        type: 'adjust-color',
                                    },
                                ],
                            }, padding: 'auto', animation: false });
                    case DdbChartType.pie:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Pie, { className: 'chart-body', data: data, angleField: 'value', colorField: 'row', radius: 0.9, label: {
                                type: 'spider',
                                content: '{name}: {percentage}',
                            }, padding: 'auto', animation: false });
                    case DdbChartType.area:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Area, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', 
                            // @ts-ignore
                            xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, 
                            // @ts-ignore
                            stack: stacking, isStack: stacking, padding: 'auto', animation: false });
                    case DdbChartType.scatter:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Scatter, { className: 'chart-body', data: data, xField: 'row', yField: 'value', colorField: 'col', xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, padding: 'auto', animation: false });
                    case DdbChartType.histogram:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Histogram, { className: 'chart-body', data: data, binField: 'value', stackField: 'col', 
                            // 修复类型错误
                            binNumber: undefined, ...bin_count ? { binNumber: Number(bin_count.value) } : {}, xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, 
                            // 修复类型错误
                            binWidth: undefined, padding: 'auto', animation: false });
                    case DdbChartType.kline:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Stock, { className: 'chart-body', data: data, xField: 'row', yField: ['open', 'close', 'high', 'low'], xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, meta: {
                                row: {
                                    formatter: (value, index) => format(obj.value.data.value.rows.type, value, obj.le)
                                },
                                vol: {
                                    alias: i18n_t_0('成交量'),
                                },
                                open: {
                                    alias: i18n_t_0('开盘价'),
                                },
                                close: {
                                    alias: i18n_t_0('收盘价'),
                                },
                                high: {
                                    alias: i18n_t_0('最高价'),
                                },
                                low: {
                                    alias: i18n_t_0('最低价'),
                                },
                            }, padding: 'auto', tooltip: {
                                // @ts-ignore
                                crosshairs: {
                                    // 自定义 crosshairs line 样式
                                    line: {
                                        style: {
                                            lineWidth: 0.5,
                                            stroke: 'rgba(0,0,0,0.25)'
                                        }
                                    },
                                    text: (type, defaultContent, items) => {
                                        let textContent;
                                        if (type === 'x') {
                                            const item = items[0];
                                            textContent = item ? item.data.row_ : defaultContent;
                                        }
                                        else
                                            textContent = defaultContent.toFixed(2);
                                        return {
                                            position: type === 'y' ? 'start' : 'end',
                                            content: textContent,
                                            // 自定义 crosshairs text 样式
                                            style: {
                                                fill: '#dfdfdf'
                                            }
                                        };
                                    },
                                },
                                fields: ['open', 'close', 'high', 'low', 'vol'],
                                title: 'row_',
                            }, animation: false });
                    default:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Line, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, isStack: stacking, padding: 'auto', animation: false });
                }
            })(), ctx !== 'window' && (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), ctx !== 'window' && (0,jsx_runtime.jsx)("div", { className: 'bottom-bar', children: (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: i18n_t_0('在新窗口中打开'), component: link_icon, onClick: async () => {
                            await open_obj({ obj, objref, remote, ddb });
                        } }) }) })] });
}

;// CONCATENATED MODULE: ./console/window.tsx
















const locales = { zh: es_locale_zh_CN, en: en_US/* default */.A, ja: ja_JP/* default */.A, ko: ko_KR/* default */.A };
class WindowModel extends Model {
    obj;
    objref;
    remote;
    ddb;
    options;
}
let model = window.model = new WindowModel();
(0,client/* createRoot */.H)(document.querySelector('.root')).render((0,jsx_runtime.jsx)(Root, {}));
function Root() {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.ConfigProvider, { locale: locales[i18n_language_0], button: { autoInsertSpace: false }, theme: { hashed: false, token: { borderRadius: 0, motion: false } }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.App, { className: 'app', children: (0,jsx_runtime.jsx)(DdbObjWindow, {}) }) });
}
function DdbObjWindow() {
    const { obj, objref, remote, ddb, options } = model.use(['obj', 'objref', 'remote', 'ddb', 'options']);
    // App 组件通过 Context 提供上下文方法调用，因而 useApp 需要作为子组件才能使用
    Object.assign(model, external_antd_namespaceObject.App.useApp());
    (0,external_React_.useEffect)(() => {
        (async () => {
            let i = 0;
            while (!window.resolve) {
                if (i >= 10)
                    return;
                await utils_browser_delay(200);
                i++;
            }
            window.resolve();
        })();
    }, []);
    (0,external_React_.useEffect)(() => {
        if (!obj && !objref)
            return;
        const { name, form } = obj || objref;
        document.title = `${name || browser_DdbForm[form]} - DolphinDB`;
        (async () => {
            await utils_browser_delay(200);
            const $table = document.querySelector('table');
            if (!$table)
                return;
            window.resizeTo(Math.min($table.offsetWidth + 40, screen.width - 100), Math.min($table.offsetHeight + 140, screen.height - 100));
        })();
    }, [obj, objref]);
    if (!obj && !objref)
        return (0,jsx_runtime.jsx)("div", { children: "DolphinDB Window" });
    return (0,jsx_runtime.jsx)("div", { className: 'obj-result themed window', children: (0,jsx_runtime.jsx)(Obj, { obj: obj, objref: objref, ctx: 'window', remote: remote, ddb: ddb, options: options }) });
}

})();

var __webpack_exports__WindowModel = __webpack_exports__.y;
export { __webpack_exports__WindowModel as WindowModel };
