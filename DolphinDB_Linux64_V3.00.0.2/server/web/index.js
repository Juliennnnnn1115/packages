import * as __WEBPACK_EXTERNAL_MODULE__pre_bundle_antd_pro_components_js_a790971e__ from "./pre-bundle/antd-pro-components.js";
import * as __WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__ from "./pre-bundle/formily.js";
/******/ var __webpack_modules__ = ({

/***/ 4340:
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/calendar/locale/en_US.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _en_US = _interopRequireDefault(__webpack_require__(/*! ../../date-picker/locale/en_US */ 8911));
var _default = exports["default"] = _en_US.default;

/***/ }),

/***/ 7808:
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/calendar/locale/ja_JP.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ja_JP = _interopRequireDefault(__webpack_require__(/*! ../../date-picker/locale/ja_JP */ 4267));
var _default = exports["default"] = _ja_JP.default;

/***/ }),

/***/ 6258:
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/calendar/locale/ko_KR.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ko_KR = _interopRequireDefault(__webpack_require__(/*! ../../date-picker/locale/ko_KR */ 6669));
var _default = exports["default"] = _ko_KR.default;

/***/ }),

/***/ 8911:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/date-picker/locale/en_US.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _en_US = _interopRequireDefault(__webpack_require__(/*! rc-picker/lib/locale/en_US */ 5473));
var _en_US2 = _interopRequireDefault(__webpack_require__(/*! ../../time-picker/locale/en_US */ 3094));
// Merge into a locale object
const locale = {
  lang: Object.assign({
    placeholder: 'Select date',
    yearPlaceholder: 'Select year',
    quarterPlaceholder: 'Select quarter',
    monthPlaceholder: 'Select month',
    weekPlaceholder: 'Select week',
    rangePlaceholder: ['Start date', 'End date'],
    rangeYearPlaceholder: ['Start year', 'End year'],
    rangeQuarterPlaceholder: ['Start quarter', 'End quarter'],
    rangeMonthPlaceholder: ['Start month', 'End month'],
    rangeWeekPlaceholder: ['Start week', 'End week']
  }, _en_US.default),
  timePickerLocale: Object.assign({}, _en_US2.default)
};
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
var _default = exports["default"] = locale;

/***/ }),

/***/ 4267:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/date-picker/locale/ja_JP.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ja_JP = _interopRequireDefault(__webpack_require__(/*! rc-picker/lib/locale/ja_JP */ 4101));
var _ja_JP2 = _interopRequireDefault(__webpack_require__(/*! ../../time-picker/locale/ja_JP */ 7626));
// Merge into a locale object
const locale = {
  lang: Object.assign({
    placeholder: '日付を選択',
    rangePlaceholder: ['開始日付', '終了日付']
  }, _ja_JP.default),
  timePickerLocale: Object.assign({}, _ja_JP2.default)
};
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
var _default = exports["default"] = locale;

/***/ }),

/***/ 6669:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/date-picker/locale/ko_KR.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _ko_KR = _interopRequireDefault(__webpack_require__(/*! rc-picker/lib/locale/ko_KR */ 4295));
var _ko_KR2 = _interopRequireDefault(__webpack_require__(/*! ../../time-picker/locale/ko_KR */ 876));
// Merge into a locale object
const locale = {
  lang: Object.assign({
    placeholder: '날짜 선택',
    rangePlaceholder: ['시작일', '종료일']
  }, _ko_KR.default),
  timePickerLocale: Object.assign({}, _ko_KR2.default)
};
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
var _default = exports["default"] = locale;

/***/ }),

/***/ 5685:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/en_US.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
__webpack_unused_export__ = ({
  value: true
});
exports.A = void 0;
var _en_US = _interopRequireDefault(__webpack_require__(/*! rc-pagination/lib/locale/en_US */ 1763));
var _en_US2 = _interopRequireDefault(__webpack_require__(/*! ../calendar/locale/en_US */ 4340));
var _en_US3 = _interopRequireDefault(__webpack_require__(/*! ../date-picker/locale/en_US */ 8911));
var _en_US4 = _interopRequireDefault(__webpack_require__(/*! ../time-picker/locale/en_US */ 3094));
/* eslint-disable no-template-curly-in-string */

const typeTemplate = '${label} is not a valid ${type}';
const localeValues = {
  locale: 'en',
  Pagination: _en_US.default,
  DatePicker: _en_US3.default,
  TimePicker: _en_US4.default,
  Calendar: _en_US2.default,
  global: {
    placeholder: 'Please select'
  },
  Table: {
    filterTitle: 'Filter menu',
    filterConfirm: 'OK',
    filterReset: 'Reset',
    filterEmptyText: 'No filters',
    filterCheckall: 'Select all items',
    filterSearchPlaceholder: 'Search in filters',
    emptyText: 'No data',
    selectAll: 'Select current page',
    selectInvert: 'Invert current page',
    selectNone: 'Clear all data',
    selectionAll: 'Select all data',
    sortTitle: 'Sort',
    expand: 'Expand row',
    collapse: 'Collapse row',
    triggerDesc: 'Click to sort descending',
    triggerAsc: 'Click to sort ascending',
    cancelSort: 'Click to cancel sorting'
  },
  Tour: {
    Next: 'Next',
    Previous: 'Previous',
    Finish: 'Finish'
  },
  Modal: {
    okText: 'OK',
    cancelText: 'Cancel',
    justOkText: 'OK'
  },
  Popconfirm: {
    okText: 'OK',
    cancelText: 'Cancel'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: 'Search here',
    itemUnit: 'item',
    itemsUnit: 'items',
    remove: 'Remove',
    selectCurrent: 'Select current page',
    removeCurrent: 'Remove current page',
    selectAll: 'Select all data',
    deselectAll: 'Deselect all data',
    removeAll: 'Remove all data',
    selectInvert: 'Invert current page'
  },
  Upload: {
    uploading: 'Uploading...',
    removeFile: 'Remove file',
    uploadError: 'Upload error',
    previewFile: 'Preview file',
    downloadFile: 'Download file'
  },
  Empty: {
    description: 'No data'
  },
  Icon: {
    icon: 'icon'
  },
  Text: {
    edit: 'Edit',
    copy: 'Copy',
    copied: 'Copied',
    expand: 'Expand',
    collapse: 'Collapse'
  },
  Form: {
    optional: '(optional)',
    defaultValidateMessages: {
      default: 'Field validation error for ${label}',
      required: 'Please enter ${label}',
      enum: '${label} must be one of [${enum}]',
      whitespace: '${label} cannot be a blank character',
      date: {
        format: '${label} date format is invalid',
        parse: '${label} cannot be converted to a date',
        invalid: '${label} is an invalid date'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label} must be ${len} characters',
        min: '${label} must be at least ${min} characters',
        max: '${label} must be up to ${max} characters',
        range: '${label} must be between ${min}-${max} characters'
      },
      number: {
        len: '${label} must be equal to ${len}',
        min: '${label} must be minimum ${min}',
        max: '${label} must be maximum ${max}',
        range: '${label} must be between ${min}-${max}'
      },
      array: {
        len: 'Must be ${len} ${label}',
        min: 'At least ${min} ${label}',
        max: 'At most ${max} ${label}',
        range: 'The amount of ${label} must be between ${min}-${max}'
      },
      pattern: {
        mismatch: '${label} does not match the pattern ${pattern}'
      }
    }
  },
  Image: {
    preview: 'Preview'
  },
  QRCode: {
    expired: 'QR code expired',
    refresh: 'Refresh',
    scanned: 'Scanned'
  },
  ColorPicker: {
    presetEmpty: 'Empty'
  }
};
var _default = exports.A = localeValues;

/***/ }),

/***/ 2593:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ja_JP.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
__webpack_unused_export__ = ({
  value: true
});
exports.A = void 0;
var _ja_JP = _interopRequireDefault(__webpack_require__(/*! rc-pagination/lib/locale/ja_JP */ 6791));
var _ja_JP2 = _interopRequireDefault(__webpack_require__(/*! ../calendar/locale/ja_JP */ 7808));
var _ja_JP3 = _interopRequireDefault(__webpack_require__(/*! ../date-picker/locale/ja_JP */ 4267));
var _ja_JP4 = _interopRequireDefault(__webpack_require__(/*! ../time-picker/locale/ja_JP */ 7626));
/* eslint-disable no-template-curly-in-string */

const typeTemplate = '${label}は有効な${type}ではありません';
const localeValues = {
  locale: 'ja',
  Pagination: _ja_JP.default,
  DatePicker: _ja_JP3.default,
  TimePicker: _ja_JP4.default,
  Calendar: _ja_JP2.default,
  global: {
    placeholder: '選んでください'
  },
  Table: {
    filterTitle: 'フィルター',
    filterConfirm: 'OK',
    filterReset: 'リセット',
    filterEmptyText: 'フィルターなし',
    filterCheckall: 'すべてを選択',
    filterSearchPlaceholder: 'フィルターで検索',
    emptyText: 'データなし',
    selectAll: 'ページ単位で選択',
    selectInvert: 'ページ単位で反転',
    selectNone: 'クリア',
    selectionAll: 'すべてを選択',
    sortTitle: 'ソート',
    expand: '展開する',
    collapse: '折り畳む',
    triggerDesc: 'クリックで降順にソート',
    triggerAsc: 'クリックで昇順にソート',
    cancelSort: 'ソートをキャンセル'
  },
  Tour: {
    Next: '次',
    Previous: '前の',
    Finish: '仕上げる'
  },
  Modal: {
    okText: 'OK',
    cancelText: 'キャンセル',
    justOkText: 'OK'
  },
  Popconfirm: {
    okText: 'OK',
    cancelText: 'キャンセル'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: 'ここを検索',
    itemUnit: 'アイテム',
    itemsUnit: 'アイテム',
    remove: '削除',
    selectCurrent: '現在のページを選択',
    removeCurrent: '現在のページを削除',
    selectAll: 'ページ単位で選択',
    deselectAll: 'すべてのデータの選択を解除する',
    removeAll: 'ページ単位で削除',
    selectInvert: 'ページ単位で反転'
  },
  Upload: {
    uploading: 'アップロード中...',
    removeFile: 'ファイルを削除',
    uploadError: 'アップロードエラー',
    previewFile: 'ファイルをプレビュー',
    downloadFile: 'ダウンロードファイル'
  },
  Empty: {
    description: 'データがありません'
  },
  Icon: {
    icon: 'アイコン'
  },
  Text: {
    edit: '編集',
    copy: 'コピー',
    copied: 'コピーされました',
    expand: '拡大する',
    collapse: '崩壊'
  },
  Form: {
    optional: '(オプション)',
    defaultValidateMessages: {
      default: '${label}のフィールド検証エラー',
      required: '${label}を入力してください',
      enum: '${label}は[${enum}]のいずれかである必要があります',
      whitespace: '${label}は空白文字にすることはできません',
      date: {
        format: '${label}の日付形式は不正です',
        parse: '${label}は日付に変換できません',
        invalid: '${label}は不正な日付です'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label}は${len}文字である必要があります',
        min: '${label}は${min}文字以上である必要があります',
        max: '${label}は${max}文字以下である必要があります',
        range: '${label}は${min}-${max}文字の範囲である必要があります'
      },
      number: {
        len: '${label}は${len}と等しい必要があります',
        min: '${label}の最小値は${min}です',
        max: '${label}の最大値は${max}です',
        range: '${label}は${min}-${max}の範囲である必要があります'
      },
      array: {
        len: '${label}は${len}である必要があります',
        min: '${label}の最小は${min}です',
        max: '${label}の最大は${max}です',
        range: '${label}の合計は${min}-${max}の範囲である必要があります'
      },
      pattern: {
        mismatch: '${label}はパターン${pattern}と一致しません'
      }
    }
  },
  Image: {
    preview: 'プレビュー'
  },
  QRCode: {
    expired: 'QRコードの有効期限が切れました',
    refresh: 'リフレッシュ',
    scanned: 'スキャン済み'
  },
  ColorPicker: {
    presetEmpty: '空の'
  }
};
var _default = exports.A = localeValues;

/***/ }),

/***/ 651:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ko_KR.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 9557)["default"]);
__webpack_unused_export__ = ({
  value: true
});
exports.A = void 0;
var _ko_KR = _interopRequireDefault(__webpack_require__(/*! rc-pagination/lib/locale/ko_KR */ 561));
var _ko_KR2 = _interopRequireDefault(__webpack_require__(/*! ../calendar/locale/ko_KR */ 6258));
var _ko_KR3 = _interopRequireDefault(__webpack_require__(/*! ../date-picker/locale/ko_KR */ 6669));
var _ko_KR4 = _interopRequireDefault(__webpack_require__(/*! ../time-picker/locale/ko_KR */ 876));
/* eslint-disable no-template-curly-in-string */

const typeTemplate = '${label} 유효하지 않은 ${type}';
const localeValues = {
  locale: 'ko',
  Pagination: _ko_KR.default,
  DatePicker: _ko_KR3.default,
  TimePicker: _ko_KR4.default,
  Calendar: _ko_KR2.default,
  global: {
    placeholder: '선택하세요'
  },
  Table: {
    filterTitle: '필터 메뉴',
    filterConfirm: '확인',
    filterReset: '초기화',
    filterEmptyText: '필터 없음',
    filterCheckall: '전체 선택',
    filterSearchPlaceholder: '필터 검색',
    emptyText: '데이터 없음',
    selectAll: '전체 선택',
    selectInvert: '선택 반전',
    selectNone: '없음',
    selectionAll: '전체 선택',
    sortTitle: '정렬',
    expand: '펼치기',
    collapse: '접기',
    triggerDesc: '내림차순으로 정렬하기',
    triggerAsc: '오름차순으로 정렬하기',
    cancelSort: '정렬 취소하기'
  },
  Tour: {
    Next: '다음',
    Previous: '이전',
    Finish: '종료'
  },
  Modal: {
    okText: '확인',
    cancelText: '취소',
    justOkText: '확인'
  },
  Popconfirm: {
    okText: '확인',
    cancelText: '취소'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: '여기에 검색하세요',
    itemUnit: '개',
    itemsUnit: '개',
    remove: '삭제',
    selectCurrent: '현재 페이지 선택',
    removeCurrent: '현재 페이지 삭제',
    selectAll: '전체 선택',
    removeAll: '전체 삭제',
    selectInvert: '선택 반전'
  },
  Upload: {
    uploading: '업로드 중...',
    removeFile: '파일 삭제',
    uploadError: '업로드 실패',
    previewFile: '파일 미리보기',
    downloadFile: '파일 다운로드'
  },
  Empty: {
    description: '데이터 없음'
  },
  Icon: {
    icon: '아이콘'
  },
  Text: {
    edit: '수정',
    copy: '복사',
    copied: '복사 됨',
    expand: '확장'
  },
  Form: {
    optional: '(선택사항)',
    defaultValidateMessages: {
      default: '필드 유효성 검사 오류 ${label}',
      required: '${label} 값을 입력해 주세요',
      enum: '${label} [${enum}] 중에 하나여야 합니다',
      whitespace: '${label} 비워둘 수 없습니다',
      date: {
        format: '${label} 유효하지 않은 날짜 형식입니다',
        parse: '${label} 날짜 형식으로 변환될 수 없습니다',
        invalid: '${label} 유효하지 않은 날짜입니다'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label} ${len}글자여야 합니다',
        min: '${label} 적어도 ${min}글자 이상이어야 합니다',
        max: '${label} ${max}글자 이하여야 합니다',
        range: '${label} ${min}-${max}글자 사이어야 합니다'
      },
      number: {
        len: '${label} 값은 ${len}이어야 합니다',
        min: '${label} 최솟값은 ${min}입니다',
        max: '${label} 최댓값은 ${max}입니다',
        range: '${label} 값은 ${min}-${max} 사이어야 합니다'
      },
      array: {
        len: '${len}이어야 합니다 ${label}',
        min: '최소 ${min}이어야 합니다 ${label}',
        max: '최대 ${max}이어야 합니다 ${label}',
        range: '${label} ${min}-${max} 사이어야 합니다'
      },
      pattern: {
        mismatch: '${label} ${pattern} 패턴과 일치하지 않습니다'
      }
    }
  },
  Image: {
    preview: '미리보기'
  },
  QRCode: {
    expired: '만료된 QR 코드',
    refresh: '새로고침'
  },
  ColorPicker: {
    presetEmpty: '미정'
  }
};
var _default = exports.A = localeValues;

/***/ }),

/***/ 3094:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/time-picker/locale/en_US.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
const locale = {
  placeholder: 'Select time',
  rangePlaceholder: ['Start time', 'End time']
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 7626:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/time-picker/locale/ja_JP.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
const locale = {
  placeholder: '時間を選択',
  rangePlaceholder: ['開始時間', '終了時間']
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 876:
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/time-picker/locale/ko_KR.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
const locale = {
  placeholder: '시간 선택',
  rangePlaceholder: ['시작 시간', '종료 시간']
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 3042:
/*!********************************************************************************************!*\
  !*** ./node_modules/.pnpm/copy-to-clipboard@3.3.3/node_modules/copy-to-clipboard/index.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



var deselectCurrent = __webpack_require__(/*! toggle-selection */ 5664);

var clipboardToIE11Formatting = {
  "text/plain": "Text",
  "text/html": "Url",
  "default": "Text"
}

var defaultMessage = "Copy to clipboard: #{key}, Enter";

function format(message) {
  var copyKey = (/mac os x/i.test(navigator.userAgent) ? "⌘" : "Ctrl") + "+C";
  return message.replace(/#{\s*key\s*}/g, copyKey);
}

function copy(text, options) {
  var debug,
    message,
    reselectPrevious,
    range,
    selection,
    mark,
    success = false;
  if (!options) {
    options = {};
  }
  debug = options.debug || false;
  try {
    reselectPrevious = deselectCurrent();

    range = document.createRange();
    selection = document.getSelection();

    mark = document.createElement("span");
    mark.textContent = text;
    // avoid screen readers from reading out loud the text
    mark.ariaHidden = "true"
    // reset user styles for span element
    mark.style.all = "unset";
    // prevents scrolling to the end of the page
    mark.style.position = "fixed";
    mark.style.top = 0;
    mark.style.clip = "rect(0, 0, 0, 0)";
    // used to preserve spaces and line breaks
    mark.style.whiteSpace = "pre";
    // do not inherit user-select (it may be `none`)
    mark.style.webkitUserSelect = "text";
    mark.style.MozUserSelect = "text";
    mark.style.msUserSelect = "text";
    mark.style.userSelect = "text";
    mark.addEventListener("copy", function(e) {
      e.stopPropagation();
      if (options.format) {
        e.preventDefault();
        if (typeof e.clipboardData === "undefined") { // IE 11
          debug && console.warn("unable to use e.clipboardData");
          debug && console.warn("trying IE specific stuff");
          window.clipboardData.clearData();
          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting["default"]
          window.clipboardData.setData(format, text);
        } else { // all other browsers
          e.clipboardData.clearData();
          e.clipboardData.setData(options.format, text);
        }
      }
      if (options.onCopy) {
        e.preventDefault();
        options.onCopy(e.clipboardData);
      }
    });

    document.body.appendChild(mark);

    range.selectNodeContents(mark);
    selection.addRange(range);

    var successful = document.execCommand("copy");
    if (!successful) {
      throw new Error("copy command was unsuccessful");
    }
    success = true;
  } catch (err) {
    debug && console.error("unable to copy using execCommand: ", err);
    debug && console.warn("trying IE specific stuff");
    try {
      window.clipboardData.setData(options.format || "text", text);
      options.onCopy && options.onCopy(window.clipboardData);
      success = true;
    } catch (err) {
      debug && console.error("unable to copy using clipboardData: ", err);
      debug && console.error("falling back to prompt");
      message = format("message" in options ? options.message : defaultMessage);
      window.prompt(message, text);
    }
  } finally {
    if (selection) {
      if (typeof selection.removeRange == "function") {
        selection.removeRange(range);
      } else {
        selection.removeAllRanges();
      }
    }

    if (mark) {
      document.body.removeChild(mark);
    }
    reselectPrevious();
  }

  return success;
}

module.exports = copy;


/***/ }),

/***/ 4701:
/*!********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/gridstack@10.1.2/node_modules/gridstack/dist/gridstack.css ***!
  \********************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/getUrl.js */ 2787);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%23666" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 20 20"><path d="m10 3 2 2H8l2-2v14l-2-2h4l-2 2"/></svg> */ 8487), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `/**
 * gridstack SASS styles 10.1.2
 * Copyright (c) 2021 Alain Dumesny - see GridStack root license
 */
.grid-stack {
  position: relative;
}

.grid-stack-rtl {
  direction: ltr;
}
.grid-stack-rtl > .grid-stack-item {
  direction: rtl;
}

.grid-stack-placeholder > .placeholder-content {
  background-color: rgba(0, 0, 0, 0.1);
  margin: 0;
  position: absolute;
  width: auto;
  z-index: 0 !important;
}

.grid-stack > .grid-stack-item {
  position: absolute;
  padding: 0;
}
.grid-stack > .grid-stack-item > .grid-stack-item-content {
  margin: 0;
  position: absolute;
  width: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.grid-stack > .grid-stack-item.size-to-content:not(.size-to-content-max) > .grid-stack-item-content {
  overflow-y: hidden;
}

.grid-stack-item > .ui-resizable-handle {
  position: absolute;
  font-size: 0.1px;
  display: block;
  -ms-touch-action: none;
  touch-action: none;
}
.grid-stack-item.ui-resizable-disabled > .ui-resizable-handle, .grid-stack-item.ui-resizable-autohide > .ui-resizable-handle {
  display: none;
}
.grid-stack-item > .ui-resizable-ne,
.grid-stack-item > .ui-resizable-nw,
.grid-stack-item > .ui-resizable-se,
.grid-stack-item > .ui-resizable-sw {
  background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___});
  background-repeat: no-repeat;
  background-position: center;
}
.grid-stack-item > .ui-resizable-ne {
  transform: translate(0, 10px) rotate(45deg);
}
.grid-stack-item > .ui-resizable-sw {
  transform: rotate(45deg);
}
.grid-stack-item > .ui-resizable-nw {
  transform: translate(0, 10px) rotate(-45deg);
}
.grid-stack-item > .ui-resizable-se {
  transform: rotate(-45deg);
}
.grid-stack-item > .ui-resizable-nw {
  cursor: nw-resize;
  width: 20px;
  height: 20px;
  top: 0;
}
.grid-stack-item > .ui-resizable-n {
  cursor: n-resize;
  height: 10px;
  top: 0;
  left: 25px;
  right: 25px;
}
.grid-stack-item > .ui-resizable-ne {
  cursor: ne-resize;
  width: 20px;
  height: 20px;
  top: 0;
}
.grid-stack-item > .ui-resizable-e {
  cursor: e-resize;
  width: 10px;
  top: 15px;
  bottom: 15px;
}
.grid-stack-item > .ui-resizable-se {
  cursor: se-resize;
  width: 20px;
  height: 20px;
}
.grid-stack-item > .ui-resizable-s {
  cursor: s-resize;
  height: 10px;
  left: 25px;
  bottom: 0;
  right: 25px;
}
.grid-stack-item > .ui-resizable-sw {
  cursor: sw-resize;
  width: 20px;
  height: 20px;
}
.grid-stack-item > .ui-resizable-w {
  cursor: w-resize;
  width: 10px;
  top: 15px;
  bottom: 15px;
}
.grid-stack-item.ui-draggable-dragging > .ui-resizable-handle {
  display: none !important;
}
.grid-stack-item.ui-draggable-dragging {
  will-change: left, top;
  cursor: move;
}
.grid-stack-item.ui-resizable-resizing {
  will-change: width, height;
}

.ui-draggable-dragging,
.ui-resizable-resizing {
  z-index: 10000;
}
.ui-draggable-dragging > .grid-stack-item-content,
.ui-resizable-resizing > .grid-stack-item-content {
  box-shadow: 1px 4px 6px rgba(0, 0, 0, 0.2);
  opacity: 0.8;
}

.grid-stack-animate,
.grid-stack-animate .grid-stack-item {
  transition: left 0.3s, top 0.3s, height 0.3s, width 0.3s;
}

.grid-stack-animate .grid-stack-item.ui-draggable-dragging,
.grid-stack-animate .grid-stack-item.ui-resizable-resizing,
.grid-stack-animate .grid-stack-item.grid-stack-placeholder {
  transition: left 0s, top 0s, height 0s, width 0s;
}

.grid-stack > .grid-stack-item[gs-y="0"] {
  top: 0px;
}

.grid-stack > .grid-stack-item[gs-x="0"] {
  left: 0%;
}

.gs-12 > .grid-stack-item {
  width: 8.333%;
}
.gs-12 > .grid-stack-item[gs-x="1"] {
  left: 8.333%;
}
.gs-12 > .grid-stack-item[gs-w="2"] {
  width: 16.667%;
}
.gs-12 > .grid-stack-item[gs-x="2"] {
  left: 16.667%;
}
.gs-12 > .grid-stack-item[gs-w="3"] {
  width: 25%;
}
.gs-12 > .grid-stack-item[gs-x="3"] {
  left: 25%;
}
.gs-12 > .grid-stack-item[gs-w="4"] {
  width: 33.333%;
}
.gs-12 > .grid-stack-item[gs-x="4"] {
  left: 33.333%;
}
.gs-12 > .grid-stack-item[gs-w="5"] {
  width: 41.667%;
}
.gs-12 > .grid-stack-item[gs-x="5"] {
  left: 41.667%;
}
.gs-12 > .grid-stack-item[gs-w="6"] {
  width: 50%;
}
.gs-12 > .grid-stack-item[gs-x="6"] {
  left: 50%;
}
.gs-12 > .grid-stack-item[gs-w="7"] {
  width: 58.333%;
}
.gs-12 > .grid-stack-item[gs-x="7"] {
  left: 58.333%;
}
.gs-12 > .grid-stack-item[gs-w="8"] {
  width: 66.667%;
}
.gs-12 > .grid-stack-item[gs-x="8"] {
  left: 66.667%;
}
.gs-12 > .grid-stack-item[gs-w="9"] {
  width: 75%;
}
.gs-12 > .grid-stack-item[gs-x="9"] {
  left: 75%;
}
.gs-12 > .grid-stack-item[gs-w="10"] {
  width: 83.333%;
}
.gs-12 > .grid-stack-item[gs-x="10"] {
  left: 83.333%;
}
.gs-12 > .grid-stack-item[gs-w="11"] {
  width: 91.667%;
}
.gs-12 > .grid-stack-item[gs-x="11"] {
  left: 91.667%;
}
.gs-12 > .grid-stack-item[gs-w="12"] {
  width: 100%;
}

.gs-1 > .grid-stack-item {
  width: 100%;
}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 1940:
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/react-quill@2.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-quill/dist/quill.core.css ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
.ql-container {
  box-sizing: border-box;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 13px;
  height: 100%;
  margin: 0px;
  position: relative;
}
.ql-container.ql-disabled .ql-tooltip {
  visibility: hidden;
}
.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
  pointer-events: none;
}
.ql-clipboard {
  left: -100000px;
  height: 1px;
  overflow-y: hidden;
  position: absolute;
  top: 50%;
}
.ql-clipboard p {
  margin: 0;
  padding: 0;
}
.ql-editor {
  box-sizing: border-box;
  line-height: 1.42;
  height: 100%;
  outline: none;
  overflow-y: auto;
  padding: 12px 15px;
  tab-size: 4;
  -moz-tab-size: 4;
  text-align: left;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.ql-editor > * {
  cursor: text;
}
.ql-editor p,
.ql-editor ol,
.ql-editor ul,
.ql-editor pre,
.ql-editor blockquote,
.ql-editor h1,
.ql-editor h2,
.ql-editor h3,
.ql-editor h4,
.ql-editor h5,
.ql-editor h6 {
  margin: 0;
  padding: 0;
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol,
.ql-editor ul {
  padding-left: 1.5em;
}
.ql-editor ol > li,
.ql-editor ul > li {
  list-style-type: none;
}
.ql-editor ul > li::before {
  content: '\\2022';
}
.ql-editor ul[data-checked=true],
.ql-editor ul[data-checked=false] {
  pointer-events: none;
}
.ql-editor ul[data-checked=true] > li *,
.ql-editor ul[data-checked=false] > li * {
  pointer-events: all;
}
.ql-editor ul[data-checked=true] > li::before,
.ql-editor ul[data-checked=false] > li::before {
  color: #777;
  cursor: pointer;
  pointer-events: all;
}
.ql-editor ul[data-checked=true] > li::before {
  content: '\\2611';
}
.ql-editor ul[data-checked=false] > li::before {
  content: '\\2610';
}
.ql-editor li::before {
  display: inline-block;
  white-space: nowrap;
  width: 1.2em;
}
.ql-editor li:not(.ql-direction-rtl)::before {
  margin-left: -1.5em;
  margin-right: 0.3em;
  text-align: right;
}
.ql-editor li.ql-direction-rtl::before {
  margin-left: 0.3em;
  margin-right: -1.5em;
}
.ql-editor ol li:not(.ql-direction-rtl),
.ql-editor ul li:not(.ql-direction-rtl) {
  padding-left: 1.5em;
}
.ql-editor ol li.ql-direction-rtl,
.ql-editor ul li.ql-direction-rtl {
  padding-right: 1.5em;
}
.ql-editor ol li {
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
  counter-increment: list-0;
}
.ql-editor ol li:before {
  content: counter(list-0, decimal) '. ';
}
.ql-editor ol li.ql-indent-1 {
  counter-increment: list-1;
}
.ql-editor ol li.ql-indent-1:before {
  content: counter(list-1, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-1 {
  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-2 {
  counter-increment: list-2;
}
.ql-editor ol li.ql-indent-2:before {
  content: counter(list-2, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-2 {
  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-3 {
  counter-increment: list-3;
}
.ql-editor ol li.ql-indent-3:before {
  content: counter(list-3, decimal) '. ';
}
.ql-editor ol li.ql-indent-3 {
  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-4 {
  counter-increment: list-4;
}
.ql-editor ol li.ql-indent-4:before {
  content: counter(list-4, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-4 {
  counter-reset: list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-5 {
  counter-increment: list-5;
}
.ql-editor ol li.ql-indent-5:before {
  content: counter(list-5, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-5 {
  counter-reset: list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-6 {
  counter-increment: list-6;
}
.ql-editor ol li.ql-indent-6:before {
  content: counter(list-6, decimal) '. ';
}
.ql-editor ol li.ql-indent-6 {
  counter-reset: list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-7 {
  counter-increment: list-7;
}
.ql-editor ol li.ql-indent-7:before {
  content: counter(list-7, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-7 {
  counter-reset: list-8 list-9;
}
.ql-editor ol li.ql-indent-8 {
  counter-increment: list-8;
}
.ql-editor ol li.ql-indent-8:before {
  content: counter(list-8, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-8 {
  counter-reset: list-9;
}
.ql-editor ol li.ql-indent-9 {
  counter-increment: list-9;
}
.ql-editor ol li.ql-indent-9:before {
  content: counter(list-9, decimal) '. ';
}
.ql-editor .ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 3em;
}
.ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 4.5em;
}
.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 3em;
}
.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 4.5em;
}
.ql-editor .ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 6em;
}
.ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 7.5em;
}
.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 6em;
}
.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 7.5em;
}
.ql-editor .ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 9em;
}
.ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 10.5em;
}
.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 9em;
}
.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 10.5em;
}
.ql-editor .ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 12em;
}
.ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 13.5em;
}
.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 12em;
}
.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 13.5em;
}
.ql-editor .ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 15em;
}
.ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 16.5em;
}
.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 15em;
}
.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 16.5em;
}
.ql-editor .ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 18em;
}
.ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 19.5em;
}
.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 18em;
}
.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 19.5em;
}
.ql-editor .ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 21em;
}
.ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 22.5em;
}
.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 21em;
}
.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 22.5em;
}
.ql-editor .ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 24em;
}
.ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 25.5em;
}
.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 24em;
}
.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 25.5em;
}
.ql-editor .ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 27em;
}
.ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 28.5em;
}
.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 27em;
}
.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 28.5em;
}
.ql-editor .ql-video {
  display: block;
  max-width: 100%;
}
.ql-editor .ql-video.ql-align-center {
  margin: 0 auto;
}
.ql-editor .ql-video.ql-align-right {
  margin: 0 0 0 auto;
}
.ql-editor .ql-bg-black {
  background-color: #000;
}
.ql-editor .ql-bg-red {
  background-color: #e60000;
}
.ql-editor .ql-bg-orange {
  background-color: #f90;
}
.ql-editor .ql-bg-yellow {
  background-color: #ff0;
}
.ql-editor .ql-bg-green {
  background-color: #008a00;
}
.ql-editor .ql-bg-blue {
  background-color: #06c;
}
.ql-editor .ql-bg-purple {
  background-color: #93f;
}
.ql-editor .ql-color-white {
  color: #fff;
}
.ql-editor .ql-color-red {
  color: #e60000;
}
.ql-editor .ql-color-orange {
  color: #f90;
}
.ql-editor .ql-color-yellow {
  color: #ff0;
}
.ql-editor .ql-color-green {
  color: #008a00;
}
.ql-editor .ql-color-blue {
  color: #06c;
}
.ql-editor .ql-color-purple {
  color: #93f;
}
.ql-editor .ql-font-serif {
  font-family: Georgia, Times New Roman, serif;
}
.ql-editor .ql-font-monospace {
  font-family: Monaco, Courier New, monospace;
}
.ql-editor .ql-size-small {
  font-size: 0.75em;
}
.ql-editor .ql-size-large {
  font-size: 1.5em;
}
.ql-editor .ql-size-huge {
  font-size: 2.5em;
}
.ql-editor .ql-direction-rtl {
  direction: rtl;
  text-align: inherit;
}
.ql-editor .ql-align-center {
  text-align: center;
}
.ql-editor .ql-align-justify {
  text-align: justify;
}
.ql-editor .ql-align-right {
  text-align: right;
}
.ql-editor.ql-blank::before {
  color: rgba(0,0,0,0.6);
  content: attr(data-placeholder);
  font-style: italic;
  left: 15px;
  pointer-events: none;
  position: absolute;
  right: 15px;
}
`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6812:
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/react-quill@2.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-quill/dist/quill.snow.css ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
.ql-container {
  box-sizing: border-box;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 13px;
  height: 100%;
  margin: 0px;
  position: relative;
}
.ql-container.ql-disabled .ql-tooltip {
  visibility: hidden;
}
.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
  pointer-events: none;
}
.ql-clipboard {
  left: -100000px;
  height: 1px;
  overflow-y: hidden;
  position: absolute;
  top: 50%;
}
.ql-clipboard p {
  margin: 0;
  padding: 0;
}
.ql-editor {
  box-sizing: border-box;
  line-height: 1.42;
  height: 100%;
  outline: none;
  overflow-y: auto;
  padding: 12px 15px;
  tab-size: 4;
  -moz-tab-size: 4;
  text-align: left;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.ql-editor > * {
  cursor: text;
}
.ql-editor p,
.ql-editor ol,
.ql-editor ul,
.ql-editor pre,
.ql-editor blockquote,
.ql-editor h1,
.ql-editor h2,
.ql-editor h3,
.ql-editor h4,
.ql-editor h5,
.ql-editor h6 {
  margin: 0;
  padding: 0;
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol,
.ql-editor ul {
  padding-left: 1.5em;
}
.ql-editor ol > li,
.ql-editor ul > li {
  list-style-type: none;
}
.ql-editor ul > li::before {
  content: '\\2022';
}
.ql-editor ul[data-checked=true],
.ql-editor ul[data-checked=false] {
  pointer-events: none;
}
.ql-editor ul[data-checked=true] > li *,
.ql-editor ul[data-checked=false] > li * {
  pointer-events: all;
}
.ql-editor ul[data-checked=true] > li::before,
.ql-editor ul[data-checked=false] > li::before {
  color: #777;
  cursor: pointer;
  pointer-events: all;
}
.ql-editor ul[data-checked=true] > li::before {
  content: '\\2611';
}
.ql-editor ul[data-checked=false] > li::before {
  content: '\\2610';
}
.ql-editor li::before {
  display: inline-block;
  white-space: nowrap;
  width: 1.2em;
}
.ql-editor li:not(.ql-direction-rtl)::before {
  margin-left: -1.5em;
  margin-right: 0.3em;
  text-align: right;
}
.ql-editor li.ql-direction-rtl::before {
  margin-left: 0.3em;
  margin-right: -1.5em;
}
.ql-editor ol li:not(.ql-direction-rtl),
.ql-editor ul li:not(.ql-direction-rtl) {
  padding-left: 1.5em;
}
.ql-editor ol li.ql-direction-rtl,
.ql-editor ul li.ql-direction-rtl {
  padding-right: 1.5em;
}
.ql-editor ol li {
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
  counter-increment: list-0;
}
.ql-editor ol li:before {
  content: counter(list-0, decimal) '. ';
}
.ql-editor ol li.ql-indent-1 {
  counter-increment: list-1;
}
.ql-editor ol li.ql-indent-1:before {
  content: counter(list-1, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-1 {
  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-2 {
  counter-increment: list-2;
}
.ql-editor ol li.ql-indent-2:before {
  content: counter(list-2, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-2 {
  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-3 {
  counter-increment: list-3;
}
.ql-editor ol li.ql-indent-3:before {
  content: counter(list-3, decimal) '. ';
}
.ql-editor ol li.ql-indent-3 {
  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-4 {
  counter-increment: list-4;
}
.ql-editor ol li.ql-indent-4:before {
  content: counter(list-4, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-4 {
  counter-reset: list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-5 {
  counter-increment: list-5;
}
.ql-editor ol li.ql-indent-5:before {
  content: counter(list-5, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-5 {
  counter-reset: list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-6 {
  counter-increment: list-6;
}
.ql-editor ol li.ql-indent-6:before {
  content: counter(list-6, decimal) '. ';
}
.ql-editor ol li.ql-indent-6 {
  counter-reset: list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-7 {
  counter-increment: list-7;
}
.ql-editor ol li.ql-indent-7:before {
  content: counter(list-7, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-7 {
  counter-reset: list-8 list-9;
}
.ql-editor ol li.ql-indent-8 {
  counter-increment: list-8;
}
.ql-editor ol li.ql-indent-8:before {
  content: counter(list-8, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-8 {
  counter-reset: list-9;
}
.ql-editor ol li.ql-indent-9 {
  counter-increment: list-9;
}
.ql-editor ol li.ql-indent-9:before {
  content: counter(list-9, decimal) '. ';
}
.ql-editor .ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 3em;
}
.ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 4.5em;
}
.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 3em;
}
.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 4.5em;
}
.ql-editor .ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 6em;
}
.ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 7.5em;
}
.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 6em;
}
.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 7.5em;
}
.ql-editor .ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 9em;
}
.ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 10.5em;
}
.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 9em;
}
.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 10.5em;
}
.ql-editor .ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 12em;
}
.ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 13.5em;
}
.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 12em;
}
.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 13.5em;
}
.ql-editor .ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 15em;
}
.ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 16.5em;
}
.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 15em;
}
.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 16.5em;
}
.ql-editor .ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 18em;
}
.ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 19.5em;
}
.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 18em;
}
.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 19.5em;
}
.ql-editor .ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 21em;
}
.ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 22.5em;
}
.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 21em;
}
.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 22.5em;
}
.ql-editor .ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 24em;
}
.ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 25.5em;
}
.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 24em;
}
.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 25.5em;
}
.ql-editor .ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 27em;
}
.ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 28.5em;
}
.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 27em;
}
.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 28.5em;
}
.ql-editor .ql-video {
  display: block;
  max-width: 100%;
}
.ql-editor .ql-video.ql-align-center {
  margin: 0 auto;
}
.ql-editor .ql-video.ql-align-right {
  margin: 0 0 0 auto;
}
.ql-editor .ql-bg-black {
  background-color: #000;
}
.ql-editor .ql-bg-red {
  background-color: #e60000;
}
.ql-editor .ql-bg-orange {
  background-color: #f90;
}
.ql-editor .ql-bg-yellow {
  background-color: #ff0;
}
.ql-editor .ql-bg-green {
  background-color: #008a00;
}
.ql-editor .ql-bg-blue {
  background-color: #06c;
}
.ql-editor .ql-bg-purple {
  background-color: #93f;
}
.ql-editor .ql-color-white {
  color: #fff;
}
.ql-editor .ql-color-red {
  color: #e60000;
}
.ql-editor .ql-color-orange {
  color: #f90;
}
.ql-editor .ql-color-yellow {
  color: #ff0;
}
.ql-editor .ql-color-green {
  color: #008a00;
}
.ql-editor .ql-color-blue {
  color: #06c;
}
.ql-editor .ql-color-purple {
  color: #93f;
}
.ql-editor .ql-font-serif {
  font-family: Georgia, Times New Roman, serif;
}
.ql-editor .ql-font-monospace {
  font-family: Monaco, Courier New, monospace;
}
.ql-editor .ql-size-small {
  font-size: 0.75em;
}
.ql-editor .ql-size-large {
  font-size: 1.5em;
}
.ql-editor .ql-size-huge {
  font-size: 2.5em;
}
.ql-editor .ql-direction-rtl {
  direction: rtl;
  text-align: inherit;
}
.ql-editor .ql-align-center {
  text-align: center;
}
.ql-editor .ql-align-justify {
  text-align: justify;
}
.ql-editor .ql-align-right {
  text-align: right;
}
.ql-editor.ql-blank::before {
  color: rgba(0,0,0,0.6);
  content: attr(data-placeholder);
  font-style: italic;
  left: 15px;
  pointer-events: none;
  position: absolute;
  right: 15px;
}
.ql-snow.ql-toolbar:after,
.ql-snow .ql-toolbar:after {
  clear: both;
  content: '';
  display: table;
}
.ql-snow.ql-toolbar button,
.ql-snow .ql-toolbar button {
  background: none;
  border: none;
  cursor: pointer;
  display: inline-block;
  float: left;
  height: 24px;
  padding: 3px 5px;
  width: 28px;
}
.ql-snow.ql-toolbar button svg,
.ql-snow .ql-toolbar button svg {
  float: left;
  height: 100%;
}
.ql-snow.ql-toolbar button:active:hover,
.ql-snow .ql-toolbar button:active:hover {
  outline: none;
}
.ql-snow.ql-toolbar input.ql-image[type=file],
.ql-snow .ql-toolbar input.ql-image[type=file] {
  display: none;
}
.ql-snow.ql-toolbar button:hover,
.ql-snow .ql-toolbar button:hover,
.ql-snow.ql-toolbar button:focus,
.ql-snow .ql-toolbar button:focus,
.ql-snow.ql-toolbar button.ql-active,
.ql-snow .ql-toolbar button.ql-active,
.ql-snow.ql-toolbar .ql-picker-label:hover,
.ql-snow .ql-toolbar .ql-picker-label:hover,
.ql-snow.ql-toolbar .ql-picker-label.ql-active,
.ql-snow .ql-toolbar .ql-picker-label.ql-active,
.ql-snow.ql-toolbar .ql-picker-item:hover,
.ql-snow .ql-toolbar .ql-picker-item:hover,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected {
  color: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-fill,
.ql-snow .ql-toolbar button:hover .ql-fill,
.ql-snow.ql-toolbar button:focus .ql-fill,
.ql-snow .ql-toolbar button:focus .ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
  fill: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-stroke,
.ql-snow .ql-toolbar button:hover .ql-stroke,
.ql-snow.ql-toolbar button:focus .ql-stroke,
.ql-snow .ql-toolbar button:focus .ql-stroke,
.ql-snow.ql-toolbar button.ql-active .ql-stroke,
.ql-snow .ql-toolbar button.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow.ql-toolbar button:hover .ql-stroke-miter,
.ql-snow .ql-toolbar button:hover .ql-stroke-miter,
.ql-snow.ql-toolbar button:focus .ql-stroke-miter,
.ql-snow .ql-toolbar button:focus .ql-stroke-miter,
.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
  stroke: #06c;
}
@media (pointer: coarse) {
  .ql-snow.ql-toolbar button:hover:not(.ql-active),
  .ql-snow .ql-toolbar button:hover:not(.ql-active) {
    color: #444;
  }
  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
    fill: #444;
  }
  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
  .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
  .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
    stroke: #444;
  }
}
.ql-snow {
  box-sizing: border-box;
}
.ql-snow * {
  box-sizing: border-box;
}
.ql-snow .ql-hidden {
  display: none;
}
.ql-snow .ql-out-bottom,
.ql-snow .ql-out-top {
  visibility: hidden;
}
.ql-snow .ql-tooltip {
  position: absolute;
  transform: translateY(10px);
}
.ql-snow .ql-tooltip a {
  cursor: pointer;
  text-decoration: none;
}
.ql-snow .ql-tooltip.ql-flip {
  transform: translateY(-10px);
}
.ql-snow .ql-formats {
  display: inline-block;
  vertical-align: middle;
}
.ql-snow .ql-formats:after {
  clear: both;
  content: '';
  display: table;
}
.ql-snow .ql-stroke {
  fill: none;
  stroke: #444;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-width: 2;
}
.ql-snow .ql-stroke-miter {
  fill: none;
  stroke: #444;
  stroke-miterlimit: 10;
  stroke-width: 2;
}
.ql-snow .ql-fill,
.ql-snow .ql-stroke.ql-fill {
  fill: #444;
}
.ql-snow .ql-empty {
  fill: none;
}
.ql-snow .ql-even {
  fill-rule: evenodd;
}
.ql-snow .ql-thin,
.ql-snow .ql-stroke.ql-thin {
  stroke-width: 1;
}
.ql-snow .ql-transparent {
  opacity: 0.4;
}
.ql-snow .ql-direction svg:last-child {
  display: none;
}
.ql-snow .ql-direction.ql-active svg:last-child {
  display: inline;
}
.ql-snow .ql-direction.ql-active svg:first-child {
  display: none;
}
.ql-snow .ql-editor h1 {
  font-size: 2em;
}
.ql-snow .ql-editor h2 {
  font-size: 1.5em;
}
.ql-snow .ql-editor h3 {
  font-size: 1.17em;
}
.ql-snow .ql-editor h4 {
  font-size: 1em;
}
.ql-snow .ql-editor h5 {
  font-size: 0.83em;
}
.ql-snow .ql-editor h6 {
  font-size: 0.67em;
}
.ql-snow .ql-editor a {
  text-decoration: underline;
}
.ql-snow .ql-editor blockquote {
  border-left: 4px solid #ccc;
  margin-bottom: 5px;
  margin-top: 5px;
  padding-left: 16px;
}
.ql-snow .ql-editor code,
.ql-snow .ql-editor pre {
  background-color: #f0f0f0;
  border-radius: 3px;
}
.ql-snow .ql-editor pre {
  white-space: pre-wrap;
  margin-bottom: 5px;
  margin-top: 5px;
  padding: 5px 10px;
}
.ql-snow .ql-editor code {
  font-size: 85%;
  padding: 2px 4px;
}
.ql-snow .ql-editor pre.ql-syntax {
  background-color: #23241f;
  color: #f8f8f2;
  overflow: visible;
}
.ql-snow .ql-editor img {
  max-width: 100%;
}
.ql-snow .ql-picker {
  color: #444;
  display: inline-block;
  float: left;
  font-size: 14px;
  font-weight: 500;
  height: 24px;
  position: relative;
  vertical-align: middle;
}
.ql-snow .ql-picker-label {
  cursor: pointer;
  display: inline-block;
  height: 100%;
  padding-left: 8px;
  padding-right: 2px;
  position: relative;
  width: 100%;
}
.ql-snow .ql-picker-label::before {
  display: inline-block;
  line-height: 22px;
}
.ql-snow .ql-picker-options {
  background-color: #fff;
  display: none;
  min-width: 100%;
  padding: 4px 8px;
  position: absolute;
  white-space: nowrap;
}
.ql-snow .ql-picker-options .ql-picker-item {
  cursor: pointer;
  display: block;
  padding-bottom: 5px;
  padding-top: 5px;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label {
  color: #ccc;
  z-index: 2;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
  fill: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
  stroke: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-options {
  display: block;
  margin-top: -1px;
  top: 100%;
  z-index: 1;
}
.ql-snow .ql-color-picker,
.ql-snow .ql-icon-picker {
  width: 28px;
}
.ql-snow .ql-color-picker .ql-picker-label,
.ql-snow .ql-icon-picker .ql-picker-label {
  padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-label svg,
.ql-snow .ql-icon-picker .ql-picker-label svg {
  right: 4px;
}
.ql-snow .ql-icon-picker .ql-picker-options {
  padding: 4px 0px;
}
.ql-snow .ql-icon-picker .ql-picker-item {
  height: 24px;
  width: 24px;
  padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-options {
  padding: 3px 5px;
  width: 152px;
}
.ql-snow .ql-color-picker .ql-picker-item {
  border: 1px solid transparent;
  float: left;
  height: 16px;
  margin: 2px;
  padding: 0px;
  width: 16px;
}
.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
  position: absolute;
  margin-top: -9px;
  right: 0;
  top: 50%;
  width: 18px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
  content: attr(data-label);
}
.ql-snow .ql-picker.ql-header {
  width: 98px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label::before,
.ql-snow .ql-picker.ql-header .ql-picker-item::before {
  content: 'Normal';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {
  content: 'Heading 1';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {
  content: 'Heading 2';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {
  content: 'Heading 3';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {
  content: 'Heading 4';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {
  content: 'Heading 5';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {
  content: 'Heading 6';
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {
  font-size: 2em;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {
  font-size: 1.5em;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {
  font-size: 1.17em;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {
  font-size: 1em;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {
  font-size: 0.83em;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {
  font-size: 0.67em;
}
.ql-snow .ql-picker.ql-font {
  width: 108px;
}
.ql-snow .ql-picker.ql-font .ql-picker-label::before,
.ql-snow .ql-picker.ql-font .ql-picker-item::before {
  content: 'Sans Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {
  content: 'Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {
  content: 'Monospace';
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {
  font-family: Georgia, Times New Roman, serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {
  font-family: Monaco, Courier New, monospace;
}
.ql-snow .ql-picker.ql-size {
  width: 98px;
}
.ql-snow .ql-picker.ql-size .ql-picker-label::before,
.ql-snow .ql-picker.ql-size .ql-picker-item::before {
  content: 'Normal';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {
  content: 'Small';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {
  content: 'Large';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {
  content: 'Huge';
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {
  font-size: 10px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {
  font-size: 18px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {
  font-size: 32px;
}
.ql-snow .ql-color-picker.ql-background .ql-picker-item {
  background-color: #fff;
}
.ql-snow .ql-color-picker.ql-color .ql-picker-item {
  background-color: #000;
}
.ql-toolbar.ql-snow {
  border: 1px solid #ccc;
  box-sizing: border-box;
  font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
  padding: 8px;
}
.ql-toolbar.ql-snow .ql-formats {
  margin-right: 15px;
}
.ql-toolbar.ql-snow .ql-picker-label {
  border: 1px solid transparent;
}
.ql-toolbar.ql-snow .ql-picker-options {
  border: 1px solid transparent;
  box-shadow: rgba(0,0,0,0.2) 0 2px 8px;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
  border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
  border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
  border-color: #000;
}
.ql-toolbar.ql-snow + .ql-container.ql-snow {
  border-top: 0px;
}
.ql-snow .ql-tooltip {
  background-color: #fff;
  border: 1px solid #ccc;
  box-shadow: 0px 0px 5px #ddd;
  color: #444;
  padding: 5px 12px;
  white-space: nowrap;
}
.ql-snow .ql-tooltip::before {
  content: "Visit URL:";
  line-height: 26px;
  margin-right: 8px;
}
.ql-snow .ql-tooltip input[type=text] {
  display: none;
  border: 1px solid #ccc;
  font-size: 13px;
  height: 26px;
  margin: 0px;
  padding: 3px 5px;
  width: 170px;
}
.ql-snow .ql-tooltip a.ql-preview {
  display: inline-block;
  max-width: 200px;
  overflow-x: hidden;
  text-overflow: ellipsis;
  vertical-align: top;
}
.ql-snow .ql-tooltip a.ql-action::after {
  border-right: 1px solid #ccc;
  content: 'Edit';
  margin-left: 16px;
  padding-right: 8px;
}
.ql-snow .ql-tooltip a.ql-remove::before {
  content: 'Remove';
  margin-left: 8px;
}
.ql-snow .ql-tooltip a {
  line-height: 26px;
}
.ql-snow .ql-tooltip.ql-editing a.ql-preview,
.ql-snow .ql-tooltip.ql-editing a.ql-remove {
  display: none;
}
.ql-snow .ql-tooltip.ql-editing input[type=text] {
  display: inline-block;
}
.ql-snow .ql-tooltip.ql-editing a.ql-action::after {
  border-right: 0px;
  content: 'Save';
  padding-right: 0px;
}
.ql-snow .ql-tooltip[data-mode=link]::before {
  content: "Enter link:";
}
.ql-snow .ql-tooltip[data-mode=formula]::before {
  content: "Enter formula:";
}
.ql-snow .ql-tooltip[data-mode=video]::before {
  content: "Enter video:";
}
.ql-snow a {
  color: #06c;
}
.ql-container.ql-snow {
  border: 1px solid #ccc;
}
`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 5630:
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/xterm@5.3.0/node_modules/xterm/css/xterm.css ***!
  \******************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */

/**
 *  Default styles for xterm.js
 */

.xterm {
    cursor: text;
    position: relative;
    user-select: none;
    -ms-user-select: none;
    -webkit-user-select: none;
}

.xterm.focus,
.xterm:focus {
    outline: none;
}

.xterm .xterm-helpers {
    position: absolute;
    top: 0;
    /**
     * The z-index of the helpers must be higher than the canvases in order for
     * IMEs to appear on top.
     */
    z-index: 5;
}

.xterm .xterm-helper-textarea {
    padding: 0;
    border: 0;
    margin: 0;
    /* Move textarea out of the screen to the far left, so that the cursor is not visible */
    position: absolute;
    opacity: 0;
    left: -9999em;
    top: 0;
    width: 0;
    height: 0;
    z-index: -5;
    /** Prevent wrapping so the IME appears against the textarea at the correct position */
    white-space: nowrap;
    overflow: hidden;
    resize: none;
}

.xterm .composition-view {
    /* TODO: Composition position got messed up somewhere */
    background: #000;
    color: #FFF;
    display: none;
    position: absolute;
    white-space: nowrap;
    z-index: 1;
}

.xterm .composition-view.active {
    display: block;
}

.xterm .xterm-viewport {
    /* On OS X this is required in order for the scroll bar to appear fully opaque */
    background-color: #000;
    overflow-y: scroll;
    cursor: default;
    position: absolute;
    right: 0;
    left: 0;
    top: 0;
    bottom: 0;
}

.xterm .xterm-screen {
    position: relative;
}

.xterm .xterm-screen canvas {
    position: absolute;
    left: 0;
    top: 0;
}

.xterm .xterm-scroll-area {
    visibility: hidden;
}

.xterm-char-measure-element {
    display: inline-block;
    visibility: hidden;
    position: absolute;
    top: 0;
    left: -9999em;
    line-height: normal;
}

.xterm.enable-mouse-events {
    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */
    cursor: default;
}

.xterm.xterm-cursor-pointer,
.xterm .xterm-cursor-pointer {
    cursor: pointer;
}

.xterm.column-select.focus {
    /* Column selection mode */
    cursor: crosshair;
}

.xterm .xterm-accessibility,
.xterm .xterm-message {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    z-index: 10;
    color: transparent;
    pointer-events: none;
}

.xterm .live-region {
    position: absolute;
    left: -9999px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

.xterm-dim {
    /* Dim should not apply to background, so the opacity of the foreground color is applied
     * explicitly in the generated class and reset to 1 here */
    opacity: 1 !important;
}

.xterm-underline-1 { text-decoration: underline; }
.xterm-underline-2 { text-decoration: double underline; }
.xterm-underline-3 { text-decoration: wavy underline; }
.xterm-underline-4 { text-decoration: dotted underline; }
.xterm-underline-5 { text-decoration: dashed underline; }

.xterm-overline {
    text-decoration: overline;
}

.xterm-overline.xterm-underline-1 { text-decoration: overline underline; }
.xterm-overline.xterm-underline-2 { text-decoration: overline double underline; }
.xterm-overline.xterm-underline-3 { text-decoration: overline wavy underline; }
.xterm-overline.xterm-underline-4 { text-decoration: overline dotted underline; }
.xterm-overline.xterm-underline-5 { text-decoration: overline dashed underline; }

.xterm-strikethrough {
    text-decoration: line-through;
}

.xterm-screen .xterm-decoration-container .xterm-decoration {
	z-index: 6;
	position: absolute;
}

.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer {
	z-index: 7;
}

.xterm-decoration-overview-ruler {
    z-index: 8;
    position: absolute;
    top: 0;
    right: 0;
    pointer-events: none;
}

.xterm-decoration-top {
    z-index: 2;
    position: relative;
}
`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 5234:
/*!********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/access/index.sass ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.user .header,.group .header{margin:0px 10px 20px 0px;display:flex;justify-content:space-between}.user .search,.group .search{width:full}.user .group-select,.group .group-select{width:90%}.user .actions,.group .actions{width:100%;display:flex;column-gap:12px}.user .actions .ant-btn-link,.group .actions .ant-btn-link{padding:0px}.user .actions .search,.group .actions .search{flex:1}.user .green,.group .green{font-size:18px;color:#6ed86c}.user .red,.group .red{font-size:18px;color:#e00}.user .gray,.group .gray{font-size:18px;color:#999}.user .blue,.group .blue{color:#1776fb}.user .ant-tabs .ant-tabs-tab-btn,.group .ant-tabs .ant-tabs-tab-btn{font-size:16px}.user .ant-tabs-top>.ant-tabs-nav,.group .ant-tabs-top>.ant-tabs-nav{margin:0px}.user .switch-user,.group .switch-user{font-size:16px;font-weight:600;display:flex;column-gap:8px;align-items:center;margin-right:8px}.user .switch-user .ant-select-selector,.group .switch-user .ant-select-selector{width:150px}.user .switch-user .ant-select-selector .ant-select-selection-item,.group .switch-user .ant-select-selector .ant-select-selection-item{font-size:16px}.user .ant-table-wrapper .ant-table-title,.group .ant-table-wrapper .ant-table-title{padding-left:0px}.user .ant-table-cell,.group .ant-table-cell{padding:8px 8px !important}.user .ant-btn-link,.group .ant-btn-link{padding:0px}.add-user-modal .ant-modal-header,.edit-user-modal .ant-modal-header,.add-rule-modal .ant-modal-header,.add-group-modal .ant-modal-header,.edit-group-modal .ant-modal-header,.edit-user-group-modal .ant-modal-header,.edit-confirm-modal .ant-modal-header{margin-bottom:20px}.add-user-modal .ant-modal-footer,.edit-user-modal .ant-modal-footer,.add-rule-modal .ant-modal-footer,.add-group-modal .ant-modal-footer,.edit-group-modal .ant-modal-footer,.edit-user-group-modal .ant-modal-footer,.edit-confirm-modal .ant-modal-footer{display:flex;justify-content:center;column-gap:20px}.add-user-modal .ant-modal-footer .ant-btn,.edit-user-modal .ant-modal-footer .ant-btn,.add-rule-modal .ant-modal-footer .ant-btn,.add-group-modal .ant-modal-footer .ant-btn,.edit-group-modal .ant-modal-footer .ant-btn,.edit-user-group-modal .ant-modal-footer .ant-btn,.edit-confirm-modal .ant-modal-footer .ant-btn{width:80px;padding:4px 13px}.add-user-modal .blue,.edit-user-modal .blue,.add-rule-modal .blue,.add-group-modal .blue,.edit-group-modal .blue,.edit-user-group-modal .blue,.edit-confirm-modal .blue{color:#1776fb}.interceptor{height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}.add-rule-modal{width:900px !important}.add-rule-modal .add-rule-container .add-rule-header{display:flex;column-gap:20px;margin-bottom:20px}.add-rule-modal .add-rule-container .add-rule-header .access-select{width:200px}.add-rule-modal .add-rule-container .add-rule-header .ant-radio-group{display:flex}.add-rule-modal .add-rule-container .add-rule-header .table-select{width:400px}.add-rule-modal .add-rule-container .add-rule-header .check-all{padding:5px 12px}.add-rule-modal .add-rule-container .add-rule-header .divider{margin-bottom:0px}.add-rule-modal .ant-table-cell{padding:4px 4px !important}.add-group-modal,.edit-group-modal,.edit-user-group-modal{width:600px !important}.add-group-modal .ant-transfer,.edit-group-modal .ant-transfer,.edit-user-group-modal .ant-transfer{margin:20px 0px;display:flex;justify-content:center}.add-group-modal .ant-transfer .ant-transfer-list,.edit-group-modal .ant-transfer .ant-transfer-list,.edit-user-group-modal .ant-transfer .ant-transfer-list{height:500px;width:240px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 9877:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/components/GlobalErrorBoundary.sass ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.global-error-result .ant-result-subtitle{color:unset;text-align:left;padding:0px 10%;white-space:break-spaces}.modal-error .ant-modal-confirm-content{white-space:break-spaces}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 2822:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/components/ReadonlyEditor/index.scss ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.readonly-editor{position:relative;border:1px solid #d9d9d9}.readonly-editor .copy-btn{position:absolute;border-radius:4px;top:12px;right:32px;z-index:1000}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 4944:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/components/copy/CopyIconButton.scss ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.copy-icon-button{display:flex;justify-content:center;align-items:center;padding:12px;box-sizing:border-box}.copy-icon-button:hover{border:1px solid #e2e2e2}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 5955:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/computing/CEPComputing/index.scss ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.cep-computing-wrapper{padding:10px 0;width:100%;height:100%;display:flex}.cep-engine-empty{margin-top:64px}.cep-engine-detail{width:calc(100% - 320px)}.cep-engine-detail-single{width:100%}.cep-engine-detail .spin-content{width:100%;height:400px}.cep-engine-detail .cep-detail-header{margin-bottom:24px;display:flex;justify-content:space-between;align-items:center}.cep-engine-detail .data-view-info{display:flex;justify-content:space-between}.cep-engine-detail .data-view-info .data-view-key-search-input{margin-bottom:16px}.cep-engine-detail .data-view-info .data-view-table{width:calc(100% - 320px);margin-left:12px}.cep-engine-detail .data-view-info .data-view-select{width:100%}.cep-engine-detail .data-view-info .data-view-key-wrapper{width:300px;background-color:#fafafa;padding:16px;margin-top:16px}.cep-engine-detail .data-view-info .data-view-key-wrapper .data-view-key-item{padding:0 0 0 12px;display:flex;align-items:center;width:100%;height:40px}.cep-engine-detail .data-view-info .data-view-key-wrapper .data-view-key-item:hover{cursor:pointer;background-color:#e3f2fe}.cep-engine-detail .data-view-info .data-view-key-wrapper .data-view-key-item-active{background-color:#e3f2fe !important}.cep-engine-detail .data-view-info .data-view-key-wrapper .data-view-key-item:last-of-type{margin-bottom:12px}.cep-engine-list{width:320px;border:1px solid #fafafa;box-shadow:2px 2px 2px 1px rgba(0,0,0,.1);padding:0 16px 16px 16px;margin-right:36px}.cep-engine-list div.ant-typography,.cep-engine-list .ant-typography p{margin-bottom:0px}.cep-engine-list-title{display:flex;justify-content:space-between;align-items:center}.cep-engine-list-title .refresh-icon{margin-right:4px}.cep-engine-list .cep-engine-item{border-bottom:1px solid #fafafa;background-color:#fff;padding:12px}.cep-engine-list .cep-engine-item:hover{cursor:pointer;background-color:#eef7fc;border-radius:4px}.cep-engine-list .cep-engine-item-active{background-color:#eef7fc !important;border-radius:4px}.cep-engine-list .cep-engine-item:last-child{border-bottom:none}.cep-engine-list .cep-engine-item-title{margin-bottom:8px}.cep-engine-list .cep-engine-item-desp{display:flex;justify-content:space-around}.cep-send-event-wrapper .ant-modal-header{margin-bottom:16px}.cep-send-event-wrapper .ant-modal-body{max-height:520px;overflow:auto}.cep-send-event-wrapper .event-fields-wrapper{padding:12px;background-color:rgba(187,187,187,.07);border-radius:8px}.cep-send-event-wrapper .event-fields-wrapper .type-doc-link{font-size:12px;margin-left:8px}.cep-send-event-wrapper .event-fields-wrapper .ant-form-item{margin-bottom:12px}.cep-send-event-wrapper .event-fields-wrapper .event-type-tip{margin-top:8px}.cep-send-event-wrapper .event-fields-wrapper h4{margin-top:0px}.cep-send-event-wrapper .event-fields-wrapper .ant-input-number{width:100%}.cep-send-event-wrapper .event-fields-wrapper .ant-picker{width:100%}.cep-send-event-wrapper .decimal-field-wrapper{width:100%}.cep-send-event-wrapper .decimal-field-wrapper .ant-space-item{width:50%}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 9904:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/computing/index.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.computing{padding:0px 0px !important;height:100%}.computing .ant-tabs-nav{position:sticky;top:0;z-index:10;background-color:#fff}.computing .ant-tabs-extra-content .ant-btn{margin-right:20px}.computing .ant-tabs-content-holder{padding:0 20px}.computing .interceptor{height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}.computing .spin-container{height:100%;display:flex;justify-content:center;align-items:center}.computing .streaming_pub_sub_stat{display:flex;justify-content:space-between;flex-direction:column}.computing .streaming-engine-stat,.computing .persistent-table-stat,.computing .share-streaming-table-stat{display:flex;flex-direction:column}.computing .tab-header{display:flex;align-items:center;column-gap:10px;margin:0px;font-size:16px;padding:0 12px}.computing .tab-header .tab-icon{font-size:20px;display:flex;align-items:center}.computing .tab-header .sm-font{font-size:18px}.computing .tab-header:hover{cursor:pointer}.computing .separater{height:56px}.computing .ant-table-thead .ant-table-cell{vertical-align:top}.computing .ant-tabs-top .ant-tabs-nav{margin:0}.computing .ant-tabs-top .ant-tabs-nav .ant-tabs-tab-active .ant-tabs-tab-btn{color:#000}.computing .ant-tabs .ant-tabs-tab{padding:12px 0 8px 0}.computing .ant-tabs .ant-tabs-tab:hover{color:#000}.computing .ant-tabs-ink-bar{background-color:#000}.computing .ant-table-thead tr td,.computing .ant-table-thead tr th{background-color:#f8f8f8}.computing .ant-table-title{display:flex;position:relative;height:50px;justify-content:start;align-items:center}.computing .ant-table-title .title-button{position:absolute;left:0}.computing .ant-table-title .title-button .ant-btn{padding:2px 6px}.computing .ant-table-title .table-name{font-weight:600;flex:1;text-align:center;font-size:18px}.computing .ant-table-title .anticon{cursor:pointer;font-size:16px}.computing .col-title,.computing .ant-table-cell{font-size:13px}.computing .green{color:#6ed86c}.computing .orange{color:#ff985d}.computing .red{color:#e00}.computing .show-more{color:#1677ff;cursor:pointer}.computing-delete-modal{width:450px !important}.computing-delete-modal .ant-modal-content{padding:24px}.computing-delete-modal .delete-warning-title{display:flex;align-items:center}.computing-delete-modal .delete-warning-title .anticon-warning{color:#ff4d4f;margin-right:10px;font-size:24px}.computing-delete-modal .delete-warning-title .selected-number{color:#3181ff;cursor:pointer}.computing-delete-modal .ant-input{border-color:#d63e49;height:35px;margin-top:10px}.computing-delete-modal .ant-input:focus{border-color:#3181ff}.computing-delete-modal .hidden{display:none}.computing-delete-modal .disable-button{width:100%;border-color:#e8a0a2;color:#e8a0a2;height:35px}.computing-delete-modal .normal-button{width:100%;border-color:#e0e0e2;background-color:#d63e49;color:#fff;height:35px;box-shadow:none}.computing-delete-modal .ant-btn-primary:not(:disabled):not(.ant-btn-disabled):hover{background-color:#d63e49}.computing-delete-modal .ant-modal-footer .ant-btn+.ant-btn:not(.ant-dropdown-trigger){margin-inline-start:0}.computing-show-more-modal .ant-modal-confirm-title{width:330px}.computing-show-more-modal .ant-list-item{padding:8px 0}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 4010:
/*!********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/config/index.sass ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.config{padding:0px 0px !important}.config .ant-pro-card .ant-pro-card-body{padding-block:unset}.config .ant-tabs-nav{margin:0px}.config .ant-pro-table .ant-pro-table-list-toolbar-left{flex:0;width:0px}.config .ant-pro-table .ant-pro-table-list-toolbar-right{justify-content:start}.config .ant-pro-table .ant-pro-table-list-toolbar-right div{width:100%}.config .tab-header{display:flex;justify-content:center;align-items:center;column-gap:10px;font-size:16px}.config .ant-table-cell{padding:8px 8px !important;border-radius:0px !important}.config .ant-table-cell .ant-btn{height:auto;padding:0px}.config .ant-collapse .ant-collapse-content>.ant-collapse-content-box{padding:0px}.config .nodes-config-container{padding-inline:24px}.config .nodes-config-container .ant-collapse-header{background-color:#f5f5f5}.config .nodes-config-container .toolbar{padding-block:16px;display:flex;column-gap:8px;justify-content:start}.config .nodes-config-container .nodes-config-table .ant-pro-card-body{padding:0px !important}.config .collapse-title{font-size:16px;font-weight:600}.config .high-light-row{background-color:rgba(181,214,253,.3)}.config .mr-btn{margin-right:10px}.add-config-modal .mr-btn{margin-right:20px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6564:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/ChartFormFields/index.scss ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.field-wrapper{padding:8px 0px}.field-wrapper .ant-space{width:100%}.field-wrapper .ant-space .ant-space-item:first-child{flex-grow:1}.axis-wrapper .ant-form-item{margin-bottom:8px}.axis-wrapper .ant-form-item:last-child{margin-bottom:0px}.divider{margin:4px 0px}.delete-icon{margin-left:4px}.yasix-collapse-wrapper .add-yaxis-btn{margin-top:12px}collapse-label{display:flex;justify-content:space-between}.add-series-btn{margin-top:12px}.ant-picker-dropdown .ant-picker-time-panel-column{width:100px}.col-select-space{width:100%}.col-select-space .ant-space-item{width:50%}.threshold-list{background-color:#141414;padding:8px}.threshold-list .threshold-item{display:flex;justify-content:space-between;margin-bottom:8px}.threshold-list .threshold-item .ant-form-item{margin-bottom:0px !important}.threshold-list .threshold-add-btn{text-align:right}.threshold-list .threshold-add-btn .threshold-add-icon{margin-right:4px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6853:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Chart/index.scss ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.dashboard-line-chart{width:100%;height:100%}.chart-radio-group{margin-bottom:12px}.chart-wrapper{padding:8px;background-color:#282828}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 9776:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/CompositeGraph/index.scss ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.series_match_type_tip{margin-left:8px}.collapse-label{display:flex;justify-content:space-between}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 8610:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/DashboardEditor/index.sass ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.editor-container{height:100%;display:flex;flex-direction:column}.editor-container h2{margin:0}.editor-container .editor{height:80%;padding:10px 0}.editor-container .editor .monaco-editor-container{height:auto}.editor-container .ant-btn{width:100px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 4062:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Descriptions/index.scss ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.color-item{width:100%;display:flex;align-items:center}.color-item .ant-space-item:first-child{width:80%}.color-item .color-item-delete-icon{cursor:pointer;margin-bottom:8px}.color-item .ant-form-item{margin-bottom:8px}.value-color-values{margin-bottom:12px}.my-descriptions{height:100%;overflow:auto;background-color:#282828}.my-descriptions.ant-descriptions .ant-descriptions-row>th,.my-descriptions .ant-descriptions .ant-descriptions-row>td{padding-bottom:0px}.description-setting-form .ant-form-item{margin-bottom:8px}.description-setting-form .ant-form-item:last-child{margin-bottom:0px}.description-pagination{margin-top:12px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 54:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Gauge/index.scss ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.data-setting-label{display:flex;justify-content:space-between}.data-setting-wrapper .ant-form-item{margin-bottom:8px}.add-data-setting-btn{margin-top:12px}.gauge-axis-setting-wrapper{display:flex;align-items:center}.gauge-axis-setting-wrapper .ant-form-item:first-child{margin-bottom:8px;width:65%}.gauge-axis-setting-wrapper .ant-form-item:nth-child(2){margin-left:8px;margin-bottom:8px;width:30%}.gauge-axis-setting-wrapper .gauge-axis-delete-icon{margin-bottom:8px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 9361:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/OHLC/index.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.echarts-for-react{height:100% !important}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 3682:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/RichText/index.sass ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.quill{height:95%}.quill .ql-toolbar .ql-stroke{fill:none;stroke:#d7d7d7}.quill .ql-toolbar .ql-fill{fill:#d7d7d7;stroke:none}.quill .ql-toolbar .ql-picker{color:#d7d7d7}.quill .ql-container{height:80%;background-color:inherit;font-size:16px}.quill .ql-picker-options{background-color:#282828}.rich-text{width:60% !important;height:600px}.rich-text .ant-modal-content{height:100%}.rich-text .ant-modal-content .ant-modal-body{height:95%}.rich-text .ant-modal-content .ant-modal-footer{margin:0}.rich-text .ant-modal-close{top:30px;inset-inline-end:30px}.rich-text-container{display:flex;flex-direction:column;justify-content:center;align-items:center;border:none !important}.rich-text-container .edit-rich-text{display:none}.empty-area,.display-area{width:100%;height:100%;color:#fff}.empty-area{display:flex;justify-content:center;align-items:center}.display-area{background-color:#282828;font-size:16px}.grid-stack-item:hover .edit-rich-text-hover{cursor:pointer;font-size:14px;color:#fff;display:block;position:absolute;top:-7px;left:0px;z-index:100000}.grid-stack-item:hover .edit-rich-text-icon{margin-right:4px}.rich-text-insert-btn{margin-bottom:12px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 7561:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Table/index.scss ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.dashboard-table-wrapper{background-color:#282828;font-size:12px;height:100%;display:flex;flex-direction:column}.dashboard-table-wrapper .ant-table-wrapper{overflow-y:auto}.dashboard-table-wrapper .ant-table-wrapper::-webkit-scrollbar-track-piece{background-color:#474747 !important}.dashboard-table-wrapper .ant-table-wrapper::-webkit-scrollbar-thumb{border-radius:0px;border:1px solid #606060 !important;box-shadow:0 0 3px rgba(0,0,0,.5);background-color:#505050 !important}.dashboard-table-wrapper .ant-table-wrapper .ant-table-thead th.ant-table-column-sort{background:#313131}.dashboard-table-wrapper td.ant-table-column-sort{background:none}.dashboard-table-wrapper .ant-table-content::-webkit-scrollbar-track-piece{background-color:#474747 !important}.dashboard-table-wrapper .ant-table-content::-webkit-scrollbar-thumb{border-radius:0px;border:1px solid #606060 !important;box-shadow:0 0 3px rgba(0,0,0,.5);background-color:#505050 !important}.dashboard-table-wrapper .table-title{color:#fff;margin-top:0px}.dashboard-table-wrapper .table-radio-group{margin-bottom:12px}.dashboard-table-wrapper .ant-table-row:nth-child(odd){background-color:#303030}.dashboard-table-wrapper .ant-table-cell{padding:2px 12px !important}.empty-table{justify-content:center;height:100%;display:flex;align-items:center}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 9960:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Variables/index.scss ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.variable-title{font-weight:500;margin-bottom:16px}.variable-chart-wrapper{margin-bottom:0px}.variable-config-form .ant-form-item{margin-bottom:8px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 3860:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/DataSource/index.sass ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.data-source .ant-modal-content{background-color:#282828}.data-source .ant-modal-content .ant-modal-title{background-color:#282828}.data-source-config-trigger-navigation{cursor:pointer}.data-source-config-trigger-navigation .data-source-config-trigger-navigation-icon{margin-right:5px}.data-source-config-main{width:100%;height:500px;color:#d7d7d7;display:flex}.data-source-config-main .ant-modal .new_data_source{top:250px !important}.data-source-config-main .config-data-source-list{width:240px;border-right:1px solid #333;display:flex;flex-direction:column}.data-source-config-main .config-data-source-list .ant-tree-title{width:100%}.data-source-config-main .config-data-source-list .ant-tree-title .data-source-tree-item{display:flex;justify-content:space-between}.data-source-config-main .config-data-source-list .data-source-list-top{padding-right:10px;height:45px;display:flex;align-items:center;justify-content:space-between}.data-source-config-main .config-data-source-list .data-source-list-top .data-source-list-top-item{cursor:pointer;font-size:12px}.data-source-config-main .config-data-source-list .data-source-list-top .data-source-list-top-item .data-source-list-top-item-icon{margin-right:2px}.data-source-config-main .config-data-source-list .data-source-list-bottom{flex:1;padding-right:10px}.data-source-config-main .config-data-source-list .data-source-list-bottom .data-source-list-bottom-menu{height:100%}.data-source-config-main .config-data-source-list .data-source-list-bottom .data-source-list-bottom-menu .ant-tree-checkbox{margin-top:12px}.data-source-config-main .config-data-source-list .data-source-list-bottom .data-source-list-bottom-menu .bottom-menu-rename-input{width:150px}.data-source-config-main .config-data-source-list .data-source-list-bottom .data-source-list-bottom-menu .ant-tree-switcher-noop{display:none}.data-source-config-main .config-data-source-list .data-source-list-bottom .data-source-list-bottom-menu .ant-tree-node-content-wrapper{height:40px;padding-left:10px;display:flex;align-items:center}.data-source-config-main .config-right{flex:1;display:flex;flex-direction:column;overflow:auto}.data-source-config-main .config-right .config-right-top{height:10%;padding-left:20px}.data-source-config-main .config-right .sqleditor{height:83%;padding:8px 16px}.data-source-config-main .config-right .streameditor{height:83%;padding:8px 16px}.data-source-config-main .config-right .streameditor .streameditor-no-table{height:100%;padding:3px 0 0 10px}.data-source-config-main .config-right .streameditor .streameditor-main{display:flex;height:100%}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-left{width:20%;padding-right:10px;box-sizing:border-box}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-left .streameditor-main-left-menu{height:100%;padding:3px 0}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-left .streameditor-main-left-menu .ant-tree-switcher-noop{display:none}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-left .streameditor-main-left-menu .ant-tree-node-content-wrapper{height:40px;padding-left:5px;display:flex;align-items:center}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-right{width:80%;padding:0 15px 15px 15px;border-left:1px solid #333}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-right .streameditor-main-right-filter{height:30%}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-right .streameditor-main-right-filter .streameditor-main-right-filter-top{display:flex;justify-content:space-between;padding:3px 0px;margin-top:5px}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-right .streameditor-main-right-filter .streameditor-main-right-filter-top .streameditor-main-right-filter-top-mode-icon{color:#666;margin-left:10px;cursor:pointer}.data-source-config-main .config-right .streameditor .streameditor-main .streameditor-main-right .streameditor-main-right-filter .streameditor-main-right-filter-main{flex:1;height:80%;border:1px solid #333;overflow:hidden}.data-source-config-main .config-right .preview{display:flex;flex-direction:column;height:60%}.data-source-config-main .config-right .preview .preview-config{display:flex;justify-content:space-between;padding:0 0 5px 0}.data-source-config-main .config-right .preview .preview-config .preview-config-close{cursor:pointer}.data-source-config-main .config-right .preview .preview-main{flex:1;border:1px solid #333;overflow:auto}.data-source-config-main .config-right .preview .preview-main .ant-table{background-color:#282828 !important}.data-source-config-main .config-right .preview .preview-main .ant-table .ant-table-cell{background-color:#282828 !important;color:#d7d7d7 !important;border-color:#333 !important}.data-source-config-main .config-right .preview .preview-main .info{color:rgba(183,181,181,.8588235294) !important}.data-source-config-main .config-right .preview .preview-main .ant-pagination .ant-pagination-item a{color:#d7d7d7 !important}.data-source-config-main .config-right .preview .preview-main .ant-pagination .ant-pagination-item-link{color:#d7d7d7 !important}.data-source-config-main .config-right .preview .preview-main .ant-pagination .ant-pagination-item-active{background-color:#3f3f3f !important;border:0px;font-weight:bold}.data-source-config-main .config-right .preview .preview-main .ant-pagination .ant-pagination-item-link-icon{color:#d7d7d7 !important}.data-source-config-main .config-right .preview .preview-main .ant-pagination .ant-pagination-disabled svg{color:#5f5f5f !important}.data-source-config-main .config-right .preview .preview-main .ant-pagination .ant-pagination-options{color:#d7d7d7 !important;display:inline-block !important}.data-source-config-main .config-right .preview .preview-main .ant-pagination input{background-color:#3f3f3f !important;color:#d7d7d7 !important}.data-source-config-main .config-right .preview .preview-main .preview-main-error{color:red;padding:5px 10px}.data-source-config-main .config-right .sqlconfig{height:7%;padding:0 16px;display:flex;justify-content:space-between;align-items:center}.data-source-config-main .config-right .sqlconfig .sqlconfig-left{display:flex}.data-source-config-main .config-right .sqlconfig .sqlconfig-left .sqlconfig-left-refresh{margin-right:20px}.data-source-config-main .config-right .sqlconfig .sqlconfig-left .sqlconfig-left-intervals-input{width:70px;margin-right:5px}.data-source-config-main .config-right .sqlconfig .sqlconfig-right-maxline-input{width:70px}.data-source-config-main .config-right .sqlconfig .sqlconfig-right-icon{color:#666;margin-left:10px;cursor:pointer}.data-source-config-main .config-right .streamconfig{height:8%;padding:5px 16px 0 0;display:flex;justify-content:space-between;align-items:center}.data-source-config-main .config-right .streamconfig .streamconfig-left{display:flex}.data-source-config-main .config-right .streamconfig .streamconfig-left .streamconfig-left-ip{display:flex;margin-right:15px}.data-source-config-main .config-right .streamconfig .streamconfig-left .streamconfig-left-ip .streamconfig-left-ip-select{width:180px}.data-source-config-main .config-right .streamconfig .streamconfig-right{display:flex}.data-source-config-main .config-right .streamconfig .streamconfig-right .streamconfig-right-input{width:70px}.data-source-config-main .config-right .streamconfig .streamconfig-right .streamconfig-right-icon{color:#666;margin-left:10px;cursor:pointer}.variable-dropdown.ant-dropdown .ant-dropdown-menu{background-color:#282828}.insert-variable-btn{margin-left:16px;width:50%}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 9232:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/GraphItem/index.scss ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.default-img{width:120px;height:120px}.graph-title{color:#fff;font-size:16px;margin-bottom:8px;margin-top:28px}.widget-type{display:inline-block}.edit-data-source{cursor:pointer;display:inline-block;margin-right:8px}.edit-data-source-btn{color:#fff}.edit-data-source-btn:hover{color:#fff !important}.graph-item-wrapper{width:100%;height:100%;overflow:auto;padding:12px;background-color:#282828;display:flex;flex-direction:column}.graph-item-wrapper-abandon-scroll{overflow:hidden}.graph-item-wrapper .graph-component{width:100%;flex-grow:1}.graph-item-wrapper .graph-component>div::-webkit-scrollbar-track-piece{background-color:#474747 !important}.graph-item-wrapper .graph-component>div::-webkit-scrollbar-thumb{border-radius:0px;border:1px solid #606060 !important;box-shadow:0 0 3px rgba(0,0,0,.5);background-color:#505050 !important}.graph-item-wrapper::-webkit-scrollbar-track-piece{background-color:#474747 !important}.graph-item-wrapper::-webkit-scrollbar-thumb{border-radius:0px;border:1px solid #606060 !important;box-shadow:0 0 3px rgba(0,0,0,.5);background-color:#505050 !important}.variable-wrapper{margin-bottom:16px;display:flex;align-items:center}.variable-wrapper .variable-form{flex:1}.variable-wrapper .variable-form .data-picker{width:100%}.variable-wrapper .variable-form .ant-form-item{margin-bottom:0px}.variable-wrapper .search-btn{margin-left:32px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 7051:
/*!************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Header.sass ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.dashboard-header{height:50px;position:relative;border-bottom:1px #000 solid;display:flex;align-items:center;background-color:#2c2a29;color:#d7d7d7;width:100%}.dashboard-header .switcher{width:200px;height:100%}.dashboard-header .switcher .ant-select-selection-placeholder,.dashboard-header .switcher .ant-select-selection-item{color:#d7d7d7}.dashboard-header .actions{display:flex;justify-content:space-evenly;align-items:center;cursor:pointer}.dashboard-header .actions .action{border:none;box-shadow:none;padding:5px 10px;font-size:16px;background-color:#282828}.dashboard-header .actions .refresh-button{margin-left:20px}.dashboard-header .dashboard-modes{height:32px;position:absolute;left:50%;top:8px;font-size:16px;transform:translateX(-50%)}.dashboard-header .auto-save-wrapper{margin-left:8px;padding:4px 8px;border:1px solid #424242;margin-right:12px}.dashboard-header .auto-save-wrapper .auto-save-label{display:inline-block;margin-right:4px}.dashboard-header .padding{flex:1}.dashboard-header .configs{display:flex;align-items:center;margin-right:12px;justify-self:flex-end;gap:12px}.dashboard-options-label{display:flex;justify-content:space-between;align-items:center}.dashboard-options-label .status-tag{border-radius:4px}.dashboard-options-label-name{max-width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dashboard-share-label{width:200px;height:50px;padding:0 11px;line-height:50px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 8497:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Overview.sass ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.user-config{width:610px !important}.user-config .user-config-info{margin-left:28px}.dashboard-overview{padding:0 20px}.dashboard-overview .ant-table-title{padding:0 0 20px 0}.dashboard-overview .ant-table-cell{font-size:16px}.dashboard-overview .action{display:flex;column-gap:20px}.dashboard-overview .action .delete{color:#e0282e}.dashboard-overview .dashboard-cell-tag{display:flex;align-items:center}.dashboard-overview .dashboard-cell-tag .status-tag{border-radius:4px}.dashboard-overview .dashboard-cell-tag-name{max-width:80%;margin-right:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dashboard-overview .title{display:flex;flex-direction:column;justify-content:space-between}.dashboard-overview .title .toolbar{display:flex;column-gap:20px}.dashboard-overview .title .toolbar .ant-btn{font-size:16px;height:38px;padding:2px 15px}.spin-container{height:100%;display:flex;justify-content:center;align-items:center}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 2498:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/SettingsPanel/index.scss ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.reset-config-btn{margin-top:16px;margin-left:16px}.reset-tip{padding:12px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 4761:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Variable/index.sass ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.variable .ant-modal-content{background-color:#282828}.variable .ant-modal-content .ant-modal-title{background-color:#282828}.variable-config-trigger-navigation{cursor:pointer}.variable-config-trigger-navigation .variable-config-trigger-navigation-icon{margin-right:5px}.variable-config-main{width:100%;height:500px;color:#d7d7d7;display:flex}.variable-config-main .config-variable-list{width:200px;border-right:1px solid #333;display:flex;flex-direction:column}.variable-config-main .config-variable-list .variable-list-top{padding-right:10px;height:45px;display:flex;align-items:center;justify-content:space-between}.variable-config-main .config-variable-list .variable-list-top .variable-list-top-item{cursor:pointer;font-size:12px}.variable-config-main .config-variable-list .variable-list-top .variable-list-top-item .variable-list-top-item-icon{margin-right:2px}.variable-config-main .config-variable-list .variable-list-bottom{flex:1;padding-right:10px}.variable-config-main .config-variable-list .variable-list-bottom .variable-list-bottom-menu{height:100%}.variable-config-main .config-variable-list .variable-list-bottom .variable-list-bottom-menu .bottom-menu-rename-input{width:150px}.variable-config-main .config-variable-list .variable-list-bottom .variable-list-bottom-menu .ant-tree-switcher-noop{display:none}.variable-config-main .config-variable-list .variable-list-bottom .variable-list-bottom-menu .ant-tree-node-content-wrapper{height:40px;padding-left:10px;display:flex;align-items:center}.variable-config-main .config-right{flex:1;display:flex;flex-direction:column;overflow:auto}.variable-config-main .config-right .variable-editor{height:100%;padding:0 15px}.variable-config-main .config-right .variable-editor .variable-editor-main{display:flex;flex-direction:column;height:100%}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-display-name{display:flex;justify-content:space-between;width:450px;margin:8px 0 10px 0}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-display-name .variable-editor-main-display-name-input{width:350px}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-mode{display:flex;justify-content:space-between;width:450px;margin:10px 0}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-mode .variable-editor-main-mode-select{width:350px}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-value{display:flex;justify-content:space-between;width:450px;margin:10px 0}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-value .variable-editor-main-value-control{width:350px}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-options{display:flex;flex-direction:column;margin:10px 0}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-options .variable-editor-main-options-top{display:flex;justify-content:space-between;margin-bottom:8px}.variable-config-main .config-right .variable-editor .variable-editor-main .variable-editor-main-options .variable-editor-main-options-top .variable-editor-main-options-top-add{cursor:pointer;color:#1668dc}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 3422:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/index.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.view-card.dashboard{height:100%;padding:0px !important}.view-card.dashboard .ant-spin-nested-loading{height:100%}.view-card.dashboard .ant-spin-nested-loading .ant-spin-container{height:100%}.view-card.dashboard .ant-spin-nested-loading div .ant-spin{max-height:none}.view-card.dashboard .init .ant-result{padding-top:150px !important}.view-card.dashboard .init .link{margin:0 5px}.dashboard{height:100%;display:flex;flex-direction:column;min-width:1400px}.dashboard .dashboard-main{flex:1;display:flex;flex-direction:row;min-height:0px;overflow:hidden}.dashboard .dashboard-main .hidden{display:none !important}.dashboard .dashboard-main .dashboard-canvas{padding-top:1px;flex-grow:1;background-color:#282828}.dashboard .dashboard-main .dashboard-canvas .grid-stack{height:100% !important;min-height:0 !important;background-image:radial-gradient(circle at top left, #333333 2px, transparent 2px),radial-gradient(circle at top right, #333333 2px, transparent 2px),radial-gradient(circle at bottom left, #333333 2px, transparent 2px),radial-gradient(circle at bottom right, #333333 2px, transparent 2px)}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item-content{background-color:#282828;height:100%;overflow:hidden !important}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item-content .delete-graph{display:none}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item-content .delete-graph .delete-graph-icon{cursor:pointer}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item-content .graph-content{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item-content .graph-content .graph-hint{width:90%;height:50px;text-align:center;color:#d7d7d7;border:2px #1668dc solid;background-color:rgba(255,255,255,.2);cursor:pointer}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item-active{z-index:100;outline:solid 1px #1668dc;background-color:#1d1d1d}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item:hover .delete-graph{width:100%;height:30px;line-height:30px;display:block;position:absolute;text-align:end;padding:0 12px;color:#d7d7d7;z-index:999}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item:hover .delete-graph.with-edit-btn{background-color:rgba(80,80,80,.2)}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item:hover .drag-icon{width:10px;height:10px;border-bottom:3px solid #d7d7d7;border-right:3px solid #d7d7d7;position:absolute;right:5px;bottom:5px}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item:hover .drag-icon:hover{border-bottom:3px solid #1668dc;border-right:3px solid #1668dc}.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item>.ui-resizable-ne,.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item>.ui-resizable-nw,.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item>.ui-resizable-se,.dashboard .dashboard-main .dashboard-canvas .grid-stack .grid-stack-item>.ui-resizable-sw{background-image:none}.dashboard .dashboard-main .sider{overflow:auto;width:100px;margin-top:0px;background:#303030;color:#d7d7d7;display:flex;flex-direction:column;justify-content:space-between}.dashboard .dashboard-main .sider.collapsed{width:40px}.dashboard .dashboard-main .sider .dashboard-graph-item{cursor:grab;box-sizing:border-box;height:50px;line-height:50px;border:1px solid rgba(0,0,0,0);padding-left:12px}.dashboard .dashboard-main .sider .dashboard-graph-item:hover{border:1px #1668dc solid}.dashboard .dashboard-main .sider .dashboard-graph-item .icon{font-size:16px}.dashboard .dashboard-main .sider .dashboard-graph-item .name{display:inline-block;margin-left:8px}.dashboard .dashboard-main .sider .collapser{display:flex;justify-content:center;height:48px;cursor:pointer}.dashboard .dashboard-main .sider .collapser:hover{background-color:#1668dc}.dashboard .dashboard-main .dashboard-settings-panel{width:320px;overflow:auto;background-color:#303030}.dashboard .dashboard-main .dashboard-settings-panel .ant-tabs-nav{margin:unset}.dashboard .dashboard-main .dashboard-settings-panel .ant-menu-light{background:#2b2b2b}.dashboard .dashboard-main .dashboard-settings-panel .setting-options{height:calc(100% - 46px);background-color:#303030}.back-to-home{padding:12px;display:flex;justify-content:center;align-items:center}.graph-setting-form .ant-input-number{width:100%}.graph-setting-form .ant-collapse .ant-collapse-content>.ant-collapse-content-box{padding:8px}.graph-setting-form .ant-collapse .ant-collapse-content>.ant-collapse-content-box .ant-form-item{margin-bottom:8px}.graph-setting-form .ant-collapse .ant-collapse-content>.ant-collapse-content-box .ant-form-item:last-child{margin-bottom:0px}.graph-setting-form .ant-collapse-small .ant-collapse-header{padding:6px}.interceptor{height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 8430:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/formily-patch.scss ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.ant-formily-item .ant-formily-item-control .ant-formily-item-control-content .ant-formily-item-control-content-component:has(.ant-input-number){line-height:inherit}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 1149:
/*!*************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/index.sass ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `html,body{margin:0;padding:0;height:100%;overscroll-behavior-y:contain}*,:before,:after{box-sizing:border-box}.root{height:100%}.root .app{height:100%}.root .root-layout{height:100%}.root .ddb-header{padding:0px 10px;height:40px;line-height:40px;display:flex;background:#f2f2f2;box-shadow:0px 1px 0px 0px #e5e5e5;border-bottom:#e5e5e5 1px solid;z-index:10;align-items:center}.root .ddb-header .refresh-button{margin-left:16px;background-color:#f2f2f2}.root .ddb-header .refresh-button:hover{background-color:unset}.root .ddb-header .ant-avatar-sm{width:20px;height:20px;line-height:20px}.root .ddb-header .section{display:flex;align-items:center}.root .ddb-header .header-settings{overflow:hidden;display:flex;align-items:center;cursor:pointer}.root .ddb-header .header-settings .header-settings-icon{margin-right:6px}.root .ddb-header .logo{margin-left:5px;width:90px;height:40px}.root .ddb-header .padding{flex:1}.root .ddb-header .node-info,.root .ddb-header .license{color:#000;padding:1px 8px 2px 8px;border-style:solid;border-color:#bbb;margin-right:10px;cursor:pointer;background-color:#f2f2f2}.root .ddb-header .user{margin-top:-2px}.root .ddb-header .user .avatar{background-color:#707070}.root .ddb-header .user .username{padding:8px 4px;color:#2e2e2e;font-size:14px}.root .ddb-header .user .username:hover{background-color:#d8d8d8}.root .ddb-header .user .username .avatar{margin-right:3px}.root .ddb-header .user .username .arrow-down{margin-left:3px;font-size:12px}.root .body{height:100%}.root .body .sider{margin-top:1px;user-select:none;background:#fafafa}.root .body .sider .collapse-trigger{display:flex;justify-content:left;align-items:center;color:#707070;height:100%}.root .body .sider .collapse-trigger .text{margin-top:1px;color:#707070}.root .body .sider .collapse-trigger:hover{background-color:#e6e6e6}.root .body .sider .collapse-trigger.expand .collapse-icon{font-size:16px;margin-left:14px;margin-right:10px}.root .body .sider .collapse-trigger.collapsed .collapse-icon{flex:1;display:flex;justify-content:center}.root .body .sider .ant-layout-sider-trigger{background:#fafafa;box-shadow:inset -1px 0 0 #e5e5e5}.root .body .sider .menu{display:flex;flex-direction:column;height:100%;background:#fafafa;box-shadow:inset -1px 0 0 #e5e5e5;border-right:unset;color:#707070}.root .body .sider .menu.module-settings>li:last-child{margin-top:auto}.root .body .sider .menu.ant-menu-light .ant-menu-submenu-selected>.ant-menu-submenu-title,.root .body .sider .menu .ant-menu-light>.ant-menu .ant-menu-submenu-selected>.ant-menu-submenu-title{color:#282828}.root .body .sider .menu .ant-menu-sub{color:#707070}.root .body .sider .menu.ant-menu-inline-collapsed{width:50px}.root .body .sider .menu .icon-menu{font-size:16px;color:#707070;display:flex;align-items:center;justify-content:center;height:100%}.root .body .sider .menu .ant-menu-item{padding-inline:unset;margin-block-end:0}.root .body .sider .menu .ant-menu-item-selected::after{transform:none}.root .body .sider .menu .ant-menu-item-selected{background-color:#e6e6e6;color:#2e2e2e;font-weight:bold}.root .body .sider .menu .ant-menu-item-selected .icon-menu{color:#2e2e2e}.root .body .sider .menu .ant-menu-item:hover{color:#2e2e2e;background-color:#e6e6e6}.root .body .sider .menu .ant-menu-item-active{color:unset;background-color:#e6e6e6}.root .body .sider .menu .ant-menu-item-active .icon-menu{color:#2e2e2e}.root .body .view{overflow:auto;background-color:#fff;display:flex;flex-direction:column}.root .body .view .view-card{padding:20px;background-color:#fff}.head-bar-info .ant-card{box-shadow:unset}.head-bar-info .ant-card .ant-card-head{border-bottom:none !important}.head-bar-info .ant-card .ant-descriptions-bordered.ant-descriptions-small .ant-descriptions-item-label,.head-bar-info .ant-card .ant-descriptions-bordered.ant-descriptions-small .ant-descriptions-item-content{padding:2px 6px}.head-bar-info .ant-card .ant-card-head-title{font-weight:bold}.head-bar-info .ant-card .build-time{margin-top:10px;color:#e6e6e6}.head-bar-info .refresh{cursor:pointer}.decimals-toolbar{display:flex;flex-direction:column;gap:16px;margin-top:8px}.decimals-toolbar .decimals-toolbar-input .ant-input-number-sm.ant-input-number,.decimals-toolbar .decimals-toolbar-input .ant-input-number-affix-wrapper{width:150px}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler{border:0px;height:50%}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler .decimals-toolbar-wrap{display:flex;flex-direction:column;justify-content:space-around}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler svg{height:13px;width:15px}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler .decimals-toolbar-up{height:50% !important}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler .decimals-toolbar-down{height:50% !important}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler .decimals-toolbar-up-inner{height:100%;overflow:hidden}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler .decimals-toolbar-down-inner{height:100%;overflow:hidden}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler:hover .ant-input-number-handler-up-inner,.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler:hover .ant-input-number-handler-down-inner{color:#3760f0 !important}.decimals-toolbar .decimals-toolbar-input .ant-input-number:hover:not(.ant-input-number-borderless) .ant-input-number-handler-down,.decimals-toolbar .decimals-toolbar-input .ant-input-number-focused:not(.ant-input-number-borderless) .ant-input-number-handler-down{border-top:0px}.decimals-toolbar .decimals-toolbar-input .ant-input-number-handler:active{background:unset}.decimals-toolbar .decimals-toolbar-button-group{display:flex;justify-content:flex-end;gap:10px}.perf{display:flex;flex-direction:column;align-items:stretch;justify-content:space-around;gap:10px}.perf .ant-card-head{border-bottom:none !important}.perf .ant-descriptions-header{margin-bottom:4px}.perf .ant-descriptions-header .ant-descriptions-title{font-size:14px}.perf .ant-descriptions-item-content{color:#6a5acd}.perf .table{flex:1}.perf .ant-descriptions-bordered.ant-descriptions-small .ant-descriptions-item-label,.perf .ant-descriptions-bordered.ant-descriptions-small .ant-descriptions-item-content{padding:2px 6px}.perf .refresh{background:#fafafa;border-top:1px solid #f0f0f0;border-right:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0;display:flex;flex-direction:column;align-items:center;justify-content:center;width:50px;cursor:pointer;padding-top:4px}.perf .refresh .icon{font-size:16px}.perf .refresh .text{margin-top:4px;color:#000}.host-select.ant-select{margin-left:24px}.host-select.ant-select .ant-select-selector{background-color:rgba(0,0,0,0) !important}.ant-dropdown .login{align-items:flex-start}.ant-dropdown .ant-dropdown-menu{background-color:#fafafa}.ant-message{z-index:1031;top:80px !important}.ant-message .ant-message-notice-wrapper .ant-message-notice-content{border-radius:unset}.ant-modal-root .ant-modal-mask{background-color:unset}.ant-modal-root .ant-modal .ant-modal-content{padding:20px}.ant-btn{transition:unset}.ant-btn-primary{box-shadow:unset}.ant-btn-default{box-shadow:unset}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 1038:
/*!***********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/job.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.job{height:100%;overflow-y:auto}.job .actions{margin-bottom:20px;display:flex}.job .actions .search{margin-left:20px}.job .spin-container{height:100%;display:flex;justify-content:center;align-items:center}.job .ant-table{overflow-x:auto}.job .nojobs{margin-bottom:20px}.job .ant-table-wrapper .ant-table-pagination.ant-pagination{margin-bottom:0px}.job .title{margin:26px 0px;line-height:.8}.job .ellipsis{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.job .ant-table-thead{white-space:nowrap}.job .ant-table-thead tr td,.job .ant-table-thead tr th{background-color:#f8f8f8}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 2751:
/*!***********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/log.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.log{padding:unset !important;flex:1;min-height:0;display:flex;flex-direction:column}.log .list{flex:1;display:flex;flex-direction:column;min-height:0;box-shadow:2px 2px 2px 3px rgba(230,230,230,.568)}.log .list .log-title{background:#fafafa;padding:8px 30px 8px 30px;display:flex;align-items:center;font-size:1.1em;font-weight:bold}.log .list .log-title .space{flex:1}.log .list .log-login-interceptor{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column}.log .list .log-block{flex:1;min-height:0;overflow-y:auto}.log .list .log-block .log-line{padding:8px 0px 8px 30px;display:flex;align-items:center}.log .list .log-block .log-line:nth-child(even){background:#fafafa}.log .list .log-pagination{padding-top:16px;padding-bottom:16px;display:flex;justify-content:center;box-shadow:0px -1px 0px 0px #e5e5e5;z-index:1}.log .list .log-pagination .ant-pagination-item-active{border-color:#444}.log .list .log-pagination .ant-pagination-item-active a{color:#444}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 364:
/*!*************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/login.sass ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.login{display:flex;flex-direction:column;align-items:center;flex:1}.login .logo{margin:100px 0px 40px 0px;width:290px}.login .form-container{display:flex;justify-content:center}.login .form-container .form{width:300px}.login .form-container .form .submit{width:100%}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 7076:
/*!***********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/obj.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.obj-result{overflow-y:auto;position:relative;height:100%}.obj-result .table,.obj-result .vector,.obj-result .matrix,.obj-result .dict,.obj-result .chart{display:flex;flex-direction:column;height:100%}.obj-result .vector,.obj-result .table,.obj-result .matrix{user-select:text}.obj-result .vector .pagination,.obj-result .table .pagination,.obj-result .matrix .pagination{margin:2px 0px}.obj-result .vector table,.obj-result .table table,.obj-result .matrix table{text-align:right;word-break:keep-all;white-space:nowrap}.obj-result .vector .row-head,.obj-result .table .row-head,.obj-result .matrix .row-head{font-weight:bold;height:22px}.obj-result .vector thead th.ant-table-cell,.obj-result .table thead th.ant-table-cell,.obj-result .matrix thead th.ant-table-cell{text-align:center;font-weight:bold}.obj-result .vector thead .type,.obj-result .table thead .type,.obj-result .matrix thead .type{font-weight:normal;font-size:12px}.obj-result .vector thead.ant-table-thead>tr>th,.obj-result .table thead.ant-table-thead>tr>th,.obj-result .matrix thead.ant-table-thead>tr>th{padding:4px 8px}.obj-result .chart .chart-title{margin-top:8px;min-height:0px;text-align:center}.obj-result .chart .chart-body{flex:1;min-height:0px;overflow:auto;padding:0px 16px 8px 16px}.obj-result .dict{padding-top:8px}.obj-result .dict .table .bottom-bar,.obj-result .dict .vector .bottom-bar,.obj-result .dict .matrix .bottom-bar{padding-left:unset;position:unset;border-top:unset}.obj-result .dict .table .bottom-bar-placeholder,.obj-result .dict .vector .bottom-bar-placeholder,.obj-result .dict .matrix .bottom-bar-placeholder{display:none}.obj-result .dict .ant-tree-node-content-wrapper{user-select:text}.obj-result .dict .ant-tree-show-line .ant-tree-indent-unit::before{border-right:unset !important}.obj-result .dict .ant-tree{transition:unset !important}.obj-result .dict .ant-tree .ant-tree-node-content-wrapper{transition:unset !important}.obj-result .dict .ant-tree .ant-tree-switcher-noop{visibility:hidden}.obj-result .dict .ant-tree-node-content-wrapper.ant-tree-node-selected,.obj-result .dict .ant-tree-checkbox+span.ant-tree-node-selected{background-color:unset}.obj-result .dict .ant-tree-node-content-wrapper:hover,.obj-result .dict .ant-tree-checkbox+span:hover{background-color:unset}.obj-result .bottom-bar{display:flex;align-items:center;min-height:0px;width:100%;height:30px;position:absolute;bottom:0px;padding-left:12px}.obj-result .bottom-bar .info{font-size:16px;white-space:break-spaces;flex-shrink:0}.obj-result .bottom-bar .info .name{margin-left:8px;font-weight:bold}.obj-result .bottom-bar .actions{display:flex;flex-shrink:0;align-items:center;margin-left:10px}.obj-result .bottom-bar .actions .icon-link,.obj-result .bottom-bar .actions .pause-play{color:#888}.obj-result .bottom-bar .actions .icon-link{margin-right:10px;font-size:28px}.obj-result .bottom-bar .actions .pause-play{font-size:20px}.obj-result .bottom-bar-placeholder{height:30px}.obj-result .ant-table-wrapper{flex:1;overflow:auto}.obj-result .ant-tree{flex:1;overflow:auto}.obj-result .ant-table-thead>tr>td::before{content:none !important}.obj-result .ant-table-thead>tr>th,.obj-result .ant-table-tbody>tr>td,.obj-result .ant-table tfoot>tr>th,.obj-result .ant-table tfoot>tr>td{padding:1px 8px}.obj-result .ant-table-thead>tr>th,.obj-result .ant-table-thead>tr>td{text-align:center !important}.obj-result .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table thead,.obj-result .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table thead{position:sticky;top:0;z-index:3}.obj-result .ant-table-wrapper .ant-table.ant-table-bordered>.ant-table-container{border-top:unset}.obj-result .ant-table-tbody>tr>td{transition:none}.obj-result .ant-table table{width:unset}.obj-result .ant-empty-normal .ant-empty-image{display:none}.obj-result.themed .default-obj{color:var(--vscode-editor-foreground, #000000)}.obj-result.themed .vector .row-head,.obj-result.themed .table .row-head,.obj-result.themed .matrix .row-head{background-color:var(--vscode-sideBar-background, #eeeeee) !important;border-bottom:1px solid var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important;border-right:1px solid var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .vector thead .type,.obj-result.themed .table thead .type,.obj-result.themed .matrix thead .type{color:var(--vscode-editorGroupHeader-tabsBackground, #888888) !important}.obj-result.themed .chart .chart-title{color:var(--vscode-editor-foreground, #000000) !important}.obj-result.themed .dict .ant-tree-show-line .ant-tree-switcher{background:var(--vscode-editor-background, #ffffff)}.obj-result.themed .dict .ant-tree{color:var(--vscode-editor-foreground, #000000);background-color:var(--vscode-editor-background, #ffffff)}.obj-result.themed .dict .ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:unset !important}.obj-result.themed .dict .ant-tree .ant-tree-node-content-wrapper:hover{background-color:unset !important}.obj-result.themed .bottom-bar{border-top:1px solid var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13))}.obj-result.themed .bottom-bar .info{color:var(--vscode-editor-foreground, #000000)}.obj-result.themed .ant-table{background-color:var(--vscode-editor-background, #ffffff) !important}.obj-result.themed .ant-table-thead>tr>th,.obj-result.themed .ant-table-tbody>tr>td,.obj-result.themed .ant-table tfoot>tr>th,.obj-result.themed .ant-table tfoot>tr>td{color:var(--vscode-editor-foreground, #000000);border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table-thead>tr>th,.obj-result.themed .ant-table-thead>tr>td{background-color:var(--vscode-sideBar-background, #eeeeee) !important;border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table,.obj-result.themed .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table{border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table.ant-table-bordered>.ant-table-container{border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13)) !important}.obj-result.themed .ant-table-tbody>tr.ant-table-row:hover>td,.obj-result.themed .ant-table-tbody>tr>td.ant-table-cell-row-hover{background-color:var(--vscode-sideBar-background, #f8f8f8) !important}.obj-result.themed .ant-table-tbody>tr.ant-table-placeholder:hover>td{background-color:var(--vscode-editor-background, #ffffff) !important}.obj-result.themed .ant-table-wrapper .ant-table-tbody>tr.ant-table-placeholder{background-color:var(--vscode-editor-background, #ffffff) !important}.obj-result.themed .ant-empty-normal{color:var(--vscode-editor-foreground, #000000) !important}.obj-result.themed .ant-empty-normal .ant-empty-img-simple-path,.obj-result.themed .ant-empty-normal .ant-empty-img-simple-ellipse{fill:var(--vscode-editor-background, #ffffff)}.obj-result.themed .ant-empty-normal .ant-empty-description{color:var(--vscode-editor-foreground, #000000) !important}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 9555:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/overview/index.sass ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.overview{padding:0;display:flex;flex-direction:column}.overview .header-bar{position:sticky;top:0;z-index:1;width:100%;padding-top:10px;height:60px;box-shadow:0 2px 8px #f9f5ff}.overview .actions{display:flex;justify-content:space-between}.overview .actions .operations,.overview .actions .configs{display:flex;justify-content:center;align-items:center;gap:15px}.overview .actions .operations .icon-area,.overview .actions .operations .icon-expand-area,.overview .actions .operations .icon-collapse-area,.overview .actions .configs .icon-area,.overview .actions .configs .icon-expand-area,.overview .actions .configs .icon-collapse-area{width:80px;height:40px;box-shadow:0px 2px 10px 3px rgba(0,0,0,.0710637);display:flex;align-items:center;justify-content:center}.overview .actions .operations .icon-area button,.overview .actions .operations .icon-expand-area button,.overview .actions .operations .icon-collapse-area button,.overview .actions .configs .icon-area button,.overview .actions .configs .icon-expand-area button,.overview .actions .configs .icon-collapse-area button{width:80px;height:40px}.overview .actions .operations .icon-expand-area,.overview .actions .operations .icon-collapse-area,.overview .actions .configs .icon-expand-area,.overview .actions .configs .icon-collapse-area{width:100px}.overview .actions .operations .icon-expand-area button,.overview .actions .operations .icon-collapse-area button,.overview .actions .configs .icon-expand-area button,.overview .actions .configs .icon-collapse-area button{width:100px;height:40px}.overview .actions .operations .icon-expand-area,.overview .actions .configs .icon-expand-area{margin-left:25px}.overview .actions .operations .icon-refresh,.overview .actions .configs .icon-refresh{width:14px;height:14px;padding-top:7px;color:#234883;font-size:14px}.overview .actions .operations .icon-start,.overview .actions .configs .icon-start{width:11px;height:6px;padding-left:2px}.overview .actions .operations .icon-stop,.overview .actions .configs .icon-stop{width:10px;height:10px}.overview .actions .operations .grey-icon,.overview .actions .configs .grey-icon{color:#515151}.overview .actions .operations .blue-icon,.overview .actions .configs .blue-icon{color:#234883}.overview .actions .operations .icon-area-en,.overview .actions .configs .icon-area-en{width:100px;height:40px;box-shadow:0px 2px 10px 3px rgba(0,0,0,.0710637);display:flex;align-items:center;justify-content:center}.overview .actions .operations .icon-area-en button,.overview .actions .configs .icon-area-en button{width:100px;height:40px}.overview .actions .operations .icon-expand-area-en,.overview .actions .operations .icon-collapse-area-en,.overview .actions .configs .icon-expand-area-en,.overview .actions .configs .icon-collapse-area-en{width:130px;height:40px;box-shadow:0px 2px 10px 3px rgba(0,0,0,.0710637);display:flex;align-items:center;justify-content:center}.overview .actions .operations .icon-expand-area-en button,.overview .actions .operations .icon-collapse-area-en button,.overview .actions .configs .icon-expand-area-en button,.overview .actions .configs .icon-collapse-area-en button{width:120px;height:40px}.overview .actions .operations .icon-expand-area,.overview .actions .configs .icon-expand-area{margin-left:25px}.overview .content .nodes-header{display:flex;align-items:center;margin:21px 0;font-weight:600;font-size:16px;color:#666}.overview .content .nodes-header .nodes-selectAll{zoom:100%;margin:0px 10px 0 30px;padding-top:2px}.overview .content .nodes-header .nodes-selectAll .text-selectAll{font-size:14px;font-weight:400}.overview .content .nodes-header .controller-site{display:flex;padding-top:4px;margin-left:15px}.overview .content .node{box-shadow:0px 2px 10px rgba(51,51,51,.08);margin-bottom:20px;min-width:1000px;overflow:auto}.overview .content .data-current-node{border:3px solid #0069ca}.overview .content .controller-current-node{border:3px solid #8d71ff}.overview .content .data-color{background:linear-gradient(270deg, rgba(189, 217, 254, 0) 0%, rgba(189, 217, 254, 0) 34.9%, #BDD9FE 100%)}.overview .content .agent-color{background:linear-gradient(270deg, rgba(255, 206, 79, 0) 0%, rgba(255, 206, 79, 0) 34.9%, #979797 100%)}.overview .content .controller-color{background:linear-gradient(270deg, rgba(229, 223, 254, 0) 0%, rgba(229, 223, 254, 0) 34.9%, #E5DFFE 100%)}.overview .content .computing-color{background:linear-gradient(270deg, rgba(255, 206, 79, 0) 0%, rgba(255, 206, 79, 0) 34.9%, #FFCE4F 100%)}.overview .content .single-color{background:linear-gradient(270deg, rgba(189, 217, 254, 0) 0%, rgba(189, 217, 254, 0) 34.9%, #BDD9FE 100%)}.overview .content .node-header{display:flex;align-items:center;justify-content:end;height:60px}.overview .content .node-header .data-title-color{color:#003d8d}.overview .content .node-header .agent-title-color{color:#515151}.overview .content .node-header .controller-title-color{color:#412a9f}.overview .content .node-header .computing-title-color{color:#853f00}.overview .content .node-header .single-title-color{padding-left:30px;color:#003d8d}.overview .content .node-header .node-chosen{width:16px;height:16px;margin:0 18px 0 16px;padding-bottom:21px}.overview .content .node-header .node-title{display:flex;align-items:center;font-size:22px;font-weight:600}.overview .content .node-header .leader-tag{width:49px;color:#412a9f;margin-left:20px;min-width:20px}.overview .content .node-header .node-click,.overview .content .node-header .node-click-single{flex:1;height:60px}.overview .content .node-header .node-click:hover{cursor:pointer}.overview .content .node-header .node-click-single{display:flex;align-items:center}.overview .content .node-header .node-click-single .single-refresh-container{margin-left:20px;width:80px;height:40px;display:flex;align-items:center;justify-content:center}.overview .content .node-header .node-click-single .single-refresh-container button{width:auto;height:40px;color:#003d8d}.overview .content .node-header .node-click-single .single-refresh-container .icon-refresh{color:#003d8d}.overview .content .node-header .node-click-single .en-width{width:100px}.overview .content .node-header .offline{float:right;width:151px;height:60px;background-size:100%;background-image:url(./overview/offline.png);background-repeat:no-repeat;font-weight:600;font-size:14px;color:#999;line-height:60px}.overview .content .node-header .offline span{padding-left:75px}.overview .content .node-header .online{float:right;width:151px;height:60px;background-size:100%;background-image:url(./overview/online.png);background-repeat:no-repeat;font-weight:600;font-size:14px;color:#3eb456;line-height:60px}.overview .content .node-header .online span{padding-left:75px}.overview .content .node-body{display:flex;justify-content:start;margin-top:21px;height:247px;background-position:98% 58%;background-repeat:no-repeat;overflow:auto}.overview .content .node-body .info-card{display:flex;flex-direction:column;align-items:start;padding:0 15px 0 15px;height:200px;border-right:1px solid #ececec}.overview .content .node-body .info-card:last-child{border:none}.overview .content .node-body .info-card .info-title{height:22px;display:flex;align-items:stretch;padding-left:20px;font-size:20px}.overview .content .node-body .info-card .info-title .title-text{font-weight:600;font-size:16px;color:#6a7b97;margin-left:18px}.overview .content .node-body .info-card .info-body{display:flex;justify-content:center;padding-left:20px}.overview .content .node-body .info-card .info-body .info-table{min-height:60px;display:grid;grid-auto-flow:column;grid-column-gap:10px;grid-template-rows:100px 60px;justify-content:start}.overview .content .node-body .info-card .info-body .info-table .item-content{margin:22px 21px 34px 0;min-width:60px;max-width:160px}.overview .content .node-body .info-card .info-body .info-table .item-content .item-title{color:#6a7b97;margin-bottom:9px;white-space:nowrap}.overview .content .node-body .info-card .info-body .info-table .item-content .item-body .info-text{font-size:20px;color:#444;padding-top:9px;white-space:nowrap}.overview .content .node-body .info-card .info-body .info-table .item-content .item-title-en{color:#6a7b97;font-size:13px;height:30px;line-clamp:2;margin-bottom:9px}.overview .content .node-body .cpu-info{min-width:280px}.overview .content .node-body .memory-info{min-width:220px}.overview .content .node-body .disk-info{min-width:480px}.overview .content .node-body .network-info{min-width:380px}.overview .content .node-body .task-info{min-width:auto}.overview .content .node-body-fold{display:none}.overview .content .controller-node-background{background-image:url("./overview/icons/controller-background.svg")}.overview .content .data-node-background{background-image:url("./overview/icons/data-background.svg")}.overview .content .computing-node-background{background-image:url("./overview/icons/computing-background.svg")}.overview .content .node-footer{display:flex;justify-content:end;padding:0 19px 13px 0;color:#999}.overview .content .node-footer .node-version{flex-shrink:0;margin-left:30px}.overview .content .node-footer-fold{display:none}.overview .single-node-content{margin-top:15px}.overview .node-site{margin:0 15px;font-weight:500;color:#515151;font-size:14px;display:flex;justify-content:center}.overview .node-site .site-text{margin-right:10px}.overview .node-site a{color:#515151}.overview .node-site a:hover{text-decoration:underline}.overview .node-site .control-disable{cursor:not-allowed}.overview .node-site .control-disable .disable-link{pointer-events:none}.nodes-modal iframe,.controller-modal iframe,.datanode-modal iframe{border:none;height:80vh;width:100%}.ant-layout,.ant-layout-header{background-color:#fff;padding:0}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6318:
/*!********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/overview/old.sass ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.overview-old{flex:1;padding:0px 0px 0px 10px !important}.overview-old iframe{border:none;height:98%}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 4523:
/*!******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/pagination.sass ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.root .ant-pagination-item-active{border-color:rgba(0,0,0,0) !important}.root .themed .ant-pagination{margin-left:10px;flex-shrink:0}.root .themed .ant-pagination .ant-pagination-item a{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-active{background-color:var(--vscode-editor-background, #ffffff) !important;border:0px;font-weight:bold}.root .themed .ant-pagination .ant-pagination-item-active a{margin-top:1px;color:var(--vscode-editorLineNumber-activeForeground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-ellipsis{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-link{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-item-link-icon{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-disabled svg{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options{color:var(--vscode-editor-foreground, #000000) !important;display:inline-block !important}.root .themed .ant-pagination .ant-pagination-options input{background-color:var(--vscode-input-background, #ffffff) !important;color:var(--vscode-input-foreground, rgba(0, 0, 0, 0.8509803922)) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select{color:var(--vscode-editor-foreground, #000000)}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-selector{background-color:var(--vscode-editor-background, #ffffff) !important;border-color:var(--vscode-editor-background, #ffffff) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-arrow{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-dropdown{background-color:var(--vscode-dropdown-background, #ffffff) !important;color:var(--vscode-dropdown-foreground, rgba(0, 0, 0, 0.8509803922)) !important;border:1px solid var(--vscode-dropdown-border, #ffffff) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-item{color:var(--vscode-dropdown-foreground, rgba(0, 0, 0, 0.8509803922)) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-item-option-active{background-color:var(--vscode-inputOption-hoverBackground, #f5f5f5) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-item-option-selected{background-color:var(--vscode-editor-selectionBackground, #eeeeee) !important;color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select .ant-select-selection-item{color:var(--vscode-editor-foreground, #000000) !important}.root .themed .ant-pagination .ant-pagination-options .ant-select:not(.ant-select-disabled):hover .ant-select-selector{border-color:#707070}.root .themed .ant-pagination .ant-pagination-options .ant-select-focused:not(.ant-select-disabled).ant-select:not(.ant-select-customize-input) .ant-select-selector{box-shadow:unset}.root .themed .ant-pagination .ant-pagination-options .ant-select-single.ant-select-open .ant-select-selection-item{color:var(--vscode-editor-foreground, #000000)}.root .themed .ant-pagination .ant-pagination-options .ant-select-item-option-selected:not(.ant-select-item-option-disabled){background-color:var(--vscode-editor-selectionBackground, #eeeeee) !important}.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input{border-color:var(--vscode-tree-tableColumnsBorder, rgba(97, 97, 97, 0.13))}.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input:hover{border-color:#707070}.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input:focus,.root .themed .ant-pagination .ant-pagination-options .ant-pagination-options-quick-jumper input-focused{border-color:#707070;box-shadow:unset}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 221:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/settings/index.sass ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.module-settings .title{margin-bottom:20px;font-size:20px;font-weight:bold}.module-settings .card{display:flex;margin-bottom:20px;background-color:#eee;border:1px solid #e5e5e5}.module-settings .card .left{flex:1;display:flex;flex-direction:column;padding:20px}.module-settings .card .left .label{display:flex;font-size:16px;font-weight:bold}.module-settings .card .left .label .label-icon{margin-right:16px}.module-settings .card .left .description{padding-top:10px}.module-settings .card .right{display:flex;align-items:center;padding:0px 20px}.module-settings .card .right .button{width:100px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 1263:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/AccessModal.sass ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.access-table .ant-table-wrapper .ant-table-cell,.access-table .ant-table-wrapper .ant-table-thead>tr>th{padding:0}.access-table .ant-collapse>.ant-collapse-item>.ant-collapse-header{padding:5px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 4819:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/CreateTableModal.scss ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.create-table-form-columns-table .ant-table td .ant-formily-item:not(.ant-formily-item-feedback-layout-popover) .ant-formily-item-help{position:unset;box-shadow:none;background-color:rgba(0,0,0,0)}.create-table-form-columns-table-scale{margin-top:8px}.create-table-form-columns-table-scale .ant-formily-item-label{font-size:12px}.create-table-form .no-partition-scheme{color:rgba(0,0,0,.25);margin:0;text-align:center}.create-table-preview-code{position:relative}.create-table-preview-code-copy{position:absolute;top:8px;right:8px}.create-table-preview-code-editor{border:1px solid #ddd;height:400px}.create-table-preview-code-action{margin-top:24px;display:flex;justify-content:flex-end;gap:32px}.create-table-result__error .ant-result-subtitle{color:#333;text-align:left}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 938:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/Editor/index.sass ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.monaco-editor-container{min-height:0px}.light .monaco-editor{--vscode-editorLineNumber-foreground: #888888 !important;--vscode-editorLineNumber-activeForeground: #444444 !important;--vscode-editor-background: #ffffff !important;--vscode-editorGutter-background: #ffffff !important}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 7210:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/QueryGuide/index.scss ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.operator-help-icon{margin-left:4px;transform:translateY(1px)}.query-guide-modal .help-icon{margin-left:4px;transform:translateY(1px)}.query-guide-modal .query-guide-spin{display:block}.query-guide-modal .query-col-title{margin-top:0px}.query-guide-modal .query-conditions-wrapper{padding:12px 12px 12px 12px;border:1px solid #d9d9d9}.query-guide-modal .query-conditions-wrapper h4{margin:12px 0px}.query-guide-modal .query-conditions-wrapper h4:first-of-type{margin-top:0px}.query-guide-modal .guide-segmented{margin-bottom:12px}.query-guide-modal .ant-modal-body{max-height:600px;overflow-y:auto}.query-guide-modal .ant-form-item{margin-bottom:0px}.query-guide-modal .col-select-transfer{width:100%}.query-guide-modal .col-select-transfer .ant-transfer-list{width:40%;height:200px}.query-guide-modal .col-select-transfer .ant-transfer-list .ant-transfer-list-header{padding:4px 8px;height:32px}.query-guide-modal .col-select-transfer .ant-transfer-list .ant-transfer-list-body-search-wrapper{padding:8px 8px 2px 8px}.query-guide-modal .col-select-transfer .ant-transfer-list .ant-transfer-list-body-search-wrapper .ant-input-affix-wrapper.ant-transfer-list-search{height:28px}.query-guide-modal .col-select-transfer .ant-transfer-operation{width:20%;align-items:center}.query-guide-modal .col-select-transfer .transfer-list-title{display:flex;align-items:center;justify-content:end}.query-guide-modal .col-select-transfer .transfer-list-title .not-selected-icon{margin-right:4px}.query-guide-modal .col-select-transfer .transfer-list-title .selected-icon{margin-right:4px;color:#1abc24}.query-guide-modal .query-item{display:flex;justify-content:space-between;align-items:center}.query-guide-modal .query-item:last-of-type{margin-bottom:0px}.query-guide-modal .query-item .ant-form-item{width:30%;margin-bottom:0px}.query-guide-modal .query-item .ant-form-item .ant-picker{width:100%}.query-guide-modal .query-item .ant-form-item .ant-input-number{width:100%}.query-guide-modal .query-item .add-icon{color:#1677ff}.query-guide-modal .query-item .delete-icon{color:#ff4d4f}.query-guide-modal .query-block{display:flex;align-items:center}.query-guide-modal .query-block .query-content{flex:1;margin-right:8px}.query-guide-modal .query-block .delete-icon{color:#ff4d4f}.query-guide-modal .query-block-title{display:flex;justify-content:space-between}.query-guide-modal .query-block-title .query-content{flex:1}.query-guide-modal .add-query-block-btn{margin-top:8px}.query-guide-modal .add-btn-wrapper{margin-top:4px;text-align:end}.query-guide-modal .condition-tip{font-size:12px}.query-guide-modal .btn-wrapper{margin-top:12px;text-align:end}.query-guide-modal .query-code-view{width:100%;height:500px}.query-guide-modal .query-code-editor{height:520px;width:100%;margin-top:16px;border:1px solid #d9d9d9;overflow:visible}.query-guide-modal .partition-query-tip{margin-top:4px;font-size:12px}.col-select-label{height:100%;display:flex;justify-content:space-between;align-items:center}.col-select-label .table-name{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 2872:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/index.sass ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.view-card.shell{padding:0px !important}.shell{height:100%;display:flex}.shell .table-title{display:flex;justify-content:space-between;width:100%}.shell .table-title:hover .table-actions{display:flex}.shell .table-title .table-actions{display:none;margin-right:6px}.shell .table-title .table-actions .anticon.disabled{cursor:not-allowed;color:#aaa}.shell .left-panels{display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;border-right:1px solid #e5e5e5}.shell .left-panels .panel{height:100%;display:flex;flex-direction:column;white-space:nowrap;overflow:hidden}.shell .left-panels .panel .tree-content{overflow-x:hidden;flex-grow:1}.shell .left-panels .panel .database-tree{height:100%;overflow-y:auto;overflow-x:hidden}.shell .left-panels .panel .type{display:flex;justify-content:space-between;padding:4px 10px;background-color:#f0f0f0;color:#000;font-size:14px;box-shadow:inset -1px -2px 0 #e5e5e5,inset -1px 2px 0 #e5e5e5}.shell .left-panels .panel .type .extra{display:flex;gap:14px}.shell .left-panels .panel .type .extra .create-database-icon{font-size:16px}.shell .left-panels .panel .type .extra .disabled{color:#aaa;cursor:not-allowed}.shell .left-panels .panel .type .anticon{cursor:pointer}.shell .left-panels .panel .ant-tree{margin-left:4px;transition:unset !important}.shell .left-panels .panel .ant-tree .ant-tree-treenode .column-root-title,.shell .left-panels .panel .ant-tree .ant-tree-treenode .column-title{width:100%}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-list-holder-inner{padding-top:2px}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-list-holder-inner .ant-tree-treenode:last-child{box-sizing:content-box;padding-bottom:4px}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper{display:flex}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper .ant-tree-title{display:flex;justify-content:space-between;width:100%}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper .ant-tree-title .name{font-weight:bold}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper .ant-tree-title .schema-icon{padding-left:10px;padding-right:10px}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper .ant-tree-title .tooltip{visibility:hidden}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper .ant-tree-title:hover .tooltip{visibility:visible}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-switcher{width:auto;margin-right:4px}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-indent .ant-tree-indent-unit{width:16px}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper{padding:0px;transition:unset !important;user-select:unset}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper .ant-tree-iconEle{width:auto;margin-right:5px}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree-node-content-wrapper.ant-tree-node-selected{background:#f5f5f5}.shell .left-panels .panel .ant-tree .ant-tree-list .ant-tree .ant-tree-node-content-wrapper:hover{background-color:unset !important}.shell .left-panels .panel .ant-tree .ant-tree-list-empty .ant-tree-switcher{visibility:hidden}.shell .left-panels .panel .ant-tree .ant-tree-switcher-noop{visibility:hidden}.shell .left-panels .panel .ant-tree .ant-tree-switcher-leaf-line{width:12px}.shell .left-panels .panel .ant-tree-show-line .ant-tree-indent-unit::before{border-right:unset !important}.shell .left-panels .panel .ant-tree-list-scrollbar{width:12px !important}.shell .left-panels .panel .ant-tree-list-scrollbar-thumb{background-color:#aaa !important;border-radius:0px !important;cursor:default !important}.shell .left-panels .database-panel{flex:1;display:flex;flex-direction:column}.shell .left-panels .database-panel .ant-tree-node-content-wrapper{overflow:hidden;width:100%}.shell .left-panels .database-panel .ant-tree-iconEle{float:left}.shell .left-panels .database-panel .ant-tree-title{display:block;width:100%}.shell .left-panels .database-panel .ant-tree-title .column-title,.shell .left-panels .database-panel .ant-tree-title .column-root-title{display:flex;justify-content:space-between}.shell .left-panels .database-panel .ant-tree-title .column-title .column-name,.shell .left-panels .database-panel .ant-tree-title .column-root-title .column-name{font-weight:bold}.shell .left-panels .database-panel .ant-tree-title .column-title .edit-comment-button,.shell .left-panels .database-panel .ant-tree-title .column-title .add-column-button,.shell .left-panels .database-panel .ant-tree-title .column-root-title .edit-comment-button,.shell .left-panels .database-panel .ant-tree-title .column-root-title .add-column-button{padding-right:10px;visibility:hidden}.shell .left-panels .database-panel .ant-tree-title .column-title:hover .edit-comment-button,.shell .left-panels .database-panel .ant-tree-title .column-title:hover .add-column-button,.shell .left-panels .database-panel .ant-tree-title .column-root-title:hover .edit-comment-button,.shell .left-panels .database-panel .ant-tree-title .column-root-title:hover .add-column-button{visibility:visible}.shell .left-panels .database-panel .ant-tree-title .database-title{display:flex;justify-content:space-between;width:100%}.shell .left-panels .database-panel .ant-tree-title .database-title .database-actions{padding-left:10px;padding-right:10px;visibility:hidden;display:flex;column-gap:10px}.shell .left-panels .database-panel .ant-tree-title .database-title .database-actions .disabled{color:#aaa;cursor:not-allowed}.shell .left-panels .database-panel .ant-tree-title .database-title:hover .database-actions{visibility:visible}.shell .left-panels .database-panel .ant-tree-title .ant-dropdown-trigger{display:inline-block;width:100%}.shell .left-panels .database-panel .database-group.ant-tree-treenode .ant-tree-title,.shell .left-panels .database-panel .db.ant-tree-treenode .ant-tree-title,.shell .left-panels .database-panel .table.ant-tree-treenode .ant-tree-title{font-weight:bold}.shell .left-panels .database-panel .dbtree-item-title{display:flex;justify-content:flex-start;gap:10px}.shell .left-panels .database-panel .dbtree-item-title .columns-schema-inline{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.shell .left-panels .database-panel .login-to-view,.shell .left-panels .database-panel .start-node-to-view{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#888}.shell .left-panels .treeview-resizable-split1{overflow:hidden}.shell .left-panels .treeview-resizable-split1 .ant-tree-treenode,.shell .left-panels .treeview-resizable-split2 .ant-tree-treenode,.shell .left-panels .treeview-resizable-split22 .ant-tree-treenode{height:20px}.shell .left-panels .treeview-resizable-split1 .ant-tree-treenode .ant-tree-node-content-wrapper,.shell .left-panels .treeview-resizable-split2 .ant-tree-treenode .ant-tree-node-content-wrapper,.shell .left-panels .treeview-resizable-split22 .ant-tree-treenode .ant-tree-node-content-wrapper{min-height:18px;height:18px;line-height:18px}.shell .left-panels .treeview-resizable-split1 .ant-tree-treenode .ant-tree-node-content-wrapper .ant-tree-iconEle,.shell .left-panels .treeview-resizable-split2 .ant-tree-treenode .ant-tree-node-content-wrapper .ant-tree-iconEle,.shell .left-panels .treeview-resizable-split22 .ant-tree-treenode .ant-tree-node-content-wrapper .ant-tree-iconEle{line-height:18px}.shell .left-panels .treeview-resizable-split1 .ant-tree-treenode .ant-tree-node-content-wrapper .ant-tree-iconEle .schema-icon-color,.shell .left-panels .treeview-resizable-split2 .ant-tree-treenode .ant-tree-node-content-wrapper .ant-tree-iconEle .schema-icon-color,.shell .left-panels .treeview-resizable-split22 .ant-tree-treenode .ant-tree-node-content-wrapper .ant-tree-iconEle .schema-icon-color{color:#3760f0}.shell .left-panels .treeview-resizable-split1 .ant-tree-treenode .ant-tree-switcher-line-icon,.shell .left-panels .treeview-resizable-split2 .ant-tree-treenode .ant-tree-switcher-line-icon,.shell .left-panels .treeview-resizable-split22 .ant-tree-treenode .ant-tree-switcher-line-icon{vertical-align:2px}.shell .left-panels .treeview-resizable-split2{min-height:44px;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start}.shell .left-panels .treeview-resizable-split21{flex-grow:1;min-height:22px;overflow-y:hidden}.shell .left-panels .treeview-resizable-split22{max-height:calc(100% - 22px) !important}.shell .content{flex:1;min-width:0px;height:100%;display:flex;flex-direction:column;overflow:hidden}.shell .content .top{display:flex;overflow:hidden}.shell .content .top .editor-resizable{border-right:1px solid #e5e5e5}.shell .content .top .editor-resizable .editor-loading{display:flex;height:100%;width:100%;justify-content:center;align-items:center}.shell .content .top .editor-resizable .shell-editor{height:100%;display:flex;flex-direction:column}.shell .content .top .editor-resizable .shell-editor .toolbar{display:flex;align-items:center;background-color:#f0f0f0;box-shadow:inset -1px -2px 0 #e5e5e5;padding:4px 10px;color:#444}.shell .content .top .editor-resizable .shell-editor .toolbar .actions{display:flex}.shell .content .top .editor-resizable .shell-editor .toolbar .actions .action{cursor:pointer}.shell .content .top .editor-resizable .shell-editor .toolbar .actions .action .text{margin-left:6px}.shell .content .top .editor-resizable .shell-editor .toolbar .actions .action.execute{display:flex}.shell .content .top .editor-resizable .shell-editor .toolbar .actions .action.execute .text{margin-left:6px;width:48px}.shell .content .top .editor-resizable .shell-editor .toolbar .settings{gap:24px;display:flex;margin-left:24px}.shell .content .top .editor-resizable .shell-editor .toolbar .settings .setting{display:flex;align-items:center}.shell .content .top .editor-resizable .shell-editor .toolbar .settings .setting .text{margin-right:10px}.shell .content .top .editor-resizable .shell-editor .toolbar .settings .setting.sql .text{margin-right:4px}.shell .content .top .editor-resizable .shell-editor .toolbar .settings .setting .select-sql{width:100px}.shell .content .top .editor-resizable .shell-editor .toolbar .settings .setting .ant-select-selector{background-color:#f0f0f0;border:0;padding:0 5px;height:100%}.shell .content .top .editor-resizable .shell-editor .toolbar .settings .setting .arrow-down{color:#444;margin-top:3px}.shell .content .top .editor-resizable .shell-editor .toolbar .padding{flex:1}.shell .content .top .editor-resizable .shell-editor .toolbar .collapse-btn{align-self:flex-end;cursor:pointer}.shell .content .top .term{flex:1;min-width:0px}.shell .content .top .term .terminal{padding:10px 10px 10px 10px}.shell .content .top .term-loading{padding:10px}.shell .content .dataview{flex:1;min-height:0px;border-top:1px solid #e5e5e5;font-size:16px}.columns-schema-popover{max-width:90%}.ant-modal-mask{background-color:unset}.db-modal .db-modal-link{margin-left:10px;font-size:12px}.db-modal .ant-modal-content{padding:20px 24px 1px 24px;width:1000px}.db-modal .ant-modal-content .ant-modal-footer{display:none}.db-modal .ant-modal-content .ant-form-item-label>label.ant-form-item-required:not(.ant-form-item-required-mark-optional)::before{content:""}.db-modal .ant-modal-content .db-modal-content-button-group .ant-col{width:100%;max-width:100%}.db-modal .ant-modal-content .db-modal-content-button-group .ant-form-item-control-input-content{display:flex;justify-content:flex-end;gap:10px}.db-modal .confirm-command-code-copy{position:absolute;top:8px;right:8px}.db-modal .confirm-command-code-editor{border:1px solid #ddd;height:500px}.db-modal.show-required .ant-modal-content .ant-form-item-label>label.ant-form-item-required:not(.ant-form-item-required-mark-optional)::before{content:"*"}.db-context-menu{background-color:#fff}.select-sql-modal .title{display:flex;align-items:center}.select-sql-modal .title .modal-warning-icon{color:#f3ad2b;font-size:large;margin-right:8px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6328:
/*!******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/test/index.sass ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.test .obj-result{overflow-y:unset}.test .actions .form{max-width:800px}.test .actions .ant-btn{margin-bottom:8px}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 386:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/scroll-bar.sass ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js */ 3623);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js */ 2696);
/* harmony import */ var _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `::-webkit-scrollbar,::-webkit-scrollbar:horizontal,::-webkit-scrollbar:vertical{width:12px !important;height:12px !important;background-color:#aaa !important}::-webkit-scrollbar-track-piece{background-color:#fff !important;box-shadow:inset 0 0 0px #aaa !important;border:0px solid #aaa !important;border-radius:0px !important}::-webkit-scrollbar-track-piece:vertical{background-image:""}::-webkit-scrollbar-track-piece:vertical:hover{background-image:""}::-webkit-scrollbar-track-piece:horizontal{background-image:""}::-webkit-scrollbar-track-piece:horizontal:hover{background-image:""}::-webkit-scrollbar-track-piece:hover{background-color:#d9d9d9 !important;box-shadow:inset 0 0 0px #aaa !important}::-webkit-scrollbar-thumb{background-color:#aaa !important;box-shadow:inset 0 0 0px #aaa !important;border-radius:0px !important;border:0px solid #aaa !important}::-webkit-scrollbar-thumb:vertical{background-image:""}::-webkit-scrollbar-thumb:horizontal{background-image:""}::-webkit-scrollbar-corner{background-color:#b0bec5 !important}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 2696:
/*!********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js ***!
  \********************************************************************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ 2787:
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/getUrl.js ***!
  \***********************************************************************************************************/
/***/ ((module) => {



module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }
  return url;
};

/***/ }),

/***/ 3623:
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \*****************************************************************************************************************/
/***/ ((module) => {



module.exports = function (i) {
  return i[1];
};

/***/ }),

/***/ 5093:
/*!*****************************************************************************!*\
  !*** ./node_modules/.pnpm/dayjs@1.11.11/node_modules/dayjs/locale/zh-cn.js ***!
  \*****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

!function(e,_){ true?module.exports=_(__webpack_require__(/*! dayjs */ 4606)):0}(this,(function(e){"use strict";function _(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=_(e),d={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,_){return"W"===_?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,_){var t=100*e+_;return t<600?"凌晨":t<900?"早上":t<1100?"上午":t<1300?"中午":t<1800?"下午":"晚上"}};return t.default.locale(d,null,!0),d}));

/***/ }),

/***/ 5289:
/*!*****************************************************************************************!*\
  !*** ./node_modules/.pnpm/dayjs@1.11.11/node_modules/dayjs/plugin/customParseFormat.js ***!
  \*****************************************************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},s=function(e){return(e=+e)+(e>68?1900:2e3)};var a=function(e){return function(t){this[e]=+t}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],h=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[i,function(e){this.afternoon=u(e,!1)}],a:[i,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[i,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[i,function(e){var t=h("months"),n=(h("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=h("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(e){this.year=s(e)}],YYYY:[/\d{4}/,a("year")],Z:f,ZZ:f};function c(n){var r,i;r=n,i=o&&o.formats;for(var s=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=s.length,f=0;f<a;f+=1){var h=s[f],u=d[h],c=u&&u[0],l=u&&u[1];s[f]=l?{regex:c,parser:l}:h.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=s[n];if("string"==typeof i)r+=i.length;else{var o=i.regex,f=i.parser,h=e.slice(r),u=o.exec(h)[0];f.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,s=e.args;this.$u=r;var a=s[1];if("string"==typeof a){var f=!0===s[2],h=!0===s[3],u=f||h,d=s[2];h&&(d=s[2]),o=this.$locale(),!f&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=c(t)(e),i=r.year,o=r.month,s=r.day,a=r.hours,f=r.minutes,h=r.seconds,u=r.milliseconds,d=r.zone,l=new Date,m=s||(i||o?1:l.getDate()),M=i||l.getFullYear(),Y=0;i&&!o||(Y=o>0?o-1:l.getMonth());var p=a||0,v=f||0,D=h||0,g=u||0;return d?new Date(Date.UTC(M,Y,m,p,v,D,g+60*d.offset*1e3)):n?new Date(Date.UTC(M,Y,m,p,v,D,g)):new Date(M,Y,m,p,v,D,g)}catch(e){return new Date("")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),o={}}else if(a instanceof Array)for(var l=a.length,m=1;m<=l;m+=1){s[1]=a[m-1];var M=n.apply(this,s);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}m===l&&(this.$d=new Date(""))}else i.call(this,e)}}}));

/***/ }),

/***/ 7475:
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/echarts-for-react@3.0.2_echarts@5.5.0_patch_hash=vfhko7qsujlqz2bjiq6cbgl6e4__react@18.3.1/node_modules/echarts-for-react/lib/core.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;

__webpack_unused_export__ = ({ value: true });
var tslib_1 = __webpack_require__(/*! tslib */ 5285);
var react_1 = (0, tslib_1.__importStar)(__webpack_require__(/*! react */ 5156));
var size_sensor_1 = __webpack_require__(/*! size-sensor */ 7157);
var pick_1 = __webpack_require__(/*! ./helper/pick */ 390);
var is_function_1 = __webpack_require__(/*! ./helper/is-function */ 7632);
var is_string_1 = __webpack_require__(/*! ./helper/is-string */ 4401);
var is_equal_1 = __webpack_require__(/*! ./helper/is-equal */ 8122);
/**
 * core component for echarts binding
 */
var EChartsReactCore = /** @class */ (function (_super) {
    (0, tslib_1.__extends)(EChartsReactCore, _super);
    function EChartsReactCore(props) {
        var _this = _super.call(this, props) || this;
        _this.echarts = props.echarts;
        _this.ele = null;
        _this.isInitialResize = true;
        return _this;
    }
    EChartsReactCore.prototype.componentDidMount = function () {
        this.renderNewEcharts();
    };
    // update
    EChartsReactCore.prototype.componentDidUpdate = function (prevProps) {
        /**
         * if shouldSetOption return false, then return, not update echarts options
         * default is true
         */
        var shouldSetOption = this.props.shouldSetOption;
        if ((0, is_function_1.isFunction)(shouldSetOption) && !shouldSetOption(prevProps, this.props)) {
            return;
        }
        // 以下属性修改的时候，需要 dispose 之后再新建
        // 1. 切换 theme 的时候
        // 2. 修改 opts 的时候
        // 3. 修改 onEvents 的时候，这样可以取消所有之前绑定的事件 issue #151
        if (!(0, is_equal_1.isEqual)(prevProps.theme, this.props.theme) ||
            !(0, is_equal_1.isEqual)(prevProps.opts, this.props.opts) ||
            !(0, is_equal_1.isEqual)(prevProps.onEvents, this.props.onEvents)) {
            this.dispose();
            this.renderNewEcharts(); // 重建
            return;
        }
        // when these props are not isEqual, update echarts
        var pickKeys = ['option', 'notMerge', 'lazyUpdate', 'showLoading', 'loadingOption'];
        if (!(0, is_equal_1.isEqual)((0, pick_1.pick)(this.props, pickKeys), (0, pick_1.pick)(prevProps, pickKeys))) {
            this.updateEChartsOption();
        }
        /**
         * when style or class name updated, change size.
         */
        if (!(0, is_equal_1.isEqual)(prevProps.style, this.props.style) || !(0, is_equal_1.isEqual)(prevProps.className, this.props.className)) {
            this.resize();
        }
    };
    EChartsReactCore.prototype.componentWillUnmount = function () {
        this.dispose();
    };
    /**
     * return the echart object
     * 1. if exist, return the existed instance
     * 2. or new one instance
     */
    EChartsReactCore.prototype.getEchartsInstance = function () {
        return this.echarts.getInstanceByDom(this.ele) || this.echarts.init(this.ele, this.props.theme, this.props.opts);
    };
    /**
     * dispose echarts and clear size-sensor
     */
    EChartsReactCore.prototype.dispose = function () {
        if (this.ele) {
            try {
                (0, size_sensor_1.clear)(this.ele);
            }
            catch (e) {
                console.warn(e);
            }
            // dispose echarts instance
            this.echarts.dispose(this.ele);
        }
    };
    /**
     * render a new echarts instance
     */
    EChartsReactCore.prototype.renderNewEcharts = function () {
        var _this = this;
        var _a = this.props, onEvents = _a.onEvents, onChartReady = _a.onChartReady;
        // 1. new echarts instance
        var echartsInstance = this.updateEChartsOption();
        // 2. bind events
        this.bindEvents(echartsInstance, onEvents || {});
        // 3. on chart ready
        if ((0, is_function_1.isFunction)(onChartReady))
            onChartReady(echartsInstance);
        // 4. on resize
        if (this.ele) {
            (0, size_sensor_1.bind)(this.ele, function () {
                _this.resize();
            });
        }
    };
    // bind the events
    EChartsReactCore.prototype.bindEvents = function (instance, events) {
        function _bindEvent(eventName, func) {
            // ignore the event config which not satisfy
            if ((0, is_string_1.isString)(eventName) && (0, is_function_1.isFunction)(func)) {
                // binding event
                instance.on(eventName, function (param) {
                    func(param, instance);
                });
            }
        }
        // loop and bind
        for (var eventName in events) {
            if (Object.prototype.hasOwnProperty.call(events, eventName)) {
                _bindEvent(eventName, events[eventName]);
            }
        }
    };
    /**
     * render the echarts
     */
    EChartsReactCore.prototype.updateEChartsOption = function () {
        var _a = this.props, option = _a.option, _b = _a.notMerge, notMerge = _b === void 0 ? false : _b, _c = _a.lazyUpdate, lazyUpdate = _c === void 0 ? false : _c, showLoading = _a.showLoading, _d = _a.loadingOption, loadingOption = _d === void 0 ? null : _d;
        // 1. get or initial the echarts object
        var echartInstance = this.getEchartsInstance();
        // 2. set the echarts option
        echartInstance.setOption(option, notMerge, lazyUpdate);
        // 3. set loading mask
        if (showLoading)
            echartInstance.showLoading(loadingOption);
        else
            echartInstance.hideLoading();
        return echartInstance;
    };
    /**
     * resize wrapper
     */
    EChartsReactCore.prototype.resize = function () {
        // 1. get the echarts object
        var echartsInstance = this.getEchartsInstance();
        // 2. call echarts instance resize if not the initial resize
        // resize should not happen on first render as it will cancel initial echarts animations
        if (!this.isInitialResize) {
            try {
                echartsInstance.resize();
            }
            catch (e) {
                console.warn(e);
            }
        }
        // 3. update variable for future calls
        this.isInitialResize = false;
    };
    EChartsReactCore.prototype.render = function () {
        var _this = this;
        var _a = this.props, style = _a.style, _b = _a.className, className = _b === void 0 ? '' : _b;
        // default height = 300
        var newStyle = (0, tslib_1.__assign)({ height: 300 }, style);
        return (react_1.default.createElement("div", { ref: function (e) {
                _this.ele = e;
            }, style: newStyle, className: "echarts-for-react " + className }));
    };
    return EChartsReactCore;
}(react_1.PureComponent));
exports.A = EChartsReactCore;
//# sourceMappingURL=core.js.map

/***/ }),

/***/ 8122:
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/echarts-for-react@3.0.2_echarts@5.5.0_patch_hash=vfhko7qsujlqz2bjiq6cbgl6e4__react@18.3.1/node_modules/echarts-for-react/lib/helper/is-equal.js ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isEqual = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ 5285);
var fast_deep_equal_1 = (0, tslib_1.__importDefault)(__webpack_require__(/*! fast-deep-equal */ 3212));
exports.isEqual = fast_deep_equal_1.default;
//# sourceMappingURL=is-equal.js.map

/***/ }),

/***/ 7632:
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/echarts-for-react@3.0.2_echarts@5.5.0_patch_hash=vfhko7qsujlqz2bjiq6cbgl6e4__react@18.3.1/node_modules/echarts-for-react/lib/helper/is-function.js ***!
  \*******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isFunction = void 0;
function isFunction(v) {
    return typeof v === 'function';
}
exports.isFunction = isFunction;
//# sourceMappingURL=is-function.js.map

/***/ }),

/***/ 4401:
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/echarts-for-react@3.0.2_echarts@5.5.0_patch_hash=vfhko7qsujlqz2bjiq6cbgl6e4__react@18.3.1/node_modules/echarts-for-react/lib/helper/is-string.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isString = void 0;
function isString(v) {
    return typeof v === 'string';
}
exports.isString = isString;
//# sourceMappingURL=is-string.js.map

/***/ }),

/***/ 390:
/*!************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/echarts-for-react@3.0.2_echarts@5.5.0_patch_hash=vfhko7qsujlqz2bjiq6cbgl6e4__react@18.3.1/node_modules/echarts-for-react/lib/helper/pick.js ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.pick = void 0;
/**
 * 保留 object 中的部分内容
 * @param obj
 * @param keys
 */
function pick(obj, keys) {
    var r = {};
    keys.forEach(function (key) {
        r[key] = obj[key];
    });
    return r;
}
exports.pick = pick;
//# sourceMappingURL=pick.js.map

/***/ }),

/***/ 3212:
/*!****************************************************************************************!*\
  !*** ./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js ***!
  \****************************************************************************************/
/***/ ((module) => {



// do not edit .js files directly - edit src/index.jst



module.exports = function equal(a, b) {
  if (a === b) return true;

  if (a && b && typeof a == 'object' && typeof b == 'object') {
    if (a.constructor !== b.constructor) return false;

    var length, i, keys;
    if (Array.isArray(a)) {
      length = a.length;
      if (length != b.length) return false;
      for (i = length; i-- !== 0;)
        if (!equal(a[i], b[i])) return false;
      return true;
    }



    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;
    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();
    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();

    keys = Object.keys(a);
    length = keys.length;
    if (length !== Object.keys(b).length) return false;

    for (i = length; i-- !== 0;)
      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;

    for (i = length; i-- !== 0;) {
      var key = keys[i];

      if (!equal(a[key], b[key])) return false;
    }

    return true;
  }

  // true if both NaN, false otherwise
  return a!==a && b!==b;
};


/***/ }),

/***/ 2397:
/*!*********************************************************************************!*\
  !*** ./node_modules/.pnpm/ipaddr.js@2.2.0/node_modules/ipaddr.js/lib/ipaddr.js ***!
  \*********************************************************************************/
/***/ (function(module) {

(function (root) {
    'use strict';
    // A list of regular expressions that match arbitrary IPv4 addresses,
    // for which a number of weird notations exist.
    // Note that an address like 0010.0xa5.1.1 is considered legal.
    const ipv4Part = '(0?\\d+|0x[a-f0-9]+)';
    const ipv4Regexes = {
        fourOctet: new RegExp(`^${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}$`, 'i'),
        threeOctet: new RegExp(`^${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}$`, 'i'),
        twoOctet: new RegExp(`^${ipv4Part}\\.${ipv4Part}$`, 'i'),
        longValue: new RegExp(`^${ipv4Part}$`, 'i')
    };

    // Regular Expression for checking Octal numbers
    const octalRegex = new RegExp(`^0[0-7]+$`, 'i');
    const hexRegex = new RegExp(`^0x[a-f0-9]+$`, 'i');

    const zoneIndex = '%[0-9a-z]{1,}';

    // IPv6-matching regular expressions.
    // For IPv6, the task is simpler: it is enough to match the colon-delimited
    // hexadecimal IPv6 and a transitional variant with dotted-decimal IPv4 at
    // the end.
    const ipv6Part = '(?:[0-9a-f]+::?)+';
    const ipv6Regexes = {
        zoneIndex: new RegExp(zoneIndex, 'i'),
        'native': new RegExp(`^(::)?(${ipv6Part})?([0-9a-f]+)?(::)?(${zoneIndex})?$`, 'i'),
        deprecatedTransitional: new RegExp(`^(?:::)(${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}(${zoneIndex})?)$`, 'i'),
        transitional: new RegExp(`^((?:${ipv6Part})|(?:::)(?:${ipv6Part})?)${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}(${zoneIndex})?$`, 'i')
    };

    // Expand :: in an IPv6 address or address part consisting of `parts` groups.
    function expandIPv6 (string, parts) {
        // More than one '::' means invalid adddress
        if (string.indexOf('::') !== string.lastIndexOf('::')) {
            return null;
        }

        let colonCount = 0;
        let lastColon = -1;
        let zoneId = (string.match(ipv6Regexes.zoneIndex) || [])[0];
        let replacement, replacementCount;

        // Remove zone index and save it for later
        if (zoneId) {
            zoneId = zoneId.substring(1);
            string = string.replace(/%.+$/, '');
        }

        // How many parts do we already have?
        while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {
            colonCount++;
        }

        // 0::0 is two parts more than ::
        if (string.substr(0, 2) === '::') {
            colonCount--;
        }

        if (string.substr(-2, 2) === '::') {
            colonCount--;
        }

        // The following loop would hang if colonCount > parts
        if (colonCount > parts) {
            return null;
        }

        // replacement = ':' + '0:' * (parts - colonCount)
        replacementCount = parts - colonCount;
        replacement = ':';
        while (replacementCount--) {
            replacement += '0:';
        }

        // Insert the missing zeroes
        string = string.replace('::', replacement);

        // Trim any garbage which may be hanging around if :: was at the edge in
        // the source strin
        if (string[0] === ':') {
            string = string.slice(1);
        }

        if (string[string.length - 1] === ':') {
            string = string.slice(0, -1);
        }

        parts = (function () {
            const ref = string.split(':');
            const results = [];

            for (let i = 0; i < ref.length; i++) {
                results.push(parseInt(ref[i], 16));
            }

            return results;
        })();

        return {
            parts: parts,
            zoneId: zoneId
        };
    }

    // A generic CIDR (Classless Inter-Domain Routing) RFC1518 range matcher.
    function matchCIDR (first, second, partSize, cidrBits) {
        if (first.length !== second.length) {
            throw new Error('ipaddr: cannot match CIDR for objects with different lengths');
        }

        let part = 0;
        let shift;

        while (cidrBits > 0) {
            shift = partSize - cidrBits;
            if (shift < 0) {
                shift = 0;
            }

            if (first[part] >> shift !== second[part] >> shift) {
                return false;
            }

            cidrBits -= partSize;
            part += 1;
        }

        return true;
    }

    function parseIntAuto (string) {
        // Hexadedimal base 16 (0x#)
        if (hexRegex.test(string)) {
            return parseInt(string, 16);
        }
        // While octal representation is discouraged by ECMAScript 3
        // and forbidden by ECMAScript 5, we silently allow it to
        // work only if the rest of the string has numbers less than 8.
        if (string[0] === '0' && !isNaN(parseInt(string[1], 10))) {
        if (octalRegex.test(string)) {
            return parseInt(string, 8);
        }
            throw new Error(`ipaddr: cannot parse ${string} as octal`);
        }
        // Always include the base 10 radix!
        return parseInt(string, 10);
    }

    function padPart (part, length) {
        while (part.length < length) {
            part = `0${part}`;
        }

        return part;
    }

    const ipaddr = {};

    // An IPv4 address (RFC791).
    ipaddr.IPv4 = (function () {
        // Constructs a new IPv4 address from an array of four octets
        // in network order (MSB first)
        // Verifies the input.
        function IPv4 (octets) {
            if (octets.length !== 4) {
                throw new Error('ipaddr: ipv4 octet count should be 4');
            }

            let i, octet;

            for (i = 0; i < octets.length; i++) {
                octet = octets[i];
                if (!((0 <= octet && octet <= 255))) {
                    throw new Error('ipaddr: ipv4 octet should fit in 8 bits');
                }
            }

            this.octets = octets;
        }

        // Special IPv4 address ranges.
        // See also https://en.wikipedia.org/wiki/Reserved_IP_addresses
        IPv4.prototype.SpecialRanges = {
            unspecified: [[new IPv4([0, 0, 0, 0]), 8]],
            broadcast: [[new IPv4([255, 255, 255, 255]), 32]],
            // RFC3171
            multicast: [[new IPv4([224, 0, 0, 0]), 4]],
            // RFC3927
            linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],
            // RFC5735
            loopback: [[new IPv4([127, 0, 0, 0]), 8]],
            // RFC6598
            carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],
            // RFC1918
            'private': [
                [new IPv4([10, 0, 0, 0]), 8],
                [new IPv4([172, 16, 0, 0]), 12],
                [new IPv4([192, 168, 0, 0]), 16]
            ],
            // Reserved and testing-only ranges; RFCs 5735, 5737, 2544, 1700
            reserved: [
                [new IPv4([192, 0, 0, 0]), 24],
                [new IPv4([192, 0, 2, 0]), 24],
                [new IPv4([192, 88, 99, 0]), 24],
                [new IPv4([198, 18, 0, 0]), 15],
                [new IPv4([198, 51, 100, 0]), 24],
                [new IPv4([203, 0, 113, 0]), 24],
                [new IPv4([240, 0, 0, 0]), 4]
            ],
            // RFC7534, RFC7535
            as112: [
                [new IPv4([192, 175, 48, 0]), 24],
                [new IPv4([192, 31, 196, 0]), 24],
            ],
            // RFC7450
            amt: [
                [new IPv4([192, 52, 193, 0]), 24],
            ],
        };

        // The 'kind' method exists on both IPv4 and IPv6 classes.
        IPv4.prototype.kind = function () {
            return 'ipv4';
        };

        // Checks if this address matches other one within given CIDR range.
        IPv4.prototype.match = function (other, cidrRange) {
            let ref;
            if (cidrRange === undefined) {
                ref = other;
                other = ref[0];
                cidrRange = ref[1];
            }

            if (other.kind() !== 'ipv4') {
                throw new Error('ipaddr: cannot match ipv4 address with non-ipv4 one');
            }

            return matchCIDR(this.octets, other.octets, 8, cidrRange);
        };

        // returns a number of leading ones in IPv4 address, making sure that
        // the rest is a solid sequence of 0's (valid netmask)
        // returns either the CIDR length or null if mask is not valid
        IPv4.prototype.prefixLengthFromSubnetMask = function () {
            let cidr = 0;
            // non-zero encountered stop scanning for zeroes
            let stop = false;
            // number of zeroes in octet
            const zerotable = {
                0: 8,
                128: 7,
                192: 6,
                224: 5,
                240: 4,
                248: 3,
                252: 2,
                254: 1,
                255: 0
            };
            let i, octet, zeros;

            for (i = 3; i >= 0; i -= 1) {
                octet = this.octets[i];
                if (octet in zerotable) {
                    zeros = zerotable[octet];
                    if (stop && zeros !== 0) {
                        return null;
                    }

                    if (zeros !== 8) {
                        stop = true;
                    }

                    cidr += zeros;
                } else {
                    return null;
                }
            }

            return 32 - cidr;
        };

        // Checks if the address corresponds to one of the special ranges.
        IPv4.prototype.range = function () {
            return ipaddr.subnetMatch(this, this.SpecialRanges);
        };

        // Returns an array of byte-sized values in network order (MSB first)
        IPv4.prototype.toByteArray = function () {
            return this.octets.slice(0);
        };

        // Converts this IPv4 address to an IPv4-mapped IPv6 address.
        IPv4.prototype.toIPv4MappedAddress = function () {
            return ipaddr.IPv6.parse(`::ffff:${this.toString()}`);
        };

        // Symmetrical method strictly for aligning with the IPv6 methods.
        IPv4.prototype.toNormalizedString = function () {
            return this.toString();
        };

        // Returns the address in convenient, decimal-dotted format.
        IPv4.prototype.toString = function () {
            return this.octets.join('.');
        };

        return IPv4;
    })();

    // A utility function to return broadcast address given the IPv4 interface and prefix length in CIDR notation
    ipaddr.IPv4.broadcastAddressFromCIDR = function (string) {

        try {
            const cidr = this.parseCIDR(string);
            const ipInterfaceOctets = cidr[0].toByteArray();
            const subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            const octets = [];
            let i = 0;
            while (i < 4) {
                // Broadcast address is bitwise OR between ip interface and inverted mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error('ipaddr: the address does not have IPv4 CIDR format');
        }
    };

    // Checks if a given string is formatted like IPv4 address.
    ipaddr.IPv4.isIPv4 = function (string) {
        return this.parser(string) !== null;
    };

    // Checks if a given string is a valid IPv4 address.
    ipaddr.IPv4.isValid = function (string) {
        try {
            new this(this.parser(string));
            return true;
        } catch (e) {
            return false;
        }
    };

    // Checks if a given string is a valid IPv4 address in CIDR notation.
    ipaddr.IPv4.isValidCIDR = function (string) {
        try {
            this.parseCIDR(string);
            return true;
        } catch (e) {
            return false;
        }
    };

    // Checks if a given string is a full four-part IPv4 Address.
    ipaddr.IPv4.isValidFourPartDecimal = function (string) {
        if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/)) {
            return true;
        } else {
            return false;
        }
    };

    // A utility function to return network address given the IPv4 interface and prefix length in CIDR notation
    ipaddr.IPv4.networkAddressFromCIDR = function (string) {
        let cidr, i, ipInterfaceOctets, octets, subnetMaskOctets;

        try {
            cidr = this.parseCIDR(string);
            ipInterfaceOctets = cidr[0].toByteArray();
            subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            octets = [];
            i = 0;
            while (i < 4) {
                // Network address is bitwise AND between ip interface and mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error('ipaddr: the address does not have IPv4 CIDR format');
        }
    };

    // Tries to parse and validate a string with IPv4 address.
    // Throws an error if it fails.
    ipaddr.IPv4.parse = function (string) {
        const parts = this.parser(string);

        if (parts === null) {
            throw new Error('ipaddr: string is not formatted like an IPv4 Address');
        }

        return new this(parts);
    };

    // Parses the string as an IPv4 Address with CIDR Notation.
    ipaddr.IPv4.parseCIDR = function (string) {
        let match;

        if ((match = string.match(/^(.+)\/(\d+)$/))) {
            const maskLength = parseInt(match[2]);
            if (maskLength >= 0 && maskLength <= 32) {
                const parsed = [this.parse(match[1]), maskLength];
                Object.defineProperty(parsed, 'toString', {
                    value: function () {
                        return this.join('/');
                    }
                });
                return parsed;
            }
        }

        throw new Error('ipaddr: string is not formatted like an IPv4 CIDR range');
    };

    // Classful variants (like a.b, where a is an octet, and b is a 24-bit
    // value representing last three octets; this corresponds to a class C
    // address) are omitted due to classless nature of modern Internet.
    ipaddr.IPv4.parser = function (string) {
        let match, part, value;

        // parseInt recognizes all that octal & hexadecimal weirdness for us
        if ((match = string.match(ipv4Regexes.fourOctet))) {
            return (function () {
                const ref = match.slice(1, 6);
                const results = [];

                for (let i = 0; i < ref.length; i++) {
                    part = ref[i];
                    results.push(parseIntAuto(part));
                }

                return results;
            })();
        } else if ((match = string.match(ipv4Regexes.longValue))) {
            value = parseIntAuto(match[1]);
            if (value > 0xffffffff || value < 0) {
                throw new Error('ipaddr: address outside defined range');
            }

            return ((function () {
                const results = [];
                let shift;

                for (shift = 0; shift <= 24; shift += 8) {
                    results.push((value >> shift) & 0xff);
                }

                return results;
            })()).reverse();
        } else if ((match = string.match(ipv4Regexes.twoOctet))) {
            return (function () {
                const ref = match.slice(1, 4);
                const results = [];

                value = parseIntAuto(ref[1]);
                if (value > 0xffffff || value < 0) {
                    throw new Error('ipaddr: address outside defined range');
                }

                results.push(parseIntAuto(ref[0]));
                results.push((value >> 16) & 0xff);
                results.push((value >>  8) & 0xff);
                results.push( value        & 0xff);

                return results;
            })();
        } else if ((match = string.match(ipv4Regexes.threeOctet))) {
            return (function () {
                const ref = match.slice(1, 5);
                const results = [];

                value = parseIntAuto(ref[2]);
                if (value > 0xffff || value < 0) {
                    throw new Error('ipaddr: address outside defined range');
                }

                results.push(parseIntAuto(ref[0]));
                results.push(parseIntAuto(ref[1]));
                results.push((value >> 8) & 0xff);
                results.push( value       & 0xff);

                return results;
            })();
        } else {
            return null;
        }
    };

    // A utility function to return subnet mask in IPv4 format given the prefix length
    ipaddr.IPv4.subnetMaskFromPrefixLength = function (prefix) {
        prefix = parseInt(prefix);
        if (prefix < 0 || prefix > 32) {
            throw new Error('ipaddr: invalid IPv4 prefix length');
        }

        const octets = [0, 0, 0, 0];
        let j = 0;
        const filledOctetCount = Math.floor(prefix / 8);

        while (j < filledOctetCount) {
            octets[j] = 255;
            j++;
        }

        if (filledOctetCount < 4) {
            octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);
        }

        return new this(octets);
    };

    // An IPv6 address (RFC2460)
    ipaddr.IPv6 = (function () {
        // Constructs an IPv6 address from an array of eight 16 - bit parts
        // or sixteen 8 - bit parts in network order(MSB first).
        // Throws an error if the input is invalid.
        function IPv6 (parts, zoneId) {
            let i, part;

            if (parts.length === 16) {
                this.parts = [];
                for (i = 0; i <= 14; i += 2) {
                    this.parts.push((parts[i] << 8) | parts[i + 1]);
                }
            } else if (parts.length === 8) {
                this.parts = parts;
            } else {
                throw new Error('ipaddr: ipv6 part count should be 8 or 16');
            }

            for (i = 0; i < this.parts.length; i++) {
                part = this.parts[i];
                if (!((0 <= part && part <= 0xffff))) {
                    throw new Error('ipaddr: ipv6 part should fit in 16 bits');
                }
            }

            if (zoneId) {
                this.zoneId = zoneId;
            }
        }

        // Special IPv6 ranges
        IPv6.prototype.SpecialRanges = {
            // RFC4291, here and after
            unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],
            linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],
            multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],
            loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],
            uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],
            ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],
            // RFC6666
            discard: [new IPv6([0x100, 0, 0, 0, 0, 0, 0, 0]), 64],
            // RFC6145
            rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],
            // RFC6052
            rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],
            // RFC3056
            '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],
            // RFC6052, RFC6146
            teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],
            // RFC5180
            benchmarking: [new IPv6([0x2001, 0x2, 0, 0, 0, 0, 0, 0]), 48],
            // RFC7450
            amt: [new IPv6([0x2001, 0x3, 0, 0, 0, 0, 0, 0]), 32],
            as112v6: [
                [new IPv6([0x2001, 0x4, 0x112, 0, 0, 0, 0, 0]), 48],
                [new IPv6([0x2620, 0x4f, 0x8000, 0, 0, 0, 0, 0]), 48],
            ],
            deprecated: [new IPv6([0x2001, 0x10, 0, 0, 0, 0, 0, 0]), 28],
            orchid2: [new IPv6([0x2001, 0x20, 0, 0, 0, 0, 0, 0]), 28],
            droneRemoteIdProtocolEntityTags: [new IPv6([0x2001, 0x30, 0, 0, 0, 0, 0, 0]), 28],
            reserved: [
                // RFC3849
                [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 23],
                // RFC2928
                [new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32],
            ],
        };

        // Checks if this address is an IPv4-mapped IPv6 address.
        IPv6.prototype.isIPv4MappedAddress = function () {
            return this.range() === 'ipv4Mapped';
        };

        // The 'kind' method exists on both IPv4 and IPv6 classes.
        IPv6.prototype.kind = function () {
            return 'ipv6';
        };

        // Checks if this address matches other one within given CIDR range.
        IPv6.prototype.match = function (other, cidrRange) {
            let ref;

            if (cidrRange === undefined) {
                ref = other;
                other = ref[0];
                cidrRange = ref[1];
            }

            if (other.kind() !== 'ipv6') {
                throw new Error('ipaddr: cannot match ipv6 address with non-ipv6 one');
            }

            return matchCIDR(this.parts, other.parts, 16, cidrRange);
        };

        // returns a number of leading ones in IPv6 address, making sure that
        // the rest is a solid sequence of 0's (valid netmask)
        // returns either the CIDR length or null if mask is not valid
        IPv6.prototype.prefixLengthFromSubnetMask = function () {
            let cidr = 0;
            // non-zero encountered stop scanning for zeroes
            let stop = false;
            // number of zeroes in octet
            const zerotable = {
                0: 16,
                32768: 15,
                49152: 14,
                57344: 13,
                61440: 12,
                63488: 11,
                64512: 10,
                65024: 9,
                65280: 8,
                65408: 7,
                65472: 6,
                65504: 5,
                65520: 4,
                65528: 3,
                65532: 2,
                65534: 1,
                65535: 0
            };
            let part, zeros;

            for (let i = 7; i >= 0; i -= 1) {
                part = this.parts[i];
                if (part in zerotable) {
                    zeros = zerotable[part];
                    if (stop && zeros !== 0) {
                        return null;
                    }

                    if (zeros !== 16) {
                        stop = true;
                    }

                    cidr += zeros;
                } else {
                    return null;
                }
            }

            return 128 - cidr;
        };


        // Checks if the address corresponds to one of the special ranges.
        IPv6.prototype.range = function () {
            return ipaddr.subnetMatch(this, this.SpecialRanges);
        };

        // Returns an array of byte-sized values in network order (MSB first)
        IPv6.prototype.toByteArray = function () {
            let part;
            const bytes = [];
            const ref = this.parts;
            for (let i = 0; i < ref.length; i++) {
                part = ref[i];
                bytes.push(part >> 8);
                bytes.push(part & 0xff);
            }

            return bytes;
        };

        // Returns the address in expanded format with all zeroes included, like
        // 2001:0db8:0008:0066:0000:0000:0000:0001
        IPv6.prototype.toFixedLengthString = function () {
            const addr = ((function () {
                const results = [];
                for (let i = 0; i < this.parts.length; i++) {
                    results.push(padPart(this.parts[i].toString(16), 4));
                }

                return results;
            }).call(this)).join(':');

            let suffix = '';

            if (this.zoneId) {
                suffix = `%${this.zoneId}`;
            }

            return addr + suffix;
        };

        // Converts this address to IPv4 address if it is an IPv4-mapped IPv6 address.
        // Throws an error otherwise.
        IPv6.prototype.toIPv4Address = function () {
            if (!this.isIPv4MappedAddress()) {
                throw new Error('ipaddr: trying to convert a generic ipv6 address to ipv4');
            }

            const ref = this.parts.slice(-2);
            const high = ref[0];
            const low = ref[1];

            return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);
        };

        // Returns the address in expanded format with all zeroes included, like
        // 2001:db8:8:66:0:0:0:1
        //
        // Deprecated: use toFixedLengthString() instead.
        IPv6.prototype.toNormalizedString = function () {
            const addr = ((function () {
                const results = [];

                for (let i = 0; i < this.parts.length; i++) {
                    results.push(this.parts[i].toString(16));
                }

                return results;
            }).call(this)).join(':');

            let suffix = '';

            if (this.zoneId) {
                suffix = `%${this.zoneId}`;
            }

            return addr + suffix;
        };

        // Returns the address in compact, human-readable format like
        // 2001:db8:8:66::1
        // in line with RFC 5952 (see https://tools.ietf.org/html/rfc5952#section-4)
        IPv6.prototype.toRFC5952String = function () {
            const regex = /((^|:)(0(:|$)){2,})/g;
            const string = this.toNormalizedString();
            let bestMatchIndex = 0;
            let bestMatchLength = -1;
            let match;

            while ((match = regex.exec(string))) {
                if (match[0].length > bestMatchLength) {
                    bestMatchIndex = match.index;
                    bestMatchLength = match[0].length;
                }
            }

            if (bestMatchLength < 0) {
                return string;
            }

            return `${string.substring(0, bestMatchIndex)}::${string.substring(bestMatchIndex + bestMatchLength)}`;
        };

        // Returns the address in compact, human-readable format like
        // 2001:db8:8:66::1
        // Calls toRFC5952String under the hood.
        IPv6.prototype.toString = function () {
            return this.toRFC5952String();
        };

        return IPv6;

    })();

    // A utility function to return broadcast address given the IPv6 interface and prefix length in CIDR notation
    ipaddr.IPv6.broadcastAddressFromCIDR = function (string) {
        try {
            const cidr = this.parseCIDR(string);
            const ipInterfaceOctets = cidr[0].toByteArray();
            const subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            const octets = [];
            let i = 0;
            while (i < 16) {
                // Broadcast address is bitwise OR between ip interface and inverted mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`);
        }
    };

    // Checks if a given string is formatted like IPv6 address.
    ipaddr.IPv6.isIPv6 = function (string) {
        return this.parser(string) !== null;
    };

    // Checks to see if string is a valid IPv6 Address
    ipaddr.IPv6.isValid = function (string) {

        // Since IPv6.isValid is always called first, this shortcut
        // provides a substantial performance gain.
        if (typeof string === 'string' && string.indexOf(':') === -1) {
            return false;
        }

        try {
            const addr = this.parser(string);
            new this(addr.parts, addr.zoneId);
            return true;
        } catch (e) {
            return false;
        }
    };

    // Checks if a given string is a valid IPv6 address in CIDR notation.
    ipaddr.IPv6.isValidCIDR = function (string) {

        // See note in IPv6.isValid
        if (typeof string === 'string' && string.indexOf(':') === -1) {
            return false;
        }

        try {
            this.parseCIDR(string);
            return true;
        } catch (e) {
            return false;
        }
    };

    // A utility function to return network address given the IPv6 interface and prefix length in CIDR notation
    ipaddr.IPv6.networkAddressFromCIDR = function (string) {
        let cidr, i, ipInterfaceOctets, octets, subnetMaskOctets;

        try {
            cidr = this.parseCIDR(string);
            ipInterfaceOctets = cidr[0].toByteArray();
            subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();
            octets = [];
            i = 0;
            while (i < 16) {
                // Network address is bitwise AND between ip interface and mask
                octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));
                i++;
            }

            return new this(octets);
        } catch (e) {
            throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`);
        }
    };

    // Tries to parse and validate a string with IPv6 address.
    // Throws an error if it fails.
    ipaddr.IPv6.parse = function (string) {
        const addr = this.parser(string);

        if (addr.parts === null) {
            throw new Error('ipaddr: string is not formatted like an IPv6 Address');
        }

        return new this(addr.parts, addr.zoneId);
    };

    ipaddr.IPv6.parseCIDR = function (string) {
        let maskLength, match, parsed;

        if ((match = string.match(/^(.+)\/(\d+)$/))) {
            maskLength = parseInt(match[2]);
            if (maskLength >= 0 && maskLength <= 128) {
                parsed = [this.parse(match[1]), maskLength];
                Object.defineProperty(parsed, 'toString', {
                    value: function () {
                        return this.join('/');
                    }
                });
                return parsed;
            }
        }

        throw new Error('ipaddr: string is not formatted like an IPv6 CIDR range');
    };

    // Parse an IPv6 address.
    ipaddr.IPv6.parser = function (string) {
        let addr, i, match, octet, octets, zoneId;

        if ((match = string.match(ipv6Regexes.deprecatedTransitional))) {
            return this.parser(`::ffff:${match[1]}`);
        }
        if (ipv6Regexes.native.test(string)) {
            return expandIPv6(string, 8);
        }
        if ((match = string.match(ipv6Regexes.transitional))) {
            zoneId = match[6] || '';
            addr = match[1]
            if (!match[1].endsWith('::')) {
                addr = addr.slice(0, -1)
            }
            addr = expandIPv6(addr + zoneId, 6);
            if (addr.parts) {
                octets = [
                    parseInt(match[2]),
                    parseInt(match[3]),
                    parseInt(match[4]),
                    parseInt(match[5])
                ];
                for (i = 0; i < octets.length; i++) {
                    octet = octets[i];
                    if (!((0 <= octet && octet <= 255))) {
                        return null;
                    }
                }

                addr.parts.push(octets[0] << 8 | octets[1]);
                addr.parts.push(octets[2] << 8 | octets[3]);
                return {
                    parts: addr.parts,
                    zoneId: addr.zoneId
                };
            }
        }

        return null;
    };

    // A utility function to return subnet mask in IPv6 format given the prefix length
    ipaddr.IPv6.subnetMaskFromPrefixLength = function (prefix) {
        prefix = parseInt(prefix);
        if (prefix < 0 || prefix > 128) {
            throw new Error('ipaddr: invalid IPv6 prefix length');
        }

        const octets = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        let j = 0;
        const filledOctetCount = Math.floor(prefix / 8);

        while (j < filledOctetCount) {
            octets[j] = 255;
            j++;
        }

        if (filledOctetCount < 16) {
            octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);
        }

        return new this(octets);
    };

    // Try to parse an array in network order (MSB first) for IPv4 and IPv6
    ipaddr.fromByteArray = function (bytes) {
        const length = bytes.length;

        if (length === 4) {
            return new ipaddr.IPv4(bytes);
        } else if (length === 16) {
            return new ipaddr.IPv6(bytes);
        } else {
            throw new Error('ipaddr: the binary input is neither an IPv6 nor IPv4 address');
        }
    };

    // Checks if the address is valid IP address
    ipaddr.isValid = function (string) {
        return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);
    };

    // Checks if the address is valid IP address in CIDR notation
    ipaddr.isValidCIDR = function (string) {
        return ipaddr.IPv6.isValidCIDR(string) || ipaddr.IPv4.isValidCIDR(string);
    };


    // Attempts to parse an IP Address, first through IPv6 then IPv4.
    // Throws an error if it could not be parsed.
    ipaddr.parse = function (string) {
        if (ipaddr.IPv6.isValid(string)) {
            return ipaddr.IPv6.parse(string);
        } else if (ipaddr.IPv4.isValid(string)) {
            return ipaddr.IPv4.parse(string);
        } else {
            throw new Error('ipaddr: the address has neither IPv6 nor IPv4 format');
        }
    };

    // Attempt to parse CIDR notation, first through IPv6 then IPv4.
    // Throws an error if it could not be parsed.
    ipaddr.parseCIDR = function (string) {
        try {
            return ipaddr.IPv6.parseCIDR(string);
        } catch (e) {
            try {
                return ipaddr.IPv4.parseCIDR(string);
            } catch (e2) {
                throw new Error('ipaddr: the address has neither IPv6 nor IPv4 CIDR format');
            }
        }
    };

    // Parse an address and return plain IPv4 address if it is an IPv4-mapped address
    ipaddr.process = function (string) {
        const addr = this.parse(string);

        if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {
            return addr.toIPv4Address();
        } else {
            return addr;
        }
    };

    // An utility function to ease named range matching. See examples below.
    // rangeList can contain both IPv4 and IPv6 subnet entries and will not throw errors
    // on matching IPv4 addresses to IPv6 ranges or vice versa.
    ipaddr.subnetMatch = function (address, rangeList, defaultName) {
        let i, rangeName, rangeSubnets, subnet;

        if (defaultName === undefined || defaultName === null) {
            defaultName = 'unicast';
        }

        for (rangeName in rangeList) {
            if (Object.prototype.hasOwnProperty.call(rangeList, rangeName)) {
                rangeSubnets = rangeList[rangeName];
                // ECMA5 Array.isArray isn't available everywhere
                if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {
                    rangeSubnets = [rangeSubnets];
                }

                for (i = 0; i < rangeSubnets.length; i++) {
                    subnet = rangeSubnets[i];
                    if (address.kind() === subnet[0].kind() && address.match.apply(address, subnet)) {
                        return rangeName;
                    }
                }
            }
        }

        return defaultName;
    };

    // Export for both the CommonJS and browser-like environment
    if ( true && module.exports) {
        module.exports = ipaddr;

    } else {
        root.ipaddr = ipaddr;
    }

}(this));


/***/ }),

/***/ 1763:
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/lib/locale/en_US.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  // Options
  items_per_page: '/ page',
  jump_to: 'Go to',
  jump_to_confirm: 'confirm',
  page: 'Page',
  // Pagination
  prev_page: 'Previous Page',
  next_page: 'Next Page',
  prev_5: 'Previous 5 Pages',
  next_5: 'Next 5 Pages',
  prev_3: 'Previous 3 Pages',
  next_3: 'Next 3 Pages',
  page_size: 'Page Size'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 6791:
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/lib/locale/ja_JP.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  // Options
  items_per_page: '件 / ページ',
  jump_to: '移動',
  jump_to_confirm: '確認する',
  page: 'ページ',
  // Pagination
  prev_page: '前のページ',
  next_page: '次のページ',
  prev_5: '前 5ページ',
  next_5: '次 5ページ',
  prev_3: '前 3ページ',
  next_3: '次 3ページ',
  page_size: 'ページサイズ'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 561:
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/lib/locale/ko_KR.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  // Options
  items_per_page: '/ 페이지',
  jump_to: '이동하기',
  jump_to_confirm: '확인하다',
  page: '페이지',
  // Pagination
  prev_page: '이전 페이지',
  next_page: '다음 페이지',
  prev_5: '이전 5 페이지',
  next_5: '다음 5 페이지',
  prev_3: '이전 3 페이지',
  next_3: '다음 3 페이지',
  page_size: '페이지 크기'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 5473:
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/en_US.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  locale: 'en_US',
  today: 'Today',
  now: 'Now',
  backToToday: 'Back to today',
  ok: 'OK',
  clear: 'Clear',
  month: 'Month',
  year: 'Year',
  timeSelect: 'select time',
  dateSelect: 'select date',
  weekSelect: 'Choose a week',
  monthSelect: 'Choose a month',
  yearSelect: 'Choose a year',
  decadeSelect: 'Choose a decade',
  yearFormat: 'YYYY',
  dateFormat: 'M/D/YYYY',
  dayFormat: 'D',
  dateTimeFormat: 'M/D/YYYY HH:mm:ss',
  monthBeforeYear: true,
  previousMonth: 'Previous month (PageUp)',
  nextMonth: 'Next month (PageDown)',
  previousYear: 'Last year (Control + left)',
  nextYear: 'Next year (Control + right)',
  previousDecade: 'Last decade',
  nextDecade: 'Next decade',
  previousCentury: 'Last century',
  nextCentury: 'Next century'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 4101:
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/ja_JP.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  locale: 'ja_JP',
  today: '今日',
  now: '現在時刻',
  backToToday: '今日に戻る',
  ok: '確定',
  timeSelect: '時間を選択',
  dateSelect: '日時を選択',
  weekSelect: '週を選択',
  clear: 'クリア',
  month: '月',
  year: '年',
  previousMonth: '前月 (ページアップキー)',
  nextMonth: '翌月 (ページダウンキー)',
  monthSelect: '月を選択',
  yearSelect: '年を選択',
  decadeSelect: '年代を選択',
  yearFormat: 'YYYY年',
  dayFormat: 'D',
  dateFormat: 'YYYY年M月D日',
  dateTimeFormat: 'YYYY年M月D日 HH時mm分ss秒',
  previousYear: '前年 (Controlを押しながら左キー)',
  nextYear: '翌年 (Controlを押しながら右キー)',
  previousDecade: '前の年代',
  nextDecade: '次の年代',
  previousCentury: '前の世紀',
  nextCentury: '次の世紀'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 4295:
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/ko_KR.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var locale = {
  locale: 'ko_KR',
  today: '오늘',
  now: '현재 시각',
  backToToday: '오늘로 돌아가기',
  ok: '확인',
  clear: '지우기',
  month: '월',
  year: '년',
  timeSelect: '시간 선택',
  dateSelect: '날짜 선택',
  monthSelect: '달 선택',
  yearSelect: '연 선택',
  decadeSelect: '연대 선택',
  yearFormat: 'YYYY년',
  dateFormat: 'YYYY-MM-DD',
  dayFormat: 'D',
  dateTimeFormat: 'YYYY-MM-DD HH:mm:ss',
  monthBeforeYear: false,
  previousMonth: '이전 달 (PageUp)',
  nextMonth: '다음 달 (PageDown)',
  previousYear: '이전 해 (Control + left)',
  nextYear: '다음 해 (Control + right)',
  previousDecade: '이전 연대',
  nextDecade: '다음 연대',
  previousCentury: '이전 세기',
  nextCentury: '다음 세기'
};
var _default = exports["default"] = locale;

/***/ }),

/***/ 9576:
/*!*******************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var __webpack_unused_export__;


var m = __webpack_require__(/*! react-dom */ 9280);
if (true) {
  exports.H = m.createRoot;
  __webpack_unused_export__ = m.hydrateRoot;
} else { var i; }


/***/ }),

/***/ 7462:
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var f=__webpack_require__(/*! react */ 5156),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};
function q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=""+g);void 0!==a.key&&(e=""+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;


/***/ }),

/***/ 6070:
/*!***************************************************************************!*\
  !*** ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



if (true) {
  module.exports = __webpack_require__(/*! ./cjs/react-jsx-runtime.production.min.js */ 7462);
} else {}


/***/ }),

/***/ 2809:
/*!***************************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/constant.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;

/**
 * Created by hustcc on 18/6/9.
 * Contract: i@hust.cc
 */
var SizeSensorId = 'size-sensor-id';
exports.SizeSensorId = SizeSensorId;
var SensorClassName = 'size-sensor-object';
exports.SensorClassName = SensorClassName;
var SensorTabIndex = '-1';
exports.SensorTabIndex = SensorTabIndex;

/***/ }),

/***/ 3298:
/*!***************************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/debounce.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;

/**
 * Created by hustcc on 18/6/9.
 * Contract: i@hust.cc
 */
var _default = function _default(fn) {
  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;
  var timer = null;
  return function () {
    var _this = this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    clearTimeout(timer);
    timer = setTimeout(function () {
      fn.apply(_this, args);
    }, delay);
  };
};

exports["default"] = _default;

/***/ }),

/***/ 9120:
/*!*********************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/id.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;

/**
 * Created by hustcc on 18/6/9.
 * Contract: i@hust.cc
 */
var id = 1;
/**
 * generate unique id in application
 * @return {string}
 */

var _default = function _default() {
  return "".concat(id++);
};

exports["default"] = _default;

/***/ }),

/***/ 7157:
/*!************************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/index.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.ver = exports.clear = exports.bind = void 0;

var _sensorPool = __webpack_require__(/*! ./sensorPool */ 17);

/**
 * Created by hustcc on 18/6/9.[高考时间]
 * Contract: i@hust.cc
 */

/**
 * bind an element with resize callback function
 * @param {*} element
 * @param {*} cb
 */
var bind = function bind(element, cb) {
  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback

  sensor.bind(cb); // return unbind function

  return function () {
    sensor.unbind(cb);
  };
};
/**
 * clear all the listener and sensor of an element
 * @param element
 */


exports.bind = bind;

var clear = function clear(element) {
  var sensor = (0, _sensorPool.getSensor)(element);
  (0, _sensorPool.removeSensor)(sensor);
};

exports.clear = clear;
var ver = "1.0.1";
exports.ver = ver;

/***/ }),

/***/ 17:
/*!*****************************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensorPool.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.removeSensor = exports.getSensor = void 0;

var _id = _interopRequireDefault(__webpack_require__(/*! ./id */ 9120));

var _sensors = __webpack_require__(/*! ./sensors */ 3737);

var _constant = __webpack_require__(/*! ./constant */ 2809);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
 * Created by hustcc on 18/6/9.
 * Contract: i@hust.cc
 */

/**
 * all the sensor objects.
 * sensor pool
 */
var Sensors = {};
/**
 * get one sensor
 * @param element
 * @returns {*}
 */

var getSensor = function getSensor(element) {
  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it

  if (sensorId && Sensors[sensorId]) {
    return Sensors[sensorId];
  } // 2. not exist, then create one


  var newId = (0, _id["default"])();
  element.setAttribute(_constant.SizeSensorId, newId);
  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool

  Sensors[newId] = sensor;
  return sensor;
};
/**
 * 移除 sensor
 * @param sensor
 */


exports.getSensor = getSensor;

var removeSensor = function removeSensor(sensor) {
  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute

  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used

  sensor.destroy(); // exist, then remove from pool

  if (sensorId && Sensors[sensorId]) {
    delete Sensors[sensorId];
  }
};

exports.removeSensor = removeSensor;

/***/ }),

/***/ 3737:
/*!********************************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensors/index.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.createSensor = void 0;

var _object = __webpack_require__(/*! ./object */ 6690);

var _resizeObserver = __webpack_require__(/*! ./resizeObserver */ 8607);

/**
 * Created by hustcc on 18/7/5.
 * Contract: i@hust.cc
 */

/**
 * sensor strategies
 */
// export const createSensor = createObjectSensor;
var createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;
exports.createSensor = createSensor;

/***/ }),

/***/ 6690:
/*!*********************************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensors/object.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.createSensor = void 0;

var _debounce = _interopRequireDefault(__webpack_require__(/*! ../debounce */ 3298));

var _constant = __webpack_require__(/*! ../constant */ 2809);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
 * Created by hustcc on 18/6/9.
 * Contract: i@hust.cc
 */
var createSensor = function createSensor(element) {
  var sensor = undefined; // callback

  var listeners = [];
  /**
   * create object DOM of sensor
   * @returns {HTMLObjectElement}
   */

  var newSensor = function newSensor() {
    // adjust style
    if (getComputedStyle(element).position === 'static') {
      element.style.position = 'relative';
    }

    var obj = document.createElement('object');

    obj.onload = function () {
      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); // 直接触发一次 resize

      resizeListener();
    };

    obj.style.display = 'block';
    obj.style.position = 'absolute';
    obj.style.top = '0';
    obj.style.left = '0';
    obj.style.height = '100%';
    obj.style.width = '100%';
    obj.style.overflow = 'hidden';
    obj.style.pointerEvents = 'none';
    obj.style.zIndex = '-1';
    obj.style.opacity = '0';
    obj.setAttribute('class', _constant.SensorClassName);
    obj.setAttribute('tabindex', _constant.SensorTabIndex);
    obj.type = 'text/html'; // append into dom

    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen

    obj.data = 'about:blank';
    return obj;
  };
  /**
   * trigger listeners
   */


  var resizeListener = (0, _debounce["default"])(function () {
    // trigger all listener
    listeners.forEach(function (listener) {
      listener(element);
    });
  });
  /**
   * listen with one callback function
   * @param cb
   */

  var bind = function bind(cb) {
    // if not exist sensor, then create one
    if (!sensor) {
      sensor = newSensor();
    }

    if (listeners.indexOf(cb) === -1) {
      listeners.push(cb);
    }
  };
  /**
   * destroy all
   */


  var destroy = function destroy() {
    if (sensor && sensor.parentNode) {
      if (sensor.contentDocument) {
        // remote event
        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);
      } // remove dom


      sensor.parentNode.removeChild(sensor); // initial variable

      sensor = undefined;
      listeners = [];
    }
  };
  /**
   * cancel listener bind
   * @param cb
   */


  var unbind = function unbind(cb) {
    var idx = listeners.indexOf(cb);

    if (idx !== -1) {
      listeners.splice(idx, 1);
    } // no listener, and sensor is exist
    // then destroy the sensor


    if (listeners.length === 0 && sensor) {
      destroy();
    }
  };

  return {
    element: element,
    bind: bind,
    destroy: destroy,
    unbind: unbind
  };
};

exports.createSensor = createSensor;

/***/ }),

/***/ 8607:
/*!*****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/size-sensor@1.0.1/node_modules/size-sensor/lib/sensors/resizeObserver.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.createSensor = void 0;

var _debounce = _interopRequireDefault(__webpack_require__(/*! ../debounce */ 3298));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
 * Created by hustcc on 18/7/5.
 * Contract: i@hust.cc
 */
var createSensor = function createSensor(element) {
  var sensor = undefined; // callback

  var listeners = [];
  /**
   * trigger listeners
   */

  var resizeListener = (0, _debounce["default"])(function () {
    // trigger all
    listeners.forEach(function (listener) {
      listener(element);
    });
  });
  /**
   * create ResizeObserver sensor
   * @returns
   */

  var newSensor = function newSensor() {
    var s = new ResizeObserver(resizeListener); // listen element

    s.observe(element); // trigger once

    resizeListener();
    return s;
  };
  /**
   * listen with callback
   * @param cb
   */


  var bind = function bind(cb) {
    if (!sensor) {
      sensor = newSensor();
    }

    if (listeners.indexOf(cb) === -1) {
      listeners.push(cb);
    }
  };
  /**
   * destroy
   */


  var destroy = function destroy() {
    sensor.disconnect();
    listeners = [];
    sensor = undefined;
  };
  /**
   * cancel bind
   * @param cb
   */


  var unbind = function unbind(cb) {
    var idx = listeners.indexOf(cb);

    if (idx !== -1) {
      listeners.splice(idx, 1);
    } // no listener, and sensor is exist
    // then destroy the sensor


    if (listeners.length === 0 && sensor) {
      destroy();
    }
  };

  return {
    element: element,
    bind: bind,
    destroy: destroy,
    unbind: unbind
  };
};

exports.createSensor = createSensor;

/***/ }),

/***/ 2107:
/*!************************************************************!*\
  !*** ./console/dashboard/Charts/CompositeGraph/index.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ 3316);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js */ 525);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js */ 3231);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ 5260);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js */ 584);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js */ 117);
/* harmony import */ var _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_node_modules_pnpm_sass_loader_14_2_1_sass_1_77_2_webpack_5_91_0_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_1_use_2_index_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./index.scss */ 9776);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_pnpm_style_loader_4_0_0_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_node_modules_pnpm_sass_loader_14_2_1_sass_1_77_2_webpack_5_91_0_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_1_use_2_index_scss__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A, options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_node_modules_pnpm_sass_loader_14_2_1_sass_1_77_2_webpack_5_91_0_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_1_use_2_index_scss__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A && _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_node_modules_pnpm_sass_loader_14_2_1_sass_1_77_2_webpack_5_91_0_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_1_use_2_index_scss__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A.locals ? _node_modules_pnpm_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_1_use_1_node_modules_pnpm_sass_loader_14_2_1_sass_1_77_2_webpack_5_91_0_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_1_use_2_index_scss__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A.locals : undefined);


/***/ }),

/***/ 3316:
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \*********************************************************************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ 3231:
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \*************************************************************************************************************************/
/***/ ((module) => {



var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ 584:
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \***************************************************************************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ 5260:
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \***************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ 525:
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \********************************************************************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ 117:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \**************************************************************************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ 5664:
/*!******************************************************************************************!*\
  !*** ./node_modules/.pnpm/toggle-selection@1.0.6/node_modules/toggle-selection/index.js ***!
  \******************************************************************************************/
/***/ ((module) => {


module.exports = function () {
  var selection = document.getSelection();
  if (!selection.rangeCount) {
    return function () {};
  }
  var active = document.activeElement;

  var ranges = [];
  for (var i = 0; i < selection.rangeCount; i++) {
    ranges.push(selection.getRangeAt(i));
  }

  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML
    case 'INPUT':
    case 'TEXTAREA':
      active.blur();
      break;

    default:
      active = null;
      break;
  }

  selection.removeAllRanges();
  return function () {
    selection.type === 'Caret' &&
    selection.removeAllRanges();

    if (!selection.rangeCount) {
      ranges.forEach(function(range) {
        selection.addRange(range);
      });
    }

    active &&
    active.focus();
  };
};


/***/ }),

/***/ 9153:
/*!***************************************************!*\
  !*** ./console/dashboard/ChartFormFields/type.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gw: () => (/* binding */ AxisType),
/* harmony export */   Hp: () => (/* binding */ ThresholdShowType),
/* harmony export */   LW: () => (/* binding */ MarkPresetType),
/* harmony export */   UR: () => (/* binding */ ThresholdType),
/* harmony export */   _w: () => (/* binding */ MatchRuleType),
/* harmony export */   ad: () => (/* binding */ ILineType),
/* harmony export */   kQ: () => (/* binding */ ITimeFormat),
/* harmony export */   lo: () => (/* binding */ ChartField),
/* harmony export */   yX: () => (/* binding */ Position)
/* harmony export */ });
var AxisType;
(function (AxisType) {
    AxisType["CATEGORY"] = "category";
    AxisType["LOG"] = "log";
    AxisType["VALUE"] = "value";
    AxisType["TIME"] = "time";
})(AxisType || (AxisType = {}));
var Position;
(function (Position) {
    Position["RIGHT"] = "right";
    Position["LEFT"] = "left";
})(Position || (Position = {}));
var MarkPresetType;
(function (MarkPresetType) {
    MarkPresetType["MAX"] = "max";
    MarkPresetType["MIN"] = "min";
    MarkPresetType["AVERAGE"] = "average";
})(MarkPresetType || (MarkPresetType = {}));
var ILineType;
(function (ILineType) {
    ILineType["SOLID"] = "solid";
    ILineType["DASHED"] = "dashed";
    ILineType["DOTTED"] = "dotted";
})(ILineType || (ILineType = {}));
var ITimeFormat;
(function (ITimeFormat) {
    ITimeFormat["HOUR"] = "HH";
    ITimeFormat["MINUTE"] = "HH:mm";
    ITimeFormat["SECOND"] = "HH:mm:ss";
    ITimeFormat["MILLISECOND"] = "HH:mm:ss.SSS";
    ITimeFormat["DAY_MINUTE"] = "MM-DD HH:mm";
    ITimeFormat["DATE"] = "YYYY-MM-DD";
    ITimeFormat["DATE_HOUR"] = "YYYY-MM-DD HH";
    ITimeFormat["DATE_MINUTE"] = "YYYY-MM-DD HH:mm";
    ITimeFormat["DATE_SECOND"] = "YYYY-MM-DD HH:mm:ss";
    ITimeFormat["DATE_MILLISECOND"] = "YYYY-MM-DD HH:mm:ss.SSS";
})(ITimeFormat || (ITimeFormat = {}));
var ChartField;
(function (ChartField) {
    ChartField["LEGEND"] = "legend";
    ChartField["TOOLTIP"] = "tooltip";
    ChartField["SPLIT_LINE"] = "split_line";
    ChartField["DATA_ZOOM"] = "data_zoom";
})(ChartField || (ChartField = {}));
var ThresholdType;
(function (ThresholdType) {
    ThresholdType[ThresholdType["ABSOLUTE"] = 0] = "ABSOLUTE";
    ThresholdType[ThresholdType["PERCENTAGE"] = 1] = "PERCENTAGE";
})(ThresholdType || (ThresholdType = {}));
var ThresholdShowType;
(function (ThresholdShowType) {
    ThresholdShowType[ThresholdShowType["NONE"] = 0] = "NONE";
    ThresholdShowType[ThresholdShowType["FILLED_REGION"] = 1] = "FILLED_REGION";
    ThresholdShowType[ThresholdShowType["LINE"] = 2] = "LINE";
})(ThresholdShowType || (ThresholdShowType = {}));
var MatchRuleType;
(function (MatchRuleType) {
    MatchRuleType[MatchRuleType["NAME"] = 0] = "NAME";
    MatchRuleType[MatchRuleType["REGEXP"] = 1] = "REGEXP";
    MatchRuleType[MatchRuleType["DATA_TYPE"] = 2] = "DATA_TYPE";
    MatchRuleType[MatchRuleType["DATA_SOURCE"] = 3] = "DATA_SOURCE";
})(MatchRuleType || (MatchRuleType = {}));


/***/ }),

/***/ 4437:
/*!*************************************************************!*\
  !*** ./console/dashboard/Charts/CompositeGraph/constant.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ VALUE_TYPES),
/* harmony export */   m: () => (/* binding */ TIME_TYPES)
/* harmony export */ });
/* harmony import */ var dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dolphindb/browser */ 1980);

const TIME_TYPES = [
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.date,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.month,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.time,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.minute,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.second,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.datetime,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.timestamp,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.nanotime,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.nanotimestamp,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.datehour
];
const VALUE_TYPES = [
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.short,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.int,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.long,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.float,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.double,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal32,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal64,
    dolphindb_browser__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal128
];


/***/ }),

/***/ 4671:
/*!***********************************************************!*\
  !*** ./console/dashboard/Charts/CompositeGraph/index.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R: () => (/* binding */ SingleDataSourceUpdate),
/* harmony export */   o: () => (/* binding */ CompositeChart)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ 6070);
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ 2107);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 5156);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var echarts_for_react_lib_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! echarts-for-react/lib/core */ 7475);
/* harmony import */ var echarts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! echarts */ 6877);
/* harmony import */ var echarts__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(echarts__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ 2238);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ChartFormFields/type.js */ 9153);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils.js */ 7608);
/* harmony import */ var _DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../DataSource/date-source.js */ 2573);
/* harmony import */ var _constant_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./constant.js */ 4437);










function CompositeChart(props) {
    const { widget, data_source } = props;
    const [update, set_update] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);
    const config = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => widget.config, [widget.config]);
    const [echart_instance, set_echart_instance] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();
    // 用来存储阈值对应的轴范围，设置了百分比阈值时使用
    const [axis_range_map, set_axis_range_map] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();
    // 存储每个数据源的 X 轴列和数据列
    const [source_col_map, set_source_col_map] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});
    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
        set_source_col_map({});
    }, [widget.source_id]);
    const type_map = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {
        return widget.source_id.reduce((prev, id) => ({ ...prev, ...(0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_8__/* .get_data_source */ .Qb)(id).type_map }), {});
    }, [update, widget.source_id]);
    // 自动画图模式需要存储每个数据源的 X 轴列和数据列
    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
        if (config.automatic_mode)
            for (let id of widget.source_id) {
                const { cols, type_map } = (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_8__/* .get_data_source */ .Qb)(id);
                // 第一个在选定类型中的列作为 X 轴列，其余作为数据列
                const x_col_types = config.x_col_types?.length ? config.x_col_types : _constant_js__WEBPACK_IMPORTED_MODULE_9__/* .TIME_TYPES */ .m;
                const x_col_name = cols.find(col => x_col_types.includes(type_map[col]));
                // 非 X 轴列且为数值的列作为数据列
                const series_col = cols.filter(item => item !== x_col_name && _constant_js__WEBPACK_IMPORTED_MODULE_9__/* .VALUE_TYPES */ .K.includes(type_map[item]));
                set_source_col_map(map => ({
                    ...map,
                    [id]: { x_col_name, series_col }
                }));
            }
    }, [type_map, config.automatic_mode, config.x_col_types, widget.source_id]);
    const options = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {
        const { automatic_mode, series: series_config = [], yAxis = [], ...others } = config;
        let series = [];
        // 非自动画图模式
        if (!automatic_mode)
            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .convert_chart_config */ .u3)(widget, data_source, axis_range_map);
        else {
            // 自动模式，查找匹配的数据列规则，设置数据列
            for (let [data_source_id, item] of Object.entries(source_col_map)) {
                const { series_col, x_col_name } = item;
                // 遍历每个数据源的数据列，查找匹配规则
                for (let col of series_col) {
                    const match_rule = series_config.filter(Boolean).find(item => {
                        const { match_type, match_value } = item;
                        switch (match_type) {
                            // 名称匹配
                            case _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_6__/* .MatchRuleType */ ._w.NAME:
                                return match_value?.includes(col);
                            // 名称类型匹配
                            case _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_6__/* .MatchRuleType */ ._w.DATA_TYPE:
                                return match_value?.includes(type_map[col]);
                            // 名称正则匹配
                            case _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_6__/* .MatchRuleType */ ._w.REGEXP:
                                try {
                                    return eval(match_value)?.test(col);
                                }
                                catch (e) {
                                    return false;
                                }
                            // 数据源匹配
                            case _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_6__/* .MatchRuleType */ ._w.DATA_SOURCE:
                                return data_source_id === match_value;
                            default:
                                return false;
                        }
                    });
                    // 选了不展示数据列则不添加，其他情况下都添加数据列
                    if (!(match_rule?.show === false))
                        series.push({
                            data_source_id,
                            x_col_name,
                            type: 'line',
                            yAxisIndex: 0,
                            ...((0,lodash__WEBPACK_IMPORTED_MODULE_5__.pickBy)(match_rule)),
                            name: col,
                            col_name: col,
                        });
                }
            }
            const time_series_config = {
                ...others,
                // 手动设置 y 轴的类型为数据轴
                yAxis: yAxis.map(item => ({ ...item, type: _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_6__/* .AxisType */ .Gw.VALUE })),
                series,
            };
            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .convert_chart_config */ .u3)({ ...widget, config: time_series_config }, data_source, axis_range_map);
        }
    }, [config, update, source_col_map, type_map, axis_range_map]);
    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
        // 未设置百分比阈值的时候不需要更新轴范围
        const has_percent_threshold = config?.thresholds?.find(item => item?.type === _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_6__/* .ThresholdType */ .UR.PERCENTAGE);
        if (!echart_instance || !has_percent_threshold)
            return;
        // options 更新之后，重新计算 thresholds 对应的各轴的范围，判断是否需要更新
        const { thresholds = [] } = widget.config;
        for (let threshold of thresholds.filter(Boolean)) {
            const { axis_type, axis } = threshold;
            const [min, max] = (0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .get_axis_range */ .T4)(axis_type, echart_instance, axis);
            const key = (axis_type === 0 ? 'x' : 'y') + '_' + axis;
            // 轴范围与之前的不一致才需要更新 axis_range_map, 一致则不需要更新
            if (axis_range_map?.[key]?.min !== min || axis_range_map?.[key]?.max !== max)
                set_axis_range_map(val => ({ ...val, [key]: { min, max } }));
        }
    }, [options, echart_instance, config.thresholds]);
    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [widget.source_id.map(id => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SingleDataSourceUpdate, { source_id: id, force_update: () => { set_update({}); } }, id)), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(echarts_for_react_lib_core__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A, { echarts: echarts__WEBPACK_IMPORTED_MODULE_4__, notMerge: true, option: options, className: 'dashboard-line-chart', theme: 'my-theme', onChartReady: (ins) => { set_echart_instance(ins); } })] });
}
/** 订阅单数据源更新 */
function SingleDataSourceUpdate(props) {
    const { source_id, force_update } = props;
    const data_node = (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_8__/* .get_data_source */ .Qb)(source_id);
    const { cols, data } = data_node.use(['cols', 'data']);
    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => { force_update(); }, [cols, data]);
    return null;
}


/***/ }),

/***/ 2573:
/*!*****************************************************!*\
  !*** ./console/dashboard/DataSource/date-source.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $2: () => (/* binding */ paste_data_source),
/* harmony export */   Ak: () => (/* binding */ get_stream_filter_col),
/* harmony export */   Az: () => (/* binding */ data_sources),
/* harmony export */   Ci: () => (/* binding */ get_stream_tables),
/* harmony export */   GI: () => (/* binding */ rename_data_source),
/* harmony export */   KZ: () => (/* binding */ clear_data_sources),
/* harmony export */   Qb: () => (/* binding */ get_data_source),
/* harmony export */   RL: () => (/* binding */ save_data_source),
/* harmony export */   X9: () => (/* binding */ export_data_sources),
/* harmony export */   aL: () => (/* binding */ find_data_source_index),
/* harmony export */   cJ: () => (/* binding */ import_data_sources),
/* harmony export */   dg: () => (/* binding */ delete_data_source),
/* harmony export */   fq: () => (/* binding */ copy_data_source),
/* harmony export */   g7: () => (/* binding */ execute),
/* harmony export */   j3: () => (/* binding */ unsubscribe_data_source),
/* harmony export */   qI: () => (/* binding */ subscribe_data_source),
/* harmony export */   qd: () => (/* binding */ get_stream_cols),
/* harmony export */   y7: () => (/* binding */ create_data_source)
/* harmony export */ });
/* unused harmony exports DataSource, clear_data_source, get_data_source_copy_infos */
/* harmony import */ var react_object_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-object-model */ 5727);
/* harmony import */ var xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xshell/utils.browser.js */ 2345);
/* harmony import */ var dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dolphindb/browser.js */ 1980);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ 2238);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! copy-to-clipboard */ 3042);
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model.js */ 3016);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils.js */ 7608);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../model.js */ 1467);
/* harmony import */ var _Variable_variable_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Variable/variable.js */ 9896);
/* harmony import */ var _i18n_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../i18n/index.js */ 6361);










class DataSource extends react_object_model__WEBPACK_IMPORTED_MODULE_0__/* .Model */ .K {
    id;
    name;
    type;
    mode = 'sql';
    max_line = null;
    data = [];
    cols = [];
    /** map 类型，存储了每一列对应的 DDB 类型 ID */
    type_map;
    deps = new Set();
    variables = new Set();
    error_message = '';
    ddb;
    /** sql 模式专用 */
    auto_refresh = false;
    /** sql 模式专用 */
    code = '';
    /** sql 模式专用 */
    interval = 1;
    /** sql 模式专用 */
    timer;
    /** stream 模式专用 */
    filter = false;
    /** stream 模式专用 */
    stream_table = '';
    /** stream 模式专用 */
    filter_column = '';
    /** stream 模式专用 */
    filter_expression = '';
    /** stream 模式专用 */
    ip = '';
    constructor(id, name, type) {
        super();
        this.id = id;
        this.name = name;
        this.type = type;
    }
}
function find_data_source_index(source_id) {
    return data_sources.findIndex(data_source => data_source.id === source_id);
}
function get_data_source(source_id) {
    return data_sources[find_data_source_index(source_id)] || new DataSource('', '', dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.table);
}
async function save_data_source(new_data_source, code, filter_column, filter_expression) {
    const id = new_data_source.id;
    const data_source = get_data_source(id);
    const deps = new_data_source.deps;
    clear_data_source(data_source);
    data_source.variables.forEach(variable_id => { (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_8__/* .unsubscribe_variable */ .Z7)(data_source, variable_id); });
    new_data_source.data.length = 0;
    new_data_source.error_message = '';
    new_data_source.timer = null;
    new_data_source.ddb = null;
    new_data_source.code = code || _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.sql_editor?.getValue() || '';
    new_data_source.filter_column = filter_column || _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.filter_column_editor?.getValue() || '';
    new_data_source.filter_expression = filter_expression || _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.filter_expression_editor?.getValue() || '';
    switch (new_data_source.mode) {
        case 'sql':
            try {
                new_data_source.ddb = await create_sql_connection();
                const parsed_code = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .parse_code */ .eI)(new_data_source.code, new_data_source);
                const { type, result } = await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.execute_code(parsed_code, new_data_source.ddb);
                switch (type) {
                    case 'success':
                        if (typeof result === 'object' && result) {
                            // 暂时只支持table matrix
                            if (result.form !== new_data_source.type) {
                                _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('sql 执行得到的数据类型与数据源类型不符，请修改'));
                                return;
                            }
                            new_data_source.data = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .sql_formatter */ .Sr)(result, new_data_source.max_line);
                            new_data_source.cols = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .get_cols */ .He)(result);
                            new_data_source.type_map = result.form === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.table ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .get_sql_col_type_map */ .zG)(result) : {};
                        }
                        if (code === undefined)
                            _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.success(`${data_source.name} ${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('保存成功')}`);
                        break;
                    case 'error':
                        throw new Error(result);
                }
            }
            catch (error) {
                new_data_source.error_message = error.message;
                new_data_source.cols = [];
                new_data_source.type_map = {};
                if (code === undefined)
                    _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error(error.message);
            }
            finally {
                data_source.set({ ...new_data_source });
                if ((data_source.error_message || !deps.size) && data_source.ddb) {
                    data_source.ddb.disconnect();
                    data_source.ddb = null;
                }
                if (deps.size && !data_source.error_message && data_source.auto_refresh)
                    create_interval(data_source);
            }
            break;
        case 'stream':
            try {
                data_source.set({
                    ...new_data_source,
                    auto_refresh: false,
                    cols: await get_stream_cols(data_source.stream_table),
                    type_map: await (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .get_streaming_col_type_map */ .LW)(new_data_source.stream_table)
                });
                if (deps.size)
                    await subscribe_stream(data_source);
                else if (data_source.filter) {
                    // 订阅一下变量
                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .parse_code */ .eI)(data_source.filter_column, data_source);
                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .parse_code */ .eI)(data_source.filter_expression, data_source);
                }
                if (code === undefined)
                    _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.success(`${data_source.name} ${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('保存成功')}`);
            }
            catch (error) {
                _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error(error.message);
            }
            break;
    }
}
function delete_data_source(source_id) {
    const data_source = get_data_source(source_id);
    if (data_source.deps.size)
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('当前数据源已被图表绑定无法删除'));
    else {
        const delete_index = find_data_source_index(source_id);
        data_source.variables.forEach(variable_id => { (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_8__/* .unsubscribe_variable */ .Z7)(data_source, variable_id); });
        data_sources.splice(delete_index, 1);
        return delete_index;
    }
}
function check_name(source_id, new_name) {
    if (data_sources.find(data_source => data_source.name === new_name && data_source.id !== source_id))
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('该数据源名已存在'));
    else if (new_name.length > 10)
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('数据源名长度不能大于10'));
    else if (new_name.length === 0)
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('数据源名不能为空'));
}
function create_data_source(new_name, type) {
    const id = String((0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_1__/* .genid */ .GW)());
    check_name(id, new_name);
    const new_data_source = new DataSource(id, new_name, type);
    data_sources.unshift(new_data_source);
    return new_data_source;
}
function rename_data_source(source_id, new_name) {
    const data_source = get_data_source(source_id);
    new_name = new_name.trim();
    check_name(source_id, new_name);
    data_source.name = new_name;
}
async function subscribe_data_source(widget_option, source_id, message = true) {
    const data_source = get_data_source(source_id);
    console.log(data_source, widget_option, 'source_id');
    if (widget_option.source_id && !widget_option.source_id.includes(source_id))
        unsubscribe_data_source(widget_option);
    data_source.deps.add(widget_option.id);
    if (data_source.error_message) {
        if (message)
            _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('当前数据源存在错误'));
    }
    else
        switch (data_source.mode) {
            case 'sql':
                data_source.ddb ??= await create_sql_connection();
                if (data_source.auto_refresh && !data_source.timer)
                    create_interval(data_source);
                break;
            case 'stream':
                if (!data_source.ddb)
                    await subscribe_stream(data_source);
                break;
        }
}
function unsubscribe_data_source(widget_option) {
    const source_id = widget_option.source_id;
    source_id.forEach(id => {
        const data_source = get_data_source(id);
        if (data_source.id === '')
            return;
        data_source.deps.delete(widget_option.id);
        if (!data_source.deps.size)
            clear_data_source(data_source);
    });
}
async function execute(source_id) {
    const data_source = get_data_source(source_id);
    if (!data_source.id)
        return;
    switch (data_source.mode) {
        case 'sql':
            try {
                const { type, result } = await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.execute_code((0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .parse_code */ .eI)(data_source.code, data_source), data_source.ddb || _model_js__WEBPACK_IMPORTED_MODULE_7__/* .model */ .ge.ddb);
                switch (type) {
                    case 'success':
                        // 暂时只支持table
                        if (typeof result === 'object' && result)
                            data_source.set({
                                data: (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .sql_formatter */ .Sr)(result, data_source.max_line),
                                cols: (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .get_cols */ .He)(result),
                                type_map: (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .get_sql_col_type_map */ .zG)(result),
                                error_message: ''
                            });
                        else
                            data_source.set({
                                data: [],
                                cols: [],
                                error_message: ''
                            });
                        if (data_source.deps.size && !data_source.timer && data_source.auto_refresh)
                            create_interval(data_source);
                        break;
                    case 'error':
                        throw new Error(result);
                }
            }
            catch (error) {
                // 切换 dashboard 会关闭轮询的连接，若该连接中仍有排队的任务，此处会抛出“连接被关闭”的错误，此处手动过滤
                if (!data_source.auto_refresh || data_source.ddb)
                    _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error(`${error.message} ${data_source.name}`);
                data_source.set({
                    data: [],
                    cols: [],
                    error_message: error.message
                });
                clear_data_source(data_source);
            }
            finally {
                break;
            }
        case 'stream':
            if (data_source.deps.size)
                await subscribe_stream(data_source);
    }
}
async function create_sql_connection() {
    const params = new URLSearchParams(location.search);
    const port = params.get('port') || location.port;
    const connection = new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DDB */ .ZY((_model_js__WEBPACK_IMPORTED_MODULE_7__/* .model */ .ge.dev ? (params.get('tls') === '1' ? 'wss' : 'ws') : (location.protocol === 'https:' ? 'wss' : 'ws')) +
        '://' +
        (params.get('hostname') || location.hostname) +
        // 一般 location.port 可能是空字符串
        (port ? `:${port}` : '') +
        // 检测 ddb 是否通过 nginx 代理，部署在子路径下
        (location.pathname === '/dolphindb/' ? '/dolphindb/' : ''), {
        autologin: false,
        verbose: _model_js__WEBPACK_IMPORTED_MODULE_7__/* .model */ .ge.verbose,
        sql: _model_js__WEBPACK_IMPORTED_MODULE_7__/* .model */ .ge.sql
    });
    await connection.connect();
    const ticket = localStorage.getItem(_model_js__WEBPACK_IMPORTED_MODULE_7__/* .storage_keys */ .Xu.ticket);
    if (ticket)
        await connection.call('authenticateByTicket', [ticket], { urgent: true });
    else {
        const { ddb: { username, password } } = _model_js__WEBPACK_IMPORTED_MODULE_7__/* .model */ .ge;
        await connection.call('login', [username, password], { urgent: true });
    }
    return connection;
}
function create_interval(data_source) {
    try {
        if (data_source.auto_refresh) {
            const interval_id = setInterval(async () => {
                await execute(data_source.id);
            }, data_source.interval * 1000);
            data_source.set({ timer: interval_id });
        }
    }
    catch (error) {
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error(`${data_source.name} ${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('轮询启动失败')}`);
        return error;
    }
}
async function subscribe_stream(data_source) {
    clear_data_source(data_source);
    try {
        const { ddb: { username, password } } = _model_js__WEBPACK_IMPORTED_MODULE_7__/* .model */ .ge;
        let column;
        if (data_source.filter_column) {
            const { type, result } = await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.execute_code((0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .parse_code */ .eI)(data_source.filter_column, data_source));
            if (type === 'success') {
                if (typeof result === 'object' && result)
                    column = result;
            }
            else
                throw new Error(result);
        }
        const stream_connection = new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DDB */ .ZY((location.protocol === 'https:' ? 'wss' : 'ws') + '://' + data_source.ip, {
            username,
            password,
            streaming: {
                table: data_source.stream_table,
                filters: data_source.filter
                    ? {
                        column,
                        expression: (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .parse_code */ .eI)(data_source.filter_expression, data_source)
                    }
                    : {},
                handler(message) {
                    const { error } = message;
                    if (error)
                        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error(error.message);
                    else {
                        data_source.data.push(...(0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .stream_formatter */ .aS)(message.obj, data_source.max_line, data_source.cols));
                        if (data_source.max_line && data_source.data.length > data_source.max_line)
                            data_source.data = data_source.data.splice(data_source.data.length - data_source.max_line);
                        data_source.set({
                            data: [...data_source.data]
                        });
                    }
                }
            }
        });
        await stream_connection.connect();
        data_source.set({ data: [], cols: await get_stream_cols(data_source.stream_table), ddb: stream_connection });
    }
    catch (error) {
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error(`${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('无法订阅到流数据表')} ${data_source.stream_table}`);
        return error;
    }
}
async function get_stream_tables() {
    try {
        return (await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.eval('exec name from objs(true) where type="REALTIME"')).value;
    }
    catch (error) {
        return [];
    }
}
async function get_stream_cols(table) {
    try {
        return (await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.eval(`select name from schema(${table})['colDefs']`)).value[0].value;
    }
    catch (error) {
        return [];
    }
}
async function get_stream_filter_col(table) {
    try {
        return (await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.eval(`getStreamTableFilterColumn(${table})`)).value;
    }
    catch (error) {
        return '';
    }
}
async function export_data_sources() {
    return (0,lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(data_sources).map(data_source => {
        return {
            ...data_source,
            timer: null,
            ddb: null,
            cols: [],
            data: [],
            deps: Array.from(data_source.deps),
            variables: []
        };
    });
}
async function import_data_sources(_data_sources) {
    data_sources = [];
    await Promise.all(_data_sources.map(async (data_source) => new Promise(async (resolve, reject) => {
        const import_data_source = new DataSource(data_source.id, data_source.name, data_source.type);
        Object.assign(import_data_source, data_source, { deps: new Set(data_source.deps), variables: import_data_source.variables });
        data_sources.push(import_data_source);
        await save_data_source(import_data_source, import_data_source.code, import_data_source.filter_column, import_data_source.filter_expression);
        resolve(true);
    })));
    return data_sources;
}
function clear_data_source(data_source) {
    const connection = data_source.ddb;
    const interval = data_source.timer;
    if (interval) {
        clearInterval(interval);
        data_source.timer = null;
    }
    if (connection) {
        connection.disconnect();
        data_source.ddb = null;
    }
}
function clear_data_sources() {
    data_sources.forEach(data_source => {
        clear_data_source(data_source);
    });
}
function get_data_source_copy_infos(source_id) {
    const data_source = get_data_source(source_id);
    return {
        data_source: {
            ...data_source,
            timer: null,
            ddb: null,
            cols: [],
            data: [],
            deps: [],
            variables: []
        },
        ...(0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_8__/* .get_variable_copy_infos */ .q3)(Array.from(data_source.variables))
    };
}
function copy_data_source(source_id) {
    try {
        copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4___default()(JSON.stringify(get_data_source_copy_infos(source_id)));
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.success((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('复制成功'));
    }
    catch (e) {
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('复制失败'));
    }
}
async function paste_data_source(event) {
    const { data_source: _data_source } = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .safe_json_parse */ .bu)((event.clipboardData).getData('text'));
    // 先校验，重名不粘贴，不重名且 id 不同的直接粘贴，不重名但 id 相同的重新生成 id 后粘贴
    if (!_data_source)
        return false;
    else if (data_sources.findIndex(data_source => data_source.name === _data_source.name) !== -1) {
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .dashboard */ .ze.message.error(`${_data_source.name} ${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_9__.t)('已存在，粘贴失败!')}`);
        return false;
    }
    if (find_data_source_index(_data_source.id) !== -1)
        _data_source.id = String((0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_1__/* .genid */ .GW)());
    await (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_8__/* .paste_variables */ .Mq)(event);
    const import_data_source = new DataSource(_data_source.id, _data_source.name, _data_source.type);
    Object.assign(import_data_source, _data_source, { deps: import_data_source.deps, variables: import_data_source.variables });
    data_sources.unshift(import_data_source);
    await save_data_source(import_data_source, import_data_source.code, import_data_source.filter_column, import_data_source.filter_expression);
    return true;
}
let data_sources = [];


/***/ }),

/***/ 9896:
/*!************************************************!*\
  !*** ./console/dashboard/Variable/variable.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ee: () => (/* binding */ variables),
/* harmony export */   G3: () => (/* binding */ copy_variables),
/* harmony export */   J_: () => (/* binding */ export_variables),
/* harmony export */   Mq: () => (/* binding */ paste_variables),
/* harmony export */   Oj: () => (/* binding */ get_variable_value),
/* harmony export */   R5: () => (/* binding */ update_variable_value),
/* harmony export */   Z7: () => (/* binding */ unsubscribe_variable),
/* harmony export */   _i: () => (/* binding */ rename_variable),
/* harmony export */   _r: () => (/* binding */ import_variables),
/* harmony export */   az: () => (/* binding */ create_variable),
/* harmony export */   hI: () => (/* binding */ find_variable_by_name),
/* harmony export */   iY: () => (/* binding */ subscribe_variable),
/* harmony export */   q3: () => (/* binding */ get_variable_copy_infos),
/* harmony export */   ts: () => (/* binding */ save_variable),
/* harmony export */   zi: () => (/* binding */ delete_variable)
/* harmony export */ });
/* unused harmony exports Variable, Variables, find_variable_index */
/* harmony import */ var react_object_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-object-model */ 5727);
/* harmony import */ var xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xshell/utils.browser.js */ 2345);
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! copy-to-clipboard */ 3042);
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model.js */ 3016);
/* harmony import */ var _DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DataSource/date-source.js */ 2573);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ 7608);
/* harmony import */ var _i18n_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../i18n/index.js */ 6361);
/* harmony import */ var _type_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../type.js */ 4829);








class Variable {
    id;
    name;
    display_name;
    mode = _type_js__WEBPACK_IMPORTED_MODULE_7__/* .VariableMode */ .s.SELECT;
    deps;
    value = '';
    /** select 模式专用，可选的key*/
    options = [];
    constructor(id, name, display_name, deps = new Set()) {
        this.id = id;
        this.name = name;
        this.display_name = display_name;
        this.deps = deps;
    }
}
class Variables extends react_object_model__WEBPACK_IMPORTED_MODULE_0__/* .Model */ .K {
    variable_infos = [];
}
const tmp_deps = new Map();
function find_variable_index(key, type) {
    return variables.variable_infos.findIndex(variable_info => variable_info[type] === key);
}
function find_variable_by_name(variable_name) {
    const index = find_variable_index(variable_name, 'name');
    return index !== -1 ? variables[variables.variable_infos[index].id] : undefined;
}
async function update_variable_value(change_variables) {
    const data_sources = new Set();
    Object.entries(change_variables).forEach(([variable_id, value]) => {
        variables.set({ [variable_id]: { ...variables[variable_id], value } });
        variables[variable_id].deps.forEach((data_source) => data_sources.add(data_source));
    });
    await Promise.all([...data_sources].map(async (source_id) => (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_4__/* .execute */ .g7)(source_id)));
}
function get_variable_value(variable_name) {
    const variable = find_variable_by_name(variable_name);
    if (variable)
        return variable.mode === 'multi_select' ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__/* .safe_json_parse */ .bu)(variable.value) : variable.value;
    else
        throw new Error(`${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('变量')} ${variable_name} ${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('不存在')}`);
}
async function save_variable(new_variable, is_import = false) {
    const id = new_variable.id;
    variables.set({ [id]: { ...new_variable, deps: variables[id].deps } });
    if (!is_import) {
        for (let source_id of variables[id].deps)
            await (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_4__/* .execute */ .g7)(source_id);
        _model_js__WEBPACK_IMPORTED_MODULE_3__/* .dashboard */ .ze.message.success(`${new_variable.name} ${('保存成功！')}`);
    }
}
function delete_variable(variable_id) {
    const variable = variables[variable_id];
    if (variable.deps.size)
        _model_js__WEBPACK_IMPORTED_MODULE_3__/* .dashboard */ .ze.message.error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('当前变量已被数据源使用无法删除'));
    else {
        const delete_index = find_variable_index(variable_id, 'id');
        variables.variable_infos.splice(delete_index, 1);
        variables.set({ variable_infos: [...variables.variable_infos] });
        delete variables[variable.id];
        return delete_index;
    }
}
function check_name(id, new_name) {
    if (variables.variable_infos.find(variable => variable.name === new_name && variable.id !== id))
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('该变量名已存在'));
    else if (new_name.length > 10)
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('变量名长度不能大于10'));
    else if (new_name.length === 0)
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('变量名不能为空'));
}
function create_variable(new_name) {
    const id = String((0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_1__/* .genid */ .GW)());
    check_name(id, new_name);
    variables.set({
        [id]: { ...new Variable(id, new_name, new_name, tmp_deps.get(new_name) || new Set()) },
        variable_infos: [{ id, name: new_name }, ...variables.variable_infos]
    });
    tmp_deps.delete(new_name);
    return id;
}
function rename_variable(id, new_name) {
    const variable = variables[id];
    new_name = new_name.trim();
    check_name(id, new_name);
    if (variable.deps.size)
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('此变量已被数据源引用无法修改名称'));
    else {
        variables.variable_infos[find_variable_index(id, 'id')].name = new_name;
        variables.set({
            [id]: { ...variables[id], name: new_name, deps: tmp_deps.get(new_name) || new Set() },
            variable_infos: [...variables.variable_infos]
        });
        tmp_deps.delete(new_name);
    }
}
async function subscribe_variable(data_source, variable_name) {
    const variable = find_variable_by_name(variable_name);
    const tmp_dep = tmp_deps.get(variable_name);
    if (variable) {
        variable.deps.add(data_source.id);
        data_source.variables.add(variable.id);
    }
    else if (tmp_dep)
        tmp_dep.add(data_source.id);
    else
        tmp_deps.set(variable_name, new Set([data_source.id]));
}
function unsubscribe_variable(data_source, variable_id) {
    const variable = variables[variable_id];
    const tmp_dep = tmp_deps.get(variable.name);
    if (variable)
        variable.deps.delete(data_source.id);
    else if (tmp_dep) {
        tmp_dep.delete(data_source.id);
        if (!tmp_dep.size)
            tmp_deps.delete(variable.name);
    }
    data_source.variables.delete(variable.id);
}
async function export_variables() {
    return variables.variable_infos.map(variable_info => {
        const variable = variables[variable_info.id];
        return {
            ...variable,
            deps: []
        };
    });
}
async function import_variables(_variables) {
    variables.variable_infos.forEach(variable_info => {
        delete variables[variable_info.id];
    });
    variables.variable_infos = [];
    tmp_deps.clear();
    for (let variable of _variables) {
        const import_variable = new Variable(variable.id, variable.name, variable.display_name);
        Object.assign(import_variable, variable, { deps: import_variable.deps });
        variables[variable.id] = import_variable;
        variables.variable_infos.push({ id: variable.id, name: variable.name });
        await save_variable(import_variable, true);
    }
    return variables.variable_infos.map(variable_info => variables[variable_info.id]);
}
function get_variable_copy_infos(variable_ids) {
    return {
        variables: variable_ids.map(variable_id => ({
            ...variables[variable_id],
            deps: []
        }))
    };
}
function copy_variables(variable_ids) {
    try {
        copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2___default()(JSON.stringify(get_variable_copy_infos(variable_ids)));
        _model_js__WEBPACK_IMPORTED_MODULE_3__/* .dashboard */ .ze.message.success((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('复制成功'));
    }
    catch (e) {
        _model_js__WEBPACK_IMPORTED_MODULE_3__/* .dashboard */ .ze.message.error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('复制失败'));
    }
}
/** widget 表示是否是粘贴 widget 时附带粘贴变量 */
async function paste_variables(event, widget = false) {
    const { variables: _variables } = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__/* .safe_json_parse */ .bu)((event.clipboardData).getData('text'));
    if (!_variables || !_variables.length)
        return false;
    // 先校验，重名不粘贴，不重名且 id 不同的直接粘贴，不重名但 id 相同的重新生成 id 后粘贴
    for (let i = 0; i < _variables.length; i++) {
        const { id, name } = _variables[i];
        if (find_variable_index(name, 'name') !== -1)
            if (widget)
                throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('变量冲突，复制失败'));
            else {
                _variables.splice(i, 1);
                i--;
            }
        else if (variables[id])
            if (widget)
                throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('变量冲突，复制失败'));
            else
                _variables[i].id = String((0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_1__/* .genid */ .GW)());
    }
    for (let variable of _variables) {
        const { id, name, display_name } = variable;
        const parste_variable = new Variable(id, name, display_name, tmp_deps.get(name) || new Set());
        Object.assign(parste_variable, variable, { deps: parste_variable.deps });
        variables.set({
            [id]: parste_variable,
            variable_infos: [{ id, name }, ...variables.variable_infos]
        });
        await save_variable(parste_variable, true);
    }
    return true;
}
const variables = new Variables();


/***/ }),

/***/ 3016:
/*!************************************!*\
  !*** ./console/dashboard/model.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gt: () => (/* binding */ WidgetTypeWithoutDatasource),
/* harmony export */   Rf: () => (/* binding */ WidgetChartType),
/* harmony export */   g1: () => (/* binding */ DashboardPermission),
/* harmony export */   pb: () => (/* binding */ InitedState),
/* harmony export */   xO: () => (/* binding */ WidgetType),
/* harmony export */   ze: () => (/* binding */ dashboard)
/* harmony export */ });
/* unused harmony export DashBoardModel */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 5156);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_object_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-object-model */ 5727);
/* harmony import */ var dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dolphindb/browser.js */ 1980);
/* harmony import */ var gridstack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gridstack */ 9193);
/* harmony import */ var gridstack__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(gridstack__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! xshell/utils.browser.js */ 2345);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model.js */ 1467);
/* harmony import */ var _DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DataSource/date-source.js */ 2573);
/* harmony import */ var _Variable_variable_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Variable/variable.js */ 9896);








/** 0 表示隐藏dashboard（未查询到结果、 server 版本为 v1 或 language 非中文），1 表示没有初始化，2 表示已经初始化，3 表示为控制节点 */
var InitedState;
(function (InitedState) {
    InitedState[InitedState["hidden"] = 0] = "hidden";
    InitedState[InitedState["uninited"] = 1] = "uninited";
    InitedState[InitedState["inited"] = 2] = "inited";
    InitedState[InitedState["control_node"] = 3] = "control_node";
    InitedState[InitedState["unlogined"] = 4] = "unlogined";
})(InitedState || (InitedState = {}));
class DashBoardModel extends react_object_model__WEBPACK_IMPORTED_MODULE_1__/* .Model */ .K {
    /** dashboard 初始化状态 */
    inited_state = InitedState.hidden;
    /** 所有 dashboard 的配置 */
    configs;
    /** 当前 dashboard 配置 */
    config;
    /** 所有用户 */
    users = [];
    /** GridStack.init 创建的 gridstack 实例 */
    grid;
    /** 画布中所有的图表控件 */
    widgets = [];
    /** 当前选中的图表控件，焦点在画布时可能为 null (是否合理？不合理可以再加一个 focused 属性) */
    widget;
    /** 全局变量 */
    variables = [];
    /** 数据源 */
    data_sources = [];
    /** 编辑、预览状态切换 */
    editing = (new URLSearchParams(location.search)).get('preview') !== '1';
    /** 切换状态 */
    loading = false;
    /** 保存提示 */
    save_confirm = false;
    // gridstack 仅支持 12 列以下的，大于 12 列需要手动添加 css 代码，详见 gridstack 的 readme.md
    // 目前本项目仅支持仅支持 <= 12
    maxcols = 12;
    maxrows = 12;
    show_config_modal = true;
    /** 是否开启自动保存 */
    auto_save = localStorage.getItem(_model_js__WEBPACK_IMPORTED_MODULE_5__/* .storage_keys */ .Xu.dashboard_autosave) === '1';
    monaco;
    sql_editor;
    filter_column_editor;
    filter_expression_editor;
    result;
    // console/model.js 对应黑色主题的版本
    message;
    modal;
    notification;
    /** 初始化 GridStack 并配置事件监听器 */
    async init($div) {
        let grid = gridstack__WEBPACK_IMPORTED_MODULE_3__.GridStack.init({
            //  gridstack 有 bug ，当 grid 没有 2*3 的连续空间时，再拖入一个会使所有 widget 无法 change，暂时通过计算面积阻止拖入，后续无限行数时不会再有此问题
            acceptWidgets: () => {
                const canvas = Array.from({ length: 12 }, () => Array(12).fill(0));
                this.widgets.forEach(widget => {
                    for (let i = widget.x; i < widget.x + widget.w; i++)
                        for (let j = widget.y; j < widget.y + widget.h; j++)
                            canvas[i][j] = 1;
                });
                // 使用动态规划记录每个位置上的连续空白格子数量
                const dp = Array.from({ length: 12 }, () => Array(12).fill(0));
                for (let i = 0; i < 12; i++)
                    for (let j = 0; j < 12; j++)
                        if (canvas[i][j] === 0)
                            dp[i][j] = (j > 0 ? dp[i][j - 1] : 0) + 1;
                // 检查是否有符合条件的3x2空白区域
                for (let i = 0; i < 11; i++)
                    for (let j = 0; j <= 11; j++)
                        if (dp[i][j] >= 3 && dp[i + 1][j] >= 3)
                            return true;
                console.log('格子不够');
                console.log('canvas', canvas);
                console.log('dp', dp);
                return false;
            },
            float: true,
            column: this.maxcols,
            row: this.maxrows,
            margin: 0,
            draggable: { scroll: false },
            resizable: { handles: 'n,e,se,s,w' },
        }, $div);
        grid.cellHeight(Math.floor(grid.el.clientHeight / this.maxrows));
        grid.enableMove(this.editing);
        grid.enableResize(this.editing);
        // 响应用户从外部添加新 widget 到 GridStack 的事件
        grid.on('dropped', async (event, old_node, node) => {
            // old_widget 为 undefined
            const widget = {
                ...node,
                // 默认大小：宽度 2 ， 高度 3
                w: 2,
                h: 3,
                ref: (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)(),
                id: String((0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .genid */ .GW)()),
                type: node.el.dataset.type,
            };
            this.add_widget(widget);
            grid.removeWidget(node.el);
        });
        // 响应 GridStack 中 widget 的位置或尺寸变化的事件
        grid.on('change', (event, widgets) => {
            if (widgets?.length)
                for (const widget of widgets)
                    Object.assign(this.widgets.find(({ id }) => id === widget.id), widget);
        });
        window.addEventListener('resize', this.on_resize);
        gridstack__WEBPACK_IMPORTED_MODULE_3__.GridStack.setupDragIn('.dashboard-graph-item', { helper: 'clone' });
        this.set({ grid, widget: null });
    }
    on_resize = () => {
        window.addEventListener('resize', () => {
            let { grid } = this;
            if (grid?.el)
                grid.cellHeight(Math.floor(grid.el.clientHeight / this.maxrows));
        });
    };
    show_error(options) {
        (0,_model_js__WEBPACK_IMPORTED_MODULE_5__/* .show_error */ .jf)(this.modal, options);
    }
    generate_new_config(id, name, data) {
        return {
            id,
            name,
            owner: _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.username,
            permission: DashboardPermission.own,
            data: data ?? {
                datasources: [],
                variables: [],
                canvas: {
                    widgets: [],
                }
            }
        };
    }
    dispose() {
        console.log('dashboard.dispose');
        window.removeEventListener('resize', this.on_resize);
        (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_6__/* .clear_data_sources */ .KZ)();
        // 当前选中图表时删除，再次进入会报错，因为没有清空 widget
        this.widget = null;
        this.grid.destroy();
        this.grid = null;
    }
    render_widgets() {
        let { grid, widgets } = this;
        if (!grid)
            return;
        grid.batchUpdate(true);
        grid.removeAll(false);
        for (let widget of widgets) {
            let $element = widget.ref.current;
            (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .assert */ .vA)($element);
            // 返回值为 GridItemHTMLElement 类型 (就是在 $element 这个 dom 节点上加了 gridstackNode: GridStackNode 属性)
            Object.assign(widget, grid.makeWidget($element).gridstackNode);
        }
        grid.batchUpdate(false);
    }
    add_widget(widget) {
        this.set({
            widget,
            widgets: [...this.widgets, widget]
        });
    }
    delete_widget(widget) {
        const widgets = this.widgets.filter(w => w !== widget);
        if (widget.source_id)
            (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_6__/* .unsubscribe_data_source */ .j3)(widget);
        this.set({
            widget: widgets[0],
            widgets
        });
    }
    update_widget(widget) {
        if (this.widgets.find(({ id }) => id === widget.id)) {
            Object.assign(this.widgets.find(({ id }) => id === widget.id), widget);
            this.set({ widget });
        }
    }
    set_editing(editing) {
        this.grid.enableMove(editing);
        this.grid.enableResize(editing);
        this.set({ editing });
    }
    async eval(code = this.sql_editor.getValue(), ddb = _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb, preview = false) {
        try {
            let ddbobj = await ddb.eval(code.replaceAll('\r\n', '\n'));
            if (_model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.verbose)
                console.log('=>', ddbobj.toString());
            if ((ddbobj.form === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.chart ||
                ddbobj.form === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.dict ||
                ddbobj.form === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.matrix ||
                ddbobj.form === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.set ||
                ddbobj.form === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.table ||
                ddbobj.form === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.vector) && preview)
                this.set({
                    result: {
                        type: 'object',
                        data: ddbobj
                    },
                });
            else if (preview)
                this.set({
                    result: null,
                });
            return ddbobj;
        }
        catch (error) {
            if (preview)
                this.set({
                    result: null,
                });
            throw error;
        }
    }
    async execute_code(code = this.sql_editor.getValue(), ddb = _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb, preview = false) {
        try {
            const result = await this.eval(code, ddb, preview);
            return {
                type: 'success',
                result
            };
        }
        catch (error) {
            return {
                type: 'error',
                result: error.message
            };
        }
    }
    /** 获取分享的用户列表 */
    // async get_user_list () {
    //     const users = ((await model.ddb.call<DdbObj>('dashboard_get_user_list')).value) as string[]
    //     this.set({ users: users })
    // }
    async add_dashboard_config(config, render = true) {
        this.set({ configs: [config, ...this.configs], config });
        const { id, name, permission, data } = config;
        const params = new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbDict */ .$5(({ id: new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbLong */ .zO(BigInt(id)), name, permission: new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbInt */ .yZ(permission), data: JSON.stringify(data) }));
        await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb.call('dashboard_add_config', [params]);
        if (render)
            await this.render_with_config(config);
    }
    async delete_dashboard_configs(dashboard_config_ids, render = true) {
        const delete_ids = new Set(dashboard_config_ids);
        const filtered_configs = this.configs.filter(({ id }) => !delete_ids.has(id));
        this.set({ configs: filtered_configs, config: filtered_configs[0] });
        await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb.call('dashboard_delete_configs', [new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbDict */ .$5({ ids: new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbVectorLong */ .me(dashboard_config_ids) })]);
        if (filtered_configs.length && render)
            await this.render_with_config(filtered_configs[0]);
    }
    async update_dashboard_config(config) {
        const index = this.configs.findIndex(({ id }) => id === config.id);
        this.set({ configs: this.configs.toSpliced(index, 1, config), config });
        const params = new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbDict */ .$5(({ id: new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbLong */ .zO(BigInt(config.id)), data: JSON.stringify(config.data) }));
        await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb.call('dashboard_edit_config', [params]);
    }
    async rename_dashboard(dashboard_id, new_name) {
        await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb.call('dashboard_rename_config', [new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbDict */ .$5({ id: new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbLong */ .zO(BigInt(dashboard_id)), name: new_name })]);
        const index = this.configs.findIndex(({ id }) => id === dashboard_id);
        const config = this.configs[index];
        config.name = new_name;
        this.set({ configs: this.configs.toSpliced(index, 1, config), config });
    }
    /** 根据 id 获取单个 DashboardConfig */
    async get_dashboard_config(id) {
        const data = (await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb.call('dashboard_get_config', [new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbDict */ .$5({ id: new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbLong */ .zO(BigInt(id)) })])).to_rows();
        const res = data.length
            ? {
                ...data[0],
                id: Number(data[0].id),
                data: JSON.parse(JSON.parse(typeof data[0].data === 'string' ? data[0].data : (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .decode */ .D4)(data[0].data)))
            }
            : null;
        // datasource 历史数据默认类型为表格
        return {
            ...res,
            data: {
                ...res.data,
                datasources: res?.data?.datasources.map(item => ({ type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.table, ...item }))
            }
        };
    }
    /** 从服务器获取 dashboard 配置 */
    async get_dashboard_configs() {
        const data = (await _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.ddb.call('dashboard_get_config_list', [])).to_rows();
        const configs = data.map(cfg => {
            // 有些只需要 parse 一次，有些需要 parse 两次
            let data = typeof cfg.data === 'string' ? JSON.parse(cfg.data) : new TextDecoder().decode(cfg.data);
            data = typeof data === 'string' ? JSON.parse(data) : data;
            return {
                ...cfg,
                id: Number(cfg.id),
                data: {
                    ...data,
                    // 历史数据的数据源类型统一修改为表格类型
                    datasources: data.datasources.map(item => ({ type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .DdbForm */ .Dm.table, ...item }))
                }
            };
        });
        this.set({ configs });
    }
    async render_with_config(config) {
        this.set({ loading: true });
        this.set({ config,
            variables: await (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_7__/* .import_variables */ ._r)(config.data.variables),
            data_sources: await (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_6__/* .import_data_sources */ .cJ)(config.data.datasources),
            widgets: config.data.canvas.widgets.map(widget => ({
                ...widget,
                source_id: typeof widget.source_id === 'string' ? Array.of(widget.source_id) : widget.source_id,
                ref: (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)()
            })),
            widget: null, });
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.set_query('dashboard', String(config.id));
        this.set({ loading: false });
    }
    return_to_overview() {
        (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_6__/* .clear_data_sources */ .KZ)();
        dashboard.set({ config: null, save_confirm: false });
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.set_query('dashboard', null);
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.set_query('preview', null);
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.set({ sider: true, header: true });
    }
    on_preview() {
        dashboard.set_editing(false);
        _model_js__WEBPACK_IMPORTED_MODULE_5__/* .model */ .ge.set_query('preview', '1');
    }
}
let dashboard = window.dashboard = new DashBoardModel();
var WidgetType;
(function (WidgetType) {
    WidgetType["BAR"] = "\u67F1\u72B6\u56FE";
    WidgetType["LINE"] = "\u6298\u7EBF\u56FE";
    WidgetType["PIE"] = "\u997C\u56FE";
    WidgetType["TABLE"] = "\u8868\u683C";
    WidgetType["OHLC"] = "K \u7EBF";
    WidgetType["MIX"] = "\u6DF7\u5408\u56FE";
    WidgetType["ORDER"] = "\u8BA2\u5355\u56FE";
    WidgetType["TEXT"] = "\u5BCC\u6587\u672C";
    WidgetType["DESCRIPTIONS"] = "\u63CF\u8FF0\u8868";
    WidgetType["EDITOR"] = "\u7F16\u8F91\u5668";
    WidgetType["GAUGE"] = "\u4EEA\u8868\u76D8";
    WidgetType["RADAR"] = "\u96F7\u8FBE\u56FE";
    WidgetType["VARIABLE"] = "\u53D8\u91CF";
    WidgetType["SCATTER"] = "\u6563\u70B9\u56FE";
    WidgetType["COMPOSITE_GRAPH"] = "\u591A\u6E90\u56FE";
    WidgetType["HEATMAP"] = "\u70ED\u529B\u56FE";
})(WidgetType || (WidgetType = {}));
var WidgetChartType;
(function (WidgetChartType) {
    WidgetChartType["BAR"] = "BAR";
    WidgetChartType["LINE"] = "LINE";
    WidgetChartType["MIX"] = "MIX";
    WidgetChartType["PIE"] = "PIE";
    WidgetChartType["TABLE"] = "TABLE";
    WidgetChartType["OHLC"] = "OHLC";
    WidgetChartType["ORDER"] = "ORDER";
    WidgetChartType["TEXT"] = "TEXT";
    WidgetChartType["DESCRIPTIONS"] = "DESCRIPTIONS";
    WidgetChartType["EDITOR"] = "EDITOR";
    WidgetChartType["GAUGE"] = "GAUGE";
    WidgetChartType["RADAR"] = "RADAR";
    WidgetChartType["VARIABLE"] = "VARIABLE";
    WidgetChartType["SCATTER"] = "SCATTER";
    WidgetChartType["HEATMAP"] = "HEATMAP";
    WidgetChartType["COMPOSITE_GRAPH"] = "COMPOSITE_GRAPH";
})(WidgetChartType || (WidgetChartType = {}));
var DashboardPermission;
(function (DashboardPermission) {
    DashboardPermission[DashboardPermission["own"] = 0] = "own";
    DashboardPermission[DashboardPermission["edit"] = 1] = "edit";
    DashboardPermission[DashboardPermission["view"] = 2] = "view";
})(DashboardPermission || (DashboardPermission = {}));
const WidgetTypeWithoutDatasource = ['TEXT', 'EDITOR', WidgetChartType.VARIABLE];


/***/ }),

/***/ 4829:
/*!***********************************!*\
  !*** ./console/dashboard/type.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ DashboardMode),
/* harmony export */   s: () => (/* binding */ VariableMode)
/* harmony export */ });
var VariableMode;
(function (VariableMode) {
    VariableMode["SELECT"] = "select";
    VariableMode["MULTI_SELECT"] = "multi_select";
    VariableMode["TEXT"] = "text";
    VariableMode["DATE"] = "date";
})(VariableMode || (VariableMode = {}));
var DashboardMode;
(function (DashboardMode) {
    DashboardMode[DashboardMode["editing"] = 0] = "editing";
    DashboardMode[DashboardMode["preview"] = 1] = "preview";
})(DashboardMode || (DashboardMode = {}));


/***/ }),

/***/ 7608:
/*!************************************!*\
  !*** ./console/dashboard/utils.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GR: () => (/* binding */ get_chart_data_type),
/* harmony export */   HW: () => (/* binding */ check_name),
/* harmony export */   He: () => (/* binding */ get_cols),
/* harmony export */   Kz: () => (/* binding */ convert_list_to_options),
/* harmony export */   LW: () => (/* binding */ get_streaming_col_type_map),
/* harmony export */   M6: () => (/* binding */ format_time),
/* harmony export */   PB: () => (/* binding */ copy_widget),
/* harmony export */   Pr: () => (/* binding */ paste_widget),
/* harmony export */   Sr: () => (/* binding */ sql_formatter),
/* harmony export */   T4: () => (/* binding */ get_axis_range),
/* harmony export */   WZ: () => (/* binding */ format_number),
/* harmony export */   aS: () => (/* binding */ stream_formatter),
/* harmony export */   bu: () => (/* binding */ safe_json_parse),
/* harmony export */   eI: () => (/* binding */ parse_code),
/* harmony export */   pG: () => (/* binding */ concat_name_path),
/* harmony export */   sD: () => (/* binding */ to_chart_data),
/* harmony export */   u3: () => (/* binding */ convert_chart_config),
/* harmony export */   we: () => (/* binding */ parse_text),
/* harmony export */   zG: () => (/* binding */ get_sql_col_type_map)
/* harmony export */ });
/* unused harmony export load_styles */
/* harmony import */ var dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dolphindb */ 1980);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ 2238);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 5156);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! xshell/utils.browser.js */ 2345);
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! copy-to-clipboard */ 3042);
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs */ 4606);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _i18n_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../i18n/index.js */ 6361);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model.js */ 3016);
/* harmony import */ var _DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DataSource/date-source.js */ 2573);
/* harmony import */ var _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ChartFormFields/type.js */ 9153);
/* harmony import */ var _Variable_variable_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Variable/variable.js */ 9896);












function format_time(time, format) {
    if (!format)
        return time;
    try {
        return isNaN(dayjs__WEBPACK_IMPORTED_MODULE_5___default()(time).day()) ? dayjs__WEBPACK_IMPORTED_MODULE_5___default()(time, format).format(format) : dayjs__WEBPACK_IMPORTED_MODULE_5___default()(time).format(format);
    }
    catch (e) {
        return time;
    }
}
function format_decimal(type, values, index, options) {
    const { scale, data } = values;
    const x = data[index];
    if ((0,dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .is_decimal_null_value */ .LP)(type, x))
        return options.nullstr ? 'null' : '';
    const s = String(x < 0 ? -x : x).padStart(scale, '0');
    const str = (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
    return str;
}
function format_unit8(type, values, le, index, length, options) {
    return (0,dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .format */ .GP)(type, values.subarray(length * index, length * (index + 1)), le, options);
}
function formatter(type, values, le, index, options = { nullstr: false, grouping: false }) {
    const value = values[index];
    switch (type) {
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal32:
            return format_decimal(type, values, index, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal64:
            return format_decimal(type, values, index, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal128:
            return format_decimal(type, values, index, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.ipaddr:
            return format_unit8(type, values, le, index, 16, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.point:
            return format_unit8(type, values, le, index, 2, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.int128:
            return format_unit8(type, values, le, index, 16, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.uuid:
            return format_unit8(type, values, le, index, 16, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.complex:
            return format_unit8(type, values, le, index, 2, options);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.symbol_extended: {
            const { base, data } = values;
            return base[data[index]];
        }
        default:
            return (0,dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .format */ .GP)(type, value, le, options);
    }
}
function sql_formatter(obj, max_line) {
    switch (obj.form) {
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbForm */ .Dm.matrix:
            // 行数、列数
            const { cols: col_num, rows: row_num, value } = obj;
            // 行标签、列标签与数据
            const { cols: col_label, rows: row_babel, data } = value;
            let matrix_data = [];
            for (let i = 0; i < row_num; i++) {
                let row_data = [];
                for (let j = 0; j < col_num; j++)
                    row_data.push(data[i + row_num * j]);
                matrix_data.push(row_data);
            }
            function convert_labels(num, obj) {
                if (!obj)
                    return null;
                let labels = [];
                for (let i = 0; i < num; i++)
                    labels.push((0,dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .formati */ .F2)(obj, i));
                return labels;
            }
            return {
                data: matrix_data,
                col_labels: convert_labels(col_num, col_label) ?? Array.from(new Array(col_num).keys()),
                row_labels: convert_labels(row_num, row_babel) ?? Array.from(new Array(row_num).keys())
            };
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbForm */ .Dm.table:
            const array_vectors = {};
            let rows = new Array();
            let le = obj.le;
            for (let i = (max_line && obj.rows > max_line) ? obj.rows - max_line : 0; i < obj.rows; i++) {
                let row = {};
                for (let j = 0; j < obj.cols; j++) {
                    const { type, name, value: values } = obj.value[j]; // column
                    if (type >= 64 && type < 128)
                        array_vectors[name] = obj.value[j];
                    else
                        row[name] = formatter(type, values, le, i);
                }
                rows.push(row);
            }
            for (let key in array_vectors) {
                const array_vector = array_vectors[key];
                const type = array_vector.type - 64;
                const value = array_vector.value;
                let offset = 0;
                value[0].lengths.forEach((length, index) => {
                    let array = [];
                    for (let i = offset; i < offset + length; i++)
                        if (type === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal32 || type === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal64 || type === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal128) {
                            value[0].scale = value.scale;
                            array.push(formatter(type, value[0], le, i, { nullstr: true, grouping: false }));
                        }
                        else
                            array.push(formatter(type, value[0].data, le, i, { nullstr: true, grouping: false }));
                    offset += length;
                    rows[index][key] = '[' + array.map(item => item).join(',') + ']';
                });
            }
            return rows;
        default:
            throw new Error('返回结果必须是 table 或 matrix');
    }
}
function stream_formatter(obj, max_line, cols) {
    let rows = new Array();
    let array_vectors = {};
    for (let i = (max_line && obj.value[0].rows > max_line) ? obj.value[0].rows - max_line : 0; i < obj.value[0].rows; i++) {
        let row = {};
        for (let j in cols) {
            const { type, le } = obj.value[j];
            if (type >= 64 && type < 128)
                array_vectors[cols[j]] = obj.value[j];
            else
                row[cols[j]] = formatter(type, obj.value[j].value, le, i);
        }
        rows.push(row);
    }
    for (let key in array_vectors) {
        const array_vector = array_vectors[key];
        const type = array_vector.type - 64;
        const value = array_vector.value;
        const le = value.le;
        let offset = 0;
        value[0].lengths.forEach((length, index) => {
            let array = [];
            for (let i = offset; i < offset + length; i++)
                if (type === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal32 || type === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal64 || type === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.decimal128) {
                    value[0].scale = value.scale;
                    array.push(formatter(type, value[0], le, i, { nullstr: true, grouping: false }));
                }
                else
                    array.push(formatter(type, value[0].data, le, i, { nullstr: true, grouping: false }));
            offset += length;
            rows[index][key] = '[' + array.map(item => item).join(',') + ']';
        });
    }
    return rows;
}
function get_cols(obj) {
    if (obj.form !== dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbForm */ .Dm.table)
        return [];
    const cols = [];
    for (let i = 0; i < obj.cols; i++)
        cols.push(obj.value[i].name);
    return cols;
}
function parse_text(code) {
    code = code.replace(/\{\{(.*?)\}\}/g, function (match, variable) {
        const variable_ = (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_10__/* .find_variable_by_name */ .hI)(variable.trim());
        return variable_?.value || `{{${variable.trim()}}}`;
    });
    return code;
}
function parse_code(code, data_source) {
    try {
        code = code.replace(/\{\{(.*?)\}\}/g, function (match, variable) {
            if (data_source)
                (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_10__/* .subscribe_variable */ .iY)(data_source, variable);
            return (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_10__/* .get_variable_value */ .Oj)(variable.trim());
        });
        return code;
    }
    catch (error) {
        throw error;
    }
}
function concat_name_path(...paths) {
    return paths.reduce((prev, p) => {
        if ((0,lodash__WEBPACK_IMPORTED_MODULE_1__.isNil)(p))
            return prev;
        else if (Array.isArray(p))
            return prev.concat(p);
        else
            return prev.concat([p]);
    }, []);
}
/** type 表示轴类型，传入 0 的时候代表 X 轴，其余时候为 Y 轴 */
function get_axis_range(type, echart_instance, idx) {
    return echart_instance.getModel().getComponent(type === 0 ? 'xAxis' : 'yAxis', idx).axis.scale._extent;
}
function get_data_source_cols(data_source_id, col) {
    return (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_8__/* .get_data_source */ .Qb)(data_source_id).data.map(item => item[col]);
}
function convert_chart_config(widget, data_source, axis_range_map) {
    const { config } = widget;
    const { title, title_size, splitLine, xAxis, series, yAxis, x_datazoom, y_datazoom, legend, animation, tooltip, thresholds = [] } = config;
    function convert_data_zoom(x_datazoom, y_datazoom) {
        const total_data_zoom = [
            {
                id: 'dataZoomX',
                type: 'slider',
                show: true,
                xAxisIndex: [0],
                filterMode: 'filter',
                height: 24,
            },
            {
                id: 'dataZoomY',
                show: true,
                type: 'slider',
                yAxisIndex: [0],
                filterMode: 'empty',
            }
        ];
        let data_zoom = [];
        if (x_datazoom)
            data_zoom.push(total_data_zoom[0]);
        if (y_datazoom)
            data_zoom.push(total_data_zoom[1]);
        return data_zoom;
    }
    function convert_axis(axis, index) {
        let data = undefined;
        // 类目轴下需要定义类目数据, 其他轴线类型下 data 不生效
        if (axis.type === _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .AxisType */ .Gw.CATEGORY)
            data = axis.col_name ? data_source.map(item => format_time(item?.[axis.col_name], axis.time_format)) : [];
        const axis_config = {
            show: true,
            name: axis.name,
            type: axis.type,
            interval: axis.interval,
            splitLine: {
                show: true,
                lineStyle: {
                    type: 'dashed',
                    color: '#6E6F7A'
                },
                ...splitLine,
            },
            axisLabel: {
                formatter: axis.type === _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .AxisType */ .Gw.CATEGORY && (value => {
                    if (axis.time_format)
                        return format_time(value, axis.time_format);
                    else
                        return value;
                })
            },
            logBase: axis.log_base || 10,
            position: axis.position,
            offset: axis.offset,
            alignTicks: true,
            id: index,
            scale: !axis.with_zero ?? false,
            nameTextStyle: {
                fontSize: axis.fontsize ?? 12
            },
            min: [_ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .AxisType */ .Gw.TIME, _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .AxisType */ .Gw.VALUE].includes(axis.type) ? axis.min : undefined,
            max: [_ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .AxisType */ .Gw.TIME, _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .AxisType */ .Gw.VALUE].includes(axis.type) ? axis.max : undefined
        };
        return axis_config;
    }
    function convert_series(series) {
        let mark_line_data = series?.mark_line?.map(item => {
            if (item in _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .MarkPresetType */ .LW)
                return {
                    type: item,
                    name: item
                };
            else
                return { yAxis: item };
        }) || [];
        let data = [];
        // 多数据源的情况下，series 中会有 data_source_id 和 x_col_name，代表数据源 id 和 x 轴名称
        const { col_name, x_col_name, data_source_id, yAxisIndex } = series;
        if (data_source_id) {
            // 多数据源的情况
            const x_data = get_data_source_cols(data_source_id, x_col_name).map(x => format_time(x, xAxis.time_format));
            const y_data = get_data_source_cols(data_source_id, col_name).map(y => format_time(y, yAxis[yAxisIndex]?.time_format));
            data = x_data.map((x, idx) => ([x, y_data[idx]]));
        }
        else
            data = data_source.map(item => [format_time(item?.[xAxis.col_name], xAxis.time_format), item?.[series.col_name]]);
        // {b} 代表 xAxis 中的 data，x 轴的数据现在都在 series 中，需要替换
        let end_label_formatter = series?.end_label_formatter;
        if (end_label_formatter)
            end_label_formatter = end_label_formatter.replaceAll('{b}', '{@[0]}').replaceAll('{c}', '{@[1]}');
        return {
            type: series.type?.toLowerCase(),
            name: series.name,
            symbol: series.type === _model_js__WEBPACK_IMPORTED_MODULE_7__/* .WidgetChartType */ .Rf.SCATTER ? series?.symbol ?? 'circle' : 'none',
            symbolSize: series.symbol_size ?? 10,
            stack: series.stack,
            endLabel: {
                show: series.end_label,
                formatter: end_label_formatter,
                color: '#fff',
                backgroundColor: 'inherit',
                padding: 4,
            },
            // endLabel 标签不重叠
            labelLayout: {
                moveOverlap: 'shiftY',
            },
            // 防止删除yAxis导致渲染失败
            yAxisIndex: yAxis[series.yAxisIndex] ? series.yAxisIndex : 0,
            data,
            markPoint: {
                data: series?.mark_point?.map(item => ({
                    type: item,
                    name: item
                }))
            },
            itemStyle: {
                color: series.color,
            },
            markLine: {
                symbol: ['none', 'none'],
                data: mark_line_data
            },
            lineStyle: {
                type: series.line_type,
                color: series.color,
                width: series.line_width
            },
            areaStyle: series.is_filled ? {
                opacity: series.opacity
            } : null
        };
    }
    let echarts_series = series.filter(Boolean).map(convert_series);
    const valid_thresholds = thresholds.filter(item => item && item.show_type !== _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .ThresholdShowType */ .Hp.NONE);
    // 根据阈值，为 series 添加 markArea 或者 markLine
    for (let threshold of valid_thresholds)
        // x 轴设置区域
        if (threshold.axis_type === 0) {
            // x 轴只有 1 个，所以直接更改第一个 series 的 markArea 或者 markLine 即可
            const idx = 0;
            let valid_values = threshold.values.filter(item => item?.value && isFinite(item?.value));
            if (threshold.type === _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .ThresholdType */ .UR.PERCENTAGE && axis_range_map) {
                // 百分比分界需要计算 values 中实际的 value 值
                const { min = 0, max = 0 } = axis_range_map[`x_${threshold.axis}`] ?? {};
                valid_values = valid_values.map(item => ({ ...item, value: (max - min) * item.value / 100 + min }));
            }
            let mark_area_data = [];
            let mark_line_data = [];
            const sorted_values = valid_values.filter(Boolean).sort((a, b) => a.value - b.value);
            for (let i = 0; i < sorted_values.length; i++)
                // 区域颜色分界
                if (threshold.show_type === _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .ThresholdShowType */ .Hp.FILLED_REGION)
                    mark_area_data.push([
                        {
                            xAxis: sorted_values[i].value,
                            itemStyle: { color: sorted_values[i].color }
                        },
                        { xAxis: sorted_values[i + 1]?.value }
                    ]);
                else
                    // 值颜色分界
                    mark_line_data.push({
                        xAxis: sorted_values[i].value,
                        lineStyle: {
                            color: sorted_values[i].color,
                            type: threshold.line_type ?? _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .ILineType */ .ad.SOLID,
                            width: threshold.line_width
                        }
                    });
            echarts_series[idx] = {
                ...echarts_series[idx],
                markArea: { data: mark_area_data },
                markLine: {
                    symbol: ['none', 'none'],
                    data: mark_line_data
                },
            };
        }
        else {
            // 需要根据关联的 Y 轴找到第一个数据列，然后为此数据列设置 markArea 或者 markLine
            const idx = series.findIndex(item => item.yAxisIndex === threshold.axis);
            let valid_values = threshold.values.filter(item => isFinite(item?.value));
            if (threshold.type === _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .ThresholdType */ .UR.PERCENTAGE && axis_range_map) {
                // 获取 Y 轴最大值，将阈值转化为绝对值
                const { min = 0, max = 0 } = axis_range_map[`y_${threshold.axis}`] ?? {};
                valid_values = valid_values.map(item => ({ ...item, value: (max - min) * item.value / 100 + min }));
            }
            let mark_area_data = [];
            let mark_line_data = [];
            const sorted_values = valid_values.sort((a, b) => a.value - b.value);
            for (let i = 0; i < sorted_values.length; i++)
                // 区域颜色分界
                if (threshold.show_type === _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .ThresholdShowType */ .Hp.FILLED_REGION)
                    mark_area_data.push([
                        {
                            yAxis: sorted_values[i].value,
                            itemStyle: { color: sorted_values[i].color }
                        },
                        { yAxis: sorted_values[i + 1]?.value }
                    ]);
                else
                    // 值颜色分界
                    mark_line_data.push({
                        yAxis: sorted_values[i].value,
                        lineStyle: {
                            color: sorted_values[i].color,
                            type: threshold.line_type ?? _ChartFormFields_type_js__WEBPACK_IMPORTED_MODULE_9__/* .ILineType */ .ad.SOLID,
                            width: threshold.line_width
                        }
                    });
            echarts_series[idx] = {
                ...echarts_series[idx],
                markArea: { data: mark_area_data },
                markLine: {
                    symbol: ['none', 'none'],
                    data: mark_line_data
                },
            };
        }
    return {
        animation,
        grid: {
            containLabel: true,
            left: 10,
            bottom: x_datazoom ? 50 : 10
        },
        legend: (0,lodash__WEBPACK_IMPORTED_MODULE_1__.pickBy)({
            show: true,
            textStyle: {
                color: '#e6e6e6',
                ...legend?.textStyle,
            },
            ...legend,
        }, v => !(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isNil)(v) && v !== ''),
        tooltip: {
            show: true,
            ...tooltip,
            // 与图形类型相关，一期先写死
            trigger: 'axis',
            backgroundColor: '#060606',
            borderColor: '#060606',
            textStyle: {
                color: '#F5F5F5'
            },
            confine: true,
            formatter: params => {
                if (!Array.isArray(params))
                    params = [params];
                const x = params[0].value?.[0] ?? params[0]?.data?.[0];
                let html = `<div style="font-weight: 500;">${x}</div>`;
                for (let series of params) {
                    const value = series.value?.[1] ?? series.data?.[1];
                    const text = `<div style="display: flex; justify-content: space-between;">
                        <span style="display: inline-block; margin-right: 12px;">
                            ${series?.marker}
                            <span>${series?.seriesName}</span>
                        </span>
                        <span style="font-weight: 500">
                            ${value}
                        </span>
                    </div>
                    `;
                    html += text;
                }
                return html;
            }
        },
        title: {
            text: parse_text(title ?? ''),
            textStyle: {
                color: '#e6e6e6',
                fontSize: title_size || 18,
            }
        },
        xAxis: convert_axis(xAxis),
        yAxis: Array.isArray(yAxis) ? yAxis.filter(item => !!item).map(convert_axis) : convert_axis(yAxis),
        series: echarts_series,
        dataZoom: convert_data_zoom(x_datazoom, y_datazoom)
    };
}
function convert_list_to_options(list) {
    return list.map(item => ({
        label: item,
        value: item,
        key: item,
    }));
}
function to_chart_data(data, datatype) {
    switch (datatype) {
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.int:
            return data === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .nulls */ .vF.int32 ? null : Number(data);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.short:
            return data === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .nulls */ .vF.int16 ? null : Number(data);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.float:
            return data === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .nulls */ .vF.float32 ? null : Number(data);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.double:
            return data === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .nulls */ .vF.double ? null : Number(data);
        case dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbType */ .Z2.long:
            return data === dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .nulls */ .vF.int64 ? null : Number(data);
        default:
            return Number(data);
    }
}
function safe_json_parse(val) {
    try {
        return JSON.parse(val);
    }
    catch (e) {
        return val;
    }
}
function format_number(val, decimal_places, is_thousandth_place) {
    let value = val;
    try {
        if (isFinite(Number(val)) && isFinite(decimal_places)) {
            // 0 不需要格式化
            if (Number(val) === 0)
                return 0;
            value = Number(val).toFixed(decimal_places);
        }
        else if (typeof val === 'string') {
            const arr = safe_json_parse(val);
            if (Array.isArray(arr))
                value = JSON.stringify(arr.map(item => format_number(item, decimal_places, is_thousandth_place))).replace(/\"/g, '');
        }
        if (is_thousandth_place)
            if (value.toString().includes('.'))
                value = value.toString().replace(/\B(?=(\d{3})+(?=\.))/g, ',');
            else
                value = value.toString().replace(/\B(?=(\d{3})+$)/g, ',');
    }
    catch { }
    return value;
}
async function load_styles(url) {
    for (const link of Array.from(document.querySelectorAll('link[rel="stylesheet"]')))
        if (link.getAttribute('href') === url)
            return;
    return new Promise((resolve, reject) => {
        let link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = url;
        link.onload = resolve;
        link.onerror = reject;
        document.head.appendChild(link);
    });
}
function copy_widget(widget) {
    if (!widget)
        return;
    // 不直接 JSON.stringify(widget) 是因为会报错循环引用
    const copy_text = JSON.stringify({
        widget: {
            config: widget.config,
            type: widget.type,
            source_id: widget.source_id,
            x: widget.x,
            y: widget.y,
            w: widget.w,
            h: widget.h
        },
        ...(0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_10__/* .get_variable_copy_infos */ .q3)(widget.config?.variable_ids || [])
    });
    try {
        copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4___default()(copy_text);
        _model_js__WEBPACK_IMPORTED_MODULE_7__/* .dashboard */ .ze.message.success((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('复制成功'));
    }
    catch (e) {
        _model_js__WEBPACK_IMPORTED_MODULE_7__/* .dashboard */ .ze.message.error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('复制失败'));
    }
}
async function paste_widget(event) {
    try {
        const paste_widget = safe_json_parse((event.clipboardData).getData('text')).widget;
        if (!paste_widget)
            return;
        await (0,_Variable_variable_js__WEBPACK_IMPORTED_MODULE_10__/* .paste_variables */ .Mq)(event, true);
        const paste_widget_el = {
            ...paste_widget,
            ref: (0,react__WEBPACK_IMPORTED_MODULE_2__.createRef)(),
            id: String((0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_3__/* .genid */ .GW)()),
        };
        _model_js__WEBPACK_IMPORTED_MODULE_7__/* .dashboard */ .ze.add_widget(paste_widget_el);
        await (0,_DataSource_date_source_js__WEBPACK_IMPORTED_MODULE_8__/* .subscribe_data_source */ .qI)(paste_widget_el, paste_widget_el.source_id);
    }
    catch (error) {
        _model_js__WEBPACK_IMPORTED_MODULE_7__/* .dashboard */ .ze.message.error(error.message);
    }
}
function check_name(new_name) {
    if (!new_name.trim())
        return (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('dashboard 名称不允许为空');
    else if (new_name.includes('/') || new_name.includes('\\'))
        return (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('dashboard 名称中不允许包含 "/" 或 "\\" ');
    else if (_model_js__WEBPACK_IMPORTED_MODULE_7__/* .dashboard */ .ze.configs.find(({ name, permission }) => name === new_name && permission === _model_js__WEBPACK_IMPORTED_MODULE_7__/* .DashboardPermission */ .g1.own))
        return (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_6__.t)('名称重复，请重新输入');
}
function get_sql_col_type_map(obj) {
    const col_type_map = {};
    for (let col_obj of obj.value)
        col_type_map[col_obj.name] = col_obj.type;
    return col_type_map;
}
async function get_streaming_col_type_map(table_name) {
    const col_types_map = {};
    const schema_table = (await _model_js__WEBPACK_IMPORTED_MODULE_7__/* .dashboard */ .ze.eval(`schema(${table_name})['colDefs']`)).value;
    const cols = schema_table.find(item => item.name === 'name').value;
    const ddb_types = schema_table.find(item => item.name === 'typeInt').value;
    for (let i = 0; i < cols.length; i++)
        col_types_map[cols[i]] = ddb_types[i];
    return col_types_map;
}
function get_chart_data_type(chart_type) {
    switch (chart_type) {
        case _model_js__WEBPACK_IMPORTED_MODULE_7__/* .WidgetChartType */ .Rf.HEATMAP:
            return dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbForm */ .Dm.matrix;
        default:
            return dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_0__/* .DdbForm */ .Dm.table;
    }
}


/***/ }),

/***/ 1467:
/*!**************************!*\
  !*** ./console/model.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H5: () => (/* binding */ LicenseTypes),
/* harmony export */   Xu: () => (/* binding */ storage_keys),
/* harmony export */   Z6: () => (/* binding */ NodeType),
/* harmony export */   ge: () => (/* binding */ model),
/* harmony export */   jf: () => (/* binding */ show_error),
/* harmony export */   kG: () => (/* binding */ DdbNodeState)
/* harmony export */ });
/* unused harmony export DdbModel */
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ 4606);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_object_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-object-model */ 5727);
/* harmony import */ var xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xshell/utils.browser.js */ 2345);
/* harmony import */ var xshell_net_browser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! xshell/net.browser.js */ 667);
/* harmony import */ var dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dolphindb/browser.js */ 1980);
/* harmony import */ var _i18n_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../i18n/index.js */ 6361);






const storage_keys = {
    ticket: 'ddb.ticket',
    username: 'ddb.username',
    session_id: 'ddb.session_id',
    collapsed: 'ddb.collapsed',
    code: 'ddb.code',
    session: 'ddb.session',
    minimap: 'ddb.editor.minimap',
    enter_completion: 'ddb.editor.enter_completion',
    sql: 'ddb.sql',
    dashboard_autosave: 'ddb.dashboard.autosave',
};
const json_error_pattern = /^{.*"code": "(.*?)".*}$/;
const username_guest = 'guest';
class DdbModel extends react_object_model__WEBPACK_IMPORTED_MODULE_1__/* .Model */ .K {
    inited = false;
    /** 在本地开发模式 */
    dev = false;
    /** 通过 ticket 或用户名密码自动登录，默认为 true 传 autologin=0 关闭 */
    autologin = true;
    /** 通过 test.dolphindb.cn 访问的 web */
    test = false;
    /** 启用详细日志，包括执行的代码和运行代码返回的变量 */
    verbose = false;
    /** 是否启用了因子平台功能 */
    is_factor_platform_enabled = false;
    ddb;
    collapsed = localStorage.getItem(storage_keys.collapsed) === 'true';
    sql = dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .SqlStandard */ .IK[localStorage.getItem(storage_keys.sql)] || dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .SqlStandard */ .IK.DolphinDB;
    view = '';
    /** 重定向 view */
    redirection;
    logined = false;
    username = username_guest;
    admin = false;
    node_type;
    node_alias;
    login_required = false;
    /** 通过 getControllerAlias 得到 */
    controller_alias;
    // --- 通过 getClusterPerf 拿到的集群节点信息
    nodes;
    node;
    /** 控制节点 */
    controller;
    /** 通过 getClusterPerf 取集群中的某个数据节点，方便后续 rpc 到数据节点执行操作 */
    datanode;
    // --- 
    version;
    v1;
    v2;
    v3;
    license;
    license_server;
    first_get_server_log_length = true;
    first_get_server_log = true;
    options;
    /** 是否显示顶部导航栏，传 header=0 时隐藏，便于嵌入 web 页面 */
    header;
    /** 是否显示侧边栏, 传 sider=0 时隐藏 */
    sider;
    /** 是否在代码为空时设置代码模板 */
    code_template;
    message;
    modal;
    notification;
    /** 记录启用了哪些可选功能 */
    enabled_modules = new Set();
    /** 记录所有可选功能 */
    optional_modules = new Set(['test', 'finance-tools', 'iot-tools']);
    constructor() {
        super();
        const params = new URLSearchParams(location.search);
        this.dev = params.get('dev') !== '0' && location.pathname.endsWith('/console/') || params.get('dev') === '1';
        this.autologin = params.get('autologin') !== '0';
        this.test = location.hostname === 'test.dolphindb.cn' || params.get('test') === '1';
        this.verbose = params.get('verbose') === '1';
        // test 或开发模式下，浏览器误跳转到 https 链接，自动跳转回 http
        if (location.protocol === 'https:' && (this.dev || this.test) && params.get('https') !== '1') {
            alert('请将地址栏中的链接改为 http:// 开头');
            return;
        }
        const port = params.get('port') || location.port;
        this.ddb = new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DDB */ .ZY((this.dev ? (params.get('tls') === '1' ? 'wss' : 'ws') : (location.protocol === 'https:' ? 'wss' : 'ws')) +
            '://' +
            (params.get('hostname') || location.hostname) +
            // 一般 location.port 可能是空字符串
            (port ? `:${port}` : '') +
            // 检测 ddb 是否通过 nginx 代理，部署在子路径下
            (location.pathname === '/dolphindb/' ? '/dolphindb/' : ''), {
            autologin: false,
            verbose: this.verbose,
            sql: this.sql
        });
        const view = params.get('view');
        const dashboard = params.get('dashboard');
        this.header = params.get('header') !== '0' && (view !== 'dashboard' || !dashboard);
        this.sider = params.get('sider') !== '0' && (view !== 'dashboard' || !dashboard);
        this.code_template = params.get('code-template') === '1';
        this.redirection = params.get('redirection');
    }
    async init() {
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('web 开始初始化，当前处于{{mode}}模式，版本为 {{version}}', {
            mode: this.dev ? (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('开发') : (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('生产'),
            version: 'v3.00.0.2 (2024.05.24 11:13:31 bd24fa)'
        }));
        await Promise.all([
            this.get_node_type(),
            this.get_node_alias(),
            this.get_controller_alias(),
            this.get_login_required()
        ]);
        if (this.autologin)
            try {
                await this.login_by_ticket();
            }
            catch {
                console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('ticket 登录失败'));
                if (this.dev || this.test)
                    try {
                        await this.login_by_password('admin', '123456');
                    }
                    catch {
                        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('使用默认 admin 账号密码登录失败'));
                    }
            }
        await this.get_cluster_perf(true);
        await this.check_leader_and_redirect();
        await Promise.all([
            this.get_factor_platform_enabled(),
            // config.load_nodes_config()
        ]);
        // const webModules = config.nodes_configs.get('webModules')
        // this.set({
        //     enabled_modules: (webModules?.value) ? new Set(webModules.value.split(',')) : new Set()
        // })
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('web 初始化成功'));
        this.get_license_info();
        this.goto_default_view();
        if (this.login_required && !this.logined)
            this.goto_login();
        this.set({ inited: true });
        this.get_version();
    }
    /** 设置 url 上的 query 参数
        - key: 参数名
        - value: 参数值，为 null 或 undefined 时删除该参数 */
    set_query(key, value) {
        let url = new URL(location.href);
        if (value === null || value === undefined)
            url.searchParams.delete(key);
        else
            url.searchParams.set(key, value);
        history.replaceState(null, '', url);
    }
    show_error(options) {
        show_error(this.modal, options);
    }
    async login_by_password(username, password) {
        this.ddb.username = username;
        this.ddb.password = password;
        await this.ddb.call('login', [username, password], { urgent: true });
        const ticket = (await this.ddb.call('getAuthenticatedUserTicket', [], {
            urgent: true,
            ...this.node_type === NodeType.controller || this.node_type === NodeType.single ? {} : { node: this.controller_alias, func_type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbFunctionType */ .T5.SystemFunc }
        })).value;
        localStorage.setItem(storage_keys.username, username);
        localStorage.setItem(storage_keys.ticket, ticket);
        this.set({ logined: true, username });
        await this.is_admin();
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('{{username}} 使用账号密码登陆成功', { username: this.username }));
    }
    async login_by_ticket() {
        const ticket = localStorage.getItem(storage_keys.ticket);
        if (!ticket)
            throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('没有自动登录的 ticket'));
        const last_username = localStorage.getItem(storage_keys.username);
        if (!last_username)
            throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('没有自动登录的 username'));
        try {
            await this.ddb.call('authenticateByTicket', [ticket], { urgent: true });
            this.set({ logined: true, username: last_username });
            await this.is_admin();
            console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('{{username}} 使用 ticket 登陆成功', { username: last_username }));
        }
        catch (error) {
            localStorage.removeItem(storage_keys.ticket);
            localStorage.removeItem(storage_keys.username);
            throw error;
        }
    }
    /** 验证成功时返回用户信息；验证失败时跳转到单点登录页 */
    async login_by_session(session) {
        // https://dolphindb1.atlassian.net/browse/DPLG-581
        await this.ddb.call('login', ['guest', '123456']);
        const result = (await this.ddb.call('authenticateBySession', [session])).to_dict({ strip: true });
        if (result.code) {
            const message = (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('通过 session 登录失败，即将跳转到单点登录页');
            localStorage.removeItem(storage_keys.session);
            const error = Object.assign(new Error(message), result);
            alert(message + '\n' +
                JSON.stringify(result));
            if (location.pathname !== '/')
                location.pathname = '/';
            throw error;
        }
        else {
            console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('通过 session 登录成功:'), result);
            localStorage.setItem(storage_keys.session, session);
            // result.username 由于 server 的 parseExpr 无法正确 parse \u1234 这样的字符串，先从后台 JSON 中提取信息
            // 等 server 增加 parseJSON 函数
            const { name: username } = JSON.parse(result.raw);
            this.set({ logined: true, username });
            await this.is_admin();
            return result;
        }
    }
    logout() {
        localStorage.removeItem(storage_keys.ticket);
        localStorage.removeItem(storage_keys.username);
        localStorage.setItem(storage_keys.session_id, '0');
        this.ddb.call('logout', [], { urgent: true });
        this.set({
            logined: false,
            username: username_guest,
            admin: false
        });
        this.goto_login();
    }
    async is_admin() {
        if (this.node_type !== NodeType.computing)
            this.set({ admin: (await this.ddb.call('getUserAccess', [], { urgent: true })).to_rows()[0].isAdmin });
    }
    /** 获取是否启用因子平台，待 server 实现 */
    async get_factor_platform_enabled() {
        try {
            const { value } = await this.ddb.eval('use factorPlatform::facplf\n' +
                'factorPlatform::facplf::is_factor_platform_enabled()\n', { urgent: true });
            this.set({ is_factor_platform_enabled: value });
            return value;
        }
        catch { }
    }
    async start_nodes(nodes) {
        await this.ddb.call('startDataNode', [new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbVectorString */ .x$(nodes.map(node => node.name))], {
            node: this.controller_alias,
            func_type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbFunctionType */ .T5.SystemProc
        });
    }
    async stop_nodes(nodes) {
        await this.ddb.call('stopDataNode', [new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbVectorString */ .x$(nodes.map(node => node.name))], {
            node: this.controller_alias,
            func_type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbFunctionType */ .T5.SystemProc
        });
    }
    async get_node_type() {
        const { value: node_type } = await this.ddb.call('getNodeType', [], { urgent: true });
        this.set({ node_type });
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('节点类型:'), NodeType[node_type]);
        return node_type;
    }
    async get_node_alias() {
        const { value: node_alias } = await this.ddb.call('getNodeAlias', [], { urgent: true });
        this.set({ node_alias });
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('节点名称:'), node_alias);
        return node_alias;
    }
    async get_controller_alias() {
        const { value: controller_alias } = await this.ddb.call('getControllerAlias', [], { urgent: true });
        this.set({ controller_alias });
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('控制节点:'), controller_alias);
        return controller_alias;
    }
    async get_login_required() {
        const { value } = await this.ddb.call('getConfig', ['webLoginRequired'], { urgent: true });
        const login_required = value === '1' || value === 'true';
        this.set({ login_required });
        // 开发用 this.set({ login_required: true })
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('web 强制登录:'), login_required);
        return login_required;
    }
    async get_version() {
        let { value: version } = await this.ddb.call('version');
        version = version.split(' ')[0];
        this.set({
            version,
            v1: version.startsWith('1.'),
            v2: version.startsWith('2.'),
            v3: version.startsWith('3.')
        });
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('版本:'), version);
        return version;
    }
    /** 获取 license 相关信息 */
    async get_license_info() {
        const license = await this.get_license_self_info();
        this.check_license_expiration();
        if (license.licenseType === LicenseTypes.LicenseServerVerify)
            await this.get_license_server_info();
    }
    check_license_expiration() {
        const license = this.license;
        // license.expiration 是以 date 为单位的数字
        const expiration_date = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(license.expiration * 86400000);
        const now = dayjs__WEBPACK_IMPORTED_MODULE_0___default()();
        const after_two_week = now.add(2, 'week');
        const is_license_expired = now.isAfter(expiration_date, 'day');
        const is_license_expire_soon = after_two_week.isAfter(expiration_date, 'day');
        if (is_license_expired)
            this.modal.error({
                title: (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('License 过期提醒'),
                content: (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('DolphinDB License 已过期，请联系管理人员立即更新，避免数据库关闭'),
                width: 600,
            });
        else if (is_license_expire_soon)
            this.modal.warning({
                title: (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('License 过期提醒'),
                content: (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('DolphinDB License 将在两周内过期，请提醒管理人员及时更新，避免数据库过期后自动关闭'),
                width: 700,
            });
    }
    /** 获取节点的 license 信息 */
    async get_license_self_info() {
        const license = (await this.ddb.call('license')).to_dict({ strip: true });
        console.log('license:', license);
        this.set({ license });
        return license;
    }
    /** 如果节点是 license server, 获取 license server 相关信息 */
    async get_license_server_info() {
        const license_server_site = (await this.ddb.call('getConfig', ['licenseServerSite'])).value;
        const is_license_server_node = this.license.licenseType === LicenseTypes.LicenseServerVerify && license_server_site === this.node.site;
        const license_server_resource = is_license_server_node
            ? (await this.ddb.call('getLicenseServerResourceInfo')).to_dict({ strip: true })
            : null;
        this.set({
            license_server: {
                is_license_server_node,
                site: license_server_site,
                resource: license_server_resource
            }
        });
    }
    /** 去登录页
        @param redirection 设置登录完成后的回跳页面，默认取当前 view */
    goto_login(redirection = this.view) {
        this.set({
            view: 'login',
            ...redirection === 'login' ? {} : { redirection }
        });
    }
    goto_redirection() {
        if (this.redirection)
            this.set({ view: this.redirection });
        else
            // 保留旧跳转逻辑
            this.goto_default_view();
    }
    goto_default_view() {
        this.set({
            view: new URLSearchParams(location.search).get('view') ||
                (this.node_type === NodeType.controller ?
                    (this.dev || this.test ? 'overview' : 'overview-old')
                    :
                        'shell')
        });
    }
    /** 获取 nodes 和 node 信息
        https://www.dolphindb.cn/cn/help/FunctionsandCommands/FunctionReferences/g/getClusterPerf.html
        Only master or single mode supports function getClusterPerf. */
    async get_cluster_perf(print) {
        const nodes = (await this.ddb.invoke('getClusterPerf', [true], {
            urgent: true,
            ...this.node_type === NodeType.controller || this.node_type === NodeType.single ?
                {}
                :
                    {
                        node: this.controller_alias,
                        func_type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbFunctionType */ .T5.SystemFunc
                    },
        })).data
            .sort((a, b) => (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .strcmp */ .kd)(a.name, b.name));
        if (print)
            console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('集群节点:'), nodes);
        let node, controller, datanode;
        for (const _node of nodes) {
            if (_node.name === this.node_alias)
                node = _node;
            if (_node.mode === NodeType.controller)
                if (_node.isLeader)
                    controller = _node;
                else
                    controller ??= _node;
            if (_node.mode === NodeType.data)
                datanode ??= _node;
        }
        if (print) {
            console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('当前节点:'), node);
            if (node.mode !== NodeType.single)
                console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('控制节点:'), controller, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('数据节点:'), datanode);
        }
        this.set({ nodes, node, controller, datanode });
    }
    /** 判断当前集群是否有数据节点或计算节点正在运行 */
    has_data_and_computing_nodes_alive() {
        return Boolean(this.nodes.find(node => (node.mode === NodeType.data || node.mode === NodeType.computing) &&
            node.state === DdbNodeState.online));
    }
    find_closest_node_host(node) {
        const params = new URLSearchParams(location.search);
        const current_connect_host = params.get('hostname') || location.hostname;
        const hosts = [...node.publicName.split(';').map(name => name.trim()), node.host];
        // 匹配当前域名/IP 和 hosts 中域名/IP 的相似度，动态规划最长公共子串
        function calc_host_score(hostname) {
            let maxlen = 0; // 最长公共子串的长度
            // 初始化 dp 数组
            let dp = new Array(hostname.length + 1);
            for (let i = 0; i < hostname.length + 1; i++)
                dp[i] = new Array(current_connect_host.length + 1).fill(0);
            for (let i = 1; i <= hostname.length; i++)
                for (let j = 1; j <= current_connect_host.length; j++)
                    if (hostname[i - 1] === current_connect_host[j - 1]) {
                        dp[i][j] = dp[i - 1][j - 1] + 1; // 如果字符相同，则在前一个基础上加1
                        if (dp[i][j] > maxlen)
                            maxlen = dp[i][j]; // 更新最长公共子串的长度
                    }
                    else
                        dp[i][j] = 0; // 如果字符不相同，则重置为0
            return maxlen;
        }
        const [closest] = hosts.slice(1).reduce((prev, hostname) => {
            if (hostname === current_connect_host)
                return [hostname, Infinity];
            const [_, closest_score] = prev;
            const score = calc_host_score(hostname);
            if (score > closest_score)
                return [hostname, score];
            return prev;
        }, [hosts[0], calc_host_score(hosts[0])]);
        return closest;
    }
    async check_leader_and_redirect() {
        if (this.node.mode === NodeType.controller && 'isLeader' in this.node && this.node.isLeader === false) {
            const leader = this.nodes.find(node => node.isLeader);
            if (leader) {
                const host = this.find_closest_node_host(leader);
                alert((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('您访问的这个控制节点现在不是高可用 (raft) 集群的 leader 节点, 将会为您自动跳转到集群当前的 leader 节点: ') +
                    `${host}:${leader.port}`);
                this.navigate_to(host, leader.port, { keep_current_query: true });
            }
        }
    }
    async get_console_jobs() {
        return this.ddb.call('getConsoleJobs', [], {
            urgent: true,
            nodes: this.node_type === NodeType.controller ?
                this.nodes.filter(node => node.state === DdbNodeState.online && node.mode !== NodeType.agent).map(node => node.name)
                :
                    null
        });
    }
    async get_recent_jobs() {
        return this.ddb.call('getRecentJobs', [], {
            urgent: true,
            nodes: this.node_type === NodeType.controller ?
                this.nodes.filter(node => node.state === DdbNodeState.online && node.mode !== NodeType.agent).map(node => node.name)
                :
                    null
        });
    }
    async get_scheduled_jobs() {
        return this.ddb.call('getScheduledJobs', [], {
            urgent: true,
            nodes: this.node_type === NodeType.controller ?
                this.nodes.filter(node => node.state === DdbNodeState.online && node.mode !== NodeType.agent)
                    .map(node => node.name)
                :
                    null
        });
    }
    async cancel_console_job(job) {
        return this.ddb.call('cancelConsoleJob', [job.rootJobId], { urgent: true });
    }
    async cancel_job(job) {
        return this.ddb.call('cancelJob', [job.jobId], {
            urgent: true,
            ...(!job.node || this.node_alias === job.node) ? {} : { node: job.node, func_type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbFunctionType */ .T5.SystemProc }
        });
    }
    async delete_scheduled_job(job) {
        return this.ddb.call('deleteScheduledJob', [job.jobId], {
            urgent: true,
            ...(!job.node || this.node_alias === job.node) ? {} : { node: job.node, func_type: dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbFunctionType */ .T5.SystemProc }
        });
    }
    async get_server_log_length() {
        let length;
        if (this.node_type === NodeType.data || this.node_type === NodeType.computing) {
            if (this.first_get_server_log_length) {
                await this.ddb.eval('def get_server_log_length_by_agent (host, port, node_alias) {\n' +
                    '    conn_agent = xdb(host, port)\n' +
                    "    length = remoteRun(conn_agent, 'getServerLogLength', node_alias)\n" +
                    '    close(conn_agent)\n' +
                    '    return length\n' +
                    '}\n');
                this.first_get_server_log_length = false;
            }
            const [host, port] = this.node.agentSite.split(':');
            ({ value: length } = await this.ddb.call('get_server_log_length_by_agent', [host, new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbInt */ .yZ(Number(port)), this.node_alias]));
        }
        else
            ({ value: length } = await this.ddb.call('getServerLogLength', [this.node_alias]));
        console.log('get_server_log_length', length);
        return length;
    }
    async get_server_log(offset, length) {
        let logs;
        if (this.node_type === NodeType.data || this.node_type === NodeType.computing) {
            if (this.first_get_server_log) {
                await this.ddb.eval('def get_server_log_by_agent (host, port, length, offset, node_alias) {\n' +
                    '    conn_agent = xdb(host, port)\n' +
                    "    logs = remoteRun(conn_agent, 'getServerLog', length, offset, true, node_alias)\n" +
                    '    close(conn_agent)\n' +
                    '    return logs\n' +
                    '}\n');
                this.first_get_server_log = false;
            }
            const [host, port] = this.node.agentSite.split(':');
            ({ value: logs } = await this.ddb.call('get_server_log_by_agent', [host, new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbInt */ .yZ(Number(port)), new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbLong */ .zO(length), new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbLong */ .zO(offset), this.node_alias]));
        }
        else
            ({ value: logs } = await this.ddb.call('getServerLog', [new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbLong */ .zO(length), new dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbLong */ .zO(offset), true, this.node_alias]));
        logs.reverse();
        console.log('get_server_log', offset, length, logs.length);
        return logs;
    }
    navigate_to_node(node, options) {
        this.navigate_to(node.publicName || node.host, node.port, options);
    }
    navigate_to(hostname, port, options = {}) {
        const { pathname = location.pathname, query: extra_query, keep_current_query = false, open = false } = options;
        const current_params = new URLSearchParams(location.search);
        const is_query_params_mode = current_params.get('hostname') || current_params.get('port');
        const new_params = new URLSearchParams(extra_query);
        if (keep_current_query)
            current_params.forEach((v, key) => {
                !new_params.has(key) && new_params.set(key, v);
            });
        if (is_query_params_mode) {
            new_params.set('hostname', hostname);
            new_params.set('port', port.toString());
        }
        const url_hostname = is_query_params_mode ? location.hostname : hostname;
        const url_port = is_query_params_mode ? location.port : port;
        const url = `${location.protocol}//${url_hostname}:${url_port}${pathname}?${new_params.toString()}`;
        if (open)
            window.open(url, '_blank');
        else
            location.href = url;
    }
    async recompile_and_refresh() {
        await (0,xshell_net_browser_js__WEBPACK_IMPORTED_MODULE_3__/* .request */ .Em)('http://localhost:8432/api/recompile');
        location.reload();
    }
    format_error(error) {
        let s = '';
        if (error instanceof dolphindb_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .DdbDatabaseError */ .UI) {
            const { type, options, message } = error;
            // json 错误是可以预期的业务逻辑错误，不需要显示后面的脚本、参数和调用栈了
            if (message.includes(' => {"')) {
                const i_arrow = message.lastIndexOf('=>');
                const i_message_start = i_arrow === -1 ? 0 : i_arrow + 3;
                const matches = json_error_pattern.exec(message.slice(i_message_start));
                if (matches) {
                    const { code, variables } = JSON.parse(matches[0]);
                    return {
                        title: (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)(error_messages[code], { variables }),
                        body: ''
                    };
                }
            }
            switch (type) {
                case 'script':
                    s += (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('运行以下脚本时出错:\n') +
                        error.options.script + '\n';
                    break;
                case 'function':
                    s += (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('调用 {{func}} 函数时出错，参数为:\n', { func: error.options.func }) +
                        options.args.map(arg => arg.toString({ quote: true, grouping: false, nullstr: true }))
                            .join_lines();
                    break;
            }
        }
        s += (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_5__.t)('调用栈:\n') +
            error.stack;
        if (error.cause)
            s += '\n' + error.cause.stack;
        return {
            title: error.message,
            body: s
        };
    }
    get_error_code_doc_link(ref_id) {
        return _i18n_index_js__WEBPACK_IMPORTED_MODULE_5__/* .language */ .BH === 'en'
            ? `https://docs.dolphindb.com/en/Maintenance/ErrorCodeReference/${ref_id}.html`
            : `https://docs.dolphindb.cn/zh/error_codes/${ref_id}.html`;
    }
    is_module_visible(key) {
        return this.enabled_modules.has(key) || !this.optional_modules.has(key);
    }
}
if (!Promise.withResolvers)
    Promise.withResolvers = function PromiseWithResolvers() {
        let resolve, reject;
        let promise = new Promise((_resolve, _reject) => {
            resolve = _resolve;
            reject = _reject;
        });
        return { promise, resolve, reject };
    };
if (!Array.prototype.toReversed)
    Object.defineProperty(Array.prototype, 'toReversed', {
        configurable: true,
        writable: true,
        enumerable: false,
        value: function toReversed() {
            return [...this].reverse();
        }
    });
if (!Array.prototype.toSpliced)
    Object.defineProperty(Array.prototype, 'toSpliced', {
        configurable: true,
        writable: true,
        enumerable: false,
        value: function toSpliced(...args) {
            const copy = [...this];
            copy.splice(...args);
            return copy;
        }
    });
if (!Array.prototype.at)
    Object.defineProperty(Array.prototype, 'at', {
        configurable: true,
        writable: true,
        enumerable: false,
        value: function at(index) {
            return index >= 0 ? this[index] : this[index + this.length];
        }
    });
var NodeType;
(function (NodeType) {
    NodeType[NodeType["data"] = 0] = "data";
    NodeType[NodeType["agent"] = 1] = "agent";
    NodeType[NodeType["controller"] = 2] = "controller";
    NodeType[NodeType["single"] = 3] = "single";
    NodeType[NodeType["computing"] = 4] = "computing";
})(NodeType || (NodeType = {}));
function show_error(modal, { title, error, body }) {
    let title_, body_;
    if (error)
        ({ title: title_, body: body_ } = model.format_error(error));
    modal.error({
        className: 'modal-error',
        title: title || title_,
        content: (body || body === '') ? body : body_,
        width: 1000,
    });
}
const error_messages = {
    S001: '当前配置不存在',
    S002: '配置id重复，无法保存',
    S003: '当前配置与已有配置重名，请改名',
    S004: '命名不可为空',
};
var LicenseTypes;
(function (LicenseTypes) {
    /** 其他方式 */
    LicenseTypes[LicenseTypes["Other"] = 0] = "Other";
    /** 机器指纹绑定 */
    LicenseTypes[LicenseTypes["MachineFingerprintBind"] = 1] = "MachineFingerprintBind";
    /** 在线验证 */
    LicenseTypes[LicenseTypes["OnlineVerify"] = 2] = "OnlineVerify";
    /** LicenseServer 验证 */
    LicenseTypes[LicenseTypes["LicenseServerVerify"] = 3] = "LicenseServerVerify";
})(LicenseTypes || (LicenseTypes = {}));
var DdbNodeState;
(function (DdbNodeState) {
    DdbNodeState[DdbNodeState["online"] = 1] = "online";
    DdbNodeState[DdbNodeState["offline"] = 0] = "offline";
})(DdbNodeState || (DdbNodeState = {}));
let model = window.model = new DdbModel();


/***/ }),

/***/ 6361:
/*!***********************!*\
  !*** ./i18n/index.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BH: () => (/* binding */ language),
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* unused harmony exports i18n, Trans */
/* harmony import */ var xshell_i18n_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! xshell/i18n/index.js */ 1675);
/* harmony import */ var _dict_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dict.json */ 9899);


const i18n = new xshell_i18n_index_js__WEBPACK_IMPORTED_MODULE_0__/* .I18N */ .T(_dict_json__WEBPACK_IMPORTED_MODULE_1__);
const { t, Trans, language } = i18n;



/***/ }),

/***/ 6868:
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.3.1/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var e=__webpack_require__(/*! react */ 5156);function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k="function"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}
function r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;


/***/ }),

/***/ 1285:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.3.1/node_modules/use-sync-external-store/shim/index.js ***!
  \**************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



if (true) {
  module.exports = __webpack_require__(/*! ../cjs/use-sync-external-store-shim.production.min.js */ 6868);
} else {}


/***/ }),

/***/ 7097:
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/vscode-oniguruma@2.0.1/node_modules/vscode-oniguruma/release/main.js ***!
  \*************************************************************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(()=>{return e={770:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultDebugCall=t.createOnigScanner=t.createOnigString=t.loadWASM=t.OnigScanner=t.OnigString=void 0;const i=r(n(418));let o=null,a=!1;class s{static _utf8ByteLength(e){let t=0;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);let o=i,a=!1;if(i>=55296&&i<=56319&&n+1<r){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(o=65536+(i-55296<<10)|t-56320,a=!0)}t+=o<=127?1:o<=2047?2:o<=65535?3:4,a&&n++}return t}constructor(e){const t=e.length,n=s._utf8ByteLength(e),r=n!==t,i=r?new Uint32Array(t+1):null;r&&(i[t]=n);const o=r?new Uint32Array(n+1):null;r&&(o[n]=t);const a=new Uint8Array(n);let f=0;for(let n=0;n<t;n++){const s=e.charCodeAt(n);let u=s,c=!1;if(s>=55296&&s<=56319&&n+1<t){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(u=65536+(s-55296<<10)|t-56320,c=!0)}r&&(i[n]=f,c&&(i[n+1]=f),u<=127?o[f+0]=n:u<=2047?(o[f+0]=n,o[f+1]=n):u<=65535?(o[f+0]=n,o[f+1]=n,o[f+2]=n):(o[f+0]=n,o[f+1]=n,o[f+2]=n,o[f+3]=n)),u<=127?a[f++]=u:u<=2047?(a[f++]=192|(1984&u)>>>6,a[f++]=128|(63&u)>>>0):u<=65535?(a[f++]=224|(61440&u)>>>12,a[f++]=128|(4032&u)>>>6,a[f++]=128|(63&u)>>>0):(a[f++]=240|(1835008&u)>>>18,a[f++]=128|(258048&u)>>>12,a[f++]=128|(4032&u)>>>6,a[f++]=128|(63&u)>>>0),c&&n++}this.utf16Length=t,this.utf8Length=n,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=o}createString(e){const t=e._omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}class f{constructor(e){if(this.id=++f.LAST_ID,!o)throw new Error("Must invoke loadWASM first.");this._onigBinding=o,this.content=e;const t=new s(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!f._sharedPtrInUse?(f._sharedPtr||(f._sharedPtr=o._omalloc(1e4)),f._sharedPtrInUse=!0,o.HEAPU8.set(t.utf8Value,f._sharedPtr),this.ptr=f._sharedPtr):this.ptr=t.createString(o)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===f._sharedPtr?f._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}t.OnigString=f,f.LAST_ID=0,f._sharedPtr=0,f._sharedPtrInUse=!1;class u{constructor(e,t){var n,r;if(!o)throw new Error("Must invoke loadWASM first.");const i=[],a=[];for(let t=0,n=e.length;t<n;t++){const n=new s(e[t]);i[t]=n.createString(o),a[t]=n.utf8Length}const f=o._omalloc(4*e.length);o.HEAPU32.set(i,f/4);const u=o._omalloc(4*e.length);o.HEAPU32.set(a,u/4),this._onigBinding=o,this._options=null!==(n=null==t?void 0:t.options)&&void 0!==n?n:[10];const c=this.onigOptions(this._options),_=this.onigSyntax(null!==(r=null==t?void 0:t.syntax)&&void 0!==r?r:0),d=o._createOnigScanner(f,u,e.length,c,_);this._ptr=d;for(let t=0,n=e.length;t<n;t++)o._ofree(i[t]);o._ofree(u),o._ofree(f),0===d&&function(e){throw new Error(e.UTF8ToString(e._getLastOnigError()))}(o)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(e,t,n){let r=a,i=this._options;if(Array.isArray(n)?(n.includes(25)&&(r=!0),i=i.concat(n)):"boolean"==typeof n&&(r=n),"string"==typeof e){e=new f(e);const n=this._findNextMatchSync(e,t,r,i);return e.dispose(),n}return this._findNextMatchSync(e,t,r,i)}_findNextMatchSync(e,t,n,r){const i=this._onigBinding,o=this.onigOptions(r);let a;if(a=n?i._findNextOnigScannerMatchDbg(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),o):i._findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),o),0===a)return null;const s=i.HEAPU32;let f=a/4;const u=s[f++],c=s[f++];let _=[];for(let t=0;t<c;t++){const n=e.convertUtf8OffsetToUtf16(s[f++]),r=e.convertUtf8OffsetToUtf16(s[f++]);_[t]={start:n,end:r,length:r-n}}return{index:u,captureIndices:_}}onigOptions(e){return e.map((e=>this.onigOption(e))).reduce(((e,t)=>e|t),this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(e){switch(e){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(e){switch(e){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}t.OnigScanner=u;let c=!1,_=null;t.loadWASM=function(e){if(c)return _;let t,n,r,a;if(c=!0,function(e){return"function"==typeof e.instantiator}(e))t=e.instantiator,n=e.print;else{let r;!function(e){return void 0!==e.data}(e)?r=e:(r=e.data,n=e.print),t=function(e){return"undefined"!=typeof Response&&e instanceof Response}(r)?"function"==typeof WebAssembly.instantiateStreaming?function(e){return t=>WebAssembly.instantiateStreaming(e,t)}(r):function(e){return async t=>{const n=await e.arrayBuffer();return WebAssembly.instantiate(n,t)}}(r):function(e){return t=>WebAssembly.instantiate(e,t)}(r)}return _=new Promise(((e,t)=>{r=e,a=t})),function(e,t,n,r){(0,i.default)({print:t,instantiateWasm:(t,n)=>{if("undefined"==typeof performance){const e=()=>Date.now();t.env.emscripten_get_now=e,t.wasi_snapshot_preview1.emscripten_get_now=e}return e(t).then((e=>n(e.instance)),r),{}}}).then((e=>{o=e,n()}))}(t,n,r,a),_},t.createOnigString=function(e){return new f(e)},t.createOnigScanner=function(e){return new u(e)},t.setDefaultDebugCall=function(e){a=e}},418:e=>{var t=("undefined"!=typeof document&&document.currentScript&&document.currentScript.src,function(e={}){var t,n,r=e;r.ready=new Promise(((e,r)=>{t=e,n=r}));var i,o=Object.assign({},r);"undefined"!=typeof read&&read,i=e=>{if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));let t=read(e,"binary");return"object"==typeof t||P(n),t;var n},"undefined"==typeof clearTimeout&&(globalThis.clearTimeout=e=>{}),"undefined"==typeof setTimeout&&(globalThis.setTimeout=e=>"function"==typeof e?e():P()),"undefined"!=typeof scriptArgs&&scriptArgs,"undefined"!=typeof onig_print&&("undefined"==typeof console&&(console={}),console.log=onig_print,console.warn=console.error="undefined"!=typeof printErr?printErr:onig_print);var a,s,f=r.print||console.log.bind(console),u=r.printErr||console.error.bind(console);Object.assign(r,o),o=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit,r.wasmBinary&&(a=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var c,_,d,g,l,h,p,O,v=!1;function m(){var e=s.buffer;r.HEAP8=c=new Int8Array(e),r.HEAP16=d=new Int16Array(e),r.HEAPU8=_=new Uint8Array(e),r.HEAPU16=g=new Uint16Array(e),r.HEAP32=l=new Int32Array(e),r.HEAPU32=h=new Uint32Array(e),r.HEAPF32=p=new Float32Array(e),r.HEAPF64=O=new Float64Array(e)}var y=[],I=[],T=[];var N=0,A=null,S=null;function P(e){r.onAbort&&r.onAbort(e),u(e="Aborted("+e+")"),v=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}var E,w;function b(e){return e.startsWith("data:application/octet-stream;base64,")}function C(e){if(e==E&&a)return new Uint8Array(a);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}function U(e,t,n){return function(e){return Promise.resolve().then((()=>C(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(n,(e=>{u(`failed to asynchronously prepare wasm: ${e}`),P(e)}))}b(E="onig.wasm")||(w=E,E=r.locateFile?r.locateFile(w,""):""+w);var G=e=>{for(;e.length>0;)e.shift()(r)},B=void 0,R=e=>{for(var t="",n=e;_[n];)t+=B[_[n++]];return t},W={},L={},D={},x=void 0,M=e=>{throw new x(e)},F=void 0,X=(e,t,n)=>{function r(t){var r=n(t);r.length!==e.length&&(e=>{throw new F(e)})("Mismatched type converter count");for(var i=0;i<e.length;++i)k(e[i],r[i])}e.forEach((function(e){D[e]=t}));var i=new Array(t.length),o=[],a=0;t.forEach(((e,t)=>{L.hasOwnProperty(e)?i[t]=L[e]:(o.push(e),W.hasOwnProperty(e)||(W[e]=[]),W[e].push((()=>{i[t]=L[e],++a===o.length&&r(i)})))})),0===o.length&&r(i)};function k(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,n={}){var r=t.name;if(e||M(`type "${r}" must have a positive integer typeid pointer`),L.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;M(`Cannot register type '${r}' twice`)}if(L[e]=t,delete D[e],W.hasOwnProperty(e)){var i=W[e];delete W[e],i.forEach((e=>e()))}}(e,t,n)}function H(){this.allocated=[void 0],this.freelist=[]}var Y=new H,j=()=>{for(var e=0,t=Y.reserved;t<Y.allocated.length;++t)void 0!==Y.allocated[t]&&++e;return e},V=e=>(e||M("Cannot use deleted val. handle = "+e),Y.get(e).value),$=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Y.allocate({refcount:1,value:e})}};function z(e){return this.fromWireType(l[e>>2])}var q=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(p[e>>2])};case 8:return function(e){return this.fromWireType(O[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},K=(e,t,n)=>{switch(t){case 1:return n?e=>c[e>>0]:e=>_[e>>0];case 2:return n?e=>d[e>>1]:e=>g[e>>1];case 4:return n?e=>l[e>>2]:e=>h[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function J(e){return this.fromWireType(h[e>>2])}var Q,Z="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,ee=(e,t,n)=>{for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&Z)return Z.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var f=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|f:(7&a)<<18|s<<12|f<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o},te=(e,t)=>e?ee(_,e,t):"",ne="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,re=(e,t)=>{for(var n=e,r=n>>1,i=r+t/2;!(r>=i)&&g[r];)++r;if((n=r<<1)-e>32&&ne)return ne.decode(_.subarray(e,n));for(var o="",a=0;!(a>=t/2);++a){var s=d[e+2*a>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},ie=(e,t,n)=>{if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,i=(n-=2)<2*e.length?n/2:e.length,o=0;o<i;++o){var a=e.charCodeAt(o);d[t>>1]=a,t+=2}return d[t>>1]=0,t-r},oe=e=>2*e.length,ae=(e,t)=>{for(var n=0,r="";!(n>=t/4);){var i=l[e+4*n>>2];if(0==i)break;if(++n,i>=65536){var o=i-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(i)}return r},se=(e,t,n)=>{if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),l[t>>2]=a,(t+=4)+4>i)break}return l[t>>2]=0,t-r},fe=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t};Q=()=>performance.now();var ue=e=>{var t=(e-s.buffer.byteLength+65535)/65536;try{return s.grow(t),m(),1}catch(e){}},ce=[null,[],[]];(()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);B=e})(),x=r.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},F=r.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(H.prototype,{get(e){return this.allocated[e]},has(e){return void 0!==this.allocated[e]},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}}),Y.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Y.reserved=Y.allocated.length,r.count_emval_handles=j;var _e,de={_embind_register_bigint:(e,t,n,r,i)=>{},_embind_register_bool:(e,t,n,r)=>{k(e,{name:t=R(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:r},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(_[e])},destructorFunction:null})},_embind_register_constant:(e,t,n)=>{e=R(e),X([],[t],(function(t){return t=t[0],r[e]=t.fromWireType(n),[]}))},_embind_register_emval:(e,t)=>{k(e,{name:t=R(t),fromWireType:e=>{var t=V(e);return(e=>{e>=Y.reserved&&0==--Y.get(e).refcount&&Y.free(e)})(e),t},toWireType:(e,t)=>$(t),argPackAdvance:8,readValueFromPointer:z,destructorFunction:null})},_embind_register_float:(e,t,n)=>{k(e,{name:t=R(t),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:8,readValueFromPointer:q(t,n),destructorFunction:null})},_embind_register_integer:(e,t,n,r,i)=>{t=R(t),-1===i&&(i=4294967295);var o=e=>e;if(0===r){var a=32-8*n;o=e=>e<<a>>>a}var s=t.includes("unsigned");k(e,{name:t,fromWireType:o,toWireType:s?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:K(t,n,0!==r),destructorFunction:null})},_embind_register_memory_view:(e,t,n)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=h[e>>2],n=h[e+4>>2];return new r(c.buffer,n,t)}k(e,{name:n=R(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(e,t)=>{var n="std::string"===(t=R(t));k(e,{name:t,fromWireType:e=>{var t,r=h[e>>2],i=e+4;if(n)for(var o=i,a=0;a<=r;++a){var s=i+a;if(a==r||0==_[s]){var f=te(o,s-o);void 0===t?t=f:(t+=String.fromCharCode(0),t+=f),o=s+1}}else{var u=new Array(r);for(a=0;a<r;++a)u[a]=String.fromCharCode(_[i+a]);t=u.join("")}return he(e),t},toWireType:(e,t)=>{var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||M("Cannot pass non-string to std::string"),r=n&&i?(e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t})(t):t.length;var o=le(4+r+1),a=o+4;if(h[o>>2]=r,n&&i)((e,t,n,r)=>{if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}t[n]=0})(t,_,a,r+1);else if(i)for(var s=0;s<r;++s){var f=t.charCodeAt(s);f>255&&(he(a),M("String has UTF-16 code units that do not fit in 8 bits")),_[a+s]=f}else for(s=0;s<r;++s)_[a+s]=t[s];return null!==e&&e.push(he,o),o},argPackAdvance:8,readValueFromPointer:J,destructorFunction:e=>he(e)})},_embind_register_std_wstring:(e,t,n)=>{var r,i,o,a,s;n=R(n),2===t?(r=re,i=ie,a=oe,o=()=>g,s=1):4===t&&(r=ae,i=se,a=fe,o=()=>h,s=2),k(e,{name:n,fromWireType:e=>{for(var n,i=h[e>>2],a=o(),f=e+4,u=0;u<=i;++u){var c=e+4+u*t;if(u==i||0==a[c>>s]){var _=r(f,c-f);void 0===n?n=_:(n+=String.fromCharCode(0),n+=_),f=c+t}}return he(e),n},toWireType:(e,r)=>{"string"!=typeof r&&M(`Cannot pass non-string to C++ string type ${n}`);var o=a(r),f=le(4+o+t);return h[f>>2]=o>>s,i(r,f+4,o+t),null!==e&&e.push(he,f),f},argPackAdvance:8,readValueFromPointer:z,destructorFunction:e=>he(e)})},_embind_register_void:(e,t)=>{k(e,{isVoid:!0,name:t=R(t),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},emscripten_get_now:Q,emscripten_memcpy_big:(e,t,n)=>_.copyWithin(e,t,t+n),emscripten_resize_heap:e=>{var t=_.length,n=2147483648;if((e>>>=0)>n)return!1;for(var r,i=1;i<=4;i*=2){var o=t*(1+.2/i);o=Math.min(o,e+100663296);var a=Math.min(n,(r=Math.max(e,o))+(65536-r%65536)%65536);if(ue(a))return!0}return!1},fd_write:(e,t,n,r)=>{for(var i=0,o=0;o<n;o++){var a=h[t>>2],s=h[t+4>>2];t+=8;for(var c=0;c<s;c++)d=e,g=_[a+c],l=void 0,l=ce[d],0===g||10===g?((1===d?f:u)(ee(l,0)),l.length=0):l.push(g);i+=s}var d,g,l;return h[r>>2]=i,0}},ge=function(){var e,t,i,o,f={env:de,wasi_snapshot_preview1:de};function c(e,t){var n,i=e.exports;return s=(ge=i).memory,m(),ge.__indirect_function_table,n=ge.__wasm_call_ctors,I.unshift(n),function(e){if(N--,r.monitorRunDependencies&&r.monitorRunDependencies(N),0==N&&(null!==A&&(clearInterval(A),A=null),S)){var t=S;S=null,t()}}(),i}if(N++,r.monitorRunDependencies&&r.monitorRunDependencies(N),r.instantiateWasm)try{return r.instantiateWasm(f,c)}catch(e){u(`Module.instantiateWasm callback failed with error: ${e}`),n(e)}return(e=a,t=E,i=f,o=function(e){c(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||b(t)||"function"!=typeof fetch?U(t,i,o):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,i).then(o,(function(e){return u(`wasm streaming compile failed: ${e}`),u("falling back to ArrayBuffer instantiation"),U(t,i,o)}))))).catch(n),{}}(),le=e=>(le=ge.malloc)(e),he=e=>(he=ge.free)(e);function pe(){function e(){_e||(_e=!0,r.calledRun=!0,v||(G(I),t(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),T.unshift(e);var e;G(T)}()))}N>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)e=r.preRun.shift(),y.unshift(e);var e;G(y)}(),N>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e()))}if(r._omalloc=e=>(r._omalloc=ge.omalloc)(e),r._ofree=e=>(r._ofree=ge.ofree)(e),r._getLastOnigError=()=>(r._getLastOnigError=ge.getLastOnigError)(),r._createOnigScanner=(e,t,n,i,o)=>(r._createOnigScanner=ge.createOnigScanner)(e,t,n,i,o),r._freeOnigScanner=e=>(r._freeOnigScanner=ge.freeOnigScanner)(e),r._findNextOnigScannerMatch=(e,t,n,i,o,a)=>(r._findNextOnigScannerMatch=ge.findNextOnigScannerMatch)(e,t,n,i,o,a),r._findNextOnigScannerMatchDbg=(e,t,n,i,o,a)=>(r._findNextOnigScannerMatchDbg=ge.findNextOnigScannerMatchDbg)(e,t,n,i,o,a),r.__embind_initialize_bindings=()=>(r.__embind_initialize_bindings=ge._embind_initialize_bindings)(),r.dynCall_jiji=(e,t,n,i,o)=>(r.dynCall_jiji=ge.dynCall_jiji)(e,t,n,i,o),r.UTF8ToString=te,S=function e(){_e||pe(),_e||(S=e)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return pe(),e.ready});e.exports=t}},t={},function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(770);var e,t}));

/***/ }),

/***/ 8167:
/*!***********************************************************************************************!*\
  !*** ./node_modules/.pnpm/vscode-textmate@9.0.0/node_modules/vscode-textmate/release/main.js ***!
  \***********************************************************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(function(){return(()=>{"use strict";var e={350:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UseOnigurumaFindOptions=t.DebugFlags=void 0,t.DebugFlags={InDebugMode:"undefined"!=typeof process&&!!process.env.VSCODE_TEXTMATE_DEBUG},t.UseOnigurumaFindOptions=!1},442:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyStateStackDiff=t.diffStateStacksRefEq=void 0;const s=n(391);t.diffStateStacksRefEq=function(e,t){let n=0;const s=[];let r=e,i=t;for(;r!==i;)r&&(!i||r.depth>=i.depth)?(n++,r=r.parent):(s.push(i.toStateStackFrame()),i=i.parent);return{pops:n,newFrames:s.reverse()}},t.applyStateStackDiff=function(e,t){let n=e;for(let e=0;e<t.pops;e++)n=n.parent;for(const e of t.newFrames)n=s.StateStackImpl.pushFrame(n,e);return n}},36:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.toOptionalTokenType=t.EncodedTokenAttributes=void 0,(n=t.EncodedTokenAttributes||(t.EncodedTokenAttributes={})).toBinaryStr=function(e){let t=e.toString(2);for(;t.length<32;)t="0"+t;return t},n.print=function(e){const t=n.getLanguageId(e),s=n.getTokenType(e),r=n.getFontStyle(e),i=n.getForeground(e),o=n.getBackground(e);console.log({languageId:t,tokenType:s,fontStyle:r,foreground:i,background:o})},n.getLanguageId=function(e){return(255&e)>>>0},n.getTokenType=function(e){return(768&e)>>>8},n.containsBalancedBrackets=function(e){return 0!=(1024&e)},n.getFontStyle=function(e){return(30720&e)>>>11},n.getForeground=function(e){return(16744448&e)>>>15},n.getBackground=function(e){return(4278190080&e)>>>24},n.set=function(e,t,s,r,i,o,a){let c=n.getLanguageId(e),l=n.getTokenType(e),u=n.containsBalancedBrackets(e)?1:0,h=n.getFontStyle(e),p=n.getForeground(e),d=n.getBackground(e);return 0!==t&&(c=t),8!==s&&(l=s),null!==r&&(u=r?1:0),-1!==i&&(h=i),0!==o&&(p=o),0!==a&&(d=a),(c<<0|l<<8|u<<10|h<<11|p<<15|d<<24)>>>0},t.toOptionalTokenType=function(e){return e}},996:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicScopeAttributesProvider=t.BasicScopeAttributes=void 0;const s=n(878);class r{constructor(e,t){this.languageId=e,this.tokenType=t}}t.BasicScopeAttributes=r;class i{constructor(e,t){this._getBasicScopeAttributes=new s.CachedFn((e=>{const t=this._scopeToLanguage(e),n=this._toStandardTokenType(e);return new r(t,n)})),this._defaultAttributes=new r(e,8),this._embeddedLanguagesMatcher=new o(Object.entries(t||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return null===e?i._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const t=e.match(i.STANDARD_TOKEN_TYPE_REGEXP);if(!t)return 8;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}t.BasicScopeAttributesProvider=i,i._NULL_SCOPE_METADATA=new r(0,0),i.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class o{constructor(e){if(0===e.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map((([e,t])=>s.escapeRegExpCharacters(e)));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);return t?this.values.get(t[1]):void 0}}},947:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LineTokens=t.BalancedBracketSelectors=t.StateStackImpl=t.AttributedScopeStack=t.Grammar=t.createGrammar=void 0;const s=n(350),r=n(36),i=n(736),o=n(44),a=n(792),c=n(583),l=n(878),u=n(996),h=n(47);function p(e,t,n,s,r){const o=i.createMatchers(t,d),c=a.RuleFactory.getCompiledRuleId(n,s,r.repository);for(const n of o)e.push({debugSelector:t,matcher:n.matcher,ruleId:c,grammar:r,priority:n.priority})}function d(e,t){if(t.length<e.length)return!1;let n=0;return e.every((e=>{for(let s=n;s<t.length;s++)if(f(t[s],e))return n=s+1,!0;return!1}))}function f(e,t){if(!e)return!1;if(e===t)return!0;const n=t.length;return e.length>n&&e.substr(0,n)===t&&"."===e[n]}t.createGrammar=function(e,t,n,s,r,i,o,a){return new m(e,t,n,s,r,i,o,a)};class m{constructor(e,t,n,s,r,o,a,c){if(this._rootScopeName=e,this.balancedBracketSelectors=o,this._onigLib=c,this._basicScopeAttributesProvider=new u.BasicScopeAttributesProvider(n,s),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=g(t,null),this._injections=null,this._tokenTypeMatchers=[],r)for(const e of Object.keys(r)){const t=i.createMatchers(e,d);for(const n of t)this._tokenTypeMatchers.push({matcher:n.matcher,type:r[e]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e=[],t=this._rootScopeName,n=(e=>e===this._rootScopeName?this._grammar:this.getExternalGrammar(e))(t);if(n){const s=n.injections;if(s)for(let t in s)p(e,t,s[t],this,n);const r=this._grammarRepository.injections(t);r&&r.forEach((t=>{const n=this.getExternalGrammar(t);if(n){const t=n.injectionSelector;t&&p(e,t,n,this,n)}}))}return e.sort(((e,t)=>e.priority-t.priority)),e}getInjections(){if(null===this._injections&&(this._injections=this._collectInjections(),s.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const e of this._injections)console.log(`  - ${e.debugSelector}`)}return this._injections}registerRule(e){const t=++this._lastRuleId,n=e(a.ruleIdFromNumber(t));return this._ruleId2desc[t]=n,n}getRule(e){return this._ruleId2desc[a.ruleIdToNumber(e)]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=g(n,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,n=0){const s=this._tokenize(e,t,!1,n);return{tokens:s.lineTokens.getResult(s.ruleStack,s.lineLength),ruleStack:s.ruleStack,stoppedEarly:s.stoppedEarly}}tokenizeLine2(e,t,n=0){const s=this._tokenize(e,t,!0,n);return{tokens:s.lineTokens.getBinaryResult(s.ruleStack,s.lineLength),ruleStack:s.ruleStack,stoppedEarly:s.stoppedEarly}}_tokenize(e,t,n,s){let i;if(-1===this._rootId&&(this._rootId=a.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),t&&t!==b.NULL)i=!1,t.reset();else{i=!0;const e=this._basicScopeAttributesProvider.getDefaultAttributes(),n=this.themeProvider.getDefaults(),s=r.EncodedTokenAttributes.set(0,e.languageId,e.tokenType,null,n.fontStyle,n.foregroundId,n.backgroundId),o=this.getRule(this._rootId).getName(null,null);let a;a=o?_.createRootAndLookUpScopeName(o,s,this):_.createRoot("unknown",s),t=new b(null,this._rootId,-1,-1,!1,null,a,a)}e+="\n";const c=this.createOnigString(e),l=c.content.length,u=new y(n,e,this._tokenTypeMatchers,this.balancedBracketSelectors),p=h._tokenizeString(this,c,i,0,t,u,!0,s);return o.disposeOnigString(c),{lineLength:l,lineTokens:u,ruleStack:p.stack,stoppedEarly:p.stoppedEarly}}}function g(e,t){return(e=l.clone(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}t.Grammar=m;class _{constructor(e,t,n){this.parent=e,this.scopePath=t,this.tokenAttributes=n}static fromExtension(e,t){let n=e,s=e?.scopePath??null;for(const e of t)s=c.ScopeStack.push(s,e.scopeNames),n=new _(n,s,e.encodedTokenAttributes);return n}static createRoot(e,t){return new _(null,new c.ScopeStack(null,e),t)}static createRootAndLookUpScopeName(e,t,n){const s=n.getMetadataForScope(e),r=new c.ScopeStack(null,e),i=n.themeProvider.themeMatch(r),o=_.mergeAttributes(t,s,i);return new _(null,r,o)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return _.equals(this,e)}static equals(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}}static mergeAttributes(e,t,n){let s=-1,i=0,o=0;return null!==n&&(s=n.fontStyle,i=n.foregroundId,o=n.backgroundId),r.EncodedTokenAttributes.set(e,t.languageId,t.tokenType,null,s,i,o)}pushAttributed(e,t){if(null===e)return this;if(-1===e.indexOf(" "))return _._pushAttributed(this,e,t);const n=e.split(/ /g);let s=this;for(const e of n)s=_._pushAttributed(s,e,t);return s}static _pushAttributed(e,t,n){const s=n.getMetadataForScope(t),r=e.scopePath.push(t),i=n.themeProvider.themeMatch(r),o=_.mergeAttributes(e.tokenAttributes,s,i);return new _(e,r,o)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const t=[];let n=this;for(;n&&n!==e;)t.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(n.parent?.scopePath??null)}),n=n.parent;return n===e?t.reverse():void 0}}t.AttributedScopeStack=_;class b{constructor(e,t,n,s,r,i,o,a){this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=r,this.endRule=i,this.nameScopesList=o,this.contentNameScopesList=a,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=s}equals(e){return null!==e&&b._equals(this,e)}static _equals(e,t){return e===t||!!this._structuralEquals(e,t)&&_.equals(e.contentNameScopesList,t.contentNameScopesList)}static _structuralEquals(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){b._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,t,n,s,r,i,o){return new b(this,e,t,n,s,r,i,o)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new b(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){return{ruleId:a.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,t){const n=_.fromExtension(e?.nameScopesList??null,t.nameScopesList);return new b(e,a.ruleIdFromNumber(t.ruleId),t.enterPos??-1,t.anchorPos??-1,t.beginRuleCapturedEOL,t.endRule,n,_.fromExtension(n,t.contentNameScopesList))}}t.StateStackImpl=b,b.NULL=new b(null,0,0,0,!1,null,null,null),t.BalancedBracketSelectors=class{constructor(e,t){this.allowAny=!1,this.balancedBracketScopes=e.flatMap((e=>"*"===e?(this.allowAny=!0,[]):i.createMatchers(e,d).map((e=>e.matcher)))),this.unbalancedBracketScopes=t.flatMap((e=>i.createMatchers(e,d).map((e=>e.matcher))))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}};class y{constructor(e,t,n,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=e,this._tokenTypeOverrides=n,s.DebugFlags.InDebugMode?this._lineText=t:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let n=e?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const t=e?.getScopeNames()??[];for(const e of this._tokenTypeOverrides)e.matcher(t)&&(n=r.EncodedTokenAttributes.set(n,0,r.toOptionalTokenType(e.type),null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(t))}if(i&&(n=r.EncodedTokenAttributes.set(n,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n)return void(this._lastTokenEndIndex=t);if(s.DebugFlags.InDebugMode){const n=e?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(let e=0;e<n.length;e++)console.log("      * "+n[e])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),void(this._lastTokenEndIndex=t)}const n=e?.getScopeNames()??[];if(s.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(let e=0;e<n.length;e++)console.log("      * "+n[e])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:n}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let e=0,t=this._binaryTokens.length;e<t;e++)n[e]=this._binaryTokens[e];return n}}t.LineTokens=y},965:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInclude=t.TopLevelRepositoryReference=t.TopLevelReference=t.RelativeReference=t.SelfReference=t.BaseReference=t.ScopeDependencyProcessor=t.ExternalReferenceCollector=t.TopLevelRepositoryRuleReference=t.TopLevelRuleReference=void 0;const s=n(878);class r{constructor(e){this.scopeName=e}toKey(){return this.scopeName}}t.TopLevelRuleReference=r;class i{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}}t.TopLevelRepositoryRuleReference=i;class o{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}}function a(e,t,n,s){const i=n.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const o=n.lookup(t);e instanceof r?l({baseGrammar:o,selfGrammar:i},s):c(e.ruleName,{baseGrammar:o,selfGrammar:i,repository:i.repository},s);const a=n.injections(e.scopeName);if(a)for(const e of a)s.add(new r(e))}function c(e,t,n){t.repository&&t.repository[e]&&u([t.repository[e]],t,n)}function l(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&u(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&u(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function u(e,t,n){for(const o of e){if(n.visitedRule.has(o))continue;n.visitedRule.add(o);const e=o.repository?s.mergeObjects({},t.repository,o.repository):t.repository;Array.isArray(o.patterns)&&u(o.patterns,{...t,repository:e},n);const a=o.include;if(!a)continue;const h=g(a);switch(h.kind){case 0:l({...t,selfGrammar:t.baseGrammar},n);break;case 1:l(t,n);break;case 2:c(h.ruleName,{...t,repository:e},n);break;case 3:case 4:const s=h.scopeName===t.selfGrammar.scopeName?t.selfGrammar:h.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(s){const r={baseGrammar:t.baseGrammar,selfGrammar:s,repository:e};4===h.kind?c(h.ruleName,r,n):l(r,n)}else 4===h.kind?n.add(new i(h.scopeName,h.ruleName)):n.add(new r(h.scopeName))}}}t.ExternalReferenceCollector=o,t.ScopeDependencyProcessor=class{constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new r(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const t=new o;for(const n of e)a(n,this.initialScopeName,this.repo,t);for(const e of t.references)if(e instanceof r){if(this.seenFullScopeRequests.has(e.scopeName))continue;this.seenFullScopeRequests.add(e.scopeName),this.Q.push(e)}else{if(this.seenFullScopeRequests.has(e.scopeName))continue;if(this.seenPartialScopeRequests.has(e.toKey()))continue;this.seenPartialScopeRequests.add(e.toKey()),this.Q.push(e)}}};class h{constructor(){this.kind=0}}t.BaseReference=h;class p{constructor(){this.kind=1}}t.SelfReference=p;class d{constructor(e){this.ruleName=e,this.kind=2}}t.RelativeReference=d;class f{constructor(e){this.scopeName=e,this.kind=3}}t.TopLevelReference=f;class m{constructor(e,t){this.scopeName=e,this.ruleName=t,this.kind=4}}function g(e){if("$base"===e)return new h;if("$self"===e)return new p;const t=e.indexOf("#");if(-1===t)return new f(e);if(0===t)return new d(e.substring(1));{const n=e.substring(0,t),s=e.substring(t+1);return new m(n,s)}}t.TopLevelRepositoryReference=m,t.parseInclude=g},391:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(947),t)},47:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStackElement=t._tokenizeString=void 0;const s=n(350),r=n(44),i=n(792),o=n(878);class a{constructor(e,t){this.stack=e,this.stoppedEarly=t}}function c(e,t,n,r,c,h,d,f){const m=t.content.length;let g=!1,_=-1;if(d){const o=function(e,t,n,r,o,a){let c=o.beginRuleCapturedEOL?0:-1;const l=[];for(let t=o;t;t=t.pop()){const n=t.getRule(e);n instanceof i.BeginWhileRule&&l.push({rule:n,stack:t})}for(let h=l.pop();h;h=l.pop()){const{ruleScanner:l,findOptions:d}=u(h.rule,e,h.stack.endRule,n,r===c),f=l.findNextMatchSync(t,r,d);if(s.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(l.toString())),!f){s.DebugFlags.InDebugMode&&console.log("  popping "+h.rule.debugName+" - "+h.rule.debugWhileRegExp),o=h.stack.pop();break}if(f.ruleId!==i.whileRuleId){o=h.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(a.produce(h.stack,f.captureIndices[0].start),p(e,t,n,h.stack,a,h.rule.whileCaptures,f.captureIndices),a.produce(h.stack,f.captureIndices[0].end),c=f.captureIndices[0].end,f.captureIndices[0].end>r&&(r=f.captureIndices[0].end,n=!1))}return{stack:o,linePos:r,anchorPosition:c,isFirstLine:n}}(e,t,n,r,c,h);c=o.stack,r=o.linePos,n=o.isFirstLine,_=o.anchorPosition}const b=Date.now();for(;!g;){if(0!==f&&Date.now()-b>f)return new a(c,!0);y()}return new a(c,!1);function y(){s.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${r}: |${t.content.substr(r).replace(/\n$/,"\\n")}|`));const a=function(e,t,n,r,i,a){const c=function(e,t,n,r,i,a){const c=i.getRule(e),{ruleScanner:u,findOptions:h}=l(c,e,i.endRule,n,r===a);let p=0;s.DebugFlags.InDebugMode&&(p=o.performanceNow());const d=u.findNextMatchSync(t,r,h);if(s.DebugFlags.InDebugMode){const e=o.performanceNow()-p;e>5&&console.warn(`Rule ${c.debugName} (${c.id}) matching took ${e} against '${t}'`),console.log(`  scanning for (linePos: ${r}, anchorPosition: ${a})`),console.log(u.toString()),d&&console.log(`matched rule id: ${d.ruleId} from ${d.captureIndices[0].start} to ${d.captureIndices[0].end}`)}return d?{captureIndices:d.captureIndices,matchedRuleId:d.ruleId}:null}(e,t,n,r,i,a),u=e.getInjections();if(0===u.length)return c;const h=function(e,t,n,r,i,o,a){let c,u=Number.MAX_VALUE,h=null,p=0;const d=o.contentNameScopesList.getScopeNames();for(let o=0,f=e.length;o<f;o++){const f=e[o];if(!f.matcher(d))continue;const m=t.getRule(f.ruleId),{ruleScanner:g,findOptions:_}=l(m,t,null,r,i===a),b=g.findNextMatchSync(n,i,_);if(!b)continue;s.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${f.debugSelector}`),console.log(g.toString()));const y=b.captureIndices[0].start;if(!(y>=u)&&(u=y,h=b.captureIndices,c=b.ruleId,p=f.priority,u===i))break}return h?{priorityMatch:-1===p,captureIndices:h,matchedRuleId:c}:null}(u,e,t,n,r,i,a);if(!h)return c;if(!c)return h;const p=c.captureIndices[0].start,d=h.captureIndices[0].start;return d<p||h.priorityMatch&&d===p?h:c}(e,t,n,r,c,_);if(!a)return s.DebugFlags.InDebugMode&&console.log("  no more matches."),h.produce(c,m),void(g=!0);const u=a.captureIndices,d=a.matchedRuleId,f=!!(u&&u.length>0)&&u[0].end>r;if(d===i.endRuleId){const i=c.getRule(e);s.DebugFlags.InDebugMode&&console.log("  popping "+i.debugName+" - "+i.debugEndRegExp),h.produce(c,u[0].start),c=c.withContentNameScopesList(c.nameScopesList),p(e,t,n,c,h,i.endCaptures,u),h.produce(c,u[0].end);const o=c;if(c=c.parent,_=o.getAnchorPos(),!f&&o.getEnterPos()===r)return s.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),c=o,h.produce(c,m),void(g=!0)}else{const o=e.getRule(d);h.produce(c,u[0].start);const a=c,l=o.getName(t.content,u),b=c.contentNameScopesList.pushAttributed(l,e);if(c=c.push(d,r,_,u[0].end===m,null,b,b),o instanceof i.BeginEndRule){const r=o;s.DebugFlags.InDebugMode&&console.log("  pushing "+r.debugName+" - "+r.debugBeginRegExp),p(e,t,n,c,h,r.beginCaptures,u),h.produce(c,u[0].end),_=u[0].end;const i=r.getContentName(t.content,u),l=b.pushAttributed(i,e);if(c=c.withContentNameScopesList(l),r.endHasBackReferences&&(c=c.withEndRule(r.getEndWithResolvedBackReferences(t.content,u))),!f&&a.hasSameRuleAs(c))return s.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),c=c.pop(),h.produce(c,m),void(g=!0)}else if(o instanceof i.BeginWhileRule){const r=o;s.DebugFlags.InDebugMode&&console.log("  pushing "+r.debugName),p(e,t,n,c,h,r.beginCaptures,u),h.produce(c,u[0].end),_=u[0].end;const i=r.getContentName(t.content,u),l=b.pushAttributed(i,e);if(c=c.withContentNameScopesList(l),r.whileHasBackReferences&&(c=c.withEndRule(r.getWhileWithResolvedBackReferences(t.content,u))),!f&&a.hasSameRuleAs(c))return s.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),c=c.pop(),h.produce(c,m),void(g=!0)}else{const r=o;if(s.DebugFlags.InDebugMode&&console.log("  matched "+r.debugName+" - "+r.debugMatchRegExp),p(e,t,n,c,h,r.captures,u),h.produce(c,u[0].end),c=c.pop(),!f)return s.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),c=c.safePop(),h.produce(c,m),void(g=!0)}}u[0].end>r&&(r=u[0].end,n=!1)}}function l(e,t,n,r,i){return s.UseOnigurumaFindOptions?{ruleScanner:e.compile(t,n),findOptions:h(r,i)}:{ruleScanner:e.compileAG(t,n,r,i),findOptions:0}}function u(e,t,n,r,i){return s.UseOnigurumaFindOptions?{ruleScanner:e.compileWhile(t,n),findOptions:h(r,i)}:{ruleScanner:e.compileWhileAG(t,n,r,i),findOptions:0}}function h(e,t){let n=0;return e||(n|=1),t||(n|=4),n}function p(e,t,n,s,i,o,a){if(0===o.length)return;const l=t.content,u=Math.min(o.length,a.length),h=[],p=a[0].end;for(let t=0;t<u;t++){const u=o[t];if(null===u)continue;const f=a[t];if(0===f.length)continue;if(f.start>p)break;for(;h.length>0&&h[h.length-1].endPos<=f.start;)i.produceFromScopes(h[h.length-1].scopes,h[h.length-1].endPos),h.pop();if(h.length>0?i.produceFromScopes(h[h.length-1].scopes,f.start):i.produce(s,f.start),u.retokenizeCapturedWithRuleId){const t=u.getName(l,a),o=s.contentNameScopesList.pushAttributed(t,e),h=u.getContentName(l,a),p=o.pushAttributed(h,e),d=s.push(u.retokenizeCapturedWithRuleId,f.start,-1,!1,null,o,p),m=e.createOnigString(l.substring(0,f.end));c(e,m,n&&0===f.start,f.start,d,i,!1,0),r.disposeOnigString(m);continue}const m=u.getName(l,a);if(null!==m){const t=(h.length>0?h[h.length-1].scopes:s.contentNameScopesList).pushAttributed(m,e);h.push(new d(t,f.end))}}for(;h.length>0;)i.produceFromScopes(h[h.length-1].scopes,h[h.length-1].endPos),h.pop()}t._tokenizeString=c;class d{constructor(e,t){this.scopes=e,this.endPos=t}}t.LocalStackElement=d},974:(e,t)=>{function n(e,t){throw new Error("Near offset "+e.pos+": "+t+" ~~~"+e.source.substr(e.pos,50)+"~~~")}Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=void 0,t.parseJSON=function(e,t,o){let a=new s(e),c=new r,l=0,u=null,h=[],p=[];function d(){h.push(l),p.push(u)}function f(){l=h.pop(),u=p.pop()}function m(e){n(a,e)}for(;i(a,c);){if(0===l){if(null!==u&&m("too many constructs in root"),3===c.type){u={},o&&(u.$vscodeTextmateLocation=c.toLocation(t)),d(),l=1;continue}if(2===c.type){u=[],d(),l=4;continue}m("unexpected token in root")}if(2===l){if(5===c.type){f();continue}if(7===c.type){l=3;continue}m("expected , or }")}if(1===l||3===l){if(1===l&&5===c.type){f();continue}if(1===c.type){let e=c.value;if(i(a,c)&&6===c.type||m("expected colon"),i(a,c)||m("expected value"),l=2,1===c.type){u[e]=c.value;continue}if(8===c.type){u[e]=null;continue}if(9===c.type){u[e]=!0;continue}if(10===c.type){u[e]=!1;continue}if(11===c.type){u[e]=parseFloat(c.value);continue}if(2===c.type){let t=[];u[e]=t,d(),l=4,u=t;continue}if(3===c.type){let n={};o&&(n.$vscodeTextmateLocation=c.toLocation(t)),u[e]=n,d(),l=1,u=n;continue}}m("unexpected token in dict")}if(5===l){if(4===c.type){f();continue}if(7===c.type){l=6;continue}m("expected , or ]")}if(4===l||6===l){if(4===l&&4===c.type){f();continue}if(l=5,1===c.type){u.push(c.value);continue}if(8===c.type){u.push(null);continue}if(9===c.type){u.push(!0);continue}if(10===c.type){u.push(!1);continue}if(11===c.type){u.push(parseFloat(c.value));continue}if(2===c.type){let e=[];u.push(e),d(),l=4,u=e;continue}if(3===c.type){let e={};o&&(e.$vscodeTextmateLocation=c.toLocation(t)),u.push(e),d(),l=1,u=e;continue}m("unexpected token in array")}m("unknown state")}return 0!==p.length&&m("unclosed constructs"),u};class s{constructor(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}}class r{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(e){return{filename:e,line:this.line,char:this.char}}}function i(e,t){t.value=null,t.type=0,t.offset=-1,t.len=-1,t.line=-1,t.char=-1;let s,r=e.source,i=e.pos,o=e.len,a=e.line,c=e.char;for(;;){if(i>=o)return!1;if(s=r.charCodeAt(i),32!==s&&9!==s&&13!==s){if(10!==s)break;i++,a++,c=0}else i++,c++}if(t.offset=i,t.line=a,t.char=c,34===s){for(t.type=1,i++,c++;;){if(i>=o)return!1;if(s=r.charCodeAt(i),i++,c++,92!==s){if(34===s)break}else i++,c++}t.value=r.substring(t.offset+1,i-1).replace(/\\u([0-9A-Fa-f]{4})/g,((e,t)=>String.fromCodePoint(parseInt(t,16)))).replace(/\\(.)/g,((t,s)=>{switch(s){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:n(e,"invalid escape sequence")}throw new Error("unreachable")}))}else if(91===s)t.type=2,i++,c++;else if(123===s)t.type=3,i++,c++;else if(93===s)t.type=4,i++,c++;else if(125===s)t.type=5,i++,c++;else if(58===s)t.type=6,i++,c++;else if(44===s)t.type=7,i++,c++;else if(110===s){if(t.type=8,i++,c++,s=r.charCodeAt(i),117!==s)return!1;if(i++,c++,s=r.charCodeAt(i),108!==s)return!1;if(i++,c++,s=r.charCodeAt(i),108!==s)return!1;i++,c++}else if(116===s){if(t.type=9,i++,c++,s=r.charCodeAt(i),114!==s)return!1;if(i++,c++,s=r.charCodeAt(i),117!==s)return!1;if(i++,c++,s=r.charCodeAt(i),101!==s)return!1;i++,c++}else if(102===s){if(t.type=10,i++,c++,s=r.charCodeAt(i),97!==s)return!1;if(i++,c++,s=r.charCodeAt(i),108!==s)return!1;if(i++,c++,s=r.charCodeAt(i),115!==s)return!1;if(i++,c++,s=r.charCodeAt(i),101!==s)return!1;i++,c++}else for(t.type=11;;){if(i>=o)return!1;if(s=r.charCodeAt(i),!(46===s||s>=48&&s<=57||101===s||69===s||45===s||43===s))break;i++,c++}return t.len=i-t.offset,null===t.value&&(t.value=r.substr(t.offset,t.len)),e.pos=i,e.line=a,e.char=c,!0}},787:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.applyStateStackDiff=t.diffStateStacksRefEq=t.parseRawGrammar=t.INITIAL=t.Registry=void 0;const i=n(391),o=n(50),a=n(652),c=n(583),l=n(965),u=n(442);Object.defineProperty(t,"applyStateStackDiff",{enumerable:!0,get:function(){return u.applyStateStackDiff}}),Object.defineProperty(t,"diffStateStacksRefEq",{enumerable:!0,get:function(){return u.diffStateStacksRefEq}}),r(n(44),t),t.Registry=class{constructor(e){this._options=e,this._syncRegistry=new a.SyncRegistry(c.Theme.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(c.Theme.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,n){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:n})}loadGrammarWithConfiguration(e,t,n){return this._loadGrammar(e,t,n.embeddedLanguages,n.tokenTypes,new i.BalancedBracketSelectors(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}async _loadGrammar(e,t,n,s,r){const i=new l.ScopeDependencyProcessor(this._syncRegistry,e);for(;i.Q.length>0;)await Promise.all(i.Q.map((e=>this._loadSingleGrammar(e.scopeName)))),i.processQueue();return this._grammarForScopeName(e,t,n,s,r)}async _loadSingleGrammar(e){return this._ensureGrammarCache.has(e)||this._ensureGrammarCache.set(e,this._doLoadSingleGrammar(e)),this._ensureGrammarCache.get(e)}async _doLoadSingleGrammar(e){const t=await this._options.loadGrammar(e);if(t){const n="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,n)}}async addGrammar(e,t=[],n=0,s=null){return this._syncRegistry.addGrammar(e,t),await this._grammarForScopeName(e.scopeName,n,s)}_grammarForScopeName(e,t=0,n=null,s=null,r=null){return this._syncRegistry.grammarForScopeName(e,t,n,s,r)}},t.INITIAL=i.StateStackImpl.NULL,t.parseRawGrammar=o.parseRawGrammar},736:(e,t)=>{function n(e){return!!e&&!!e.match(/[\w\.:]+/)}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=void 0,t.createMatchers=function(e,t){const s=[],r=function(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=t.exec(e);return{next:()=>{if(!n)return null;const s=n[0];return n=t.exec(e),s}}}(e);let i=r.next();for(;null!==i;){let e=0;if(2===i.length&&":"===i.charAt(1)){switch(i.charAt(0)){case"R":e=1;break;case"L":e=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let t=a();if(s.push({matcher:t,priority:e}),","!==i)break;i=r.next()}return s;function o(){if("-"===i){i=r.next();const e=o();return t=>!!e&&!e(t)}if("("===i){i=r.next();const e=function(){const e=[];let t=a();for(;t&&(e.push(t),"|"===i||","===i);){do{i=r.next()}while("|"===i||","===i);t=a()}return t=>e.some((e=>e(t)))}();return")"===i&&(i=r.next()),e}if(n(i)){const e=[];do{e.push(i),i=r.next()}while(n(i));return n=>t(e,n)}return null}function a(){const e=[];let t=o();for(;t;)e.push(t),t=o();return t=>e.every((e=>e(t)))}}},44:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.disposeOnigString=void 0,t.disposeOnigString=function(e){"function"==typeof e.dispose&&e.dispose()}},50:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseRawGrammar=void 0;const s=n(69),r=n(350),i=n(974);t.parseRawGrammar=function(e,t=null){return null!==t&&/\.json$/.test(t)?(n=e,o=t,r.DebugFlags.InDebugMode?i.parseJSON(n,o,!0):JSON.parse(n)):function(e,t){return r.DebugFlags.InDebugMode?s.parseWithLocation(e,t,"$vscodeTextmateLocation"):s.parsePLIST(e)}(e,t);var n,o}},69:(e,t)=>{function n(e,t,n){const s=e.length;let r=0,i=1,o=0;function a(t){if(null===n)r+=t;else for(;t>0;)10===e.charCodeAt(r)?(r++,i++,o=0):(r++,o++),t--}function c(e){null===n?r=e:a(e-r)}function l(){for(;r<s;){let t=e.charCodeAt(r);if(32!==t&&9!==t&&13!==t&&10!==t)break;a(1)}}function u(t){return e.substr(r,t.length)===t&&(a(t.length),!0)}function h(t){let n=e.indexOf(t,r);c(-1!==n?n+t.length:s)}function p(t){let n=e.indexOf(t,r);if(-1!==n){let s=e.substring(r,n);return c(n+t.length),s}{let t=e.substr(r);return c(s),t}}s>0&&65279===e.charCodeAt(0)&&(r=1);let d=0,f=null,m=[],g=[],_=null;function b(e,t){m.push(d),g.push(f),d=e,f=t}function y(){if(0===m.length)return S("illegal state stack");d=m.pop(),f=g.pop()}function S(t){throw new Error("Near offset "+r+": "+t+" ~~~"+e.substr(r,50)+"~~~")}const k=function(){if(null===_)return S("missing <key>");let e={};null!==n&&(e[n]={filename:t,line:i,char:o}),f[_]=e,_=null,b(1,e)},C=function(){if(null===_)return S("missing <key>");let e=[];f[_]=e,_=null,b(2,e)},R=function(){let e={};null!==n&&(e[n]={filename:t,line:i,char:o}),f.push(e),b(1,e)},A=function(){let e=[];f.push(e),b(2,e)};function w(){if(1!==d)return S("unexpected </dict>");y()}function P(){return 1===d||2!==d?S("unexpected </array>"):void y()}function I(e){if(1===d){if(null===_)return S("missing <key>");f[_]=e,_=null}else 2===d?f.push(e):f=e}function v(e){if(isNaN(e))return S("cannot parse float");if(1===d){if(null===_)return S("missing <key>");f[_]=e,_=null}else 2===d?f.push(e):f=e}function N(e){if(isNaN(e))return S("cannot parse integer");if(1===d){if(null===_)return S("missing <key>");f[_]=e,_=null}else 2===d?f.push(e):f=e}function x(e){if(1===d){if(null===_)return S("missing <key>");f[_]=e,_=null}else 2===d?f.push(e):f=e}function T(e){if(1===d){if(null===_)return S("missing <key>");f[_]=e,_=null}else 2===d?f.push(e):f=e}function G(e){if(1===d){if(null===_)return S("missing <key>");f[_]=e,_=null}else 2===d?f.push(e):f=e}function E(){let e=p(">"),t=!1;return 47===e.charCodeAt(e.length-1)&&(t=!0,e=e.substring(0,e.length-1)),{name:e.trim(),isClosed:t}}function L(e){if(e.isClosed)return"";let t=p("</");return h(">"),t.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,10))})).replace(/&#x([0-9a-f]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,(function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e}))}for(;r<s&&(l(),!(r>=s));){const c=e.charCodeAt(r);if(a(1),60!==c)return S("expected <");if(r>=s)return S("unexpected end of input");const p=e.charCodeAt(r);if(63===p){a(1),h("?>");continue}if(33===p){if(a(1),u("--")){h("--\x3e");continue}h(">");continue}if(47===p){if(a(1),l(),u("plist")){h(">");continue}if(u("dict")){h(">"),w();continue}if(u("array")){h(">"),P();continue}return S("unexpected closed tag")}let m=E();switch(m.name){case"dict":1===d?k():2===d?R():(f={},null!==n&&(f[n]={filename:t,line:i,char:o}),b(1,f)),m.isClosed&&w();continue;case"array":1===d?C():2===d?A():(f=[],b(2,f)),m.isClosed&&P();continue;case"key":M=L(m),1!==d?S("unexpected <key>"):null!==_?S("too many <key>"):_=M;continue;case"string":I(L(m));continue;case"real":v(parseFloat(L(m)));continue;case"integer":N(parseInt(L(m),10));continue;case"date":x(new Date(L(m)));continue;case"data":T(L(m));continue;case"true":L(m),G(!0);continue;case"false":L(m),G(!1);continue}if(!/^plist/.test(m.name))return S("unexpected opened tag "+m.name)}var M;return f}Object.defineProperty(t,"__esModule",{value:!0}),t.parsePLIST=t.parseWithLocation=void 0,t.parseWithLocation=function(e,t,s){return n(e,t,s)},t.parsePLIST=function(e){return n(e,null,null)}},652:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SyncRegistry=void 0;const s=n(391);t.SyncRegistry=class{constructor(e,t){this._onigLibPromise=t,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}async grammarForScopeName(e,t,n,r,i){if(!this._grammars.has(e)){let o=this._rawGrammars.get(e);if(!o)return null;this._grammars.set(e,s.createGrammar(e,o,t,n,r,i,this,await this._onigLibPromise))}return this._grammars.get(e)}}},792:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompiledRule=t.RegExpSourceList=t.RegExpSource=t.RuleFactory=t.BeginWhileRule=t.BeginEndRule=t.IncludeOnlyRule=t.MatchRule=t.CaptureRule=t.Rule=t.ruleIdToNumber=t.ruleIdFromNumber=t.whileRuleId=t.endRuleId=void 0;const s=n(878),r=n(965),i=/\\(\d+)/,o=/\\(\d+)/g;Symbol("RuleId"),t.endRuleId=-1,t.whileRuleId=-2,t.ruleIdFromNumber=function(e){return e},t.ruleIdToNumber=function(e){return e};class a{constructor(e,t,n,r){this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=s.RegexSource.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=s.RegexSource.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${s.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?s.RegexSource.replaceCaptures(this._name,e,t):this._name}getContentName(e,t){return this._contentNameIsCapturing&&null!==this._contentName?s.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName}}t.Rule=a;class c extends a{constructor(e,t,n,s,r){super(e,t,n,s),this.retokenizeCapturedWithRuleId=r}dispose(){}collectPatterns(e,t){throw new Error("Not supported!")}compile(e,t){throw new Error("Not supported!")}compileAG(e,t,n,s){throw new Error("Not supported!")}}t.CaptureRule=c;class l extends a{constructor(e,t,n,s,r){super(e,t,n,null),this._match=new f(s,this.id),this.captures=r,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,s){return this._getCachedCompiledPatterns(e).compileAG(e,n,s)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}t.MatchRule=l;class u extends a{constructor(e,t,n,s,r){super(e,t,n,s),this.patterns=r.patterns,this.hasMissingPatterns=r.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(const n of this.patterns)e.getRule(n).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,s){return this._getCachedCompiledPatterns(e).compileAG(e,n,s)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}t.IncludeOnlyRule=u;class h extends a{constructor(e,t,n,s,r,i,o,a,c,l){super(e,t,n,s),this._begin=new f(r,this.id),this.beginCaptures=i,this._end=new f(o||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=c||!1,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,n,s){return this._getCachedCompiledPatterns(e,t).compileAG(e,n,s)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new m;for(const t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}}t.BeginEndRule=h;class p extends a{constructor(e,n,s,r,i,o,a,c,l){super(e,n,s,r),this._begin=new f(i,this.id),this.beginCaptures=o,this.whileCaptures=c,this._while=new f(a,t.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,s){return this._getCachedCompiledPatterns(e).compileAG(e,n,s)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new m;for(const t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,n,s){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,n,s)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new m,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||"￿"),this._cachedCompiledWhilePatterns}}t.BeginWhileRule=p;class d{static createCaptureRule(e,t,n,s,r){return e.registerRule((e=>new c(t,e,n,s,r)))}static getCompiledRuleId(e,t,n){return e.id||t.registerRule((r=>{if(e.id=r,e.match)return new l(e.$vscodeTextmateLocation,e.id,e.name,e.match,d._compileCaptures(e.captures,t,n));if(void 0===e.begin){e.repository&&(n=s.mergeObjects({},n,e.repository));let r=e.patterns;return void 0===r&&e.include&&(r=[{include:e.include}]),new u(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,d._compilePatterns(r,t,n))}return e.while?new p(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,d._compileCaptures(e.beginCaptures||e.captures,t,n),e.while,d._compileCaptures(e.whileCaptures||e.captures,t,n),d._compilePatterns(e.patterns,t,n)):new h(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,d._compileCaptures(e.beginCaptures||e.captures,t,n),e.end,d._compileCaptures(e.endCaptures||e.captures,t,n),e.applyEndPatternLast,d._compilePatterns(e.patterns,t,n))})),e.id}static _compileCaptures(e,t,n){let s=[];if(e){let r=0;for(const t in e){if("$vscodeTextmateLocation"===t)continue;const e=parseInt(t,10);e>r&&(r=e)}for(let e=0;e<=r;e++)s[e]=null;for(const r in e){if("$vscodeTextmateLocation"===r)continue;const i=parseInt(r,10);let o=0;e[r].patterns&&(o=d.getCompiledRuleId(e[r],t,n)),s[i]=d.createCaptureRule(t,e[r].$vscodeTextmateLocation,e[r].name,e[r].contentName,o)}}return s}static _compilePatterns(e,t,n){let s=[];if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i];let a=-1;if(o.include){const e=r.parseInclude(o.include);switch(e.kind){case 0:case 1:a=d.getCompiledRuleId(n[o.include],t,n);break;case 2:let s=n[e.ruleName];s&&(a=d.getCompiledRuleId(s,t,n));break;case 3:case 4:const r=e.scopeName,i=4===e.kind?e.ruleName:null,c=t.getExternalGrammar(r,n);if(c)if(i){let e=c.repository[i];e&&(a=d.getCompiledRuleId(e,t,c.repository))}else a=d.getCompiledRuleId(c.repository.$self,t,c.repository)}}else a=d.getCompiledRuleId(o,t,n);if(-1!==a){const e=t.getRule(a);let n=!1;if((e instanceof u||e instanceof h||e instanceof p)&&e.hasMissingPatterns&&0===e.patterns.length&&(n=!0),n)continue;s.push(a)}}return{patterns:s,hasMissingPatterns:(e?e.length:0)!==s.length}}}t.RuleFactory=d;class f{constructor(e,t){if(e){const t=e.length;let n=0,s=[],r=!1;for(let i=0;i<t;i++)if("\\"===e.charAt(i)&&i+1<t){const t=e.charAt(i+1);"z"===t?(s.push(e.substring(n,i)),s.push("$(?!\\n)(?<!\\n)"),n=i+2):"A"!==t&&"G"!==t||(r=!0),i++}this.hasAnchor=r,0===n?this.source=e:(s.push(e.substring(n,t)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,this.hasBackReferences=i.test(this.source)}clone(){return new f(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){let n=t.map((t=>e.substring(t.start,t.end)));return o.lastIndex=0,this.source.replace(o,((e,t)=>s.escapeRegExpCharacters(n[parseInt(t,10)]||"")))}_buildAnchorCache(){let e,t,n,s,r=[],i=[],o=[],a=[];for(e=0,t=this.source.length;e<t;e++)n=this.source.charAt(e),r[e]=n,i[e]=n,o[e]=n,a[e]=n,"\\"===n&&e+1<t&&(s=this.source.charAt(e+1),"A"===s?(r[e+1]="￿",i[e+1]="￿",o[e+1]="A",a[e+1]="A"):"G"===s?(r[e+1]="￿",i[e+1]="G",o[e+1]="￿",a[e+1]="G"):(r[e+1]=s,i[e+1]=s,o[e+1]=s,a[e+1]=s),e++);return{A0_G0:r.join(""),A0_G1:i.join(""),A1_G0:o.join(""),A1_G1:a.join("")}}resolveAnchors(e,t){return this.hasAnchor&&this._anchorCache?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}t.RegExpSource=f;class m{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map((e=>e.source));this._cached=new g(e,t,this._items.map((e=>e.ruleId)))}return this._cached}compileAG(e,t,n){return this._hasAnchors?t?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,n){let s=this._items.map((e=>e.resolveAnchors(t,n)));return new g(e,s,this._items.map((e=>e.ruleId)))}}t.RegExpSourceList=m;class g{constructor(e,t,n){this.regExps=t,this.rules=n,this.scanner=e.createOnigScanner(t)}dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){const e=[];for(let t=0,n=this.rules.length;t<n;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join("\n")}findNextMatchSync(e,t,n){const s=this.scanner.findNextMatchSync(e,t,n);return s?{ruleId:this.rules[s.index],captureIndices:s.captureIndices}:null}}t.CompiledRule=g},583:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeTrieElement=t.ThemeTrieElementRule=t.ColorMap=t.fontStyleToString=t.ParsedThemeRule=t.parseTheme=t.StyleAttributes=t.ScopeStack=t.Theme=void 0;const s=n(878);class r{constructor(e,t,n){this._colorMap=e,this._defaults=t,this._root=n,this._cachedMatchRoot=new s.CachedFn((e=>this._root.match(e)))}static createFromRawTheme(e,t){return this.createFromParsedTheme(c(e),t)}static createFromParsedTheme(e,t){return function(e,t){e.sort(((e,t)=>{let n=s.strcmp(e.scope,t.scope);return 0!==n?n:(n=s.strArrCmp(e.parentScopes,t.parentScopes),0!==n?n:e.index-t.index)}));let n=0,i="#000000",o="#ffffff";for(;e.length>=1&&""===e[0].scope;){let t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(o=t.background)}let c=new u(t),l=new a(n,c.getId(i),c.getId(o)),d=new p(new h(0,null,-1,0,0),[]);for(let t=0,n=e.length;t<n;t++){let n=e[t];d.insert(0,n.scope,n.parentScopes,n.fontStyle,c.getId(n.foreground),c.getId(n.background))}return new r(c,l,d)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(null===e)return this._defaults;const t=e.scopeName,n=this._cachedMatchRoot.get(t).find((t=>function(e,t){if(null===t)return!0;let n=0,s=t[n];for(;e;){if(o(e.scopeName,s)){if(n++,n===t.length)return!0;s=t[n]}e=e.parent}return!1}(e.parent,t.parentScopes)));return n?new a(n.fontStyle,n.foreground,n.background):null}}t.Theme=r;class i{constructor(e,t){this.parent=e,this.scopeName=t}static push(e,t){for(const n of t)e=new i(e,n);return e}static from(...e){let t=null;for(let n=0;n<e.length;n++)t=new i(t,e[n]);return t}push(e){return new i(this,e)}getSegments(){let e=this;const t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(" ")}extends(e){return this===e||null!==this.parent&&this.parent.extends(e)}getExtensionIfDefined(e){const t=[];let n=this;for(;n&&n!==e;)t.push(n.scopeName),n=n.parent;return n===e?t.reverse():void 0}}function o(e,t){return t===e||e.startsWith(t)&&"."===e[t.length]}t.ScopeStack=i;class a{constructor(e,t,n){this.fontStyle=e,this.foregroundId=t,this.backgroundId=n}}function c(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,n=[],r=0;for(let e=0,i=t.length;e<i;e++){let i,o=t[e];if(!o.settings)continue;if("string"==typeof o.scope){let e=o.scope;e=e.replace(/^[,]+/,""),e=e.replace(/[,]+$/,""),i=e.split(",")}else i=Array.isArray(o.scope)?o.scope:[""];let a=-1;if("string"==typeof o.settings.fontStyle){a=0;let e=o.settings.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"italic":a|=1;break;case"bold":a|=2;break;case"underline":a|=4;break;case"strikethrough":a|=8}}let c=null;"string"==typeof o.settings.foreground&&s.isValidHexColor(o.settings.foreground)&&(c=o.settings.foreground);let u=null;"string"==typeof o.settings.background&&s.isValidHexColor(o.settings.background)&&(u=o.settings.background);for(let t=0,s=i.length;t<s;t++){let s=i[t].trim().split(" "),o=s[s.length-1],h=null;s.length>1&&(h=s.slice(0,s.length-1),h.reverse()),n[r++]=new l(o,h,e,a,c,u)}}return n}t.StyleAttributes=a,t.parseTheme=c;class l{constructor(e,t,n,s,r,i){this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=s,this.foreground=r,this.background=i}}t.ParsedThemeRule=l,t.fontStyleToString=function(e){if(-1===e)return"not set";let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),8&e&&(t+="strikethrough "),""===t&&(t="none"),t.trim()};class u{constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,n=e.length;t<n;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(null===e)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}}t.ColorMap=u;class h{constructor(e,t,n,s,r){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=n,this.foreground=s,this.background=r}clone(){return new h(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n].clone();return t}acceptOverwrite(e,t,n,s){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==n&&(this.foreground=n),0!==s&&(this.background=s)}}t.ThemeTrieElementRule=h;class p{constructor(e,t=[],n={}){this._mainRule=e,this._children=n,this._rulesWithParentScopes=t}static _sortBySpecificity(e){return 1===e.length||e.sort(this._cmpBySpecificity),e}static _cmpBySpecificity(e,t){if(e.scopeDepth===t.scopeDepth){const n=e.parentScopes,s=t.parentScopes;let r=null===n?0:n.length,i=null===s?0:s.length;if(r===i)for(let e=0;e<r;e++){const t=n[e].length,r=s[e].length;if(t!==r)return r-t}return i-r}return t.scopeDepth-e.scopeDepth}match(e){if(""===e)return p._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let t,n,s=e.indexOf(".");return-1===s?(t=e,n=""):(t=e.substring(0,s),n=e.substring(s+1)),this._children.hasOwnProperty(t)?this._children[t].match(n):p._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(e,t,n,s,r,i){if(""===t)return void this._doInsertHere(e,n,s,r,i);let o,a,c,l=t.indexOf(".");-1===l?(o=t,a=""):(o=t.substring(0,l),a=t.substring(l+1)),this._children.hasOwnProperty(o)?c=this._children[o]:(c=new p(this._mainRule.clone(),h.cloneArr(this._rulesWithParentScopes)),this._children[o]=c),c.insert(e+1,a,n,s,r,i)}_doInsertHere(e,t,n,r,i){if(null!==t){for(let o=0,a=this._rulesWithParentScopes.length;o<a;o++){let a=this._rulesWithParentScopes[o];if(0===s.strArrCmp(a.parentScopes,t))return void a.acceptOverwrite(e,n,r,i)}-1===n&&(n=this._mainRule.fontStyle),0===r&&(r=this._mainRule.foreground),0===i&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new h(e,t,n,r,i))}else this._mainRule.acceptOverwrite(e,n,r,i)}}t.ThemeTrieElement=p},878:(e,t)=>{function n(e){return Array.isArray(e)?function(e){let t=[];for(let s=0,r=e.length;s<r;s++)t[s]=n(e[s]);return t}(e):"object"==typeof e?function(e){let t={};for(let s in e)t[s]=n(e[s]);return t}(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.performanceNow=t.CachedFn=t.escapeRegExpCharacters=t.isValidHexColor=t.strArrCmp=t.strcmp=t.RegexSource=t.basename=t.mergeObjects=t.clone=void 0,t.clone=function(e){return n(e)},t.mergeObjects=function(e,...t){return t.forEach((t=>{for(let n in t)e[n]=t[n]})),e},t.basename=function e(t){const n=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===n?t:~n==t.length-1?e(t.substring(0,t.length-1)):t.substr(1+~n)};let s=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function r(e,t){return e<t?-1:e>t?1:0}t.RegexSource=class{static hasCaptures(e){return null!==e&&(s.lastIndex=0,s.test(e))}static replaceCaptures(e,t,n){return e.replace(s,((e,s,r,i)=>{let o=n[parseInt(s||r,10)];if(!o)return e;{let e=t.substring(o.start,o.end);for(;"."===e[0];)e=e.substring(1);switch(i){case"downcase":return e.toLowerCase();case"upcase":return e.toUpperCase();default:return e}}}))}},t.strcmp=r,t.strArrCmp=function(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;let n=e.length,s=t.length;if(n===s){for(let s=0;s<n;s++){let n=r(e[s],t[s]);if(0!==n)return n}return 0}return n-s},t.isValidHexColor=function(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))},t.escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},t.CachedFn=class{constructor(e){this.fn=e,this.cache=new Map}get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},t.performanceNow="undefined"==typeof performance?function(){return Date.now()}:function(){return performance.now()}}},t={};return function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}(787)})()}));
//# sourceMappingURL=main.js.map

/***/ }),

/***/ 725:
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-fit@0.8.0_xterm@5.3.0/node_modules/xterm-addon-fit/lib/xterm-addon-fit.js ***!
  \******************************************************************************************************************/
/***/ ((module) => {

!function(e,t){ true?module.exports=t():0}(self,(()=>(()=>{"use strict";var e={};return(()=>{var t=e;Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0,t.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;const t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal)return;if(!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,t=e._renderService.dimensions;if(0===t.css.cell.width||0===t.css.cell.height)return;const r=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,i=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(i.getPropertyValue("height")),s=Math.max(0,parseInt(i.getPropertyValue("width"))),n=window.getComputedStyle(this._terminal.element),l=o-(parseInt(n.getPropertyValue("padding-top"))+parseInt(n.getPropertyValue("padding-bottom"))),a=s-(parseInt(n.getPropertyValue("padding-right"))+parseInt(n.getPropertyValue("padding-left")))-r;return{cols:Math.max(2,Math.floor(a/t.css.cell.width)),rows:Math.max(1,Math.floor(l/t.css.cell.height))}}}})(),e})()));
//# sourceMappingURL=xterm-addon-fit.js.map

/***/ }),

/***/ 7362:
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-webgl@0.16.0_xterm@5.3.0/node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js ***!
  \*************************************************************************************************************************/
/***/ ((module) => {

!function(e,t){ true?module.exports=t():0}(self,(()=>(()=>{"use strict";var e={965:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphRenderer=void 0;const r=i(374),o=i(509),n=i(855),a=i(859),h=i(776),l=i(381),c=11,d=c*Float32Array.BYTES_PER_ELEMENT;let _,u=0,g=0,v=0;class f extends a.Disposable{constructor(e,t,i){super(),this._terminal=e,this._gl=t,this._dimensions=i,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const s=this._gl;void 0===o.TextureAtlas.maxAtlasPages&&(o.TextureAtlas.maxAtlasPages=Math.min(32,(0,r.throwIfFalsy)(s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS))),o.TextureAtlas.maxTextureSize=(0,r.throwIfFalsy)(s.getParameter(s.MAX_TEXTURE_SIZE))),this._program=(0,r.throwIfFalsy)((0,l.createProgram)(s,"#version 300 es\nlayout (location = 0) in vec2 a_unitquad;\nlayout (location = 1) in vec2 a_cellpos;\nlayout (location = 2) in vec2 a_offset;\nlayout (location = 3) in vec2 a_size;\nlayout (location = 4) in float a_texpage;\nlayout (location = 5) in vec2 a_texcoord;\nlayout (location = 6) in vec2 a_texsize;\n\nuniform mat4 u_projection;\nuniform vec2 u_resolution;\n\nout vec2 v_texcoord;\nflat out int v_texpage;\n\nvoid main() {\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_texpage = int(a_texpage);\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\n}",function(e){let t="";for(let i=1;i<e;i++)t+=` else if (v_texpage == ${i}) { outColor = texture(u_texture[${i}], v_texcoord); }`;return`#version 300 es\nprecision lowp float;\n\nin vec2 v_texcoord;\nflat in int v_texpage;\n\nuniform sampler2D u_texture[${e}];\n\nout vec4 outColor;\n\nvoid main() {\n  if (v_texpage == 0) {\n    outColor = texture(u_texture[0], v_texcoord);\n  } ${t}\n}`}(o.TextureAtlas.maxAtlasPages))),this.register((0,a.toDisposable)((()=>s.deleteProgram(this._program)))),this._projectionLocation=(0,r.throwIfFalsy)(s.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,r.throwIfFalsy)(s.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,r.throwIfFalsy)(s.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=s.createVertexArray(),s.bindVertexArray(this._vertexArrayObject);const n=new Float32Array([0,0,1,0,0,1,1,1]),h=s.createBuffer();this.register((0,a.toDisposable)((()=>s.deleteBuffer(h)))),s.bindBuffer(s.ARRAY_BUFFER,h),s.bufferData(s.ARRAY_BUFFER,n,s.STATIC_DRAW),s.enableVertexAttribArray(0),s.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const c=new Uint8Array([0,1,2,3]),_=s.createBuffer();this.register((0,a.toDisposable)((()=>s.deleteBuffer(_)))),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,_),s.bufferData(s.ELEMENT_ARRAY_BUFFER,c,s.STATIC_DRAW),this._attributesBuffer=(0,r.throwIfFalsy)(s.createBuffer()),this.register((0,a.toDisposable)((()=>s.deleteBuffer(this._attributesBuffer)))),s.bindBuffer(s.ARRAY_BUFFER,this._attributesBuffer),s.enableVertexAttribArray(2),s.vertexAttribPointer(2,2,s.FLOAT,!1,d,0),s.vertexAttribDivisor(2,1),s.enableVertexAttribArray(3),s.vertexAttribPointer(3,2,s.FLOAT,!1,d,2*Float32Array.BYTES_PER_ELEMENT),s.vertexAttribDivisor(3,1),s.enableVertexAttribArray(4),s.vertexAttribPointer(4,1,s.FLOAT,!1,d,4*Float32Array.BYTES_PER_ELEMENT),s.vertexAttribDivisor(4,1),s.enableVertexAttribArray(5),s.vertexAttribPointer(5,2,s.FLOAT,!1,d,5*Float32Array.BYTES_PER_ELEMENT),s.vertexAttribDivisor(5,1),s.enableVertexAttribArray(6),s.vertexAttribPointer(6,2,s.FLOAT,!1,d,7*Float32Array.BYTES_PER_ELEMENT),s.vertexAttribDivisor(6,1),s.enableVertexAttribArray(1),s.vertexAttribPointer(1,2,s.FLOAT,!1,d,9*Float32Array.BYTES_PER_ELEMENT),s.vertexAttribDivisor(1,1),s.useProgram(this._program);const u=new Int32Array(o.TextureAtlas.maxAtlasPages);for(let e=0;e<o.TextureAtlas.maxAtlasPages;e++)u[e]=e;s.uniform1iv(this._textureLocation,u),s.uniformMatrix4fv(this._projectionLocation,!1,l.PROJECTION_MATRIX),this._atlasTextures=[];for(let e=0;e<o.TextureAtlas.maxAtlasPages;e++){const t=new l.GLTexture((0,r.throwIfFalsy)(s.createTexture()));this.register((0,a.toDisposable)((()=>s.deleteTexture(t.texture)))),s.activeTexture(s.TEXTURE0+e),s.bindTexture(s.TEXTURE_2D,t.texture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,1,1,0,s.RGBA,s.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[e]=t}s.enable(s.BLEND),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(e,t,i,s,r,o,n,a){this._updateCell(this._vertices.attributes,e,t,i,s,r,o,n,a)}_updateCell(e,t,i,s,r,o,a,h,l){u=(i*this._terminal.cols+t)*c,s!==n.NULL_CELL_CODE&&void 0!==s?this._atlas&&(_=h&&h.length>1?this._atlas.getRasterizedGlyphCombinedChar(h,r,o,a,!1):this._atlas.getRasterizedGlyph(s,r,o,a,!1),g=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),r!==l&&_.offset.x>g?(v=_.offset.x-g,e[u]=-(_.offset.x-v)+this._dimensions.device.char.left,e[u+1]=-_.offset.y+this._dimensions.device.char.top,e[u+2]=(_.size.x-v)/this._dimensions.device.canvas.width,e[u+3]=_.size.y/this._dimensions.device.canvas.height,e[u+4]=_.texturePage,e[u+5]=_.texturePositionClipSpace.x+v/this._atlas.pages[_.texturePage].canvas.width,e[u+6]=_.texturePositionClipSpace.y,e[u+7]=_.sizeClipSpace.x-v/this._atlas.pages[_.texturePage].canvas.width,e[u+8]=_.sizeClipSpace.y):(e[u]=-_.offset.x+this._dimensions.device.char.left,e[u+1]=-_.offset.y+this._dimensions.device.char.top,e[u+2]=_.size.x/this._dimensions.device.canvas.width,e[u+3]=_.size.y/this._dimensions.device.canvas.height,e[u+4]=_.texturePage,e[u+5]=_.texturePositionClipSpace.x,e[u+6]=_.texturePositionClipSpace.y,e[u+7]=_.sizeClipSpace.x,e[u+8]=_.sizeClipSpace.y)):e.fill(0,u,u+c-1-2)}clear(){const e=this._terminal,t=e.cols*e.rows*c;this._vertices.count!==t?this._vertices.attributes=new Float32Array(t):this._vertices.attributes.fill(0);let i=0;for(;i<this._vertices.attributesBuffers.length;i++)this._vertices.count!==t?this._vertices.attributesBuffers[i]=new Float32Array(t):this._vertices.attributesBuffers[i].fill(0);this._vertices.count=t,i=0;for(let t=0;t<e.rows;t++)for(let s=0;s<e.cols;s++)this._vertices.attributes[i+9]=s/e.cols,this._vertices.attributes[i+10]=t/e.rows,i+=c}handleResize(){const e=this._gl;e.useProgram(this._program),e.viewport(0,0,e.canvas.width,e.canvas.height),e.uniform2f(this._resolutionLocation,e.canvas.width,e.canvas.height),this.clear()}render(e){if(!this._atlas)return;const t=this._gl;t.useProgram(this._program),t.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const i=this._vertices.attributesBuffers[this._activeBuffer];let s=0;for(let t=0;t<e.lineLengths.length;t++){const r=t*this._terminal.cols*c,o=this._vertices.attributes.subarray(r,r+e.lineLengths[t]*c);i.set(o,s),s+=o.length}t.bindBuffer(t.ARRAY_BUFFER,this._attributesBuffer),t.bufferData(t.ARRAY_BUFFER,i.subarray(0,s),t.STREAM_DRAW);for(let e=0;e<this._atlas.pages.length;e++)this._atlas.pages[e].version!==this._atlasTextures[e].version&&this._bindAtlasPageTexture(t,this._atlas,e);t.drawElementsInstanced(t.TRIANGLE_STRIP,4,t.UNSIGNED_BYTE,0,s/c)}setAtlas(e){this._atlas=e;for(const e of this._atlasTextures)e.version=-1}_bindAtlasPageTexture(e,t,i){e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,this._atlasTextures[i].texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.pages[i].canvas),e.generateMipmap(e.TEXTURE_2D),this._atlasTextures[i].version=t.pages[i].version}setDimensions(e){this._dimensions=e}}t.GlyphRenderer=f,s([h.traceCall],f.prototype,"updateCell",null)},742:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RectangleRenderer=void 0;const s=i(374),r=i(859),o=i(310),n=i(381),a=8*Float32Array.BYTES_PER_ELEMENT;class h{constructor(){this.attributes=new Float32Array(160),this.count=0}}let l=0,c=0,d=0,_=0,u=0,g=0,v=0;class f extends r.Disposable{constructor(e,t,i,o){super(),this._terminal=e,this._gl=t,this._dimensions=i,this._themeService=o,this._vertices=new h,this._verticesCursor=new h;const l=this._gl;this._program=(0,s.throwIfFalsy)((0,n.createProgram)(l,"#version 300 es\nlayout (location = 0) in vec2 a_position;\nlayout (location = 1) in vec2 a_size;\nlayout (location = 2) in vec4 a_color;\nlayout (location = 3) in vec2 a_unitquad;\n\nuniform mat4 u_projection;\n\nout vec4 v_color;\n\nvoid main() {\n  vec2 zeroToOne = a_position + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_color = a_color;\n}","#version 300 es\nprecision lowp float;\n\nin vec4 v_color;\n\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}")),this.register((0,r.toDisposable)((()=>l.deleteProgram(this._program)))),this._projectionLocation=(0,s.throwIfFalsy)(l.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=l.createVertexArray(),l.bindVertexArray(this._vertexArrayObject);const c=new Float32Array([0,0,1,0,0,1,1,1]),d=l.createBuffer();this.register((0,r.toDisposable)((()=>l.deleteBuffer(d)))),l.bindBuffer(l.ARRAY_BUFFER,d),l.bufferData(l.ARRAY_BUFFER,c,l.STATIC_DRAW),l.enableVertexAttribArray(3),l.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const _=new Uint8Array([0,1,2,3]),u=l.createBuffer();this.register((0,r.toDisposable)((()=>l.deleteBuffer(u)))),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,u),l.bufferData(l.ELEMENT_ARRAY_BUFFER,_,l.STATIC_DRAW),this._attributesBuffer=(0,s.throwIfFalsy)(l.createBuffer()),this.register((0,r.toDisposable)((()=>l.deleteBuffer(this._attributesBuffer)))),l.bindBuffer(l.ARRAY_BUFFER,this._attributesBuffer),l.enableVertexAttribArray(0),l.vertexAttribPointer(0,2,l.FLOAT,!1,a,0),l.vertexAttribDivisor(0,1),l.enableVertexAttribArray(1),l.vertexAttribPointer(1,2,l.FLOAT,!1,a,2*Float32Array.BYTES_PER_ELEMENT),l.vertexAttribDivisor(1,1),l.enableVertexAttribArray(2),l.vertexAttribPointer(2,4,l.FLOAT,!1,a,4*Float32Array.BYTES_PER_ELEMENT),l.vertexAttribDivisor(2,1),this._updateCachedColors(o.colors),this.register(this._themeService.onChangeColors((e=>{this._updateCachedColors(e),this._updateViewportRectangle()})))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(e){const t=this._gl;t.useProgram(this._program),t.bindVertexArray(this._vertexArrayObject),t.uniformMatrix4fv(this._projectionLocation,!1,n.PROJECTION_MATRIX),t.bindBuffer(t.ARRAY_BUFFER,this._attributesBuffer),t.bufferData(t.ARRAY_BUFFER,e.attributes,t.DYNAMIC_DRAW),t.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,t.UNSIGNED_BYTE,0,e.count)}handleResize(){this._updateViewportRectangle()}setDimensions(e){this._dimensions=e}_updateCachedColors(e){this._bgFloat=this._colorToFloat32Array(e.background),this._cursorFloat=this._colorToFloat32Array(e.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(e){const t=this._terminal,i=this._vertices;let s,r,n,a,h,l,c,d,_,u,g,v=1;for(s=0;s<t.rows;s++){for(n=-1,a=0,h=0,l=!1,r=0;r<t.cols;r++)c=(s*t.cols+r)*o.RENDER_MODEL_INDICIES_PER_CELL,d=e.cells[c+o.RENDER_MODEL_BG_OFFSET],_=e.cells[c+o.RENDER_MODEL_FG_OFFSET],u=!!(67108864&_),(d!==a||_!==h&&(l||u))&&((0!==a||l&&0!==h)&&(g=8*v++,this._updateRectangle(i,g,h,a,n,r,s)),n=r,a=d,h=_,l=u);(0!==a||l&&0!==h)&&(g=8*v++,this._updateRectangle(i,g,h,a,n,t.cols,s))}i.count=v}updateCursor(e){const t=this._verticesCursor,i=e.cursor;if(!i||"block"===i.style)return void(t.count=0);let s,r=0;"bar"!==i.style&&"outline"!==i.style||(s=8*r++,this._addRectangleFloat(t.attributes,s,i.x*this._dimensions.device.cell.width,i.y*this._dimensions.device.cell.height,"bar"===i.style?i.dpr*i.cursorWidth:i.dpr,this._dimensions.device.cell.height,this._cursorFloat)),"underline"!==i.style&&"outline"!==i.style||(s=8*r++,this._addRectangleFloat(t.attributes,s,i.x*this._dimensions.device.cell.width,(i.y+1)*this._dimensions.device.cell.height-i.dpr,i.width*this._dimensions.device.cell.width,i.dpr,this._cursorFloat)),"outline"===i.style&&(s=8*r++,this._addRectangleFloat(t.attributes,s,i.x*this._dimensions.device.cell.width,i.y*this._dimensions.device.cell.height,i.width*this._dimensions.device.cell.width,i.dpr,this._cursorFloat),s=8*r++,this._addRectangleFloat(t.attributes,s,(i.x+i.width)*this._dimensions.device.cell.width-i.dpr,i.y*this._dimensions.device.cell.height,i.dpr,this._dimensions.device.cell.height,this._cursorFloat)),t.count=r}_updateRectangle(e,t,i,s,r,o,a){if(67108864&i)switch(50331648&i){case 16777216:case 33554432:l=this._themeService.colors.ansi[255&i].rgba;break;case 50331648:l=(16777215&i)<<8;break;default:l=this._themeService.colors.foreground.rgba}else switch(50331648&s){case 16777216:case 33554432:l=this._themeService.colors.ansi[255&s].rgba;break;case 50331648:l=(16777215&s)<<8;break;default:l=this._themeService.colors.background.rgba}e.attributes.length<t+4&&(e.attributes=(0,n.expandFloat32Array)(e.attributes,this._terminal.rows*this._terminal.cols*8)),c=r*this._dimensions.device.cell.width,d=a*this._dimensions.device.cell.height,_=(l>>24&255)/255,u=(l>>16&255)/255,g=(l>>8&255)/255,v=1,this._addRectangle(e.attributes,t,c,d,(o-r)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,_,u,g,v)}_addRectangle(e,t,i,s,r,o,n,a,h,l){e[t]=i/this._dimensions.device.canvas.width,e[t+1]=s/this._dimensions.device.canvas.height,e[t+2]=r/this._dimensions.device.canvas.width,e[t+3]=o/this._dimensions.device.canvas.height,e[t+4]=n,e[t+5]=a,e[t+6]=h,e[t+7]=l}_addRectangleFloat(e,t,i,s,r,o,n){e[t]=i/this._dimensions.device.canvas.width,e[t+1]=s/this._dimensions.device.canvas.height,e[t+2]=r/this._dimensions.device.canvas.width,e[t+3]=o/this._dimensions.device.canvas.height,e[t+4]=n[0],e[t+5]=n[1],e[t+6]=n[2],e[t+7]=n[3]}_colorToFloat32Array(e){return new Float32Array([(e.rgba>>24&255)/255,(e.rgba>>16&255)/255,(e.rgba>>8&255)/255,(255&e.rgba)/255])}}t.RectangleRenderer=f},310:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderModel=t.COMBINED_CHAR_BIT_MASK=t.RENDER_MODEL_EXT_OFFSET=t.RENDER_MODEL_FG_OFFSET=t.RENDER_MODEL_BG_OFFSET=t.RENDER_MODEL_INDICIES_PER_CELL=void 0;const s=i(296);t.RENDER_MODEL_INDICIES_PER_CELL=4,t.RENDER_MODEL_BG_OFFSET=1,t.RENDER_MODEL_FG_OFFSET=2,t.RENDER_MODEL_EXT_OFFSET=3,t.COMBINED_CHAR_BIT_MASK=2147483648,t.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=(0,s.createSelectionRenderModel)()}resize(e,i){const s=e*i*t.RENDER_MODEL_INDICIES_PER_CELL;s!==this.cells.length&&(this.cells=new Uint32Array(s),this.lineLengths=new Uint32Array(i))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.JoinedCellData=t.WebglRenderer=void 0;const r=i(820),o=i(274),n=i(627),a=i(457),h=i(56),l=i(374),c=i(345),d=i(859),_=i(147),u=i(782),g=i(855),v=i(776),f=i(965),p=i(742),C=i(310),m=i(733);class L extends d.Disposable{constructor(e,t,i,s,a,_,g,v,f){super(),this._terminal=e,this._characterJoinerService=t,this._charSizeService=i,this._coreBrowserService=s,this._coreService=a,this._decorationService=_,this._optionsService=g,this._themeService=v,this._cursorBlinkStateManager=new d.MutableDisposable,this._charAtlasDisposable=this.register(new d.MutableDisposable),this._model=new C.RenderModel,this._workCell=new u.CellData,this._rectangleRenderer=this.register(new d.MutableDisposable),this._glyphRenderer=this.register(new d.MutableDisposable),this._onChangeTextureAtlas=this.register(new c.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new c.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new c.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new c.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new c.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors((()=>this._handleColorChange()))),this._cellColorResolver=new o.CellColorResolver(this._terminal,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new m.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier2,this._coreBrowserService,g,this._themeService)],this.dimensions=(0,l.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(g.onOptionChange((()=>this._handleOptionsChanged()))),this._canvas=document.createElement("canvas");const p={antialias:!1,depth:!1,preserveDrawingBuffer:f};if(this._gl=this._canvas.getContext("webgl2",p),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register((0,r.addDisposableDomListener)(this._canvas,"webglcontextlost",(e=>{console.log("webglcontextlost event received"),e.preventDefault(),this._contextRestorationTimeout=setTimeout((()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(e)}),3e3)}))),this.register((0,r.addDisposableDomListener)(this._canvas,"webglcontextrestored",(e=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,(0,n.removeTerminalFromCache)(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()}))),this.register((0,h.observeDevicePixelDimensions)(this._canvas,this._coreBrowserService.window,((e,t)=>this._setCanvasDevicePixelDimensions(e,t)))),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register((0,d.toDisposable)((()=>{var e;for(const e of this._renderLayers)e.dispose();null===(e=this._canvas.parentElement)||void 0===e||e.removeChild(this._canvas),(0,n.removeTerminalFromCache)(this._terminal)})))}get textureAtlas(){var e;return null===(e=this._charAtlas)||void 0===e?void 0:e.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(e,t){var i,s,r,o;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(const e of this._renderLayers)e.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,null===(i=this._rectangleRenderer.value)||void 0===i||i.setDimensions(this.dimensions),null===(s=this._rectangleRenderer.value)||void 0===s||s.handleResize(),null===(r=this._glyphRenderer.value)||void 0===r||r.setDimensions(this.dimensions),null===(o=this._glyphRenderer.value)||void 0===o||o.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){var e;for(const e of this._renderLayers)e.handleBlur(this._terminal);null===(e=this._cursorBlinkStateManager.value)||void 0===e||e.pause(),this._requestRedrawViewport()}handleFocus(){var e;for(const e of this._renderLayers)e.handleFocus(this._terminal);null===(e=this._cursorBlinkStateManager.value)||void 0===e||e.resume(),this._requestRedrawViewport()}handleSelectionChanged(e,t,i){for(const s of this._renderLayers)s.handleSelectionChanged(this._terminal,e,t,i);this._model.selection.update(this._terminal,e,t,i),this._requestRedrawViewport()}handleCursorMove(){var e;for(const e of this._renderLayers)e.handleCursorMove(this._terminal);null===(e=this._cursorBlinkStateManager.value)||void 0===e||e.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new p.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new f.GlyphRenderer(this._terminal,this._gl,this.dimensions),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){var e;if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const t=(0,n.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==t&&(this._onChangeTextureAtlas.fire(t.pages[0].canvas),this._charAtlasDisposable.value=(0,d.getDisposeArrayDisposable)([(0,c.forwardEvent)(t.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),(0,c.forwardEvent)(t.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=t,this._charAtlas.warmUp(),null===(e=this._glyphRenderer.value)||void 0===e||e.setAtlas(this._charAtlas)}_clearModel(e){var t;this._model.clear(),e&&(null===(t=this._glyphRenderer.value)||void 0===t||t.clear())}clearTextureAtlas(){var e;null===(e=this._charAtlas)||void 0===e||e.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){var e;this._clearModel(!0);for(const e of this._renderLayers)e.reset(this._terminal);null===(e=this._cursorBlinkStateManager.value)||void 0===e||e.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(e){return-1}deregisterCharacterJoiner(e){return!1}renderRows(e,t){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(const i of this._renderLayers)i.handleGridChanged(this._terminal,e,t);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(e,t),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new a.CursorBlinkStateManager((()=>{this._requestRedrawCursor()}),this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(e,t){const i=this._core;let s,r,o,n,a,h,l,c,d,_,u,v,f,p=this._workCell;e=w(e,i.rows-1,0),t=w(t,i.rows-1,0);const m=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,L=Math.min(this._terminal.buffer.active.cursorX,i.cols-1);let b=-1;const R=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let M=!1;for(r=e;r<=t;r++)for(o=r+i.buffer.ydisp,n=i.buffer.lines.get(o),this._model.lineLengths[r]=0,a=this._characterJoinerService.getJoinedCharacters(o),v=0;v<i.cols;v++)if(s=this._cellColorResolver.result.bg,n.loadCell(v,p),0===v&&(s=this._cellColorResolver.result.bg),h=!1,l=v,a.length>0&&v===a[0][0]&&(h=!0,c=a.shift(),p=new x(p,n.translateToString(!0,c[0],c[1]),c[1]-c[0]),l=c[1]-1),d=p.getChars(),_=p.getCode(),u=(r*i.cols+v)*C.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(p,v,o),R&&o===m&&(v===L&&(this._model.cursor={x:L,y:this._terminal.buffer.active.cursorY,width:p.getWidth(),style:this._coreBrowserService.isFocused?i.options.cursorStyle||"block":i.options.cursorInactiveStyle,cursorWidth:i.options.cursorWidth,dpr:this._devicePixelRatio},b=L+p.getWidth()-1),v>=L&&v<=b&&(this._coreBrowserService.isFocused&&"block"===(i.options.cursorStyle||"block")||!1===this._coreBrowserService.isFocused&&"block"===i.options.cursorInactiveStyle)&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),_!==g.NULL_CELL_CODE&&(this._model.lineLengths[r]=v+1),(this._model.cells[u]!==_||this._model.cells[u+C.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[u+C.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[u+C.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(M=!0,d.length>1&&(_|=C.COMBINED_CHAR_BIT_MASK),this._model.cells[u]=_,this._model.cells[u+C.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[u+C.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[u+C.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,this._glyphRenderer.value.updateCell(v,r,_,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,d,s),h))for(p=this._workCell,v++;v<l;v++)f=(r*i.cols+v)*C.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(v,r,g.NULL_CELL_CODE,0,0,0,g.NULL_CELL_CHAR,0),this._model.cells[f]=g.NULL_CELL_CODE,this._model.cells[f+C.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[f+C.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[f+C.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;M&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(e,t){this._canvas.width===e&&this._canvas.height===t||(this._canvas.width=e,this._canvas.height=t,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const e=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:e,end:e})}}t.WebglRenderer=L,s([v.traceCall],L.prototype,"renderRows",null);class x extends _.AttributeData{constructor(e,t,i){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=i}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function w(e,t,i=0){return Math.max(Math.min(e,t),i)}t.JoinedCellData=x},381:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GLTexture=t.expandFloat32Array=t.createShader=t.createProgram=t.PROJECTION_MATRIX=void 0;const s=i(374);function r(e,t,i){const r=(0,s.throwIfFalsy)(e.createShader(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.error(e.getShaderInfoLog(r)),e.deleteShader(r)}t.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),t.createProgram=function(e,t,i){const o=(0,s.throwIfFalsy)(e.createProgram());if(e.attachShader(o,(0,s.throwIfFalsy)(r(e,e.VERTEX_SHADER,t))),e.attachShader(o,(0,s.throwIfFalsy)(r(e,e.FRAGMENT_SHADER,i))),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS))return o;console.error(e.getProgramInfoLog(o)),e.deleteProgram(o)},t.createShader=r,t.expandFloat32Array=function(e,t){const i=Math.min(2*e.length,t),s=new Float32Array(i);for(let t=0;t<e.length;t++)s[t]=e[t];return s},t.GLTexture=class{constructor(e){this.texture=e,this.version=-1}}},592:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;const s=i(627),r=i(237),o=i(374),n=i(859);class a extends n.Disposable{constructor(e,t,i,s,r,o,a,h){super(),this._container=t,this._alpha=r,this._coreBrowserService=o,this._optionsService=a,this._themeService=h,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add(`xterm-${i}-layer`),this._canvas.style.zIndex=s.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors((t=>{this._refreshCharAtlas(e,t),this.reset(e)}))),this.register((0,n.toDisposable)((()=>{this._canvas.remove()})))}_initCanvas(){this._ctx=(0,o.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(e){}handleFocus(e){}handleCursorMove(e){}handleGridChanged(e,t,i){}handleSelectionChanged(e,t,i,s=!1){}_setTransparency(e,t){if(t===this._alpha)return;const i=this._canvas;this._alpha=t,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,i),this._refreshCharAtlas(e,this._themeService.colors),this.handleGridChanged(e,0,e.rows-1)}_refreshCharAtlas(e,t){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=(0,s.acquireTextureAtlas)(e,this._optionsService.rawOptions,t,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(e,t){this._deviceCellWidth=t.device.cell.width,this._deviceCellHeight=t.device.cell.height,this._deviceCharWidth=t.device.char.width,this._deviceCharHeight=t.device.char.height,this._deviceCharLeft=t.device.char.left,this._deviceCharTop=t.device.char.top,this._canvas.width=t.device.canvas.width,this._canvas.height=t.device.canvas.height,this._canvas.style.width=`${t.css.canvas.width}px`,this._canvas.style.height=`${t.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(e,this._themeService.colors)}_fillBottomLineAtCells(e,t,i=1){this._ctx.fillRect(e*this._deviceCellWidth,(t+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,i*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(e,t,i,s){this._alpha?this._ctx.clearRect(e*this._deviceCellWidth,t*this._deviceCellHeight,i*this._deviceCellWidth,s*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(e*this._deviceCellWidth,t*this._deviceCellHeight,i*this._deviceCellWidth,s*this._deviceCellHeight))}_fillCharTrueColor(e,t,i,s){this._ctx.font=this._getFont(e,!1,!1),this._ctx.textBaseline=r.TEXT_BASELINE,this._clipCell(i,s,t.getWidth()),this._ctx.fillText(t.getChars(),i*this._deviceCellWidth+this._deviceCharLeft,s*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(e,t,i){this._ctx.beginPath(),this._ctx.rect(e*this._deviceCellWidth,t*this._deviceCellHeight,i*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(e,t,i){return`${i?"italic":""} ${t?e.options.fontWeightBold:e.options.fontWeight} ${e.options.fontSize*this._coreBrowserService.dpr}px ${e.options.fontFamily}`}}t.BaseRenderLayer=a},733:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;const s=i(197),r=i(237),o=i(592);class n extends o.BaseRenderLayer{constructor(e,t,i,s,r,o,n){super(i,e,"link",t,!0,r,o,n),this.register(s.onShowLinkUnderline((e=>this._handleShowLinkUnderline(e)))),this.register(s.onHideLinkUnderline((e=>this._handleHideLinkUnderline(e))))}resize(e,t){super.resize(e,t),this._state=void 0}reset(e){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(e){if(e.fg===r.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:void 0!==e.fg&&(0,s.is256Color)(e.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[e.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(let t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e}_handleHideLinkUnderline(e){this._clearCurrentLink()}}t.LinkRenderLayer=n},820:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,i,s){e.addEventListener(t,i,s);let r=!1;return{dispose:()=>{r||(r=!0,e.removeEventListener(t,i,s))}}}},274:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellColorResolver=void 0;let i,s=0,r=0,o=!1,n=!1,a=!1;t.CellColorResolver=class{constructor(e,t,i,s,r){this._terminal=e,this._selectionRenderModel=t,this._decorationService=i,this._coreBrowserService=s,this._themeService=r,this.result={fg:0,bg:0,ext:0}}resolve(e,t,h){this.result.bg=e.bg,this.result.fg=e.fg,this.result.ext=268435456&e.bg?e.extended.ext:0,r=0,s=0,n=!1,o=!1,a=!1,i=this._themeService.colors,this._decorationService.forEachDecorationAtCell(t,h,"bottom",(e=>{e.backgroundColorRGB&&(r=e.backgroundColorRGB.rgba>>8&16777215,n=!0),e.foregroundColorRGB&&(s=e.foregroundColorRGB.rgba>>8&16777215,o=!0)})),a=this._selectionRenderModel.isCellSelected(this._terminal,t,h),a&&(r=(this._coreBrowserService.isFocused?i.selectionBackgroundOpaque:i.selectionInactiveBackgroundOpaque).rgba>>8&16777215,n=!0,i.selectionForeground&&(s=i.selectionForeground.rgba>>8&16777215,o=!0)),this._decorationService.forEachDecorationAtCell(t,h,"top",(e=>{e.backgroundColorRGB&&(r=e.backgroundColorRGB.rgba>>8&16777215,n=!0),e.foregroundColorRGB&&(s=e.foregroundColorRGB.rgba>>8&16777215,o=!0)})),n&&(r=a?-16777216&e.bg&-134217729|r|50331648:-16777216&e.bg|r|50331648),o&&(s=-16777216&e.fg&-67108865|s|50331648),67108864&this.result.fg&&(n&&!o&&(s=0==(50331648&this.result.bg)?-134217728&this.result.fg|16777215&i.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,o=!0),!n&&o&&(r=0==(50331648&this.result.fg)?-67108864&this.result.bg|16777215&i.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,n=!0)),i=void 0,this.result.bg=n?r:this.result.bg,this.result.fg=o?s:this.result.fg}}},627:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireTextureAtlas=void 0;const s=i(509),r=i(197),o=[];t.acquireTextureAtlas=function(e,t,i,n,a,h,l,c){const d=(0,r.generateConfig)(n,a,h,l,t,i,c);for(let t=0;t<o.length;t++){const i=o[t],s=i.ownedBy.indexOf(e);if(s>=0){if((0,r.configEquals)(i.config,d))return i.atlas;1===i.ownedBy.length?(i.atlas.dispose(),o.splice(t,1)):i.ownedBy.splice(s,1);break}}for(let t=0;t<o.length;t++){const i=o[t];if((0,r.configEquals)(i.config,d))return i.ownedBy.push(e),i.atlas}const _=e._core,u={atlas:new s.TextureAtlas(document,d,_.unicodeService),config:d,ownedBy:[e]};return o.push(u),u.atlas},t.removeTerminalFromCache=function(e){for(let t=0;t<o.length;t++){const i=o[t].ownedBy.indexOf(e);if(-1!==i){1===o[t].ownedBy.length?(o[t].atlas.dispose(),o.splice(t,1)):o[t].ownedBy.splice(i,1);break}}}},197:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;const s=i(160);t.generateConfig=function(e,t,i,r,o,n,a){const h={foreground:n.foreground,background:n.background,cursor:s.NULL_COLOR,cursorAccent:s.NULL_COLOR,selectionForeground:s.NULL_COLOR,selectionBackgroundTransparent:s.NULL_COLOR,selectionBackgroundOpaque:s.NULL_COLOR,selectionInactiveBackgroundTransparent:s.NULL_COLOR,selectionInactiveBackgroundOpaque:s.NULL_COLOR,ansi:n.ansi.slice(),contrastCache:n.contrastCache,halfContrastCache:n.halfContrastCache};return{customGlyphs:o.customGlyphs,devicePixelRatio:a,letterSpacing:o.letterSpacing,lineHeight:o.lineHeight,deviceCellWidth:e,deviceCellHeight:t,deviceCharWidth:i,deviceCharHeight:r,fontFamily:o.fontFamily,fontSize:o.fontSize,fontWeight:o.fontWeight,fontWeightBold:o.fontWeightBold,allowTransparency:o.allowTransparency,drawBoldTextInBrightColors:o.drawBoldTextInBrightColors,minimumContrastRatio:o.minimumContrastRatio,colors:h}},t.configEquals=function(e,t){for(let i=0;i<e.colors.ansi.length;i++)if(e.colors.ansi[i].rgba!==t.colors.ansi[i].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.customGlyphs===t.customGlyphs&&e.lineHeight===t.lineHeight&&e.letterSpacing===t.letterSpacing&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.deviceCharWidth===t.deviceCharWidth&&e.deviceCharHeight===t.deviceCharHeight&&e.drawBoldTextInBrightColors===t.drawBoldTextInBrightColors&&e.minimumContrastRatio===t.minimumContrastRatio&&e.colors.foreground.rgba===t.colors.foreground.rgba&&e.colors.background.rgba===t.colors.background.rgba},t.is256Color=function(e){return 16777216==(50331648&e)||33554432==(50331648&e)}},237:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const s=i(399);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=s.isFirefox||s.isLegacyEdge?"bottom":"ideographic"},457:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CursorBlinkStateManager=void 0;t.CursorBlinkStateManager=class{constructor(e,t){this._renderCallback=e,this._coreBrowserService=t,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._renderCallback(),this._animationFrame=void 0}))))}_restartInterval(e=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout((()=>{if(this._animationTimeRestarted){const e=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,e>0)return void this._restartInterval(e)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._renderCallback(),this._animationFrame=void 0})),this._blinkInterval=this._coreBrowserService.window.setInterval((()=>{if(this._animationTimeRestarted){const e=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(e)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._renderCallback(),this._animationFrame=void 0}))}),600)}),e)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tryDrawCustomChar=t.powerlineDefinitions=t.boxDrawingDefinitions=t.blockElementDefinitions=void 0;const s=i(374);t.blockElementDefinitions={"▀":[{x:0,y:0,w:8,h:4}],"▁":[{x:0,y:7,w:8,h:1}],"▂":[{x:0,y:6,w:8,h:2}],"▃":[{x:0,y:5,w:8,h:3}],"▄":[{x:0,y:4,w:8,h:4}],"▅":[{x:0,y:3,w:8,h:5}],"▆":[{x:0,y:2,w:8,h:6}],"▇":[{x:0,y:1,w:8,h:7}],"█":[{x:0,y:0,w:8,h:8}],"▉":[{x:0,y:0,w:7,h:8}],"▊":[{x:0,y:0,w:6,h:8}],"▋":[{x:0,y:0,w:5,h:8}],"▌":[{x:0,y:0,w:4,h:8}],"▍":[{x:0,y:0,w:3,h:8}],"▎":[{x:0,y:0,w:2,h:8}],"▏":[{x:0,y:0,w:1,h:8}],"▐":[{x:4,y:0,w:4,h:8}],"▔":[{x:0,y:0,w:8,h:1}],"▕":[{x:7,y:0,w:1,h:8}],"▖":[{x:0,y:4,w:4,h:4}],"▗":[{x:4,y:4,w:4,h:4}],"▘":[{x:0,y:0,w:4,h:4}],"▙":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"▚":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"▛":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"▜":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"▝":[{x:4,y:0,w:4,h:4}],"▞":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"▟":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"🭰":[{x:1,y:0,w:1,h:8}],"🭱":[{x:2,y:0,w:1,h:8}],"🭲":[{x:3,y:0,w:1,h:8}],"🭳":[{x:4,y:0,w:1,h:8}],"🭴":[{x:5,y:0,w:1,h:8}],"🭵":[{x:6,y:0,w:1,h:8}],"🭶":[{x:0,y:1,w:8,h:1}],"🭷":[{x:0,y:2,w:8,h:1}],"🭸":[{x:0,y:3,w:8,h:1}],"🭹":[{x:0,y:4,w:8,h:1}],"🭺":[{x:0,y:5,w:8,h:1}],"🭻":[{x:0,y:6,w:8,h:1}],"🭼":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🭽":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭾":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭿":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🮀":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮁":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮂":[{x:0,y:0,w:8,h:2}],"🮃":[{x:0,y:0,w:8,h:3}],"🮄":[{x:0,y:0,w:8,h:5}],"🮅":[{x:0,y:0,w:8,h:6}],"🮆":[{x:0,y:0,w:8,h:7}],"🮇":[{x:6,y:0,w:2,h:8}],"🮈":[{x:5,y:0,w:3,h:8}],"🮉":[{x:3,y:0,w:5,h:8}],"🮊":[{x:2,y:0,w:6,h:8}],"🮋":[{x:1,y:0,w:7,h:8}],"🮕":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"🮖":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"🮗":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const r={"░":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"▒":[[1,0],[0,0],[0,1],[0,0]],"▓":[[0,1],[1,1],[1,0],[1,1]]};t.boxDrawingDefinitions={"─":{1:"M0,.5 L1,.5"},"━":{3:"M0,.5 L1,.5"},"│":{1:"M.5,0 L.5,1"},"┃":{3:"M.5,0 L.5,1"},"┌":{1:"M0.5,1 L.5,.5 L1,.5"},"┏":{3:"M0.5,1 L.5,.5 L1,.5"},"┐":{1:"M0,.5 L.5,.5 L.5,1"},"┓":{3:"M0,.5 L.5,.5 L.5,1"},"└":{1:"M.5,0 L.5,.5 L1,.5"},"┗":{3:"M.5,0 L.5,.5 L1,.5"},"┘":{1:"M.5,0 L.5,.5 L0,.5"},"┛":{3:"M.5,0 L.5,.5 L0,.5"},"├":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"┣":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"┤":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"┫":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"┬":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"┳":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"┴":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"┻":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"┼":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"╋":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"╴":{1:"M.5,.5 L0,.5"},"╸":{3:"M.5,.5 L0,.5"},"╵":{1:"M.5,.5 L.5,0"},"╹":{3:"M.5,.5 L.5,0"},"╶":{1:"M.5,.5 L1,.5"},"╺":{3:"M.5,.5 L1,.5"},"╷":{1:"M.5,.5 L.5,1"},"╻":{3:"M.5,.5 L.5,1"},"═":{1:(e,t)=>`M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t}`},"║":{1:(e,t)=>`M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1`},"╒":{1:(e,t)=>`M.5,1 L.5,${.5-t} L1,${.5-t} M.5,${.5+t} L1,${.5+t}`},"╓":{1:(e,t)=>`M${.5-e},1 L${.5-e},.5 L1,.5 M${.5+e},.5 L${.5+e},1`},"╔":{1:(e,t)=>`M1,${.5-t} L${.5-e},${.5-t} L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1`},"╕":{1:(e,t)=>`M0,${.5-t} L.5,${.5-t} L.5,1 M0,${.5+t} L.5,${.5+t}`},"╖":{1:(e,t)=>`M${.5+e},1 L${.5+e},.5 L0,.5 M${.5-e},.5 L${.5-e},1`},"╗":{1:(e,t)=>`M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M0,${.5-t} L${.5+e},${.5-t} L${.5+e},1`},"╘":{1:(e,t)=>`M.5,0 L.5,${.5+t} L1,${.5+t} M.5,${.5-t} L1,${.5-t}`},"╙":{1:(e,t)=>`M1,.5 L${.5-e},.5 L${.5-e},0 M${.5+e},.5 L${.5+e},0`},"╚":{1:(e,t)=>`M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0 M1,${.5+t} L${.5-e},${.5+t} L${.5-e},0`},"╛":{1:(e,t)=>`M0,${.5+t} L.5,${.5+t} L.5,0 M0,${.5-t} L.5,${.5-t}`},"╜":{1:(e,t)=>`M0,.5 L${.5+e},.5 L${.5+e},0 M${.5-e},.5 L${.5-e},0`},"╝":{1:(e,t)=>`M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0 M0,${.5+t} L${.5+e},${.5+t} L${.5+e},0`},"╞":{1:(e,t)=>`M.5,0 L.5,1 M.5,${.5-t} L1,${.5-t} M.5,${.5+t} L1,${.5+t}`},"╟":{1:(e,t)=>`M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1 M${.5+e},.5 L1,.5`},"╠":{1:(e,t)=>`M${.5-e},0 L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1 M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0`},"╡":{1:(e,t)=>`M.5,0 L.5,1 M0,${.5-t} L.5,${.5-t} M0,${.5+t} L.5,${.5+t}`},"╢":{1:(e,t)=>`M0,.5 L${.5-e},.5 M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1`},"╣":{1:(e,t)=>`M${.5+e},0 L${.5+e},1 M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0`},"╤":{1:(e,t)=>`M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t} M.5,${.5+t} L.5,1`},"╥":{1:(e,t)=>`M0,.5 L1,.5 M${.5-e},.5 L${.5-e},1 M${.5+e},.5 L${.5+e},1`},"╦":{1:(e,t)=>`M0,${.5-t} L1,${.5-t} M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1`},"╧":{1:(e,t)=>`M.5,0 L.5,${.5-t} M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t}`},"╨":{1:(e,t)=>`M0,.5 L1,.5 M${.5-e},.5 L${.5-e},0 M${.5+e},.5 L${.5+e},0`},"╩":{1:(e,t)=>`M0,${.5+t} L1,${.5+t} M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0 M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0`},"╪":{1:(e,t)=>`M.5,0 L.5,1 M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t}`},"╫":{1:(e,t)=>`M0,.5 L1,.5 M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1`},"╬":{1:(e,t)=>`M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1 M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0 M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0`},"╱":{1:"M1,0 L0,1"},"╲":{1:"M0,0 L1,1"},"╳":{1:"M1,0 L0,1 M0,0 L1,1"},"╼":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"╽":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"╾":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"╿":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"┍":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"┎":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"┑":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"┒":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"┕":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"┖":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"┙":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"┚":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"┝":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"┞":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"┟":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"┠":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"┡":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"┢":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"┥":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"┦":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"┧":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"┨":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"┩":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"┪":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"┭":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┮":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"┯":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"┰":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"┱":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"┲":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"┵":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┶":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"┷":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"┸":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"┹":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"┺":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"┽":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┾":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"┿":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"╀":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"╁":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"╂":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"╃":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"╄":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"╅":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"╆":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"╇":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"╈":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"╉":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"╊":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"╌":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"╍":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"┄":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"┅":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"┈":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"┉":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"╎":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"╏":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"┆":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"┇":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"┊":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"┋":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"╭":{1:(e,t)=>`M.5,1 L.5,${.5+t/.15*.5} C.5,${.5+t/.15*.5},.5,.5,1,.5`},"╮":{1:(e,t)=>`M.5,1 L.5,${.5+t/.15*.5} C.5,${.5+t/.15*.5},.5,.5,0,.5`},"╯":{1:(e,t)=>`M.5,0 L.5,${.5-t/.15*.5} C.5,${.5-t/.15*.5},.5,.5,0,.5`},"╰":{1:(e,t)=>`M.5,0 L.5,${.5-t/.15*.5} C.5,${.5-t/.15*.5},.5,.5,1,.5`}},t.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},t.powerlineDefinitions[""]=t.powerlineDefinitions[""],t.powerlineDefinitions[""]=t.powerlineDefinitions[""],t.tryDrawCustomChar=function(e,i,n,l,c,d,_,u){const g=t.blockElementDefinitions[i];if(g)return function(e,t,i,s,r,o){for(let n=0;n<t.length;n++){const a=t[n],h=r/8,l=o/8;e.fillRect(i+a.x*h,s+a.y*l,a.w*h,a.h*l)}}(e,g,n,l,c,d),!0;const v=r[i];if(v)return function(e,t,i,r,n,a){let h=o.get(t);h||(h=new Map,o.set(t,h));const l=e.fillStyle;if("string"!=typeof l)throw new Error(`Unexpected fillStyle type "${l}"`);let c=h.get(l);if(!c){const i=t[0].length,r=t.length,o=document.createElement("canvas");o.width=i,o.height=r;const n=(0,s.throwIfFalsy)(o.getContext("2d")),a=new ImageData(i,r);let d,_,u,g;if(l.startsWith("#"))d=parseInt(l.slice(1,3),16),_=parseInt(l.slice(3,5),16),u=parseInt(l.slice(5,7),16),g=l.length>7&&parseInt(l.slice(7,9),16)||1;else{if(!l.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${l}" when drawing pattern glyph`);[d,_,u,g]=l.substring(5,l.length-1).split(",").map((e=>parseFloat(e)))}for(let e=0;e<r;e++)for(let s=0;s<i;s++)a.data[4*(e*i+s)]=d,a.data[4*(e*i+s)+1]=_,a.data[4*(e*i+s)+2]=u,a.data[4*(e*i+s)+3]=t[e][s]*(255*g);n.putImageData(a,0,0),c=(0,s.throwIfFalsy)(e.createPattern(o,null)),h.set(l,c)}e.fillStyle=c,e.fillRect(i,r,n,a)}(e,v,n,l,c,d),!0;const f=t.boxDrawingDefinitions[i];if(f)return function(e,t,i,s,r,o,n){e.strokeStyle=e.fillStyle;for(const[l,c]of Object.entries(t)){let t;e.beginPath(),e.lineWidth=n*Number.parseInt(l),t="function"==typeof c?c(.15,.15/o*r):c;for(const l of t.split(" ")){const t=l[0],c=a[t];if(!c){console.error(`Could not find drawing instructions for "${t}"`);continue}const d=l.substring(1).split(",");d[0]&&d[1]&&c(e,h(d,r,o,i,s,!0,n))}e.stroke(),e.closePath()}}(e,f,n,l,c,d,u),!0;const p=t.powerlineDefinitions[i];return!!p&&(function(e,t,i,s,r,o,n,l){var c,d;const _=new Path2D;_.rect(i,s,r,o),e.clip(_),e.beginPath();const u=n/12;e.lineWidth=l*u;for(const n of t.d.split(" ")){const _=n[0],g=a[_];if(!g){console.error(`Could not find drawing instructions for "${_}"`);continue}const v=n.substring(1).split(",");v[0]&&v[1]&&g(e,h(v,r,o,i,s,!1,l,(null!==(c=t.leftPadding)&&void 0!==c?c:0)*(u/2),(null!==(d=t.rightPadding)&&void 0!==d?d:0)*(u/2)))}1===t.type?(e.strokeStyle=e.fillStyle,e.stroke()):e.fill(),e.closePath()}(e,p,n,l,c,d,_,u),!0)};const o=new Map;function n(e,t,i=0){return Math.max(Math.min(e,t),i)}const a={C:(e,t)=>e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]),L:(e,t)=>e.lineTo(t[0],t[1]),M:(e,t)=>e.moveTo(t[0],t[1])};function h(e,t,i,s,r,o,a,h=0,l=0){const c=e.map((e=>parseFloat(e)||parseInt(e)));if(c.length<2)throw new Error("Too few arguments for instruction");for(let e=0;e<c.length;e+=2)c[e]*=t-h*a-l*a,o&&0!==c[e]&&(c[e]=n(Math.round(c[e]+.5)-.5,t,0)),c[e]+=s+h*a;for(let e=1;e<c.length;e+=2)c[e]*=i,o&&0!==c[e]&&(c[e]=n(Math.round(c[e]+.5)-.5,i,0)),c[e]+=r;return c}},56:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeDevicePixelDimensions=void 0;const s=i(859);t.observeDevicePixelDimensions=function(e,t,i){let r=new t.ResizeObserver((t=>{const s=t.find((t=>t.target===e));if(!s)return;if(!("devicePixelContentBoxSize"in s))return null==r||r.disconnect(),void(r=void 0);const o=s.devicePixelContentBoxSize[0].inlineSize,n=s.devicePixelContentBoxSize[0].blockSize;o>0&&n>0&&i(o,n)}));try{r.observe(e,{box:["device-pixel-content-box"]})}catch(e){r.disconnect(),r=void 0}return(0,s.toDisposable)((()=>null==r?void 0:r.disconnect()))}},374:(e,t)=>{function i(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=i,t.isRestrictedPowerlineGlyph=function(e){return 57520<=e&&e<=57527},t.excludeFromContrastRatioDemands=function(e){return i(e)||function(e){return 9472<=e&&e<=9631}(e)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},296:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSelectionRenderModel=void 0;class i{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(e,t,i,s=!1){if(this.selectionStart=t,this.selectionEnd=i,!t||!i||t[0]===i[0]&&t[1]===i[1])return void this.clear();const r=t[1]-e.buffer.active.viewportY,o=i[1]-e.buffer.active.viewportY,n=Math.max(r,0),a=Math.min(o,e.rows-1);n>=e.rows||a<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=s,this.viewportStartRow=r,this.viewportEndRow=o,this.viewportCappedStartRow=n,this.viewportCappedEndRow=a,this.startCol=t[0],this.endCol=i[0])}isCellSelected(e,t,i){return!!this.hasSelection&&(i-=e.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?t>=this.startCol&&i>=this.viewportCappedStartRow&&t<this.endCol&&i<=this.viewportCappedEndRow:t<this.startCol&&i>=this.viewportCappedStartRow&&t>=this.endCol&&i<=this.viewportCappedEndRow:i>this.viewportStartRow&&i<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&i===this.viewportStartRow&&t>=this.startCol&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&i===this.viewportEndRow&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&i===this.viewportStartRow&&t>=this.startCol)}}t.createSelectionRenderModel=function(){return new i}},509:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlas=void 0;const r=i(237),o=i(860),n=i(374),a=i(160),h=i(345),l=i(485),c=i(385),d=i(147),_=i(855),u=i(776),g={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let v;class f{get pages(){return this._pages}constructor(e,t,i){this._document=e,this._config=t,this._unicodeService=i,this._didWarmUp=!1,this._cacheMap=new l.FourKeyMap,this._cacheMapCombined=new l.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new d.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new h.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new h.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=m(e,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,n.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const e of this.pages)e.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const e=new c.IdleTaskQueue;for(let t=33;t<126;t++)e.enqueue((()=>{if(!this._cacheMap.get(t,_.DEFAULT_COLOR,_.DEFAULT_COLOR,_.DEFAULT_EXT)){const e=this._drawToCache(t,_.DEFAULT_COLOR,_.DEFAULT_COLOR,_.DEFAULT_EXT);this._cacheMap.set(t,_.DEFAULT_COLOR,_.DEFAULT_COLOR,_.DEFAULT_EXT,e)}}))}beginFrame(){return this._requestClearModel}clearTexture(){if(0!==this._pages[0].currentRow.x||0!==this._pages[0].currentRow.y){for(const e of this._pages)e.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(f.maxAtlasPages&&this._pages.length>=Math.max(4,f.maxAtlasPages)){const e=this._pages.filter((e=>2*e.canvas.width<=(f.maxTextureSize||4096))).sort(((e,t)=>t.canvas.width!==e.canvas.width?t.canvas.width-e.canvas.width:t.percentageUsed-e.percentageUsed));let t=-1,i=0;for(let s=0;s<e.length;s++)if(e[s].canvas.width!==i)t=s,i=e[s].canvas.width;else if(s-t==3)break;const s=e.slice(t,t+4),r=s.map((e=>e.glyphs[0].texturePage)).sort(((e,t)=>e>t?1:-1)),o=this.pages.length-s.length,n=this._mergePages(s,o);n.version++;for(let e=r.length-1;e>=0;e--)this._deletePage(r[e]);this.pages.push(n),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(n.canvas)}const e=new p(this._document,this._textureSize);return this._pages.push(e),this._activePages.push(e),this._onAddTextureAtlasCanvas.fire(e.canvas),e}_mergePages(e,t){const i=2*e[0].canvas.width,s=new p(this._document,i,e);for(const[r,o]of e.entries()){const e=r*o.canvas.width%i,n=Math.floor(r/2)*o.canvas.height;s.ctx.drawImage(o.canvas,e,n);for(const s of o.glyphs)s.texturePage=t,s.sizeClipSpace.x=s.size.x/i,s.sizeClipSpace.y=s.size.y/i,s.texturePosition.x+=e,s.texturePosition.y+=n,s.texturePositionClipSpace.x=s.texturePosition.x/i,s.texturePositionClipSpace.y=s.texturePosition.y/i;this._onRemoveTextureAtlasCanvas.fire(o.canvas);const a=this._activePages.indexOf(o);-1!==a&&this._activePages.splice(a,1)}return s}_deletePage(e){this._pages.splice(e,1);for(let t=e;t<this._pages.length;t++){const e=this._pages[t];for(const t of e.glyphs)t.texturePage--;e.version++}}getRasterizedGlyphCombinedChar(e,t,i,s,r){return this._getFromCacheMap(this._cacheMapCombined,e,t,i,s,r)}getRasterizedGlyph(e,t,i,s,r){return this._getFromCacheMap(this._cacheMap,e,t,i,s,r)}_getFromCacheMap(e,t,i,s,r,o=!1){return v=e.get(t,i,s,r),v||(v=this._drawToCache(t,i,s,r,o),e.set(t,i,s,r,v)),v}_getColorFromAnsiIndex(e){if(e>=this._config.colors.ansi.length)throw new Error("No color found for idx "+e);return this._config.colors.ansi[e]}_getBackgroundColor(e,t,i,s){if(this._config.allowTransparency)return a.NULL_COLOR;let r;switch(e){case 16777216:case 33554432:r=this._getColorFromAnsiIndex(t);break;case 50331648:const e=d.AttributeData.toColorRGB(t);r=a.rgba.toColor(e[0],e[1],e[2]);break;default:r=i?a.color.opaque(this._config.colors.foreground):this._config.colors.background}return r}_getForegroundColor(e,t,i,s,o,n,h,l,c,_){const u=this._getMinimumContrastColor(e,t,i,s,o,n,!1,c,l,_);if(u)return u;let g;switch(o){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&c&&n<8&&(n+=8),g=this._getColorFromAnsiIndex(n);break;case 50331648:const e=d.AttributeData.toColorRGB(n);g=a.rgba.toColor(e[0],e[1],e[2]);break;default:g=h?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(g=a.color.opaque(g)),l&&(g=a.color.multiplyOpacity(g,r.DIM_OPACITY)),g}_resolveBackgroundRgba(e,t,i){switch(e){case 16777216:case 33554432:return this._getColorFromAnsiIndex(t).rgba;case 50331648:return t<<8;default:return i?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(e,t,i,s){switch(e){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&s&&t<8&&(t+=8),this._getColorFromAnsiIndex(t).rgba;case 50331648:return t<<8;default:return i?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(e,t,i,s,r,o,n,h,l,c){if(1===this._config.minimumContrastRatio||c)return;const d=this._getContrastCache(l),_=d.getColor(e,s);if(void 0!==_)return _||void 0;const u=this._resolveBackgroundRgba(t,i,n),g=this._resolveForegroundRgba(r,o,n,h),v=a.rgba.ensureContrastRatio(u,g,this._config.minimumContrastRatio/(l?2:1));if(!v)return void d.setColor(e,s,null);const f=a.rgba.toColor(v>>24&255,v>>16&255,v>>8&255);return d.setColor(e,s,f),f}_getContrastCache(e){return e?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(e,t,i,s,a=!1){const h="number"==typeof e?String.fromCharCode(e):e,l=Math.min(this._config.deviceCellWidth*Math.max(h.length,2)+4,this._textureSize);this._tmpCanvas.width<l&&(this._tmpCanvas.width=l);const c=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<c&&(this._tmpCanvas.height=c),this._tmpCtx.save(),this._workAttributeData.fg=i,this._workAttributeData.bg=t,this._workAttributeData.extended.ext=s,this._workAttributeData.isInvisible())return g;const _=!!this._workAttributeData.isBold(),u=!!this._workAttributeData.isInverse(),v=!!this._workAttributeData.isDim(),p=!!this._workAttributeData.isItalic(),m=!!this._workAttributeData.isUnderline(),L=!!this._workAttributeData.isStrikethrough(),x=!!this._workAttributeData.isOverline();let w=this._workAttributeData.getFgColor(),b=this._workAttributeData.getFgColorMode(),R=this._workAttributeData.getBgColor(),M=this._workAttributeData.getBgColorMode();if(u){const e=w;w=R,R=e;const t=b;b=M,M=t}const y=this._getBackgroundColor(M,R,u,v);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=y.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const A=_?this._config.fontWeightBold:this._config.fontWeight,E=p?"italic":"";this._tmpCtx.font=`${E} ${A} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=r.TEXT_BASELINE;const S=1===h.length&&(0,n.isPowerlineGlyph)(h.charCodeAt(0)),T=1===h.length&&(0,n.isRestrictedPowerlineGlyph)(h.charCodeAt(0)),D=this._getForegroundColor(t,M,R,i,b,w,u,v,_,(0,n.excludeFromContrastRatioDemands)(h.charCodeAt(0)));this._tmpCtx.fillStyle=D.css;const P=T?0:4;let F=!1;!1!==this._config.customGlyphs&&(F=(0,o.tryDrawCustomChar)(this._tmpCtx,h,P,P,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let B,I=!S;if(B="number"==typeof e?this._unicodeService.wcwidth(e):this._unicodeService.getStringCellWidth(e),m){this._tmpCtx.save();const e=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),t=e%2==1?.5:0;if(this._tmpCtx.lineWidth=e,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())I=!1,this._tmpCtx.strokeStyle=`rgb(${d.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{I=!1;let e=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&e<8&&(e+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(e).css}this._tmpCtx.beginPath();const i=P,s=Math.ceil(P+this._config.deviceCharHeight)-t-(a?2*e:0),r=s+e,o=s+2*e;for(let n=0;n<B;n++){this._tmpCtx.save();const a=i+n*this._config.deviceCellWidth,h=i+(n+1)*this._config.deviceCellWidth,l=a+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(a,s),this._tmpCtx.lineTo(h,s),this._tmpCtx.moveTo(a,o),this._tmpCtx.lineTo(h,o);break;case 3:const i=e<=1?o:Math.ceil(P+this._config.deviceCharHeight-e/2)-t,n=e<=1?s:Math.ceil(P+this._config.deviceCharHeight+e/2)-t,c=new Path2D;c.rect(a,s,this._config.deviceCellWidth,o-s),this._tmpCtx.clip(c),this._tmpCtx.moveTo(a-this._config.deviceCellWidth/2,r),this._tmpCtx.bezierCurveTo(a-this._config.deviceCellWidth/2,n,a,n,a,r),this._tmpCtx.bezierCurveTo(a,i,l,i,l,r),this._tmpCtx.bezierCurveTo(l,n,h,n,h,r),this._tmpCtx.bezierCurveTo(h,i,h+this._config.deviceCellWidth/2,i,h+this._config.deviceCellWidth/2,r);break;case 4:this._tmpCtx.setLineDash([Math.round(e),Math.round(e)]),this._tmpCtx.moveTo(a,s),this._tmpCtx.lineTo(h,s);break;case 5:this._tmpCtx.setLineDash([4*this._config.devicePixelRatio,3*this._config.devicePixelRatio]),this._tmpCtx.moveTo(a,s),this._tmpCtx.lineTo(h,s);break;default:this._tmpCtx.moveTo(a,s),this._tmpCtx.lineTo(h,s)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!F&&this._config.fontSize>=12&&!this._config.allowTransparency&&" "!==h){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const t=this._tmpCtx.measureText(h);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in t&&t.actualBoundingBoxDescent>0){this._tmpCtx.save();const t=new Path2D;t.rect(i,s-Math.ceil(e/2),this._config.deviceCellWidth*B,o-s+Math.ceil(e/2)),this._tmpCtx.clip(t),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=y.css,this._tmpCtx.strokeText(h,P,P+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(x){const e=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),t=e%2==1?.5:0;this._tmpCtx.lineWidth=e,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(P,P+t),this._tmpCtx.lineTo(P+this._config.deviceCharWidth*B,P+t),this._tmpCtx.stroke()}if(F||this._tmpCtx.fillText(h,P,P+this._config.deviceCharHeight),"_"===h&&!this._config.allowTransparency){let e=C(this._tmpCtx.getImageData(P,P,this._config.deviceCellWidth,this._config.deviceCellHeight),y,D,I);if(e)for(let t=1;t<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=y.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(h,P,P+this._config.deviceCharHeight-t),e=C(this._tmpCtx.getImageData(P,P,this._config.deviceCellWidth,this._config.deviceCellHeight),y,D,I),e);t++);}if(L){const e=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),t=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=e,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(P,P+Math.floor(this._config.deviceCharHeight/2)-t),this._tmpCtx.lineTo(P+this._config.deviceCharWidth*B,P+Math.floor(this._config.deviceCharHeight/2)-t),this._tmpCtx.stroke()}this._tmpCtx.restore();const O=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let $;if($=this._config.allowTransparency?function(e){for(let t=0;t<e.data.length;t+=4)if(e.data[t+3]>0)return!1;return!0}(O):C(O,y,D,I),$)return g;const k=this._findGlyphBoundingBox(O,this._workBoundingBox,l,T,F,P);let U,N;for(;;){if(0===this._activePages.length){const e=this._createNewPage();U=e,N=e.currentRow,N.height=k.size.y;break}U=this._activePages[this._activePages.length-1],N=U.currentRow;for(const e of this._activePages)k.size.y<=e.currentRow.height&&(U=e,N=e.currentRow);for(let e=this._activePages.length-1;e>=0;e--)for(const t of this._activePages[e].fixedRows)t.height<=N.height&&k.size.y<=t.height&&(U=this._activePages[e],N=t);if(N.y+k.size.y>=U.canvas.height||N.height>k.size.y+2){let e=!1;if(U.currentRow.y+U.currentRow.height+k.size.y>=U.canvas.height){let t;for(const e of this._activePages)if(e.currentRow.y+e.currentRow.height+k.size.y<e.canvas.height){t=e;break}if(t)U=t;else if(f.maxAtlasPages&&this._pages.length>=f.maxAtlasPages&&N.y+k.size.y<=U.canvas.height&&N.height>=k.size.y&&N.x+k.size.x<=U.canvas.width)e=!0;else{const t=this._createNewPage();U=t,N=t.currentRow,N.height=k.size.y,e=!0}}e||(U.currentRow.height>0&&U.fixedRows.push(U.currentRow),N={x:0,y:U.currentRow.y+U.currentRow.height,height:k.size.y},U.fixedRows.push(N),U.currentRow={x:0,y:N.y+N.height,height:0})}if(N.x+k.size.x<=U.canvas.width)break;N===U.currentRow?(N.x=0,N.y+=N.height,N.height=0):U.fixedRows.splice(U.fixedRows.indexOf(N),1)}return k.texturePage=this._pages.indexOf(U),k.texturePosition.x=N.x,k.texturePosition.y=N.y,k.texturePositionClipSpace.x=N.x/U.canvas.width,k.texturePositionClipSpace.y=N.y/U.canvas.height,k.sizeClipSpace.x/=U.canvas.width,k.sizeClipSpace.y/=U.canvas.height,N.height=Math.max(N.height,k.size.y),N.x+=k.size.x,U.ctx.putImageData(O,k.texturePosition.x-this._workBoundingBox.left,k.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,k.size.x,k.size.y),U.addGlyph(k),U.version++,k}_findGlyphBoundingBox(e,t,i,s,r,o){t.top=0;const n=s?this._config.deviceCellHeight:this._tmpCanvas.height,a=s?this._config.deviceCellWidth:i;let h=!1;for(let i=0;i<n;i++){for(let s=0;s<a;s++){const r=i*this._tmpCanvas.width*4+4*s+3;if(0!==e.data[r]){t.top=i,h=!0;break}}if(h)break}t.left=0,h=!1;for(let i=0;i<o+a;i++){for(let s=0;s<n;s++){const r=s*this._tmpCanvas.width*4+4*i+3;if(0!==e.data[r]){t.left=i,h=!0;break}}if(h)break}t.right=a,h=!1;for(let i=o+a-1;i>=o;i--){for(let s=0;s<n;s++){const r=s*this._tmpCanvas.width*4+4*i+3;if(0!==e.data[r]){t.right=i,h=!0;break}}if(h)break}t.bottom=n,h=!1;for(let i=n-1;i>=0;i--){for(let s=0;s<a;s++){const r=i*this._tmpCanvas.width*4+4*s+3;if(0!==e.data[r]){t.bottom=i,h=!0;break}}if(h)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:t.right-t.left+1,y:t.bottom-t.top+1},sizeClipSpace:{x:t.right-t.left+1,y:t.bottom-t.top+1},offset:{x:-t.left+o+(s||r?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-t.top+o+(s||r?1===this._config.lineHeight?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}t.TextureAtlas=f,s([u.traceCall],f.prototype,"_drawToCache",null);class p{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(e){this._glyphs.push(e),this._usedPixels+=e.size.x*e.size.y}constructor(e,t,i){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],i)for(const e of i)this._glyphs.push(...e.glyphs),this._usedPixels+=e._usedPixels;this.canvas=m(e,t,t),this.ctx=(0,n.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function C(e,t,i,s){const r=t.rgba>>>24,o=t.rgba>>>16&255,n=t.rgba>>>8&255,a=i.rgba>>>24,h=i.rgba>>>16&255,l=i.rgba>>>8&255,c=Math.floor((Math.abs(r-a)+Math.abs(o-h)+Math.abs(n-l))/12);let d=!0;for(let t=0;t<e.data.length;t+=4)e.data[t]===r&&e.data[t+1]===o&&e.data[t+2]===n||s&&Math.abs(e.data[t]-r)+Math.abs(e.data[t+1]-o)+Math.abs(e.data[t+2]-n)<c?e.data[t+3]=0:d=!1;return d}function m(e,t,i){const s=e.createElement("canvas");return s.width=t,s.height=i,s}},160:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;const s=i(399);let r=0,o=0,n=0,a=0;var h,l,c,d,_;function u(e){const t=e.toString(16);return t.length<2?"0"+t:t}function g(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},function(e){e.toCss=function(e,t,i,s){return void 0!==s?`#${u(e)}${u(t)}${u(i)}${u(s)}`:`#${u(e)}${u(t)}${u(i)}`},e.toRgba=function(e,t,i,s=255){return(e<<24|t<<16|i<<8|s)>>>0}}(h||(t.channels=h={})),function(e){function t(e,t){return a=Math.round(255*t),[r,o,n]=_.toChannels(e.rgba),{css:h.toCss(r,o,n,a),rgba:h.toRgba(r,o,n,a)}}e.blend=function(e,t){if(a=(255&t.rgba)/255,1===a)return{css:t.css,rgba:t.rgba};const i=t.rgba>>24&255,s=t.rgba>>16&255,l=t.rgba>>8&255,c=e.rgba>>24&255,d=e.rgba>>16&255,_=e.rgba>>8&255;return r=c+Math.round((i-c)*a),o=d+Math.round((s-d)*a),n=_+Math.round((l-_)*a),{css:h.toCss(r,o,n),rgba:h.toRgba(r,o,n)}},e.isOpaque=function(e){return 255==(255&e.rgba)},e.ensureContrastRatio=function(e,t,i){const s=_.ensureContrastRatio(e.rgba,t.rgba,i);if(s)return _.toColor(s>>24&255,s>>16&255,s>>8&255)},e.opaque=function(e){const t=(255|e.rgba)>>>0;return[r,o,n]=_.toChannels(t),{css:h.toCss(r,o,n),rgba:t}},e.opacity=t,e.multiplyOpacity=function(e,i){return a=255&e.rgba,t(e,a*i/255)},e.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]}}(l||(t.color=l={})),function(e){let t,i;if(!s.isNode){const e=document.createElement("canvas");e.width=1,e.height=1;const s=e.getContext("2d",{willReadFrequently:!0});s&&(t=s,t.globalCompositeOperation="copy",i=t.createLinearGradient(0,0,1,1))}e.toColor=function(e){if(e.match(/#[\da-f]{3,8}/i))switch(e.length){case 4:return r=parseInt(e.slice(1,2).repeat(2),16),o=parseInt(e.slice(2,3).repeat(2),16),n=parseInt(e.slice(3,4).repeat(2),16),_.toColor(r,o,n);case 5:return r=parseInt(e.slice(1,2).repeat(2),16),o=parseInt(e.slice(2,3).repeat(2),16),n=parseInt(e.slice(3,4).repeat(2),16),a=parseInt(e.slice(4,5).repeat(2),16),_.toColor(r,o,n,a);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}const s=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(s)return r=parseInt(s[1]),o=parseInt(s[2]),n=parseInt(s[3]),a=Math.round(255*(void 0===s[5]?1:parseFloat(s[5]))),_.toColor(r,o,n,a);if(!t||!i)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=i,t.fillStyle=e,"string"!=typeof t.fillStyle)throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[r,o,n,a]=t.getImageData(0,0,1,1).data,255!==a)throw new Error("css.toColor: Unsupported css format");return{rgba:h.toRgba(r,o,n,a),css:e}}}(c||(t.css=c={})),function(e){function t(e,t,i){const s=e/255,r=t/255,o=i/255;return.2126*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(d||(t.rgb=d={})),function(e){function t(e,t,i){const s=e>>24&255,r=e>>16&255,o=e>>8&255;let n=t>>24&255,a=t>>16&255,h=t>>8&255,l=g(d.relativeLuminance2(n,a,h),d.relativeLuminance2(s,r,o));for(;l<i&&(n>0||a>0||h>0);)n-=Math.max(0,Math.ceil(.1*n)),a-=Math.max(0,Math.ceil(.1*a)),h-=Math.max(0,Math.ceil(.1*h)),l=g(d.relativeLuminance2(n,a,h),d.relativeLuminance2(s,r,o));return(n<<24|a<<16|h<<8|255)>>>0}function i(e,t,i){const s=e>>24&255,r=e>>16&255,o=e>>8&255;let n=t>>24&255,a=t>>16&255,h=t>>8&255,l=g(d.relativeLuminance2(n,a,h),d.relativeLuminance2(s,r,o));for(;l<i&&(n<255||a<255||h<255);)n=Math.min(255,n+Math.ceil(.1*(255-n))),a=Math.min(255,a+Math.ceil(.1*(255-a))),h=Math.min(255,h+Math.ceil(.1*(255-h))),l=g(d.relativeLuminance2(n,a,h),d.relativeLuminance2(s,r,o));return(n<<24|a<<16|h<<8|255)>>>0}e.ensureContrastRatio=function(e,s,r){const o=d.relativeLuminance(e>>8),n=d.relativeLuminance(s>>8);if(g(o,n)<r){if(n<o){const n=t(e,s,r),a=g(o,d.relativeLuminance(n>>8));if(a<r){const t=i(e,s,r);return a>g(o,d.relativeLuminance(t>>8))?n:t}return n}const a=i(e,s,r),h=g(o,d.relativeLuminance(a>>8));if(h<r){const i=t(e,s,r);return h>g(o,d.relativeLuminance(i>>8))?a:i}return a}},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i,s){return{css:h.toCss(e,t,i,s),rgba:h.toRgba(e,t,i,s)}}}(_||(t.rgba=_={})),t.toPaddedHex=u,t.contrastRatio=g},345:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>(this._listeners.push(e),{dispose:()=>{if(!this._disposed)for(let t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)}})),this._event}fire(e,t){const i=[];for(let e=0;e<this._listeners.length;e++)i.push(this._listeners[e]);for(let s=0;s<i.length;s++)i[s].call(void 0,e,t)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(e,t){return e((e=>t.fire(e)))}},859:(e,t)=>{function i(e){for(const t of e)t.dispose();e.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const e of this._disposables)e.dispose();this._disposables.length=0}register(e){return this._disposables.push(e),e}unregister(e){const t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}},t.toDisposable=function(e){return{dispose:e}},t.disposeArray=i,t.getDisposeArrayDisposable=function(e){return{dispose:()=>i(e)}}},485:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class i{constructor(){this._data={}}set(e,t,i){this._data[e]||(this._data[e]={}),this._data[e][t]=i}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}}t.TwoKeyMap=i,t.FourKeyMap=class{constructor(){this._data=new i}set(e,t,s,r,o){this._data.get(e,t)||this._data.set(e,t,new i),this._data.get(e,t).set(s,r,o)}get(e,t,i,s){var r;return null===(r=this._data.get(e,t))||void 0===r?void 0:r.get(i,s)}clear(){this._data.clear()}}},399:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode="undefined"==typeof navigator;const i=t.isNode?"node":navigator.userAgent,s=t.isNode?"node":navigator.platform;t.isFirefox=i.includes("Firefox"),t.isLegacyEdge=i.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(i),t.getSafariVersion=function(){if(!t.isSafari)return 0;const e=i.match(/Version\/(\d+)/);return null===e||e.length<2?0:parseInt(e[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(s),t.isIpad="iPad"===s,t.isIphone="iPhone"===s,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(s),t.isLinux=s.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(i)},385:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const s=i(399);class r{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,i=0,s=e.timeRemaining(),r=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,Date.now()-t),i=Math.max(t,i),r=e.timeRemaining(),1.5*i>r)return s-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-t))}ms`),void this._start();s=r}this.clear()}}class o extends r{_requestCallback(e){return setTimeout((()=>e(this._createDeadline(16))))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){const t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}}t.PriorityTaskQueue=o,t.IdleTaskQueue=!s.isNode&&"requestIdleCallback"in window?class extends r{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}}:o,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}}},147:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class i{constructor(){this.fg=0,this.bg=0,this.extended=new s}static toColorRGB(e){return[e>>>16&255,e>>>8&255,255&e]}static fromColorRGB(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]}clone(){const e=new i;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=i;class s{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(e){this._ext&=-67108864,this._ext|=67108863&e}get urlId(){return this._urlId}set urlId(e){this._urlId=e}constructor(e=0,t=0){this._ext=0,this._urlId=0,this._ext=e,this._urlId=t}clone(){return new s(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}t.ExtendedAttrs=s},782:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const s=i(133),r=i(855),o=i(147);class n extends o.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new o.ExtendedAttrs,this.combinedData=""}static fromCharData(e){const t=new n;return t.setFromCharData(e),t}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,s.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(e){this.fg=e[r.CHAR_DATA_ATTR_INDEX],this.bg=0;let t=!1;if(e[r.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[r.CHAR_DATA_CHAR_INDEX].length){const i=e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){const s=e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=s&&s<=57343?this.content=1024*(i-55296)+s-56320+65536|e[r.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[r.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[r.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[r.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=n},855:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},133:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t=0,i=e.length){let s="";for(let r=t;r<i;++r){let t=e[r];t>65535?(t-=65536,s+=String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):s+=String.fromCharCode(t)}return s},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){const i=e.length;if(!i)return 0;let s=0,r=0;if(this._interim){const i=e.charCodeAt(r++);56320<=i&&i<=57343?t[s++]=1024*(this._interim-55296)+i-56320+65536:(t[s++]=this._interim,t[s++]=i),this._interim=0}for(let o=r;o<i;++o){const r=e.charCodeAt(o);if(55296<=r&&r<=56319){if(++o>=i)return this._interim=r,s;const n=e.charCodeAt(o);56320<=n&&n<=57343?t[s++]=1024*(r-55296)+n-56320+65536:(t[s++]=r,t[s++]=n)}else 65279!==r&&(t[s++]=r)}return s}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){const i=e.length;if(!i)return 0;let s,r,o,n,a=0,h=0,l=0;if(this.interim[0]){let s=!1,r=this.interim[0];r&=192==(224&r)?31:224==(240&r)?15:7;let o,n=0;for(;(o=63&this.interim[++n])&&n<4;)r<<=6,r|=o;const h=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,c=h-n;for(;l<c;){if(l>=i)return 0;if(o=e[l++],128!=(192&o)){l--,s=!0;break}this.interim[n++]=o,r<<=6,r|=63&o}s||(2===h?r<128?l--:t[a++]=r:3===h?r<2048||r>=55296&&r<=57343||65279===r||(t[a++]=r):r<65536||r>1114111||(t[a++]=r)),this.interim.fill(0)}const c=i-4;let d=l;for(;d<i;){for(;!(!(d<c)||128&(s=e[d])||128&(r=e[d+1])||128&(o=e[d+2])||128&(n=e[d+3]));)t[a++]=s,t[a++]=r,t[a++]=o,t[a++]=n,d+=4;if(s=e[d++],s<128)t[a++]=s;else if(192==(224&s)){if(d>=i)return this.interim[0]=s,a;if(r=e[d++],128!=(192&r)){d--;continue}if(h=(31&s)<<6|63&r,h<128){d--;continue}t[a++]=h}else if(224==(240&s)){if(d>=i)return this.interim[0]=s,a;if(r=e[d++],128!=(192&r)){d--;continue}if(d>=i)return this.interim[0]=s,this.interim[1]=r,a;if(o=e[d++],128!=(192&o)){d--;continue}if(h=(15&s)<<12|(63&r)<<6|63&o,h<2048||h>=55296&&h<=57343||65279===h)continue;t[a++]=h}else if(240==(248&s)){if(d>=i)return this.interim[0]=s,a;if(r=e[d++],128!=(192&r)){d--;continue}if(d>=i)return this.interim[0]=s,this.interim[1]=r,a;if(o=e[d++],128!=(192&o)){d--;continue}if(d>=i)return this.interim[0]=s,this.interim[1]=r,this.interim[2]=o,a;if(n=e[d++],128!=(192&n)){d--;continue}if(h=(7&s)<<18|(63&r)<<12|(63&o)<<6|63&n,h<65536||h>1114111)continue;t[a++]=h}}return a}}},776:function(e,t,i){var s=this&&this.__decorate||function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n},r=this&&this.__param||function(e,t){return function(i,s){t(i,s,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const o=i(859),n=i(97),a={trace:n.LogLevelEnum.TRACE,debug:n.LogLevelEnum.DEBUG,info:n.LogLevelEnum.INFO,warn:n.LogLevelEnum.WARN,error:n.LogLevelEnum.ERROR,off:n.LogLevelEnum.OFF};let h,l=t.LogService=class extends o.Disposable{get logLevel(){return this._logLevel}constructor(e){super(),this._optionsService=e,this._logLevel=n.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),h=this}_updateLogLevel(){this._logLevel=a[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())}_log(e,t,i){this._evalLazyOptionalParams(i),e.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+t,...i)}trace(e,...t){var i,s;this._logLevel<=n.LogLevelEnum.TRACE&&this._log(null!==(s=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.trace.bind(this._optionsService.options.logger))&&void 0!==s?s:console.log,e,t)}debug(e,...t){var i,s;this._logLevel<=n.LogLevelEnum.DEBUG&&this._log(null!==(s=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.debug.bind(this._optionsService.options.logger))&&void 0!==s?s:console.log,e,t)}info(e,...t){var i,s;this._logLevel<=n.LogLevelEnum.INFO&&this._log(null!==(s=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.info.bind(this._optionsService.options.logger))&&void 0!==s?s:console.info,e,t)}warn(e,...t){var i,s;this._logLevel<=n.LogLevelEnum.WARN&&this._log(null!==(s=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.warn.bind(this._optionsService.options.logger))&&void 0!==s?s:console.warn,e,t)}error(e,...t){var i,s;this._logLevel<=n.LogLevelEnum.ERROR&&this._log(null!==(s=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.error.bind(this._optionsService.options.logger))&&void 0!==s?s:console.error,e,t)}};t.LogService=l=s([r(0,n.IOptionsService)],l),t.setTraceLogger=function(e){h=e},t.traceCall=function(e,t,i){if("function"!=typeof i.value)throw new Error("not supported");const s=i.value;i.value=function(...e){if(h.logLevel!==n.LogLevelEnum.TRACE)return s.apply(this,e);h.trace(`GlyphRenderer#${s.name}(${e.map((e=>JSON.stringify(e))).join(", ")})`);const t=s.apply(this,e);return h.trace(`GlyphRenderer#${s.name} return`,t),t}}},726:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const i="di$target",s="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[s]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);const r=function(e,t,o){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,r){t[i]===t?t[s].push({id:e,index:r}):(t[s]=[{id:e,index:r}],t[i]=t)}(r,e,o)};return r.toString=()=>e,t.serviceRegistry.set(e,r),r}},97:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const s=i(726);var r;t.IBufferService=(0,s.createDecorator)("BufferService"),t.ICoreMouseService=(0,s.createDecorator)("CoreMouseService"),t.ICoreService=(0,s.createDecorator)("CoreService"),t.ICharsetService=(0,s.createDecorator)("CharsetService"),t.IInstantiationService=(0,s.createDecorator)("InstantiationService"),function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.OFF=5]="OFF"}(r||(t.LogLevelEnum=r={})),t.ILogService=(0,s.createDecorator)("LogService"),t.IOptionsService=(0,s.createDecorator)("OptionsService"),t.IOscLinkService=(0,s.createDecorator)("OscLinkService"),t.IUnicodeService=(0,s.createDecorator)("UnicodeService"),t.IDecorationService=(0,s.createDecorator)("DecorationService")}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,i),o.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.WebglAddon=void 0;const t=i(345),r=i(859),o=i(399),n=i(666),a=i(776);class h extends r.Disposable{constructor(e){if(o.isSafari&&(0,o.getSafariVersion)()<16)throw new Error("Webgl2 is only supported on Safari 16 and above");super(),this._preserveDrawingBuffer=e,this._onChangeTextureAtlas=this.register(new t.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new t.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new t.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new t.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(e){const i=e._core;if(!e.element)return void this.register(i.onWillOpen((()=>this.activate(e))));this._terminal=e;const s=i.coreService,o=i.optionsService,h=i,l=h._renderService,c=h._characterJoinerService,d=h._charSizeService,_=h._coreBrowserService,u=h._decorationService,g=h._logService,v=h._themeService;(0,a.setTraceLogger)(g),this._renderer=this.register(new n.WebglRenderer(e,c,d,_,s,u,o,v,this._preserveDrawingBuffer)),this.register((0,t.forwardEvent)(this._renderer.onContextLoss,this._onContextLoss)),this.register((0,t.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,t.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register((0,t.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),l.setRenderer(this._renderer),this.register((0,r.toDisposable)((()=>{const t=this._terminal._core._renderService;t.setRenderer(this._terminal._core._createRenderer()),t.handleResize(e.cols,e.rows)})))}get textureAtlas(){var e;return null===(e=this._renderer)||void 0===e?void 0:e.textureAtlas}clearTextureAtlas(){var e;null===(e=this._renderer)||void 0===e||e.clearTextureAtlas()}}e.WebglAddon=h})(),s})()));
//# sourceMappingURL=xterm-addon-webgl.js.map

/***/ }),

/***/ 8487:
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%23666" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 20 20"><path d="m10 3 2 2H8l2-2v14l-2-2h4l-2 2"/></svg> ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"%23666\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" viewBox=\"0 0 20 20\"><path d=\"m10 3 2 2H8l2-2v14l-2-2h4l-2 2\"/></svg>";

/***/ }),

/***/ 5156:
/*!************************!*\
  !*** external "React" ***!
  \************************/
/***/ ((module) => {

module.exports = globalThis["React"];

/***/ }),

/***/ 9280:
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/***/ ((module) => {

module.exports = globalThis["ReactDOM"];

/***/ }),

/***/ 2238:
/*!********************!*\
  !*** external "_" ***!
  \********************/
/***/ ((module) => {

module.exports = globalThis["_"];

/***/ }),

/***/ 4606:
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/***/ ((module) => {

module.exports = globalThis["dayjs"];

/***/ }),

/***/ 6877:
/*!**************************!*\
  !*** external "echarts" ***!
  \**************************/
/***/ ((module) => {

module.exports = globalThis["echarts"];

/***/ }),

/***/ 9193:
/*!*************************!*\
  !*** external "window" ***!
  \*************************/
/***/ ((module) => {

module.exports = globalThis["window"];

/***/ }),

/***/ 4445:
/*!***************************************************************************!*\
  !*** external ["./vendors/react-quill/dist/react-quill.js","ReactQuill"] ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var __webpack_error__ = new Error();
module.exports = new Promise((resolve, reject) => {
	if(typeof ReactQuill !== "undefined") return resolve();
	__webpack_require__.l("./vendors/react-quill/dist/react-quill.js", (event) => {
		if(typeof ReactQuill !== "undefined") return resolve();
		var errorType = event && (event.type === 'load' ? 'missing' : event.type);
		var realSrc = event && event.target && event.target.src;
		__webpack_error__.message = 'Loading script failed.\n(' + errorType + ': ' + realSrc + ')';
		__webpack_error__.name = 'ScriptExternalLoadError';
		__webpack_error__.type = errorType;
		__webpack_error__.request = realSrc;
		reject(__webpack_error__);
	}, "ReactQuill");
}).then(() => (ReactQuill));

/***/ }),

/***/ 9557:
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@babel+runtime@7.24.5/node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \***************************************************************************************************************/
/***/ ((module) => {

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
module.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 7500:
/*!******************************************************************************!*\
  !*** ./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js ***!
  \******************************************************************************/
/***/ ((module, exports) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = '';

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (arg) {
				classes = appendClass(classes, parseValue(arg));
			}
		}

		return classes;
	}

	function parseValue (arg) {
		if (typeof arg === 'string' || typeof arg === 'number') {
			return arg;
		}

		if (typeof arg !== 'object') {
			return '';
		}

		if (Array.isArray(arg)) {
			return classNames.apply(null, arg);
		}

		if (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {
			return arg.toString();
		}

		var classes = '';

		for (var key in arg) {
			if (hasOwn.call(arg, key) && arg[key]) {
				classes = appendClass(classes, key);
			}
		}

		return classes;
	}

	function appendClass (value, newClass) {
		if (!newClass) {
			return value;
		}
	
		if (value) {
			return value + ' ' + newClass;
		}
	
		return value + newClass;
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),

/***/ 840:
/*!****************************************************************************!*\
  !*** ./node_modules/.pnpm/byte-size@8.1.1/node_modules/byte-size/index.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * @module byte-size
 */

let defaultOptions = {}
const _options = new WeakMap()

const referenceTables = {
  metric: [
    { from: 0, to: 1e3, unit: 'B', long: 'bytes' },
    { from: 1e3, to: 1e6, unit: 'kB', long: 'kilobytes' },
    { from: 1e6, to: 1e9, unit: 'MB', long: 'megabytes' },
    { from: 1e9, to: 1e12, unit: 'GB', long: 'gigabytes' },
    { from: 1e12, to: 1e15, unit: 'TB', long: 'terabytes' },
    { from: 1e15, to: 1e18, unit: 'PB', long: 'petabytes' },
    { from: 1e18, to: 1e21, unit: 'EB', long: 'exabytes' },
    { from: 1e21, to: 1e24, unit: 'ZB', long: 'zettabytes' },
    { from: 1e24, to: 1e27, unit: 'YB', long: 'yottabytes' }
  ],
  metric_octet: [
    { from: 0, to: 1e3, unit: 'o', long: 'octets' },
    { from: 1e3, to: 1e6, unit: 'ko', long: 'kilooctets' },
    { from: 1e6, to: 1e9, unit: 'Mo', long: 'megaoctets' },
    { from: 1e9, to: 1e12, unit: 'Go', long: 'gigaoctets' },
    { from: 1e12, to: 1e15, unit: 'To', long: 'teraoctets' },
    { from: 1e15, to: 1e18, unit: 'Po', long: 'petaoctets' },
    { from: 1e18, to: 1e21, unit: 'Eo', long: 'exaoctets' },
    { from: 1e21, to: 1e24, unit: 'Zo', long: 'zettaoctets' },
    { from: 1e24, to: 1e27, unit: 'Yo', long: 'yottaoctets' }
  ],
  iec: [
    { from: 0, to: Math.pow(1024, 1), unit: 'B', long: 'bytes' },
    { from: Math.pow(1024, 1), to: Math.pow(1024, 2), unit: 'KiB', long: 'kibibytes' },
    { from: Math.pow(1024, 2), to: Math.pow(1024, 3), unit: 'MiB', long: 'mebibytes' },
    { from: Math.pow(1024, 3), to: Math.pow(1024, 4), unit: 'GiB', long: 'gibibytes' },
    { from: Math.pow(1024, 4), to: Math.pow(1024, 5), unit: 'TiB', long: 'tebibytes' },
    { from: Math.pow(1024, 5), to: Math.pow(1024, 6), unit: 'PiB', long: 'pebibytes' },
    { from: Math.pow(1024, 6), to: Math.pow(1024, 7), unit: 'EiB', long: 'exbibytes' },
    { from: Math.pow(1024, 7), to: Math.pow(1024, 8), unit: 'ZiB', long: 'zebibytes' },
    { from: Math.pow(1024, 8), to: Math.pow(1024, 9), unit: 'YiB', long: 'yobibytes' }
  ],
  iec_octet: [
    { from: 0, to: Math.pow(1024, 1), unit: 'o', long: 'octets' },
    { from: Math.pow(1024, 1), to: Math.pow(1024, 2), unit: 'Kio', long: 'kibioctets' },
    { from: Math.pow(1024, 2), to: Math.pow(1024, 3), unit: 'Mio', long: 'mebioctets' },
    { from: Math.pow(1024, 3), to: Math.pow(1024, 4), unit: 'Gio', long: 'gibioctets' },
    { from: Math.pow(1024, 4), to: Math.pow(1024, 5), unit: 'Tio', long: 'tebioctets' },
    { from: Math.pow(1024, 5), to: Math.pow(1024, 6), unit: 'Pio', long: 'pebioctets' },
    { from: Math.pow(1024, 6), to: Math.pow(1024, 7), unit: 'Eio', long: 'exbioctets' },
    { from: Math.pow(1024, 7), to: Math.pow(1024, 8), unit: 'Zio', long: 'zebioctets' },
    { from: Math.pow(1024, 8), to: Math.pow(1024, 9), unit: 'Yio', long: 'yobioctets' }
  ]
}

class ByteSize {
  constructor (bytes, options) {
    options = Object.assign({
      units: 'metric',
      precision: 1,
      locale: undefined // Default to the user's system locale
    }, defaultOptions, options)
    _options.set(this, options)

    Object.assign(referenceTables, options.customUnits)

    const prefix = bytes < 0 ? '-' : ''
    bytes = Math.abs(bytes)
    const table = referenceTables[options.units]
    if (table) {
      const units = table.find(u => bytes >= u.from && bytes < u.to)
      if (units) {
        const defaultFormat = new Intl.NumberFormat(options.locale, {
          style: 'decimal',
          minimumFractionDigits: options.precision,
          maximumFractionDigits: options.precision
        })
        const value = units.from === 0
          ? prefix + bytes
          : prefix + defaultFormat.format(bytes / units.from)
        this.value = value
        this.unit = units.unit
        this.long = units.long
      } else {
        this.value = prefix + bytes
        this.unit = ''
        this.long = ''
      }
    } else {
      throw new Error(`Invalid units specified: ${options.units}`)
    }
  }

  toString () {
    const options = _options.get(this)
    return options.toStringFn ? options.toStringFn.bind(this)() : `${this.value} ${this.unit}`
  }
}

/**
 * Returns an object with the spec `{ value: string, unit: string, long: string }`. The returned object defines a `toString` method meaning it can be used in any string context.
 * @param {number} - The bytes value to convert.
 * @param [options] {object} - Optional config.
 * @param [options.precision] {number} - Number of decimal places. Defaults to `1`.
 * @param [options.units] {string} - Specify `'metric'`, `'iec'`, `'metric_octet'`, `'iec_octet'` or the name of a property from the custom units table in `options.customUnits`. Defaults to `metric`.
 * @param [options.customUnits] {object} - An object containing one or more custom unit lookup tables.
 * @param [options.toStringFn] {function} - A `toString` function to override the default.
 * @param [options.locale] {string|string[]} - *Node >=13 or modern browser only - on earlier platforms this option is ignored*. The locale to use for number formatting (e.g. `'de-DE'`). Defaults to your system locale. Passed directed into [Intl.NumberFormat()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat).
 * @returns {object}
 * @alias module:byte-size
 */
function byteSize (bytes, options) {
  return new ByteSize(bytes, options)
}

/**
 * Set the default `byteSize` options for the duration of the process.
 * @param options {object} - A `byteSize` options object.
 */
byteSize.defaultOptions = function (options) {
  defaultOptions = options
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (byteSize);


/***/ }),

/***/ 664:
/*!***************************************************************************!*\
  !*** ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g7: () => (/* binding */ Chalk)
/* harmony export */ });
/* unused harmony exports chalkStderr, supportsColor, supportsColorStderr */
/* harmony import */ var _ansi_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! #ansi-styles */ 1692);
/* harmony import */ var _supports_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! #supports-color */ 1994);
/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities.js */ 7244);




const {stdout: stdoutColor, stderr: stderrColor} = _supports_color__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A;

const GENERATOR = Symbol('GENERATOR');
const STYLER = Symbol('STYLER');
const IS_EMPTY = Symbol('IS_EMPTY');

// `supportsColor.level` → `ansiStyles.color[name]` mapping
const levelMapping = [
	'ansi',
	'ansi',
	'ansi256',
	'ansi16m',
];

const styles = Object.create(null);

const applyOptions = (object, options = {}) => {
	if (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {
		throw new Error('The `level` option should be an integer from 0 to 3');
	}

	// Detect level if not set manually
	const colorLevel = stdoutColor ? stdoutColor.level : 0;
	object.level = options.level === undefined ? colorLevel : options.level;
};

class Chalk {
	constructor(options) {
		// eslint-disable-next-line no-constructor-return
		return chalkFactory(options);
	}
}

const chalkFactory = options => {
	const chalk = (...strings) => strings.join(' ');
	applyOptions(chalk, options);

	Object.setPrototypeOf(chalk, createChalk.prototype);

	return chalk;
};

function createChalk(options) {
	return chalkFactory(options);
}

Object.setPrototypeOf(createChalk.prototype, Function.prototype);

for (const [styleName, style] of Object.entries(_ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay)) {
	styles[styleName] = {
		get() {
			const builder = createBuilder(this, createStyler(style.open, style.close, this[STYLER]), this[IS_EMPTY]);
			Object.defineProperty(this, styleName, {value: builder});
			return builder;
		},
	};
}

styles.visible = {
	get() {
		const builder = createBuilder(this, this[STYLER], true);
		Object.defineProperty(this, 'visible', {value: builder});
		return builder;
	},
};

const getModelAnsi = (model, level, type, ...arguments_) => {
	if (model === 'rgb') {
		if (level === 'ansi16m') {
			return _ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay[type].ansi16m(...arguments_);
		}

		if (level === 'ansi256') {
			return _ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay[type].ansi256(_ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay.rgbToAnsi256(...arguments_));
		}

		return _ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay[type].ansi(_ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay.rgbToAnsi(...arguments_));
	}

	if (model === 'hex') {
		return getModelAnsi('rgb', level, type, ..._ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay.hexToRgb(...arguments_));
	}

	return _ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay[type][model](...arguments_);
};

const usedModels = ['rgb', 'hex', 'ansi256'];

for (const model of usedModels) {
	styles[model] = {
		get() {
			const {level} = this;
			return function (...arguments_) {
				const styler = createStyler(getModelAnsi(model, levelMapping[level], 'color', ...arguments_), _ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay.color.close, this[STYLER]);
				return createBuilder(this, styler, this[IS_EMPTY]);
			};
		},
	};

	const bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);
	styles[bgModel] = {
		get() {
			const {level} = this;
			return function (...arguments_) {
				const styler = createStyler(getModelAnsi(model, levelMapping[level], 'bgColor', ...arguments_), _ansi_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Ay.bgColor.close, this[STYLER]);
				return createBuilder(this, styler, this[IS_EMPTY]);
			};
		},
	};
}

const proto = Object.defineProperties(() => {}, {
	...styles,
	level: {
		enumerable: true,
		get() {
			return this[GENERATOR].level;
		},
		set(level) {
			this[GENERATOR].level = level;
		},
	},
});

const createStyler = (open, close, parent) => {
	let openAll;
	let closeAll;
	if (parent === undefined) {
		openAll = open;
		closeAll = close;
	} else {
		openAll = parent.openAll + open;
		closeAll = close + parent.closeAll;
	}

	return {
		open,
		close,
		openAll,
		closeAll,
		parent,
	};
};

const createBuilder = (self, _styler, _isEmpty) => {
	// Single argument is hot path, implicit coercion is faster than anything
	// eslint-disable-next-line no-implicit-coercion
	const builder = (...arguments_) => applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));

	// We alter the prototype because we must return a function, but there is
	// no way to create a function with a different prototype
	Object.setPrototypeOf(builder, proto);

	builder[GENERATOR] = self;
	builder[STYLER] = _styler;
	builder[IS_EMPTY] = _isEmpty;

	return builder;
};

const applyStyle = (self, string) => {
	if (self.level <= 0 || !string) {
		return self[IS_EMPTY] ? '' : string;
	}

	let styler = self[STYLER];

	if (styler === undefined) {
		return string;
	}

	const {openAll, closeAll} = styler;
	if (string.includes('\u001B')) {
		while (styler !== undefined) {
			// Replace any instances already present with a re-opening code
			// otherwise only the part of the string until said closing code
			// will be colored, and the rest will simply be 'plain'.
			string = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__/* .stringReplaceAll */ .d)(string, styler.close, styler.open);

			styler = styler.parent;
		}
	}

	// We can move both next actions out of loop, because remaining actions in loop won't have
	// any/visible effect on parts we add here. Close the styling before a linebreak and reopen
	// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92
	const lfIndex = string.indexOf('\n');
	if (lfIndex !== -1) {
		string = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__/* .stringEncaseCRLFWithFirstIndex */ .o)(string, closeAll, openAll, lfIndex);
	}

	return openAll + string + closeAll;
};

Object.defineProperties(createChalk.prototype, styles);

const chalk = createChalk();
const chalkStderr = createChalk({level: stderrColor ? stderrColor.level : 0});





/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (chalk)));


/***/ }),

/***/ 7244:
/*!*******************************************************************************!*\
  !*** ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/utilities.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ stringReplaceAll),
/* harmony export */   o: () => (/* binding */ stringEncaseCRLFWithFirstIndex)
/* harmony export */ });
// TODO: When targeting Node.js 16, use `String.prototype.replaceAll`.
function stringReplaceAll(string, substring, replacer) {
	let index = string.indexOf(substring);
	if (index === -1) {
		return string;
	}

	const substringLength = substring.length;
	let endIndex = 0;
	let returnValue = '';
	do {
		returnValue += string.slice(endIndex, index) + substring + replacer;
		endIndex = index + substringLength;
		index = string.indexOf(substring, endIndex);
	} while (index !== -1);

	returnValue += string.slice(endIndex);
	return returnValue;
}

function stringEncaseCRLFWithFirstIndex(string, prefix, postfix, index) {
	let endIndex = 0;
	let returnValue = '';
	do {
		const gotCR = string[index - 1] === '\r';
		returnValue += string.slice(endIndex, (gotCR ? index - 1 : index)) + prefix + (gotCR ? '\r\n' : '\n') + postfix;
		endIndex = index + 1;
		index = string.indexOf('\n', endIndex);
	} while (index !== -1);

	returnValue += string.slice(endIndex);
	return returnValue;
}


/***/ }),

/***/ 1692:
/*!**********************************************************************************************!*\
  !*** ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/vendor/ansi-styles/index.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ay: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* unused harmony exports modifierNames, foregroundColorNames, backgroundColorNames, colorNames */
const ANSI_BACKGROUND_OFFSET = 10;

const wrapAnsi16 = (offset = 0) => code => `\u001B[${code + offset}m`;

const wrapAnsi256 = (offset = 0) => code => `\u001B[${38 + offset};5;${code}m`;

const wrapAnsi16m = (offset = 0) => (red, green, blue) => `\u001B[${38 + offset};2;${red};${green};${blue}m`;

const styles = {
	modifier: {
		reset: [0, 0],
		// 21 isn't widely supported and 22 does the same thing
		bold: [1, 22],
		dim: [2, 22],
		italic: [3, 23],
		underline: [4, 24],
		overline: [53, 55],
		inverse: [7, 27],
		hidden: [8, 28],
		strikethrough: [9, 29],
	},
	color: {
		black: [30, 39],
		red: [31, 39],
		green: [32, 39],
		yellow: [33, 39],
		blue: [34, 39],
		magenta: [35, 39],
		cyan: [36, 39],
		white: [37, 39],

		// Bright color
		blackBright: [90, 39],
		gray: [90, 39], // Alias of `blackBright`
		grey: [90, 39], // Alias of `blackBright`
		redBright: [91, 39],
		greenBright: [92, 39],
		yellowBright: [93, 39],
		blueBright: [94, 39],
		magentaBright: [95, 39],
		cyanBright: [96, 39],
		whiteBright: [97, 39],
	},
	bgColor: {
		bgBlack: [40, 49],
		bgRed: [41, 49],
		bgGreen: [42, 49],
		bgYellow: [43, 49],
		bgBlue: [44, 49],
		bgMagenta: [45, 49],
		bgCyan: [46, 49],
		bgWhite: [47, 49],

		// Bright color
		bgBlackBright: [100, 49],
		bgGray: [100, 49], // Alias of `bgBlackBright`
		bgGrey: [100, 49], // Alias of `bgBlackBright`
		bgRedBright: [101, 49],
		bgGreenBright: [102, 49],
		bgYellowBright: [103, 49],
		bgBlueBright: [104, 49],
		bgMagentaBright: [105, 49],
		bgCyanBright: [106, 49],
		bgWhiteBright: [107, 49],
	},
};

const modifierNames = Object.keys(styles.modifier);
const foregroundColorNames = Object.keys(styles.color);
const backgroundColorNames = Object.keys(styles.bgColor);
const colorNames = [...foregroundColorNames, ...backgroundColorNames];

function assembleStyles() {
	const codes = new Map();

	for (const [groupName, group] of Object.entries(styles)) {
		for (const [styleName, style] of Object.entries(group)) {
			styles[styleName] = {
				open: `\u001B[${style[0]}m`,
				close: `\u001B[${style[1]}m`,
			};

			group[styleName] = styles[styleName];

			codes.set(style[0], style[1]);
		}

		Object.defineProperty(styles, groupName, {
			value: group,
			enumerable: false,
		});
	}

	Object.defineProperty(styles, 'codes', {
		value: codes,
		enumerable: false,
	});

	styles.color.close = '\u001B[39m';
	styles.bgColor.close = '\u001B[49m';

	styles.color.ansi = wrapAnsi16();
	styles.color.ansi256 = wrapAnsi256();
	styles.color.ansi16m = wrapAnsi16m();
	styles.bgColor.ansi = wrapAnsi16(ANSI_BACKGROUND_OFFSET);
	styles.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);
	styles.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);

	// From https://github.com/Qix-/color-convert/blob/3f0e0d4e92e235796ccb17f6e85c72094a651f49/conversions.js
	Object.defineProperties(styles, {
		rgbToAnsi256: {
			value(red, green, blue) {
				// We use the extended greyscale palette here, with the exception of
				// black and white. normal palette only has 4 greyscale shades.
				if (red === green && green === blue) {
					if (red < 8) {
						return 16;
					}

					if (red > 248) {
						return 231;
					}

					return Math.round(((red - 8) / 247) * 24) + 232;
				}

				return 16
					+ (36 * Math.round(red / 255 * 5))
					+ (6 * Math.round(green / 255 * 5))
					+ Math.round(blue / 255 * 5);
			},
			enumerable: false,
		},
		hexToRgb: {
			value(hex) {
				const matches = /[a-f\d]{6}|[a-f\d]{3}/i.exec(hex.toString(16));
				if (!matches) {
					return [0, 0, 0];
				}

				let [colorString] = matches;

				if (colorString.length === 3) {
					colorString = [...colorString].map(character => character + character).join('');
				}

				const integer = Number.parseInt(colorString, 16);

				return [
					/* eslint-disable no-bitwise */
					(integer >> 16) & 0xFF,
					(integer >> 8) & 0xFF,
					integer & 0xFF,
					/* eslint-enable no-bitwise */
				];
			},
			enumerable: false,
		},
		hexToAnsi256: {
			value: hex => styles.rgbToAnsi256(...styles.hexToRgb(hex)),
			enumerable: false,
		},
		ansi256ToAnsi: {
			value(code) {
				if (code < 8) {
					return 30 + code;
				}

				if (code < 16) {
					return 90 + (code - 8);
				}

				let red;
				let green;
				let blue;

				if (code >= 232) {
					red = (((code - 232) * 10) + 8) / 255;
					green = red;
					blue = red;
				} else {
					code -= 16;

					const remainder = code % 36;

					red = Math.floor(code / 36) / 5;
					green = Math.floor(remainder / 6) / 5;
					blue = (remainder % 6) / 5;
				}

				const value = Math.max(red, green, blue) * 2;

				if (value === 0) {
					return 30;
				}

				// eslint-disable-next-line no-bitwise
				let result = 30 + ((Math.round(blue) << 2) | (Math.round(green) << 1) | Math.round(red));

				if (value === 2) {
					result += 60;
				}

				return result;
			},
			enumerable: false,
		},
		rgbToAnsi: {
			value: (red, green, blue) => styles.ansi256ToAnsi(styles.rgbToAnsi256(red, green, blue)),
			enumerable: false,
		},
		hexToAnsi: {
			value: hex => styles.ansi256ToAnsi(styles.hexToAnsi256(hex)),
			enumerable: false,
		},
	});

	return styles;
}

const ansiStyles = assembleStyles();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ansiStyles);


/***/ }),

/***/ 1994:
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/vendor/supports-color/browser.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-env browser */

const level = (() => {
	if (navigator.userAgentData) {
		const brand = navigator.userAgentData.brands.find(({brand}) => brand === 'Chromium');
		if (brand && brand.version > 93) {
			return 3;
		}
	}

	if (/\b(Chrome|Chromium)\//.test(navigator.userAgent)) {
		return 1;
	}

	return 0;
})();

const colorSupport = level !== 0 && {
	level,
	hasBasic: true,
	has256: level >= 2,
	has16m: level >= 3,
};

const supportsColor = {
	stdout: colorSupport,
	stderr: colorSupport,
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supportsColor);


/***/ }),

/***/ 1980:
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/browser.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $5: () => (/* binding */ DdbDict),
/* harmony export */   Dm: () => (/* binding */ DdbForm),
/* harmony export */   F2: () => (/* binding */ formati),
/* harmony export */   GP: () => (/* binding */ format),
/* harmony export */   IK: () => (/* binding */ SqlStandard),
/* harmony export */   LP: () => (/* binding */ is_decimal_null_value),
/* harmony export */   T5: () => (/* binding */ DdbFunctionType),
/* harmony export */   UI: () => (/* binding */ DdbDatabaseError),
/* harmony export */   Ww: () => (/* binding */ date2str),
/* harmony export */   Z2: () => (/* binding */ DdbType),
/* harmony export */   ZY: () => (/* binding */ DDB),
/* harmony export */   b8: () => (/* binding */ DdbChartType),
/* harmony export */   me: () => (/* binding */ DdbVectorLong),
/* harmony export */   mt: () => (/* binding */ DdbObj),
/* harmony export */   vF: () => (/* binding */ nulls),
/* harmony export */   x$: () => (/* binding */ DdbVectorString),
/* harmony export */   yZ: () => (/* binding */ DdbInt),
/* harmony export */   zO: () => (/* binding */ DdbLong)
/* harmony export */ });
/* unused harmony exports DdbDurationUnit, DdbVoidType, dictables, get_type_name, is_decimal_type, get_duration_unit, convert, converts, DdbVoid, DdbBool, DdbChar, DdbString, DdbDouble, DdbDateTime, DdbTimeStamp, DdbNanoTimeStamp, DdbBlob, DdbPair, DdbFunction, DdbVectorInt, DdbVectorDouble, DdbVectorAny, DdbVectorSymbol, DdbSetInt, DdbSetDouble, DdbSetString, DdbTable, date2ms, month2ms, month2str, time2ms, time2str, minute2ms, minute2str, second2ms, second2str, datetime2ms, datetime2str, timestamp2ms, timestamp2str, datehour2ms, datehour2str, str2timestamp, nanotime2ns, nanotime2str, nanotimestamp2ns, nanotimestamp2str, str2nanotimestamp, ipaddr2str, uuid2str, int1282str, winsize, DdbConnectionError, BigInt128Array */
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ 4606);
/* harmony import */ var dayjs_plugin_customParseFormat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/plugin/customParseFormat.js */ 5289);
/* harmony import */ var ipaddr_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ipaddr.js */ 2397);
/* harmony import */ var xshell_prototype_browser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! xshell/prototype.browser.js */ 6678);
/* harmony import */ var xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! xshell/chalk.browser.js */ 3111);
/* harmony import */ var xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! xshell/utils.browser.js */ 2345);
/* harmony import */ var xshell_net_browser_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! xshell/net.browser.js */ 667);
/* harmony import */ var _i18n_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./i18n/index.js */ 9985);


dayjs__WEBPACK_IMPORTED_MODULE_0__.extend(dayjs_plugin_customParseFormat_js__WEBPACK_IMPORTED_MODULE_1__);

const { fromByteArray: buf2ipaddr } = ipaddr_js__WEBPACK_IMPORTED_MODULE_2__;





const nulls = {
    int8: -0x80, // -128
    int16: -0x80_00, // -32768
    int32: -0x80_00_00_00, // -21_4748_3648
    int64: -0x8000000000000000n, // -922_3372_0368_5477_5808
    int128: -0x80000000000000000000000000000000n, // -170_1411_8346_0469_2317_3168_7303_7158_8410_5728
    float32: -3.4028234663852886e+38,
    /** -Number.MAX_VALUE */
    double: -Number.MAX_VALUE,
    bytes16: Uint8Array.from(new Array(16).fill(0))
};
var DdbForm;
(function (DdbForm) {
    DdbForm[DdbForm["scalar"] = 0] = "scalar";
    DdbForm[DdbForm["vector"] = 1] = "vector";
    DdbForm[DdbForm["pair"] = 2] = "pair";
    DdbForm[DdbForm["matrix"] = 3] = "matrix";
    DdbForm[DdbForm["set"] = 4] = "set";
    DdbForm[DdbForm["dict"] = 5] = "dict";
    DdbForm[DdbForm["table"] = 6] = "table";
    DdbForm[DdbForm["chart"] = 7] = "chart";
    /** 节点内部通信可能会使用，调用函数执行脚本一般不会返回这种类型 */
    DdbForm[DdbForm["chunk"] = 8] = "chunk";
    /** sysobj */
    DdbForm[DdbForm["object"] = 9] = "object";
})(DdbForm || (DdbForm = {}));
/** DolphinDB DataType
    对应的 array vector 类型为 64 + 基本类型
    对应的 extended 类型为 128 + 基本类型 */
var DdbType;
(function (DdbType) {
    DdbType[DdbType["void"] = 0] = "void";
    DdbType[DdbType["bool"] = 1] = "bool";
    DdbType[DdbType["char"] = 2] = "char";
    DdbType[DdbType["short"] = 3] = "short";
    DdbType[DdbType["int"] = 4] = "int";
    DdbType[DdbType["long"] = 5] = "long";
    DdbType[DdbType["date"] = 6] = "date";
    DdbType[DdbType["month"] = 7] = "month";
    DdbType[DdbType["time"] = 8] = "time";
    DdbType[DdbType["minute"] = 9] = "minute";
    DdbType[DdbType["second"] = 10] = "second";
    DdbType[DdbType["datetime"] = 11] = "datetime";
    DdbType[DdbType["timestamp"] = 12] = "timestamp";
    DdbType[DdbType["nanotime"] = 13] = "nanotime";
    DdbType[DdbType["nanotimestamp"] = 14] = "nanotimestamp";
    DdbType[DdbType["float"] = 15] = "float";
    DdbType[DdbType["double"] = 16] = "double";
    DdbType[DdbType["symbol"] = 17] = "symbol";
    DdbType[DdbType["string"] = 18] = "string";
    DdbType[DdbType["uuid"] = 19] = "uuid";
    DdbType[DdbType["functiondef"] = 20] = "functiondef";
    DdbType[DdbType["handle"] = 21] = "handle";
    DdbType[DdbType["code"] = 22] = "code";
    DdbType[DdbType["datasource"] = 23] = "datasource";
    DdbType[DdbType["resource"] = 24] = "resource";
    DdbType[DdbType["any"] = 25] = "any";
    DdbType[DdbType["compressed"] = 26] = "compressed";
    DdbType[DdbType["dict"] = 27] = "dict";
    DdbType[DdbType["datehour"] = 28] = "datehour";
    DdbType[DdbType["ipaddr"] = 30] = "ipaddr";
    DdbType[DdbType["int128"] = 31] = "int128";
    DdbType[DdbType["blob"] = 32] = "blob";
    DdbType[DdbType["complex"] = 34] = "complex";
    DdbType[DdbType["point"] = 35] = "point";
    DdbType[DdbType["duration"] = 36] = "duration";
    DdbType[DdbType["decimal32"] = 37] = "decimal32";
    DdbType[DdbType["decimal64"] = 38] = "decimal64";
    DdbType[DdbType["decimal128"] = 39] = "decimal128";
    DdbType[DdbType["object"] = 40] = "object";
    DdbType[DdbType["pynone"] = 41] = "pynone";
    DdbType[DdbType["symbol_extended"] = 145] = "symbol_extended";
})(DdbType || (DdbType = {}));
var DdbFunctionType;
(function (DdbFunctionType) {
    DdbFunctionType[DdbFunctionType["SystemFunc"] = 0] = "SystemFunc";
    DdbFunctionType[DdbFunctionType["SystemProc"] = 1] = "SystemProc";
    DdbFunctionType[DdbFunctionType["OperatorFunc"] = 2] = "OperatorFunc";
    DdbFunctionType[DdbFunctionType["UserDefinedFunc"] = 3] = "UserDefinedFunc";
    DdbFunctionType[DdbFunctionType["PartialFunc"] = 4] = "PartialFunc";
    DdbFunctionType[DdbFunctionType["DynamicFunc"] = 5] = "DynamicFunc";
    DdbFunctionType[DdbFunctionType["PiecewiseFunc"] = 6] = "PiecewiseFunc";
    DdbFunctionType[DdbFunctionType["JitFunc"] = 7] = "JitFunc";
    DdbFunctionType[DdbFunctionType["JitPartialFunc"] = 8] = "JitPartialFunc";
})(DdbFunctionType || (DdbFunctionType = {}));
var DdbDurationUnit;
(function (DdbDurationUnit) {
    DdbDurationUnit[DdbDurationUnit["ns"] = 0] = "ns";
    DdbDurationUnit[DdbDurationUnit["us"] = 1] = "us";
    DdbDurationUnit[DdbDurationUnit["ms"] = 2] = "ms";
    DdbDurationUnit[DdbDurationUnit["s"] = 3] = "s";
    DdbDurationUnit[DdbDurationUnit["m"] = 4] = "m";
    DdbDurationUnit[DdbDurationUnit["H"] = 5] = "H";
    DdbDurationUnit[DdbDurationUnit["d"] = 6] = "d";
    DdbDurationUnit[DdbDurationUnit["w"] = 7] = "w";
    DdbDurationUnit[DdbDurationUnit["M"] = 8] = "M";
    DdbDurationUnit[DdbDurationUnit["y"] = 9] = "y";
    DdbDurationUnit[DdbDurationUnit["B"] = 10] = "B";
})(DdbDurationUnit || (DdbDurationUnit = {}));
var DdbChartType;
(function (DdbChartType) {
    DdbChartType[DdbChartType["area"] = 0] = "area";
    DdbChartType[DdbChartType["bar"] = 1] = "bar";
    DdbChartType[DdbChartType["column"] = 2] = "column";
    DdbChartType[DdbChartType["histogram"] = 3] = "histogram";
    DdbChartType[DdbChartType["line"] = 4] = "line";
    DdbChartType[DdbChartType["pie"] = 5] = "pie";
    DdbChartType[DdbChartType["scatter"] = 6] = "scatter";
    DdbChartType[DdbChartType["trend"] = 7] = "trend";
    DdbChartType[DdbChartType["kline"] = 8] = "kline";
})(DdbChartType || (DdbChartType = {}));
// server 实现中区分了 0: NULL (nothing), 1: NULL (null), 2: DFLT (default)
// Void::serialize()
//     (isNothing() ? 0 : 1) + (isDefault_ ? 2 : 0);
var DdbVoidType;
(function (DdbVoidType) {
    DdbVoidType[DdbVoidType["undefined"] = 0] = "undefined";
    DdbVoidType[DdbVoidType["null"] = 1] = "null";
    DdbVoidType[DdbVoidType["default"] = 2] = "default";
})(DdbVoidType || (DdbVoidType = {}));
const dictables = new Set([DdbType.any, DdbType.string, DdbType.double, DdbType.float, DdbType.int, DdbType.long]);
/** 可以表示所有 DolphinDB 数据库中的数据类型  Can represent data types in all DolphinDB databases */
class DdbObj {
    static dec = new TextDecoder('utf-8');
    static enc = new TextEncoder();
    /** 维护已解析的 symbol base，比如流数据中后续的 symbol 向量可能只发送一个 base.id, base.size == 0, 依赖之前发送的 symbol base ？
        只是暂存，如果一张表有多个 symbol 列，可能这个 symbol base 会被复用，不同的对象之间 symbol base 一般不复用
    */
    static symbol_bases = {};
    /** little endian (client) */
    static le_client = Boolean(new Uint8Array(Uint32Array.of(1).buffer)[0]);
    /** 是否为小端 (little endian) */
    le = DdbObj.le_client;
    /** 数据形式 https://www.dolphindb.cn/cn/help/DataTypesandStructures/DataForms/index.html */
    form;
    /** 数据类型 https://www.dolphindb.cn/cn/help/DataTypesandStructures/DataTypes/index.html */
    type;
    /** 占用 parse 时传入的 buf 的长度 */
    length;
    /** table name / column name */
    name;
    /** 最低维、第 1 维
        - vector: rows = n, cols = 1
        - pair:   rows = 2, cols = 1
        - matrix: rows = n, cols = m
        - set:    同 vector
        - dict:   包含 keys, values 向量
        - table:  同 matrix */
    rows;
    /** 第 2 维 */
    cols;
    /** 实际数据。不同的 DdbForm, DdbType 使用 DdbValue 中不同的类型来表示实际数据
        The actual data. Different DdbForm, DdbType use different types in DdbValue to represent actual data */
    value;
    /** 原始二进制数据，仅在 parse_object 为 false 时通过 parse_message 生成的顶层对象有这个属性 */
    buffer;
    constructor(data) {
        Object.assign(this, data);
    }
    static parse(buf, le) {
        if (!buf.length)
            return new this({
                le,
                form: DdbForm.scalar,
                type: DdbType.void,
                length: 0,
                value: null
            });
        const type = buf[0];
        const form = buf[1];
        if (buf.length <= 2)
            return new this({
                le,
                form,
                type,
                length: 2,
                value: null,
            });
        // set 里面 data 嵌套了一个 vector, 跳过 vector 的 type 和 form
        const i_data = form === DdbForm.set ? 4 : 2;
        const buf_data = buf.subarray(i_data);
        switch (form) {
            case DdbForm.scalar: {
                const [length, value] = this.parse_scalar(buf_data, le, type);
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + length,
                    value,
                });
            }
            case DdbForm.vector:
            case DdbForm.pair:
            case DdbForm.set: {
                let vector = this.parse_vector(buf_data, le, type);
                vector.length += i_data;
                vector.form = form;
                return vector;
            }
            case DdbForm.table: {
                // table([
                //     [1, 2] as a,
                //     [1, 2] as b
                // ])
                // <Buffer 
                // 00 06 form = table
                // 02 00 00 00 02 00 00 00 rows = 2, cols = 2
                // 00 行名称
                // 61 00 62 00 列名称 a, b
                // 04 01 form = vector, type = int
                // 02 00 00 00 01 00 00 00 cols = 2, rows = 1
                // 01 00 00 00 02 00 00 00 
                // 04 01 
                // 02 00 00 00 01 00 00 00 
                // 01 00 00 00 02 00 00 00>
                const dv = new DataView(buf.buffer, buf.byteOffset + i_data);
                const rows = dv.getUint32(0, le);
                const cols = dv.getUint32(4, le);
                const i_name_tail = buf_data.indexOf(0, 8);
                const name = this.dec.decode(buf_data.subarray(8, i_name_tail));
                const i_items_start = i_name_tail + 1;
                const [len_items, colnames] = this.parse_vector_items(buf_data.subarray(i_items_start), le, DdbType.string, cols);
                let value = new Array(cols);
                let i_start = i_items_start + len_items;
                for (let i = 0; i < cols; i++) {
                    const type = buf_data[i_start];
                    if (type === DdbType.compressed)
                        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('{{form}}<{{type}}> 暂时不支持解析', { form: 'table', type: 'compress' }));
                    let col = this.parse_vector(buf_data.subarray(i_start + 2), le, type);
                    col.length += 2;
                    col.name = colnames[i];
                    value[i] = col;
                    i_start += col.length;
                }
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + i_start,
                    name,
                    rows,
                    cols,
                    value,
                });
            }
            case DdbForm.dict:
            case DdbForm.chart: {
                // <Buffer 19 05 type = any, form = dict
                // 12 01 keys.type = string, keys.form = vector
                // 03 00 00 00 01 00 00 00 keys.cols = 3, keys.rows = 1
                // 63 00 62 00 61 00 
                // 19 01 values.type = any, values.form = vector
                // 03 00 00 00 01 00 00 00 values.cols = 3, values.rows = 1
                // 04 00 03 00 00 00 04 00 02 00 00 00 04 00 01 00 00 00>
                let keys = this.parse_vector(buf_data.subarray(2), le, buf_data[0]);
                keys.length += 2;
                let values = this.parse_vector(buf_data.subarray(keys.length + 2), le, buf_data[keys.length]);
                values.length += 2;
                let dict = new this({
                    le,
                    form: DdbForm.dict,
                    type,
                    length: i_data + keys.length + values.length,
                    rows: keys.rows,
                    cols: 2,
                    value: [
                        keys,
                        values
                    ],
                });
                if (form === DdbForm.dict)
                    return dict;
                else {
                    const { chartType: type, stacking, binStart: bin_start, binEnd: bin_end, binCount: bin_count, title: titles, extras, data, ...others } = dict.to_dict();
                    const [chart, x_axis, y_axis] = titles.value;
                    dict.form = DdbForm.chart;
                    dict.value = {
                        type: type.value,
                        stacking: stacking.value,
                        titles: {
                            chart,
                            x_axis,
                            y_axis,
                        },
                        ...bin_start ? { bin_start, bin_end, } : {},
                        ...bin_count ? { bin_count } : {},
                        ...extras ? (() => {
                            const { multiYAxes: multi_y_axes = false, ...extras_others } = extras.to_dict({ strip: true });
                            return {
                                extras: {
                                    multi_y_axes,
                                    ...extras_others,
                                }
                            };
                        })() : {},
                        data,
                        ...others,
                    };
                    return dict;
                }
            }
            case DdbForm.matrix: {
                // rename!(
                //     1..9$3:3,
                //     [1, 2, 3],
                //     ['c1', 'c2', 'c3']
                // )
                // <Buffer 04 03 type = int, form = matrix
                // 03 has_row_label (& 0x01) = 1, has_col_label (& 0x02) = 1
                // row labels
                // 04 01 type = int, form = vector
                // 03 00 00 00 01 00 00 00 rows = 3, cols = 1
                // 01 00 00 00 02 00 00 00 03 00 00 00 vector values
                // col labels
                // 12 01 type = string, form = vector
                // 03 00 00 00 01 00 00 00 rows = 3, cols = 1
                // 63 31 00 63 32 00 63 33 00 
                // matrix data
                // 04 03 type = matrix.type, form = matrix
                // 03 00 00 00 03 00 00 00 rows = 3, cols = 3
                const dv = new DataView(buf.buffer, buf.byteOffset + i_data);
                const label_flags = buf_data[0];
                const has_row_labels = Boolean(label_flags & 0x01);
                const has_col_labels = Boolean(label_flags & 0x02);
                let row_labels = null;
                let col_labels = null;
                let offset = 1;
                if (has_row_labels) {
                    row_labels = this.parse_vector(buf_data.subarray(offset + 2), le, buf_data[offset]);
                    row_labels.length += 2;
                    offset += row_labels.length;
                }
                if (has_col_labels) {
                    col_labels = this.parse_vector(buf_data.subarray(offset + 2), le, buf_data[offset]);
                    col_labels.length += 2;
                    offset += col_labels.length;
                }
                (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(buf_data[offset] === type, 'matrix.datatype === matrix.type');
                const rows = dv.getUint32(offset + 2, le);
                const cols = dv.getUint32(offset + 6, le);
                const [len_items, data] = this.parse_vector_items(buf_data.subarray(offset + 10), le, type, rows * cols // 假设小于 2**32
                );
                offset += 10 + len_items;
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + offset,
                    rows,
                    cols,
                    value: {
                        rows: row_labels,
                        cols: col_labels,
                        data,
                    },
                });
            }
            default:
                return new this({
                    le,
                    form,
                    type,
                    length: i_data + buf_data.length,
                    value: buf_data
                });
        }
    }
    static parse_scalar(buf, le, type) {
        switch (type) {
            case DdbType.bool: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt8(0);
                return [1, value === nulls.int8 ? null : Boolean(value)];
            }
            case DdbType.void:
            case DdbType.char: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt8(0);
                return [1, value === nulls.int8 ? null : value];
            }
            case DdbType.short: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt16(0, le);
                return [2, value === nulls.int16 ? null : value];
            }
            case DdbType.int:
            // datetime
            case DdbType.date:
            case DdbType.month:
            case DdbType.time:
            case DdbType.minute:
            case DdbType.second:
            case DdbType.datetime:
            case DdbType.datehour: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getInt32(0, le);
                return [4, value === nulls.int32 ? null : value];
            }
            case DdbType.float: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getFloat32(0, le);
                return [4, value === nulls.float32 ? null : value];
            }
            case DdbType.double: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getFloat64(0, le);
                return [8, value === nulls.double ? null : value];
            }
            case DdbType.long:
            // timestamp
            case DdbType.timestamp:
            case DdbType.nanotime:
            case DdbType.nanotimestamp: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const value = dv.getBigInt64(0, le);
                return [8, value === nulls.int64 ? null : value];
            }
            case DdbType.string:
            case DdbType.symbol:
            case DdbType.code:
            case DdbType.handle:
            // sqlDS 函数会返回包含 datasource 的 any vector
            case DdbType.datasource:
            case DdbType.functiondef:
            // mysql 插件 connect 方法会返回 resource 类型的对象
            case DdbType.resource: {
                const i_head = type === DdbType.functiondef ? 1 : 0;
                let i_zero = buf.indexOf(0, i_head);
                let i_end; // 整个字符串（包括 0）的末尾，excluding
                if (i_zero === -1)
                    i_end = i_zero = buf.length;
                else
                    i_end = i_zero + 1;
                // 调整了 i_zero 到字符串（不包括 0）的末尾，excluding
                const str = this.dec.decode(buf.subarray(i_head, i_zero));
                return [
                    i_end,
                    type === DdbType.functiondef ?
                        {
                            type: buf[0],
                            name: str
                        }
                        :
                            str
                ];
            }
            case DdbType.uuid:
            case DdbType.ipaddr:
            case DdbType.int128:
                return [16, buf.slice(0, 16)];
            case DdbType.blob: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const length = dv.getUint32(0, le);
                return [4 + length, buf.slice(4, 4 + length)];
            }
            case DdbType.complex:
            case DdbType.point: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [16, [dv.getFloat64(0, le), dv.getFloat64(8, le)]];
            }
            case DdbType.duration: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [8, { unit: dv.getUint32(4, le), data: dv.getInt32(0, le) }];
            }
            case DdbType.decimal32: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const data = dv.getInt32(4, le);
                return [8, { scale: dv.getInt32(0, le), data: data === nulls.int32 ? null : data }];
            }
            case DdbType.decimal64: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const data = dv.getBigInt64(4, le);
                return [12, { scale: dv.getInt32(0, le), data: data === nulls.int64 ? null : data }];
            }
            case DdbType.decimal128: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const data = get_big_int_128(dv, 4, le);
                return [20, { scale: dv.getInt32(0, le), data: data === nulls.int128 ? null : data }];
            }
            default:
                throw new Error(String(DdbType[type] || type) + (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)(' 暂时不支持解析'));
        }
    }
    /** parse: rows, cols, items
        返回的 ddbobj.length 不包括 vector 的 type 和 form */
    static parse_vector(buf, le, type) {
        const dv = new DataView(buf.buffer, buf.byteOffset);
        const rows = dv.getUint32(0, le);
        let i_items_start = 8;
        if (type < 64 || type >= 128) { // 普通数组
            const [len_items, value] = this.parse_vector_items(buf.subarray(i_items_start), le, type, rows);
            return new this({
                le,
                form: DdbForm.vector,
                type,
                length: i_items_start + len_items,
                cols: 1,
                rows,
                value,
            });
        }
        else { // array vector
            // av = array(INT[], 0, 3)
            // append!(av, [1..4])
            // append!(av, [1..70000])
            // av
            // <Buffer 44 01  type = array vector, form = vector
            // 02 00 00 00 74 11 01 00 rows = 2, cols = 70004 (0x011174)
            // block 0
            // 01 00 block.rows = 1
            // 04 block.unit = 4
            // 00 reserved
            // 04 00 00 00 block.lengths = [4]
            // 01 00 00 00 02 00 00 00 03 00 00 00 04 00 00 00 block.data
            // block 1
            // 01 00 block.rows = 1
            // 04 block.unit = 4
            // 00 reserved
            // 70 11 01 00 block.lengths = [70000 (0x00011170)]
            // 01 00 00 00 02 00 00 00 ... 279992 more bytes> block.data
            // decimal array vector
            // a = array(DECIMAL32(2)[], 0, 10)
            // append!(a, [
            //     [1, 2, 3], 
            //     [4, 5], 
            //     [6, 7, 8],
            //     [9, 10]
            // ])
            // print(a)
            // a
            // [[1.00,2.00,3.00],[4.00,5.00],[6.00,7.00,8.00],[9.00,10.00]]
            // <Buffer 65 01 type = 101 = 64 + 37 (decimal32) , form = vector
            // 04 00 00 00 0a 00 00 00 rows = 4, cols = 10
            // scale (只有 decimal32 才有)
            // 02 00 00 00 scale = 2
            // block 0
            // 04 00 block.rows = 4
            // 01 block.unit = 1
            // 00 reserved
            // 03 02 03 02 block.lengths = [3, 2, 3, 2]
            // 64 00 00 00 c8 00 00 00 2c 01 00 00 90 01 00 00 f4 01 00 00 58 02 00 00 bc 02 00 00 ... 12 more bytes> [100, 200, 300, ...]
            // block 1
            // ...
            const type_ = type - 64;
            const cols = dv.getUint32(4, le);
            let blocks = [];
            // decimal 会在所有 blocks 之前多一个 scale
            if (is_decimal_type(type_)) {
                blocks.scale = dv.getInt32(i_items_start, le);
                i_items_start += 4;
            }
            let i_block_start = i_items_start;
            // 解析一个 block
            for (let i_row = 0; i_row < rows;) {
                /** 对应 array vector 中元素个数 */
                const rows = dv.getUint16(i_block_start, le);
                /** 每个 length 占用的字节数 */
                const unit = dv.getUint8(i_block_start + 2);
                /** array vector 每个元素的子元素长度 */
                let lengths;
                const i_lengths_start = i_block_start + 4;
                const i_data_start = i_lengths_start + rows * unit;
                const lengths_buf = buf.slice(i_lengths_start, i_data_start);
                switch (unit) {
                    case 1:
                        lengths = lengths_buf;
                        break;
                    case 2:
                        lengths = new Uint16Array(lengths_buf.buffer);
                        break;
                    case 4:
                        lengths = new Uint32Array(lengths_buf.buffer);
                        break;
                    default:
                        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('array vector 存在非法 unit: {{unit}}', { unit }));
                }
                let total_length = 0;
                for (const x of lengths)
                    total_length += x;
                let len_items;
                let data;
                switch (type_) {
                    case DdbType.decimal32:
                        len_items = total_length * 4;
                        data = new Int32Array(buf.buffer.slice(buf.byteOffset + i_data_start, buf.byteOffset + i_data_start + len_items));
                        break;
                    case DdbType.decimal64:
                        len_items = total_length * 8;
                        data = new BigInt64Array(buf.buffer.slice(buf.byteOffset + i_data_start, buf.byteOffset + i_data_start + len_items));
                        break;
                    case DdbType.decimal128:
                        len_items = total_length * 16;
                        data = new BigInt128Array(buf.buffer.slice(buf.byteOffset + i_data_start, buf.byteOffset + i_data_start + len_items));
                        break;
                    default:
                        [len_items, data] = this.parse_vector_items(buf.subarray(i_data_start), le, type - 64, total_length);
                }
                blocks.push({
                    unit,
                    rows,
                    lengths,
                    data: data
                });
                i_block_start = i_data_start + len_items;
                i_row += rows;
            }
            return new this({
                le,
                form: DdbForm.vector,
                type,
                length: i_block_start,
                cols,
                rows,
                value: blocks
            });
        }
    }
    /** 有可能没有字节对齐，不能直接使用原有 message 的 arraybuffer, 统一复制出来，让原有 arraybuffer 被回收掉比较好 */
    static parse_vector_items(buf, le, type, length) {
        switch (type) {
            case DdbType.void:
                return [0, null];
            case DdbType.bool:
            case DdbType.char:
                return [
                    length,
                    new Int8Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + length))
                ];
            case DdbType.short:
                return [
                    2 * length,
                    new Int16Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 2 * length))
                ];
            case DdbType.int:
            // datetime
            case DdbType.date:
            case DdbType.month:
            case DdbType.time:
            case DdbType.minute:
            case DdbType.second:
            case DdbType.datetime:
            case DdbType.datehour:
                return [
                    4 * length,
                    new Int32Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 4 * length))
                ];
            case DdbType.float:
                return [
                    4 * length,
                    new Float32Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 4 * length))
                ];
            case DdbType.double:
                return [
                    8 * length,
                    new Float64Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 8 * length))
                ];
            case DdbType.long:
            // timestamp
            case DdbType.timestamp:
            case DdbType.nanotime:
            case DdbType.nanotimestamp:
                return [
                    8 * length,
                    new BigInt64Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 8 * length))
                ];
            case DdbType.string:
            case DdbType.symbol:
            case DdbType.handle:
            case DdbType.datasource:
            case DdbType.code: {
                let value = new Array(length);
                let i_head = 0, i_tail = i_head;
                for (let i = 0; i < length; i++) {
                    i_tail = buf.indexOf(0, i_head);
                    value[i] = this.dec.decode(buf.subarray(i_head, i_tail));
                    i_head = i_tail + 1;
                }
                return [i_head, value];
            }
            case DdbType.symbol_extended: {
                // <Buffer 91 01 type = symbol extended, form = vector
                // 05 00 00 00 01 00 00 00 row = 5, col = 1
                // buf:
                // 00 00 00 00 symbol base id = 0 (uint32)
                // 02 00 00 00 symbol base size = 2
                // 00 61 61 00 以 \0 分割的字符串
                // 01 00 00 00 01 00 00 00 01 00 00 00 01 00 00 00 01 00 00 00>
                const dv = new DataView(buf.buffer, buf.byteOffset);
                const base_id = dv.getUint32(0, le);
                const base_size = dv.getUint32(4, le);
                let base_length = 0;
                let base = this.symbol_bases[base_id];
                // base_size 为 0 时复用之前的 symbol base
                if (base_size) {
                    [base_length, base] = this.parse_vector_items(buf.subarray(8), le, DdbType.string, base_size);
                    this.symbol_bases[base_id] = base;
                }
                const value_start = 8 + base_length;
                const value_end = value_start + length * 4;
                const data = new Uint32Array(buf.buffer.slice(buf.byteOffset + value_start, buf.byteOffset + value_end));
                return [
                    value_end,
                    {
                        base_id,
                        base,
                        data
                    }
                ];
            }
            case DdbType.uuid:
            case DdbType.ipaddr:
            case DdbType.int128:
                return [
                    16 * length,
                    new Uint8Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 16 * length))
                ];
            case DdbType.blob: {
                // <Buffer 20 01 type = blob, form = vector
                // 02 00 00 00 01 00 00 00 cols = 2, rows = 1
                // 04 00 00 00 61 62 63 64 
                // 04 00 00 00 61 62 63 64>
                let value = new Array(length);
                const dv = new DataView(buf.buffer, buf.byteOffset);
                let i_head = 0;
                for (let i = 0; i < length; i++) {
                    const sublen = dv.getUint32(i_head, le);
                    const i_blob_head = i_head + 4;
                    const i_blob_tail = i_blob_head + sublen;
                    value[i] = buf.slice(i_blob_head, i_blob_tail);
                    i_head = i_blob_tail;
                }
                return [i_head, value];
            }
            case DdbType.complex:
            case DdbType.point:
                return [
                    16 * length,
                    new Float64Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + 16 * length))
                ];
            case DdbType.any: {
                // [1, 2, 'a', 'aaa']
                // any[4](<Buffer 
                // 04 00 DdbType.int, DdbForm.scalar
                // 01 00 00 00 
                // 04 00 DdbType.int, DdbForm.scalar
                // 02 00 00 00 
                // 02 00 DdbType.char, DdbForm.scalar
                // 61 
                // 12 00 DdbType.string, DdbForm.scalar
                // 61 61 61 00>)
                let values = new Array(length);
                let i_head = 0;
                for (let i = 0; i < length; i++) {
                    const obj = this.parse(buf.subarray(i_head), le);
                    values[i] = obj;
                    i_head += obj.length;
                }
                return [
                    i_head,
                    values
                ];
            }
            // 25 01 type = decimal32, form = vector
            // 02 00 00 00 01 00 00 00
            // 00 00 00 00 scale = 0
            // 01 00 00 00 data[0] = 1
            // 3a 01 00 00 data[1] = 0x013a = 314
            case DdbType.decimal32: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [
                    4 + 4 * length,
                    {
                        scale: dv.getInt32(0, le),
                        data: new Int32Array(buf.buffer.slice(buf.byteOffset + 4, buf.byteOffset + 4 + 4 * length))
                    }
                ];
            }
            case DdbType.decimal64: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [
                    4 + 8 * length,
                    {
                        scale: dv.getInt32(0, le),
                        data: new BigInt64Array(buf.buffer.slice(buf.byteOffset + 4, buf.byteOffset + 4 + 8 * length))
                    }
                ];
            }
            case DdbType.decimal128: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                return [
                    4 + 16 * length,
                    {
                        scale: dv.getInt32(0, le),
                        data: new BigInt128Array(buf.buffer.slice(buf.byteOffset + 4, buf.byteOffset + 4 + 16 * length))
                    }
                ];
            }
            // 以下情况时, DdbType.duration 实际会返回一个 any vector
            // [2y, 1M, 3d, 7H, 11m, 12s, 15ms, 16us, 17ns]
            // <Buffer 19 01 type = any, form = vector
            // 09 00 00 00 01 00 00 00 rows = 9, cols = 1
            // 24 00 type = DdbType.duration, form = scalar
            // 02 00 00 00 09 00 00 00 
            // 24 00 01 00 00 00 08 00 00 00 24 00 03 00 00 00 06 00 00 00 24 00 07 00 00 00 05 00 00 00 ... 50 more bytes>
            // 其余情况 (目前仅 pair) 下, 会返回特殊的 duration 序列化
            // 4 bytes data 4 bytes unit
            // 01 00 00 00 data: 1 
            // 01 00 00 00 unit: 1
            // 02 00 00 00 data: 2
            // 02 00 00 00 unit: 2
            case DdbType.duration: {
                const dv = new DataView(buf.buffer, buf.byteOffset);
                let durations = [];
                for (let i = 0; i < length; i++)
                    durations.push({
                        data: dv.getInt32(0 + 8 * i, le),
                        unit: dv.getInt32(4 + 8 * i, le)
                    });
                return [8 * length, durations];
            }
            case DdbType.compressed:
                return [
                    length,
                    new Uint8Array(buf.buffer.slice(buf.byteOffset, buf.byteOffset + length))
                ];
            default:
                throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('{{form}}<{{type}}> 暂时不支持解析', { form: 'vector', type: get_type_name(type) }));
        }
    }
    pack() {
        const { form, type, value } = this;
        let header = new Uint8Array(2);
        header[0] = type;
        header[1] = form;
        const body = (() => {
            switch (form) {
                case DdbForm.scalar:
                    switch (type) {
                        case DdbType.void:
                            return [Uint8Array.of(Number(value))];
                        case DdbType.bool:
                            return [
                                Int8Array.of(value === null ?
                                    nulls.int8
                                    :
                                        Number(value))
                            ];
                        case DdbType.char:
                            return [
                                Int8Array.of((value === null ?
                                    nulls.int8
                                    :
                                        value))
                            ];
                        case DdbType.short:
                            return [
                                Int16Array.of(value === null ?
                                    nulls.int16
                                    :
                                        value)
                            ];
                        case DdbType.int:
                        // datetime
                        case DdbType.date:
                        case DdbType.month:
                        case DdbType.time:
                        case DdbType.minute:
                        case DdbType.second:
                        case DdbType.datetime:
                        case DdbType.datehour:
                            return [
                                Int32Array.of(value === null ?
                                    nulls.int32
                                    :
                                        value)
                            ];
                        case DdbType.float:
                            return [
                                Float32Array.of(value === null ?
                                    nulls.float32
                                    :
                                        value)
                            ];
                        case DdbType.double:
                            return [
                                Float64Array.of(value === null ?
                                    nulls.double
                                    :
                                        value)
                            ];
                        case DdbType.long:
                        // timestamp
                        case DdbType.timestamp:
                        case DdbType.nanotime:
                        case DdbType.nanotimestamp:
                            return [
                                BigInt64Array.of(value === null ?
                                    nulls.int64
                                    :
                                        value)
                            ];
                        case DdbType.string:
                        case DdbType.symbol:
                        case DdbType.code:
                        case DdbType.handle:
                        case DdbType.datasource:
                        case DdbType.resource:
                            return [
                                DdbObj.enc.encode(value),
                                Uint8Array.of(0),
                            ];
                        case DdbType.functiondef:
                            return [
                                Uint8Array.of(value.type),
                                DdbObj.enc.encode(value.name),
                                Uint8Array.of(0)
                            ];
                        case DdbType.uuid:
                        case DdbType.ipaddr:
                        case DdbType.int128:
                            return [this.value];
                        case DdbType.blob:
                            return [Uint32Array.of(this.value.byteLength), this.value];
                        case DdbType.complex:
                        case DdbType.point:
                            return [Float64Array.from(this.value)];
                        case DdbType.duration: {
                            const { unit, data } = this.value;
                            return [Int32Array.of(data, unit)];
                        }
                        case DdbType.decimal32: {
                            const { scale, data } = this.value;
                            return [Int32Array.of(scale, data === null ? nulls.int32 : data)];
                        }
                        case DdbType.decimal64: {
                            const { scale, data } = this.value;
                            return [Int32Array.of(scale), BigInt64Array.of(data === null ? nulls.int64 : data)];
                        }
                        case DdbType.decimal128: {
                            const { scale, data } = value;
                            return [Int32Array.of(scale), BigInt128Array.of(data === null ? nulls.int128 : data)];
                        }
                        default:
                            throw new Error(String(DdbType[type] || type) + (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)(' 暂时不支持序列化'));
                    }
                case DdbForm.vector:
                case DdbForm.pair:
                    // pack array vector
                    if (form === DdbForm.vector && 64 <= type && type < 128)
                        return [
                            Uint32Array.of(this.rows, this.cols),
                            ...(is_decimal_type(type - 64)) ?
                                [Int32Array.of(this.value.scale)]
                                :
                                    [],
                            ...this.value.map(block => ([
                                Uint16Array.of(block.rows),
                                Uint8Array.of(block.unit, 0),
                                block.lengths,
                                block.data
                            ])).flat()
                        ];
                    return [
                        Uint32Array.of(this.rows, 1),
                        ...DdbObj.pack_vector_body(value, type, this.rows)
                    ];
                case DdbForm.set:
                    return [new DdbObj({ ...this, form: DdbForm.vector }).pack()];
                case DdbForm.table:
                    return [
                        Uint32Array.of(this.rows, this.cols),
                        DdbObj.enc.encode(this.name || ''),
                        // column names
                        Uint8Array.of(0),
                        ...DdbObj.pack_vector_body(this.value.map((col, i) => col.name || `col${i}`), DdbType.string, this.cols),
                        // column vectors
                        ...this.value.map(col => col.pack())
                    ];
                case DdbForm.dict:
                    return [value[0].pack(), value[1].pack()];
                case DdbForm.chart: {
                    const { type, stacking, bin_start, bin_end, bin_count, titles: { chart, x_axis, y_axis }, extras, data } = this.value;
                    const { value: [keys, values] } = new DdbDict({
                        chartType: new DdbInt(type),
                        stacking,
                        ...bin_start ? { binStart: bin_start, binEnd: bin_end } : {},
                        ...bin_count ? { binCount: bin_count } : {},
                        title: new DdbVectorString([chart, x_axis, y_axis]),
                        ...extras ? (() => {
                            const { multi_y_axes, ...extras_other } = extras;
                            return { extras: new DdbDict({ multiYAxes: multi_y_axes, ...extras_other }) };
                        })() : {},
                        data,
                    });
                    return [keys.pack(), values.pack()];
                }
                case DdbForm.matrix: {
                    const { rows, cols, data } = value;
                    return [
                        Uint8Array.of((rows ? 0x01 : 0x00) | (cols ? 0x02 : 0x00)),
                        ...rows ? [rows.pack()] : [],
                        ...cols ? [cols.pack()] : [],
                        Uint8Array.of(this.type, this.form),
                        Uint32Array.of(this.rows, this.cols),
                        ...DdbObj.pack_vector_body(data, this.type, this.rows * this.cols)
                    ];
                }
                default:
                    throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('vector {{type}} 暂不支持序列化', { type: get_type_name(type) }));
            }
        })();
        if (!body)
            return new Uint8Array(0);
        return (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .concat */ .xW)([header, ...body]);
    }
    static pack_vector_body(value, type, length) {
        switch (type) {
            case DdbType.void:
                return [];
            case DdbType.bool:
            case DdbType.char:
                return [value];
            case DdbType.short:
                return [value];
            case DdbType.int:
            // datetime
            case DdbType.date:
            case DdbType.month:
            case DdbType.time:
            case DdbType.minute:
            case DdbType.second:
            case DdbType.datetime:
            case DdbType.datehour:
                return [value];
            case DdbType.float:
                return [value];
            case DdbType.double:
                return [value];
            case DdbType.long:
            // timestamp
            case DdbType.timestamp:
            case DdbType.nanotime:
            case DdbType.nanotimestamp:
                return [value];
            case DdbType.string:
            case DdbType.symbol:
            case DdbType.handle:
            case DdbType.datasource:
            case DdbType.code: {
                let bufs = new Array(length * 2);
                for (let i = 0; i < length; i++) {
                    bufs[2 * i] = this.enc.encode(value[i]);
                    bufs[2 * i + 1] = Uint8Array.of(0);
                }
                return bufs;
            }
            case DdbType.uuid:
            case DdbType.ipaddr:
            case DdbType.int128:
            case DdbType.compressed:
                return [value];
            case DdbType.blob: {
                let bufs = new Array(length * 2);
                for (let i = 0; i < length; i++) {
                    const blob_value = value[i];
                    bufs[2 * i] = Uint32Array.of(blob_value.length);
                    bufs[2 * i + 1] = blob_value;
                }
                return bufs;
            }
            case DdbType.complex:
            case DdbType.point:
                return [value];
            case DdbType.duration: {
                let bufs = new Int32Array(length * 2);
                for (let i = 0; i < length; i++) {
                    const { data, unit } = value[i];
                    bufs[2 * i] = data;
                    bufs[2 * i + 1] = unit;
                }
                return [bufs];
            }
            case DdbType.any: {
                // [1, 2, 'a', 'aaa']
                // any[4](<Buffer 
                // 04 00 DdbType.int, DdbForm.scalar
                // 01 00 00 00 
                // 04 00 DdbType.int, DdbForm.scalar
                // 02 00 00 00 
                // 02 00 DdbType.char, DdbForm.scalar
                // 61 
                // 12 00 DdbType.string, DdbForm.scalar
                // 61 61 61 00>)
                let bufs = new Array(length);
                for (let i = 0; i < length; i++)
                    bufs[i] = value[i].pack();
                return bufs;
            }
            case DdbType.symbol_extended: {
                const { base_id, base, data } = value;
                return [
                    Uint32Array.of(base_id || 0, base.length),
                    ...this.pack_vector_body(base, DdbType.string, base.length),
                    data
                ];
            }
            case DdbType.decimal32:
            case DdbType.decimal64:
            case DdbType.decimal128: {
                const { scale, data } = value;
                return [Int32Array.of(scale), data];
            }
            default:
                throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('vector {{type}} 暂不支持序列化', { type: get_type_name(type) }));
        }
    }
    data(options) {
        const { form, type, value, le, rows, name } = this;
        switch (form) {
            case DdbForm.scalar:
                return convert(type, value, le, options);
            case DdbForm.vector:
            case DdbForm.pair:
            case DdbForm.set: {
                const data = converts(type, value, rows, le, options);
                return (form === DdbForm.set ? new Set(data) : data);
            }
            case DdbForm.table: {
                const cols = value;
                const jscols = cols.map(col => col.data(options));
                const keys = cols.map(({ name }) => name);
                return {
                    name: name || '',
                    columns: cols.map(({ name }) => name),
                    types: cols.map(({ type }) => type),
                    data: (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(rows, i => (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .zip_object */ .WV)(keys, (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(cols.length, j => jscols[j][i])))
                };
            }
            case DdbForm.dict: {
                const [keys, values] = value;
                return (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .zip_object */ .WV)(keys.data(options), values.data(options));
            }
            case DdbForm.chart:
                return value;
            case DdbForm.matrix: {
                const ncolumns = this.cols;
                const { rows: _rows, cols: _cols, data } = value;
                const jsdata = converts(type, data, rows * ncolumns, le, options);
                return {
                    type,
                    nrows: rows,
                    ncolumns,
                    rows: _rows?.data(options),
                    columns: _cols?.data(options),
                    data: (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(rows, i => (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(ncolumns, j => jsdata[j * rows + i]))
                };
            }
            default:
                throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('{{form}} {{type}} 暂不支持 data()', { form, type: get_type_name(type) }));
        }
    }
    toString(options = { nullstr: true, quote: true }) {
        const type = this.inspect_type();
        const data = (() => {
            switch (this.form) {
                case DdbForm.scalar:
                    return format(this.type, this.value, this.le, options);
                case DdbForm.vector:
                case DdbForm.pair:
                case DdbForm.set: {
                    const form = this.form;
                    function format_array(items, ellipsis) {
                        const str_items = items.join(', ') + (ellipsis ? ', ...' : '');
                        return form === DdbForm.pair ?
                            str_items
                            :
                                str_items.bracket('square');
                    }
                    if (64 <= this.type && this.type < 128) { // array vector
                        // 因为 array vector 目前只支持：Logical, Integral（不包括 INT128, COMPRESS 类型）, Floating, Temporal
                        // 都对应 TypedArray 中的一格，所以直接根据 index 去取即可
                        // av = array(INT[], 0, 5)
                        // append!(av, [1..1])
                        // append!(av, [1..70000])
                        // append!(av, [1..1])
                        // append!(av, [1..500])
                        // ...
                        // av
                        const type_ = this.type - 64;
                        const limit = 10;
                        let array_items = new Array(Math.min(limit, this.rows));
                        let i_items = 0;
                        for (const { lengths, data } of this.value) {
                            let acc_len = 0;
                            for (const length of lengths) {
                                let items = new Array(Math.min(limit, length));
                                for (let i = 0; i < items.length; i++)
                                    switch (type_) {
                                        case DdbType.decimal32:
                                        case DdbType.decimal64:
                                        case DdbType.decimal128:
                                            const x = data[acc_len + i];
                                            if (is_decimal_null_value(type_, x))
                                                items[i] = '';
                                            else {
                                                const { scale } = this.value;
                                                const s = String(x < 0 ? -x : x).padStart(scale, '0');
                                                const str = (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                                                items[i] = options.colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
                                            }
                                            break;
                                        case DdbType.complex:
                                        case DdbType.point: {
                                            const index = acc_len + i;
                                            items[i] = format(type_, data.subarray(2 * index, 2 * (index + 1)), this.le, options);
                                            break;
                                        }
                                        case DdbType.uuid:
                                        case DdbType.int128:
                                        case DdbType.ipaddr: {
                                            const index = acc_len + i;
                                            items[i] = format(type_, data.subarray(16 * index, 16 * (index + 1)), this.le, options);
                                            break;
                                        }
                                        default:
                                            items[i] = format(type_, data[acc_len + i], this.le, options);
                                            break;
                                    }
                                array_items[i_items++] = format_array(items, length > limit);
                                acc_len += length;
                            }
                            if (i_items >= limit)
                                break;
                        }
                        return format_array(array_items, this.rows > limit);
                    }
                    switch (this.type) {
                        case DdbType.symbol_extended: {
                            const limit = 50;
                            const { base, data } = this.value;
                            let items = new Array(Math.min(limit, data.length));
                            for (let i = 0; i < items.length; i++)
                                items[i] = base[data[i]].quote('single');
                            return format_array(items, data.length > limit);
                        }
                        case DdbType.void:
                            return format(this.type, this.value, this.le, options);
                        case DdbType.uuid:
                        case DdbType.int128:
                        case DdbType.ipaddr: {
                            const limit = 10;
                            const value = this.value;
                            const len_data = value.length / 16;
                            let items = new Array(Math.min(limit, len_data));
                            for (let i = 0; i < items.length; i++)
                                items[i] = format(this.type, value.subarray(16 * i, 16 * (i + 1)), this.le, options);
                            return format_array(items, len_data > limit);
                        }
                        case DdbType.complex:
                        case DdbType.point: {
                            const limit = 20;
                            const value = this.value;
                            const len_data = value.length / 2;
                            let items = new Array(Math.min(limit, len_data));
                            for (let i = 0; i < items.length; i++)
                                items[i] = format(this.type, value.subarray(2 * i, 2 * (i + 1)), this.le, options);
                            return format_array(items, len_data > limit);
                        }
                        case DdbType.decimal32:
                        case DdbType.decimal64:
                        case DdbType.decimal128: {
                            const limit = 50;
                            const { data } = this.value;
                            let items = new Array(Math.min(limit, data.length));
                            for (let i = 0; i < items.length; i++)
                                items[i] = formati(this, i, options);
                            return format_array(items, data.length > limit);
                        }
                        default: {
                            const limit = this.type === DdbType.compressed ? 5 : 50;
                            let items = new Array(Math.min(limit, this.value.length));
                            for (let i = 0; i < items.length; i++)
                                items[i] = format(this.type, this.value[i], this.le, options);
                            return format_array(items, this.value.length > limit);
                        }
                    }
                }
                case DdbForm.chart:
                    return JSON.stringify(this.value, (key, value) => key === 'data' ? value.toString(options) : value, 4);
            }
            return String(this.value);
        })();
        // 如果类型为 string 则不需要加上类型名
        if (this.form === DdbForm.scalar && this.type === DdbType.string)
            return data;
        else
            return `${options?.colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .blue */ .z1)(type) : type}(${this.name ? `'${this.name}', ` : ''}${data})`;
    }
    inspect_type() {
        const tname = DdbType[this.type];
        switch (this.form) {
            case DdbForm.scalar:
                if (this.type === DdbType.functiondef)
                    return `functiondef<${DdbFunctionType[this.value.type]}>`;
                return tname;
            case DdbForm.vector:
                if (64 <= this.type && this.type < 128)
                    return `${DdbType[this.type - 64]}[][${this.rows}]`;
                return `${tname}[${this.rows}]`;
            case DdbForm.pair:
                return `pair<${tname}>`;
            case DdbForm.set:
                return `set<${tname}>[${this.rows}]`;
            case DdbForm.table:
                return `table[${this.rows}r][${this.cols}c]`;
            case DdbForm.dict:
                return `dict<${DdbType[this.value[0].type]}, ${DdbType[this.value[1].type]}>[${this.rows}]`;
            case DdbForm.chart:
                return `chart<${DdbChartType[this.value.type]}>`;
            case DdbForm.matrix:
                return `matrix<${tname}>[${this.rows}r][${this.cols}c]`;
            default:
                return `${DdbForm[this.form]} ${tname}`;
        }
    }
    /** 自动转换 js string, boolean 为 DdbObj */
    static to_ddbobj(value) {
        if (value && value instanceof DdbObj)
            return value;
        const type = typeof value;
        switch (type) {
            case 'string':
                return new DdbString(value);
            case 'boolean':
                return new DdbBool(value);
            default:
                throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('不能自动转换 {{type}} 至 DdbObj', { type }));
        }
    }
    /** 转换 js 数组为 DdbObj[] */
    static to_ddbobjs(values) {
        return values.map(value => this.to_ddbobj(value));
    }
    /** @deprecated 用 data() */
    to_cols() {
        (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(this.form === DdbForm.table, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('form 必须是 DdbForm.table, 否则不能 to_cols'));
        return this.value.map(col => ({
            title: col.name,
            dataIndex: col.name,
            render: value => format(col.type, value, col.le, { nullstr: false, quote: false })
        }));
    }
    /** 将 table 转换为 rows，空值转换为 null
        @deprecated 用 data() */
    to_rows() {
        (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(this.form === DdbForm.table, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('form 必须是 DdbForm.table, 否则不能 to_rows'));
        let rows = new Array(this.rows);
        for (let i = 0; i < this.rows; i++) {
            let row = {};
            for (let j = 0; j < this.cols; j++) {
                const { type, name, value: values } = this.value[j]; // column
                switch (type) {
                    case DdbType.bool: {
                        const value = values[i];
                        row[name] = value === nulls.int8 ?
                            null
                            :
                                Boolean(value);
                        break;
                    }
                    case DdbType.char:
                        row[name] = values[i] === nulls.int8 ? null : values[i];
                        break;
                    case DdbType.short:
                        row[name] = values[i] === nulls.int16 ? null : values[i];
                        break;
                    case DdbType.int:
                    case DdbType.date:
                    case DdbType.month:
                    case DdbType.time:
                    case DdbType.minute:
                    case DdbType.second:
                    case DdbType.datetime:
                    case DdbType.datehour:
                        row[name] = values[i] === nulls.int32 ? null : values[i];
                        break;
                    case DdbType.long:
                    case DdbType.timestamp:
                    case DdbType.nanotime:
                    case DdbType.nanotimestamp:
                        row[name] = values[i] === nulls.int64 ? null : values[i];
                        break;
                    case DdbType.int128:
                        row[name] = values[i] === nulls.int128 ? null : values[i];
                        break;
                    case DdbType.float:
                        row[name] = values[i] === nulls.float32 ? null : values[i];
                        break;
                    case DdbType.double:
                        row[name] = values[i] === nulls.double ? null : values[i];
                        break;
                    case DdbType.decimal32:
                    case DdbType.decimal64:
                    case DdbType.decimal128:
                        row[name] = is_decimal_null_value(type, values[i]) ? null : values[i];
                        break;
                    case DdbType.ipaddr:
                        row[name] = values.subarray(16 * i, 16 * (i + 1));
                        break;
                    case DdbType.symbol_extended: {
                        const { base, data } = values;
                        row[name] = base[data[i]];
                        break;
                    }
                    default:
                        row[name] = values[i];
                }
            }
            rows[i] = row;
        }
        return rows;
    }
    to_dict({ strip, deep, } = {}) {
        (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(this.form === DdbForm.dict, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('this.form 必须是 DdbForm.dict, 否则不能调用 to_dict 转换为 js object'));
        const [{ value: keys, type: key_type }, { value: values, type: value_type }] = this.value;
        (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(key_type === DdbType.string && dictables.has(value_type), (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('当前只支持自动转换 dict<string, any | ...dictables> 为 js object'));
        (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(!(deep && !strip), (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('deep = true 时必须设置 strip = true'));
        let obj = {};
        for (let i = 0; i < this.rows; i++) {
            const key = keys[i];
            if (value_type === DdbType.any) {
                let value = values[i];
                if (deep && value.form === DdbForm.dict)
                    obj[key] = value.to_dict({ strip, deep });
                else
                    obj[key] = strip ? value.value : value;
            }
            else
                obj[key] = values[i];
        }
        return obj;
    }
}
/** 根据 DdbType 获取其名称，array vector type 自动在后面加上 [] */
function get_type_name(type) {
    return `${DdbType[type] || type}${64 <= type && type < 128 ? '[]' : ''}`;
}
function is_decimal_type(type) {
    return type === DdbType.decimal32 || type === DdbType.decimal64 || type === DdbType.decimal128;
}
function is_decimal_null_value(type, value) {
    return ((value === nulls.int128 && type === DdbType.decimal128) ||
        (value === nulls.int64 && type === DdbType.decimal64) ||
        (value === nulls.int32 && type === DdbType.decimal32));
}
function get_duration_unit(code) {
    let str = String.fromCharCode((code >> 24) & 0xff);
    str += String.fromCharCode((code >> 16) & 0xff);
    str += String.fromCharCode((code >> 8) & 0xff);
    str += String.fromCharCode(code & 0xff);
    return str;
}
/** 整数一定用这个 number formatter, InspectOptions.decimals 不传也用这个 */
let default_formatter = new Intl.NumberFormat('en-US', { maximumFractionDigits: 20 });
let _decimals = 20;
let _grouping = true;
/** 缓存，为了优化性能，通常 options.decimals 都是不变的 */
let _formatter = new Intl.NumberFormat('en-US', { maximumFractionDigits: 20 });
/** 用来处理时差  To deal with jet lag */
let _datetime_formatter = new Intl.DateTimeFormat('zh-CN', { dateStyle: 'short', timeStyle: 'medium', timeZone: 'UTC', hour12: false });
/** 根据 DdbType 格式化单个元素 (value) 为字符串 */
function format(type, value, le, options = {}) {
    const { nullstr = false, colors = false, quote = false, grouping = true } = options;
    const formatter = (() => {
        const decimals = options.decimals ?? _decimals;
        if (decimals !== _decimals || grouping !== _grouping) {
            _decimals = decimals;
            _grouping = grouping;
            default_formatter = new Intl.NumberFormat('en-US', { maximumFractionDigits: 20, useGrouping: grouping });
            _formatter = new Intl.NumberFormat('en-US', {
                maximumFractionDigits: decimals,
                minimumFractionDigits: decimals,
                useGrouping: grouping
            });
        }
        return options.decimals === undefined || options.decimals === null ? default_formatter : _formatter;
    })();
    function get_nullstr() {
        const str = value === DdbVoidType.default ? 'default' : 'null';
        return nullstr ?
            colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .grey */ .Oh)(str) : str
            :
                '';
    }
    function format_time(formatter, _null) {
        if (value === null || value === _null)
            return get_nullstr();
        let str;
        // formatter 可能会在 value 不属于 new Date() 有效值时，调用  抛出错误，这里统一处理
        try {
            str = formatter(value);
        }
        catch (error) {
            if (error instanceof RangeError)
                str = 'Invalid Date';
            else
                throw error;
        }
        return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .magenta */ .GC)(str) : str;
    }
    switch (type) {
        case DdbType.void:
            return get_nullstr();
        case DdbType.bool:
            if (value === null || value === nulls.int8)
                return get_nullstr();
            else {
                const str = String(Boolean(value));
                return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .blue */ .z1)(str) : str;
            }
        case DdbType.char:
            if (value === null || value === nulls.int8)
                return get_nullstr();
            else {
                let str = 
                // ascii printable
                // http://facweb.cs.depaul.edu/sjost/it212/documents/ascii-pr.htm
                (32 <= value && value <= 126) ?
                    String.fromCharCode(value)
                    :
                        '\\' + String(value);
                if (quote)
                    str = str.quote();
                return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
            }
        case DdbType.short:
            if (value === null || value === nulls.int16)
                return get_nullstr();
            else {
                const str = default_formatter.format(value);
                return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
            }
        case DdbType.int:
            if (value === null || value === nulls.int32)
                return get_nullstr();
            else {
                const str = default_formatter.format(value);
                return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
            }
        case DdbType.long:
            if (value === null || value === nulls.int64)
                return get_nullstr();
            else {
                const str = default_formatter.format(value);
                return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
            }
        case DdbType.date:
            return format_time(date2str, nulls.int32);
        case DdbType.month:
            return format_time(month2str, nulls.int32);
        case DdbType.time:
            return format_time(time2str, nulls.int32);
        case DdbType.minute:
            return format_time(minute2str, nulls.int32);
        case DdbType.second:
            return format_time(second2str, nulls.int32);
        case DdbType.datetime:
            return format_time(datetime2str, nulls.int32);
        case DdbType.timestamp:
            return format_time(timestamp2str, nulls.int64);
        case DdbType.nanotime:
            return format_time(nanotime2str, nulls.int64);
        case DdbType.nanotimestamp:
            return format_time(nanotimestamp2str, nulls.int64);
        case DdbType.float:
            if (value === null || value === nulls.float32)
                return get_nullstr();
            else {
                const str = formatter.format(value);
                return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
            }
        case DdbType.double:
            if (value === null || value === nulls.double)
                return get_nullstr();
            else {
                const str = formatter.format(value);
                return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
            }
        case DdbType.symbol:
        case DdbType.string: {
            let str = value;
            if (quote)
                str = str.quote('single');
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .cyan */ .Q_)(str) : str;
        }
        case DdbType.uuid: {
            const str = uuid2str(value, le);
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .cyan */ .Q_)(str) : str;
        }
        case DdbType.functiondef: {
            const str = value.name.quote('single');
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .cyan */ .Q_)(str) : str;
        }
        case DdbType.handle:
        case DdbType.code:
        case DdbType.datasource:
        case DdbType.resource: {
            const str = value.quote('single');
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .cyan */ .Q_)(str) : str;
        }
        case DdbType.datehour:
            return format_time(datehour2str, nulls.int32);
        case DdbType.ipaddr: {
            const str = ipaddr2str(value, le);
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .cyan */ .Q_)(str) : str;
        }
        case DdbType.int128: {
            const str = int1282str(value, le);
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .cyan */ .Q_)(str) : str;
        }
        case DdbType.blob: {
            const str = value.length > 100 ?
                DdbObj.dec.decode(value.subarray(0, 98)) + '…'
                :
                    DdbObj.dec.decode(value);
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .cyan */ .Q_)(str) : str;
        }
        case DdbType.point: {
            const [x, y] = value;
            return `(${format(DdbType.double, x, le, options)}, ${format(DdbType.double, y, le, options)})`;
        }
        case DdbType.complex: {
            const [x, y] = value;
            return `${format(DdbType.double, x, le, options)}+${format(DdbType.double, y, le, options)}i`;
        }
        case DdbType.duration: {
            const { data, unit } = value;
            const str = `${data}${DdbDurationUnit[unit] ?? get_duration_unit(unit)}`;
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .magenta */ .GC)(str) : str;
        }
        case DdbType.decimal32:
        case DdbType.decimal64:
        case DdbType.decimal128: {
            const { scale, data } = value;
            if (data === null ||
                is_decimal_null_value(type, data))
                return get_nullstr();
            const s = String(data < 0 ? -data : data).padStart(scale, '0');
            const str = (data < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
            return colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
        }
        default:
            return value === null ? get_nullstr() : String(value);
    }
}
/** 格式化向量、集合中的第 index 项为字符串，空值返回 'null' 字符串  formatted vector, the index-th item in the collection is a string, a null value returns a 'null' string */
function formati(obj, index, options = {}) {
    (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(index < obj.rows, 'index < obj.rows');
    if (obj.type < 64 || obj.type >= 128) // 普通数组
        switch (obj.type) {
            case DdbType.symbol_extended: {
                const { base, data } = obj.value;
                return format(DdbType.string, base[data[index]], obj.le, options);
            }
            case DdbType.void:
                return format(obj.type, obj.value, obj.le, options);
            case DdbType.uuid:
            case DdbType.int128:
            case DdbType.ipaddr:
                return format(obj.type, obj.value.subarray(16 * index, 16 * (index + 1)), obj.le, options);
            case DdbType.blob: {
                const value = obj.value[index];
                return value.length > 100 ?
                    DdbObj.dec.decode(value.subarray(0, 98)) + '…'
                    :
                        DdbObj.dec.decode(value);
            }
            case DdbType.complex:
            case DdbType.point:
                return format(obj.type, obj.value.subarray(2 * index, 2 * (index + 1)), obj.le, options);
            case DdbType.decimal32:
            case DdbType.decimal64:
            case DdbType.decimal128: {
                const { scale, data } = obj.value;
                const x = data[index];
                if (is_decimal_null_value(obj.type, x))
                    return '';
                const s = String(x < 0 ? -x : x).padStart(scale, '0');
                const str = (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                return options.colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
            }
            default:
                return format(obj.type, obj.value[index], obj.le, options);
        }
    else { // array vector
        // 因为 array vector 目前只支持：Logical, Integral（不包括 INT128, COMPRESS 类型）, Floating, Temporal
        // 都对应 TypedArray 中的一格，所以 lengths.length 等于 block 中的 row 的个数
        // av = array(INT[], 0, 5)
        // append!(av, [1..1])
        // append!(av, [1..70000])
        // append!(av, [1..1])
        // append!(av, [1..500])
        // ...
        // av
        const type_ = obj.type - 64;
        let offset = 0;
        // array vector 中每一项如果为 null 都展示，避免多个逗号堆在一起的情况
        options = { ...options, nullstr: true };
        for (const { lengths, data, rows } of obj.value) {
            let acc_len = 0;
            if (offset + rows <= index) {
                offset += rows;
                continue; // 跳过这个 block
            }
            for (const length of lengths) {
                if (offset < index) {
                    offset++;
                    acc_len += length;
                    continue;
                }
                const limit = 10;
                let items = new Array(Math.min(limit, length));
                for (let i = 0; i < items.length; i++)
                    switch (type_) {
                        case DdbType.decimal32:
                        case DdbType.decimal64:
                        case DdbType.decimal128:
                            const x = data[acc_len + i];
                            if (is_decimal_null_value(type_, x))
                                items[i] = options.colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .grey */ .Oh)('null') : 'null';
                            else {
                                const { scale } = obj.value;
                                const s = String(x < 0 ? -x : x).padStart(scale, '0');
                                const str = (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                                items[i] = options.colors ? (0,xshell_chalk_browser_js__WEBPACK_IMPORTED_MODULE_4__/* .green */ .wL)(str) : str;
                            }
                            break;
                        case DdbType.complex:
                        case DdbType.point: {
                            const index = acc_len + i;
                            items[i] = format(type_, data.subarray(2 * index, 2 * (index + 1)), obj.le, options);
                            break;
                        }
                        case DdbType.uuid:
                        case DdbType.int128:
                        case DdbType.ipaddr: {
                            const index = acc_len + i;
                            items[i] = format(type_, data.subarray(16 * index, 16 * (index + 1)), obj.le, options);
                            break;
                        }
                        default:
                            items[i] = format(type_, data[acc_len + i], obj.le, options);
                            break;
                    }
                return (items.join(', ') + (length > limit ? ', ...' : '')).bracket('square');
            }
        }
    }
}
function convert(type, value, le, { blob = 'string' } = {}) {
    switch (type) {
        case DdbType.void:
            return value === DdbVoidType.null ? null : undefined;
        case DdbType.char:
            return value === null || value === nulls.int8 ? '' : String.fromCharCode(value);
        case DdbType.bool:
            return value === null || value === nulls.int8 ? null : Boolean(value);
        case DdbType.short:
            return value === null || value === nulls.int16 ? null : value;
        case DdbType.int:
            return value === null || value === nulls.int32 ? null : value;
        case DdbType.float:
            return value === null || value === nulls.float32 ? null : value;
        case DdbType.double:
            return value === null || value === nulls.double ? null : value;
        case DdbType.long:
            return value === null || value === nulls.int64 ? null : value;
        case DdbType.functiondef:
            return value.name;
        case DdbType.string:
        case DdbType.symbol:
        case DdbType.code:
        case DdbType.handle:
        case DdbType.datasource:
        case DdbType.resource:
            return value;
        case DdbType.blob:
            return blob === 'string' ? (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .decode */ .D4)(value) : value;
        case DdbType.complex:
        case DdbType.point: {
            const [x, y] = value;
            return [
                x === null || x === nulls.double ? null : x,
                y === null || y === nulls.double ? null : y,
            ];
        }
        case DdbType.date:
        case DdbType.month:
        case DdbType.time:
        case DdbType.minute:
        case DdbType.second:
        case DdbType.datetime:
        case DdbType.datehour:
        case DdbType.timestamp:
        case DdbType.nanotime:
        case DdbType.nanotimestamp:
        case DdbType.duration:
        case DdbType.uuid:
        case DdbType.ipaddr:
        case DdbType.int128:
        // decimal 类型转换为固定位数小数的 string 不丢失精度，一般也是展示用
        case DdbType.decimal32:
        case DdbType.decimal64:
        case DdbType.decimal128:
            return format(type, value, le, { colors: false });
        default:
            throw new Error(String(DdbType[type] || type) + (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)(' 暂时不支持转换为 js 对象'));
    }
}
/** 转换一个向量到 js 原生数组 */
function converts(type, value, rows, le, options) {
    if (type < 64 || type >= 128)
        switch (type) {
            // 可以直接用下标取值再转换的类型
            case DdbType.bool:
            case DdbType.char:
            case DdbType.short:
            case DdbType.int:
            case DdbType.float:
            case DdbType.double:
            case DdbType.long:
            case DdbType.date:
            case DdbType.month:
            case DdbType.time:
            case DdbType.minute:
            case DdbType.second:
            case DdbType.datetime:
            case DdbType.datehour:
            case DdbType.timestamp:
            case DdbType.nanotime:
            case DdbType.nanotimestamp:
            case DdbType.duration:
            case DdbType.string:
            case DdbType.symbol:
            case DdbType.code:
            case DdbType.handle:
            case DdbType.datasource:
            case DdbType.resource:
            case DdbType.functiondef:
            case DdbType.blob:
                return Array.prototype.map.call(value, (x) => convert(type, x, le, options));
            case DdbType.void:
                return [];
            case DdbType.symbol_extended: {
                const { base, data } = value;
                return Array.prototype.map.call(data, (x) => base[x]);
            }
            case DdbType.complex:
            case DdbType.point:
                return (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(rows, i => {
                    const x = value[2 * i];
                    const y = value[2 * i + 1];
                    return [x === nulls.double ? null : x, y === nulls.double ? null : y];
                });
            case DdbType.uuid:
            case DdbType.ipaddr:
            case DdbType.int128:
                return (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(rows, i => convert(type, value.subarray(16 * i, 16 * (i + 1)), le, options));
            case DdbType.decimal32:
            case DdbType.decimal64:
            case DdbType.decimal128: {
                const { scale, data } = value;
                return Array.prototype.map.call(data, (x) => {
                    if (is_decimal_null_value(type, x))
                        return '';
                    const s = String(x < 0 ? -x : x).padStart(scale, '0');
                    return (x < 0 ? '-' : '') + (scale ? `${s.slice(0, -scale) || '0'}.${s.slice(-scale)}` : s);
                });
            }
            case DdbType.any:
                return value.map(x => x.data(options));
            default:
                throw new Error(String(DdbType[type] || type) + '[]' + (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)(' 暂时不支持转换为 js 对象'));
        }
    else { // array vector
        const type_ = type - 64;
        return value.map(({ lengths, data, rows }) => {
            let acc_len = 0;
            return Array.prototype.map.call(lengths, (length) => {
                switch (type_) {
                    case DdbType.decimal32:
                    case DdbType.decimal64:
                    case DdbType.decimal128:
                        return converts(type_, { scale: value.scale, data: data.subarray(acc_len, acc_len += length) }, length, le, options);
                    case DdbType.complex:
                    case DdbType.point:
                        return converts(type_, data.subarray(acc_len, acc_len += 2 * length), length, le, options);
                    case DdbType.uuid:
                    case DdbType.int128:
                    case DdbType.ipaddr:
                        return converts(type_, data.subarray(acc_len, acc_len += 16 * length), length, le, options);
                    default:
                        return converts(type_, data.subarray(acc_len, acc_len += length), length, le, options);
                }
            });
        }).flat();
    }
}
class DdbVoid extends DdbObj {
    constructor(value = DdbVoidType.undefined) {
        super({
            form: DdbForm.scalar,
            type: DdbType.void,
            value,
        });
    }
}
class DdbBool extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.bool,
            value,
        });
    }
}
class DdbChar extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.char,
            value: typeof value === 'string' ?
                value.charCodeAt(0)
                :
                    value
        });
    }
}
class DdbInt extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.int,
            value,
        });
    }
}
class DdbString extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.string,
            value
        });
    }
}
class DdbLong extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.long,
            value
        });
    }
}
class DdbDouble extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.double,
            value
        });
    }
}
class DdbDateTime extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.datetime,
            value
        });
    }
}
class DdbTimeStamp extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.timestamp,
            value
        });
    }
}
class DdbNanoTimeStamp extends DdbObj {
    constructor(value) {
        super({
            form: DdbForm.scalar,
            type: DdbType.nanotimestamp,
            value
        });
    }
}
class DdbBlob extends DdbObj {
    constructor(value) {
        (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(value, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('new DdbBlob 不能传空的 value'));
        super({
            form: DdbForm.scalar,
            type: DdbType.blob,
            value: value instanceof Uint8Array ? value : new Uint8Array(value)
        });
    }
}
class DdbPair extends DdbObj {
    constructor(l, r = null) {
        super({
            form: DdbForm.pair,
            type: DdbType.int,
            rows: 2,
            cols: 1,
            value: Int32Array.of(l === null ? nulls.int32 : l, r === null ? nulls.int32 : r)
        });
    }
}
class DdbFunction extends DdbObj {
    constructor(name, type) {
        super({
            form: DdbForm.scalar,
            type: DdbType.functiondef,
            value: { type, name }
        });
    }
}
class DdbVectorInt extends DdbObj {
    constructor(ints, name) {
        super({
            form: DdbForm.vector,
            type: DdbType.int,
            rows: ints.length,
            cols: 1,
            value: ints instanceof Int32Array ?
                ints
                :
                    Int32Array.from(ints, v => v === null ?
                        nulls.int32
                        :
                            v),
            name,
        });
    }
}
class DdbVectorLong extends DdbObj {
    constructor(longs, name) {
        super({
            form: DdbForm.vector,
            type: DdbType.long,
            rows: longs.length,
            cols: 1,
            value: longs instanceof BigInt64Array ?
                longs
                :
                    BigInt64Array.from(longs, v => v === null ?
                        nulls.int64
                        :
                            BigInt(v)),
            name,
        });
    }
}
class DdbVectorDouble extends DdbObj {
    constructor(doubles, name) {
        super({
            form: DdbForm.vector,
            type: DdbType.double,
            rows: doubles.length,
            cols: 1,
            value: doubles instanceof Float64Array ?
                doubles
                :
                    Float64Array.from(doubles, v => v === null ?
                        nulls.double
                        :
                            v),
            name,
        });
    }
}
class DdbVectorString extends DdbObj {
    constructor(strings, name) {
        super({
            form: DdbForm.vector,
            type: DdbType.string,
            rows: strings.length,
            cols: 1,
            value: strings,
            name,
        });
    }
}
class DdbVectorAny extends DdbObj {
    constructor(objs, name) {
        super({
            form: DdbForm.vector,
            type: DdbType.any,
            rows: objs.length,
            cols: 1,
            value: DdbObj.to_ddbobjs(objs),
            name,
        });
    }
}
class DdbVectorSymbol extends DdbObj {
    constructor(strings, name) {
        let map = new Map([
            ['', 0]
        ]);
        let data = new Uint32Array(strings.length);
        for (let i = 0; i < strings.length; i++) {
            const x = strings[i];
            let index = map.get(x);
            if (index === undefined) {
                index = map.size;
                map.set(x, index);
            }
            data[i] = index;
        }
        super({
            form: DdbForm.vector,
            type: DdbType.symbol_extended,
            rows: strings.length,
            cols: 1,
            value: {
                base: [...map.keys()],
                base_id: null,
                data,
            },
            name
        });
    }
}
class DdbSetInt extends DdbObj {
    constructor(ints) {
        super({
            form: DdbForm.set,
            type: DdbType.int,
            rows: ints instanceof Set ?
                ints.size
                :
                    ints.length,
            cols: 1,
            value: ints instanceof Int32Array ?
                ints
                :
                    Int32Array.from(ints, v => v === null ?
                        nulls.int32
                        :
                            v),
        });
    }
}
class DdbSetDouble extends DdbObj {
    constructor(doubles) {
        super({
            form: DdbForm.set,
            type: DdbType.double,
            rows: doubles instanceof Set ?
                doubles.size
                :
                    doubles.length,
            cols: 1,
            value: doubles instanceof Int32Array ?
                doubles
                :
                    Int32Array.from(doubles, v => v === null ?
                        nulls.int32
                        :
                            v),
        });
    }
}
class DdbSetString extends DdbObj {
    constructor(strings) {
        if (strings instanceof Set)
            strings = [...strings];
        super({
            form: DdbForm.set,
            type: DdbType.string,
            rows: strings.length,
            cols: 1,
            value: strings
        });
    }
}
/** 构造 DdbDict 对象，支持两种用法:  Constructs a DdbDict object, which supports two usages:
     - 传入类型是 DdbVectorObj 的 keys, values 两个参数直接组成 dict<keys.type, values.type> 的 DdbDict
         The incoming type is the keys of DdbObj<DdbVectorValue>, and the two parameters of values directly form the DdbDict of dict<keys.type, values.type>
     - 传入 js object (类型是 Record<string, boolean | string | DdbObj>), 自动转换为 dict<string, any> 的 DdbDict
         Pass in js object (type is Record<string, boolean | string | DdbObj>), automatically converted to DdbDict of dict<string, any> */
class DdbDict extends DdbObj {
    constructor(arg0, arg1) {
        if (arg1)
            super({
                form: DdbForm.dict,
                type: arg1.type,
                rows: arg0.rows,
                cols: 2,
                value: [arg0, arg1]
            });
        else {
            const keys = Object.keys(arg0);
            super({
                form: DdbForm.dict,
                type: DdbType.any,
                rows: keys.length,
                cols: 2,
                value: [
                    new DdbVectorString(keys),
                    new DdbVectorAny(Object.values(arg0))
                ]
            });
        }
    }
}
class DdbTable extends DdbObj {
    constructor(columns, name = '') {
        super({
            form: DdbForm.table,
            type: DdbType.void,
            rows: columns[0].rows,
            cols: columns.length,
            name,
            value: columns,
        });
    }
}
function date2ms(date) {
    // 将 server 的本地时间 (以 ms 为单位，1970.01.01 00:00:00 作为零点) 当成是客户端这里的本地的时间，然后根据本地的时区信息转换为 utc 时间
    // 本地的时区与实际的时间值相关，timezone offset 可能会受到夏令时 (DST) 的影响
    // 得到的 utc 毫秒数交给 js date 或者 dayjs 去格式化
    if (date === null || date === nulls.int32)
        return null;
    const ms = 1000 * 3600 * 24 * date;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function date2str(date, format = 'YYYY.MM.DD') {
    return (date === null || date === nulls.int32) ?
        'null'
        :
            dayjs__WEBPACK_IMPORTED_MODULE_0__(date2ms(date)).format(format);
}
function month2ms(month) {
    return (month === null || month === nulls.int32) ?
        null
        :
            dayjs(month2str(month), 'YYYY.MM[M]').valueOf();
}
function month2str(month) {
    if (month === null || month === nulls.int32)
        return 'null';
    if (month < 0)
        return String(month);
    const _month = month % 12;
    const year = Math.trunc(month / 12);
    return `${String(year).padStart(4, '0')}.${String(_month + 1).padStart(2, '0')}M`;
}
function time2ms(time) {
    return (time === null || time === nulls.int32) ?
        null
        :
            1000 * 60 * new Date(time).getTimezoneOffset() + time;
}
function time2str(time, format = 'HH:mm:ss.SSS') {
    return (time === null || time === nulls.int32) ?
        'null'
        :
            dayjs__WEBPACK_IMPORTED_MODULE_0__(time2ms(time)).format(format);
}
function minute2ms(minute) {
    if (minute === null || minute === nulls.int32)
        return null;
    const ms = 60 * 1000 * minute;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function minute2str(minute, format = 'HH:mm[m]') {
    return (minute === null || minute === nulls.int32) ?
        'null'
        :
            dayjs__WEBPACK_IMPORTED_MODULE_0__(minute2ms(minute)).format(format);
}
function second2ms(second) {
    if (second === null || second === nulls.int32)
        return null;
    const ms = 1000 * second;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function second2str(second, format = 'HH:mm:ss') {
    return (second === null || second === nulls.int32) ?
        'null'
        :
            dayjs__WEBPACK_IMPORTED_MODULE_0__(second2ms(second)).format(format);
}
function datetime2ms(datetime) {
    if (datetime === null || datetime === nulls.int32)
        return null;
    const date = new Date(1000 * datetime);
    return dayjs__WEBPACK_IMPORTED_MODULE_0__(`${_datetime_formatter.format(date)}.${date.getUTCMilliseconds()}`).valueOf();
}
function datetime2str(datetime, format = 'YYYY.MM.DD HH:mm:ss') {
    return (datetime === null || datetime === nulls.int32) ?
        'null'
        :
            dayjs__WEBPACK_IMPORTED_MODULE_0__(datetime2ms(datetime)).format(format);
}
/** _datetime_formatter.format 会在 date 为 Invalid Date 时抛出错误 */
function timestamp2ms(timestamp) {
    if (timestamp === null || timestamp === nulls.int64)
        return null;
    const date = new Date(Number(timestamp));
    return dayjs__WEBPACK_IMPORTED_MODULE_0__(`${_datetime_formatter.format(date)}.${date.getUTCMilliseconds()}`).valueOf();
}
/** format timestamp (bigint) to string
    - timestamp: bigint value
    - format?:
        格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSS`  format string, default to `YYYY.MM.DD HH:mm:ss.SSS`
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens */
function timestamp2str(timestamp, format = 'YYYY.MM.DD HH:mm:ss.SSS') {
    return (timestamp === null || timestamp === nulls.int64) ?
        'null'
        :
            dayjs__WEBPACK_IMPORTED_MODULE_0__(timestamp2ms(timestamp)).format(format);
}
function datehour2ms(datehour) {
    if (datehour === null || datehour === nulls.int32)
        return null;
    const ms = 1000 * 3600 * datehour;
    return 1000 * 60 * new Date(ms).getTimezoneOffset() + ms;
}
function datehour2str(datehour, format = 'YYYY.MM.DDTHH') {
    if (datehour === null || datehour === nulls.int32)
        return 'null';
    const ms = 1000 * 3600 * datehour;
    return dayjs__WEBPACK_IMPORTED_MODULE_0__(1000 * 60 * new Date(ms).getTimezoneOffset() + ms).format(format);
}
/** parse timestamp string to bigint value
    - str: timestamp string, 如果为空字符串或 'null' 会返回对应的空值 (nulls.int64)
        timestamp string, If it is an empty string or 'null', it will return the corresponding empty value (nulls.int64)
    - format?:
        对应传入字符串的格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSS`
        The format string corresponding to the incoming string, the default is `YYYY.MM.DD HH:mm:ss.SSS`
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens */
function str2timestamp(str, format = 'YYYY.MM.DD HH:mm:ss.SSS') {
    if (!str || str === 'null')
        return nulls.int64;
    assert(str.length === format.length, t('timestamp 字符串长度必须等于格式串长度'));
    const ms = dayjs(str, format).valueOf();
    return BigInt(-(1000 * 60 * new Date(ms).getTimezoneOffset()) +
        ms);
}
function nanotime2ns(nanotime) {
    return nanotimestamp2ns(nanotime);
}
function nanotime2str(nanotime, format = 'HH:mm:ss.SSSSSSSSS') {
    if (nanotime === null || nanotime === nulls.int64)
        return 'null';
    if (nanotime < 0n)
        return String(nanotime);
    const i_second_start = format.indexOf('ss');
    (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(i_second_start !== -1, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('格式串必须包含秒的格式 (ss)'));
    const i_second_end = i_second_start + 2;
    const i_nanosecond_start = format.indexOf('SSSSSSSSS', i_second_end);
    (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(i_nanosecond_start !== -1, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('格式串必须包含纳秒的格式 (SSSSSSSSS)'));
    const ms = Number(nanotime) / 1000000;
    return (dayjs__WEBPACK_IMPORTED_MODULE_0__(1000 * 60 * new Date(ms).getTimezoneOffset() + ms).format(format.slice(0, i_second_end)) +
        format.slice(i_second_end, i_nanosecond_start) +
        String(nanotime % 1000000000n).padStart(9, '0'));
}
function nanotimestamp2ns(nanotimestamp) {
    if (nanotimestamp === null || nanotimestamp === nulls.int64)
        return null;
    const date = new Date(Number(nanotimestamp / 1000000n));
    return BigInt(dayjs(`${_datetime_formatter.format(date)}.${date.getUTCMilliseconds()}`).valueOf()) * 1000000n + nanotimestamp % 1000000n;
}
/** format nanotimestamp value (bigint) to string
    - nanotimestamp: bigint value
    - format?:
        格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`  format string, default is `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`
        秒的格式为 ss (必须包含); 纳秒的格式为 SSSSSSSSS (必须包含)  Seconds are in the format ss (must be included); nanoseconds are in the format SSSSSSSSS (must be included)
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens
*/
function nanotimestamp2str(nanotimestamp, format = 'YYYY.MM.DD HH:mm:ss.SSSSSSSSS') {
    // tests:
    // nanotimestamp2str(0n)
    // nanotimestamp2str(-1n)
    // nanotimestamp2str(-9_9999_9999n)
    // nanotimestamp2str(-10_0000_0000n)
    // nanotimestamp2str(-10_0000_0001n)
    if (nanotimestamp === null || nanotimestamp === nulls.int64)
        return 'null';
    const i_second_start = format.indexOf('ss');
    (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(i_second_start !== -1, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('格式串必须包含秒的格式 (ss)'));
    const i_second_end = i_second_start + 2;
    const i_nanosecond_start = format.indexOf('SSSSSSSSS', i_second_end);
    (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(i_nanosecond_start !== -1, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('格式串必须包含纳秒的格式 (SSSSSSSSS)'));
    const remainder = nanotimestamp % 1000000000n;
    const borrow = remainder < 0n;
    const ms = Number((nanotimestamp - remainder + (borrow ? -1000000000n : 0n)) / 1000000n);
    return (dayjs__WEBPACK_IMPORTED_MODULE_0__(_datetime_formatter.format(new Date(ms))).format(format.slice(0, i_second_end)) +
        format.slice(i_second_end, i_nanosecond_start) +
        String(borrow ?
            (remainder + 1000000000n) % 1000000000n
            :
                remainder).padStart(9, '0'));
}
/** parse nano timestamp string to bigint value
    - str: nano timestamp string, 如果为空字符串或 'null' 会返回对应的空值 (nulls.int64)
        nano timestamp string, If it is an empty string or 'null', it will return the corresponding empty value (nulls.int64)
    - format?:
        对应传入字符串的格式串，默认是 `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`
        秒的格式为 ss (必须包含); 纳秒的格式为 SSSSSSSSS (必须包含)
        https://day.js.org/docs/en/parse/string-format#list-of-all-available-parsing-tokens
        The format string corresponding to the incoming string, the default is `YYYY.MM.DD HH:mm:ss.SSSSSSSSS`
        Seconds are in the format ss (must be included); nanoseconds are in the format SSSSSSSSS (must be included) */
function str2nanotimestamp(str, format = 'YYYY.MM.DD HH:mm:ss.SSSSSSSSS') {
    if (!str || str === 'null')
        return nulls.int64;
    assert(str.length === format.length, t('nanotimestamp 字符串长度必须等于格式串长度'));
    const i_second_start = format.indexOf('ss');
    assert(i_second_start !== -1, t('格式串必须包含秒的格式 (ss)'));
    const i_second_end = i_second_start + 2;
    const i_nanosecond_start = format.indexOf('SSSSSSSSS', i_second_end);
    assert(i_nanosecond_start !== -1, t('格式串必须包含纳秒的格式 (SSSSSSSSS)'));
    const ms = dayjs(str.slice(0, i_second_end), format.slice(0, i_second_end)).valueOf();
    return (BigInt(-(1000 * 60 * new Date(ms).getTimezoneOffset()) +
        ms) * 1000000n
        +
            BigInt(str.slice(i_nanosecond_start, i_nanosecond_start + 9)));
}
function ipaddr2str(buffer, le = true, ipv6) {
    let buf = buffer;
    if (le)
        buf = buffer.slice().reverse();
    const i_non_zero = buf.findIndex(x => x !== 0);
    if (ipv6 ||
        i_non_zero !== -1 && i_non_zero < 12) // ipv6
        return buf2ipaddr([...buf]).toString();
    else // ipv4
        return buf.subarray(12).join('.');
}
function uuid2str(buffer, le = true) {
    const str = int1282str(buffer, le);
    return `${str.slice(0, 8)}-${str.slice(8, 12)}-${str.slice(12, 16)}-${str.slice(16, 20)}-${str.slice(20)}`;
}
function int1282str(buffer, le = true) {
    let buf = buffer;
    if (le)
        buf = buffer.slice().reverse();
    return [...buf].map(x => x.toString(16)
        .padStart(2, '0')).join('');
}
const winsize = 10_0000;
class DdbConnectionError extends Error {
    name = 'DdbConnectionError';
    cause;
    url;
    // 这里不保留 ddb 的引用，会导致无法序列化
    constructor(url, error) {
        super(error?.message || `${url} ${(0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('连接出错了，可能由于网络原因连接已被关闭，或服务器断开连接')}`, { cause: error });
        this.url = url;
        if (error)
            this.cause = error;
    }
}
class DdbDatabaseError extends Error {
    name = 'DdbDatabaseError';
    url;
    // 这里不保留 ddb 的引用，会导致无法序列化
    id;
    type;
    options;
    constructor(message, url, type, options, id) {
        super(message);
        this.url = url;
        this.type = type;
        this.options = options;
        this.id = id;
    }
}
/** SQL Standrd 标准类型 */
var SqlStandard;
(function (SqlStandard) {
    SqlStandard[SqlStandard["DolphinDB"] = 0] = "DolphinDB";
    SqlStandard[SqlStandard["Oracle"] = 1] = "Oracle";
    SqlStandard[SqlStandard["MySQL"] = 2] = "MySQL";
})(SqlStandard || (SqlStandard = {}));
class DDB {
    /** 当前的 session id (http 或 tcp) */
    sid = '0';
    /** utf-8 text decoder */
    dec = new TextDecoder('utf-8');
    enc = new TextEncoder();
    /** DolphinDB WebSocket URL
        e.g. `ws://127.0.0.1:8848/`, `wss://dolphindb.com` */
    url;
    /** 为所有 websocket 操作加锁，包括设置 this.on_message, this.on_error, websocket.send */
    lwebsocket = new xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .Lock */ .c_();
    /** little endian (server) */
    le = true;
    /** little endian (client) */
    static le_client = Boolean(new Uint8Array(Uint32Array.of(1).buffer)[0]);
    /** 是否在建立连接后自动登录，默认 true  Whether to automatically log in after the connection is established, the default is true */
    autologin = true;
    /** DolphinDB 登录用户名  DolphinDB username */
    username = 'admin';
    /** DolphinDB 登录密码  DolphinDB password */
    password = '123456';
    /** python session flag (2048) */
    python = false;
    /** 表示本次会话执行的 SQL 标准 */
    sql = SqlStandard.DolphinDB;
    /** 是否为流数据连接，非流数据这个字段恒为 null  Whether it is a streaming data connection, this field is always null for non-streaming data */
    streaming = null;
    /** 是否打印每个 rpc 的信息用于调试 */
    verbose = false;
    // --- 内部选项, 状态
    print_message_buffer = false;
    print_object_buffer = false;
    print_message = true;
    parse_object = true;
    /** 在 websocket 收到的第一个 error 时，
        在 connect_websocket 的 on_error 回调中构造 DdbConnectionError 并保存到 DDB 对象上，
        这个 error 的错误信息最准确 */
    error;
    /** DdbMessage listeners */
    listeners = [];
    /** 首次 connect 连接的 promise, 后面的 connect 调用都返回这个 */
    pconnect;
    /** 首次定义 pnode_run 的 promise，保证并发调用 rpc 时只定义一次 pnode_run */
    ppnode_run;
    /** 首次定义 invoke 的 promise，保证并发调用 rpc 时只定义一次 invoke */
    pinvoke;
    get connected() {
        return !this.error && this.lwebsocket.resource?.readyState === WebSocket.OPEN;
    }
    /**
        使用 WebSocket URL 初始化连接到 DolphinDB 的实例（不建立实际的网络连接）
        Initialize an instance of DolphinDB Client using the WebSocket URL (without establishing an actual network connection)
        - url?: DolphinDB WebSocket URL，如：`ws://127.0.0.1:8848`, 默认为当前页面 URL
            DolphinDB WebSocket URL. e.g.：`ws://127.0.0.1:8848`, Defaults to the current page URL
        - options?: DdbOptions
            - autologin?: 是否在建立连接后自动登录，默认 `true`  Whether to log in automatically after establishing a connection, default `true`
            - username?: DolphinDB 登录用户名，默认 `'admin'`  DolphinDB username, default `'admin'`
            - password?: DolphinDB 登录密码，默认 `'123456'`  DolphinDB password, default `'123456'`
            - python?: 设置 python session flag，默认 `false`  set python session flag, default `false`
            - streaming?: 设置该选项后，该 WebSocket 连接只用于流数据  When this option is set, the WebSocket connection is only used for streaming data
            - verbose?: 是否打印每个 rpc 的信息用于调试
            - sql?: 设置当前会话执行的 sql 标准, 请使用 SqlStandard 枚举进行传参，默认 `DolphinDB`
        
        @example
        let ddb = new DDB('ws://127.0.0.1:8848')
        
        // 使用 HTTPS 加密  Encrypt with HTTPS
        let ddbsecure = new DDB('wss://dolphindb.com', {
            autologin: true,
            username: 'admin',
            password: '123456',
            python: false
        }) */
    constructor(url, options = {}) {
        this.url = url;
        if (options.verbose !== undefined)
            this.verbose = options.verbose;
        if (options.autologin !== undefined)
            this.autologin = options.autologin;
        if (options.username !== undefined)
            this.username = options.username;
        if (options.password !== undefined)
            this.password = options.password;
        if (options.python !== undefined)
            this.python = options.python;
        if (options.sql !== undefined)
            this.sql = options.sql;
        if (options.streaming !== undefined)
            this.streaming = options.streaming;
    }
    on_message(buffer, websocket) {
        throw new Error((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('这是在调用 this.rpc 之前默认的 on_message, 不应该被调用到，除非建立连接后 server 先推送了 message'));
    }
    on_error() {
        // 这里的实现一定会被 connect, rpc 中的实现覆盖
    }
    /** 调用后会确保和数据库的连接是正常的 (this.connected === true)，否则抛出错误
        这个方法是幂等的，首次调用建立实际的 WebSocket 连接到 URL 对应的 DolphinDB，然后执行自动登录，
        如果是流数据连接，还会调用 publishTable 订阅流表
        后续调用检查上面的条件
        连接断开后禁止再次调用 connect 重连原有 ddb 对象，应该通过 new DDB() 的方式新建连接对象，原因是：
        1. on_error 回调和某个 websocket 绑定了，不方便解绑后重新绑定
        2. session 是有状态的，重连也无法恢复之前的状态
        3. 断线后所有之前的 ddb.call, ddb.eval 都应该抛出连接错误
        
        After calling, it will ensure that the connection with the database is normal (this.connected === true), otherwise an error will be thrown
        This method is idempotent, the first call establishes an actual WebSocket connection to the DolphinDB corresponding to the URL, and subsequent calls check the above conditions
        After the connection is disconnected, it is forbidden to call connect again to reconnect the original ddb object. You should use new DDB() to create a new connection object because:
        1. The on_error callback is bound to a certain websocket, and it is inconvenient to unbind and rebind
        2. The session is stateful, and the previous state cannot be restored even after reconnection
        3. After disconnection, all previous ddb.call, ddb.eval should throw a connection error */
    async connect() {
        if (this.connected)
            return;
        if (this.error)
            throw this.error;
        const { resource: websocket } = this.lwebsocket;
        if (websocket && (websocket.readyState === WebSocket.CLOSING || websocket.readyState === WebSocket.CLOSED))
            throw this.error = new DdbConnectionError(this.url);
        return this.pconnect ??= new Promise(async (resolve, reject) => {
            this.on_error = () => {
                reject(this.error /* 一定有，不需要再 || new DdbConnectionError(this)  */);
            };
            try {
                let url = new URL(this.url);
                if (this.streaming?.filters?.expression)
                    url.searchParams.set('filter', this.streaming.filters.expression.trim());
                // 连接建立之前应该不会有别的调用占用 this.lwebsocket
                this.lwebsocket.resource = await (0,xshell_net_browser_js__WEBPACK_IMPORTED_MODULE_6__/* .connect_websocket */ .ts)(url, {
                    protocols: this.streaming ? ['streaming'] : this.python ? ['python'] : undefined,
                    on_message: (buffer, websocket) => {
                        this.on_message(new Uint8Array(buffer), websocket);
                    },
                    on_error: error => {
                        this.error ??= new DdbConnectionError(this.url, error);
                        this.on_error();
                    }
                });
            }
            catch (error) {
                this.error ??= new DdbConnectionError(this.url, error);
                reject(this.error);
                return;
            }
            try {
                (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(this.connected);
                await this.rpc('connect', { skip_connection_check: true });
                if (this.streaming)
                    await this.subscribe();
                resolve();
            }
            catch (error) {
                this.error ??= error;
                reject(error);
            }
        });
    }
    get_rpc_options({ urgent = false, secondary = false, async: _async = false, pickle = false, clear = false, api = false, compress = false, cancellable = true, priority = urgent ? 8 : 4, parallelism = 8, root_id = '', limit, } = {}) {
        let flag = 0;
        if (urgent)
            flag += 1;
        if (secondary)
            flag += 2;
        if (_async)
            flag += 4;
        if (pickle)
            flag += 8;
        if (clear)
            flag += 16;
        if (api)
            flag += 32;
        if (compress)
            flag += 64;
        // python session
        if (this.python)
            flag += 2048;
        // sql standrd
        flag += 2 ** 19 * this.sql;
        const options = [
            flag,
            cancellable ? 1 : 0,
            priority,
            parallelism,
            ...limit ? [
                root_id,
                limit,
            ] : [],
        ];
        return options.join('_');
    }
    disconnect() {
        const { resource } = this.lwebsocket;
        if (resource) {
            const { readyState } = resource;
            if (readyState !== WebSocket.CLOSED && readyState !== WebSocket.CLOSING)
                // 这里不获取 lock，直接关闭连接
                resource.close(1000);
        }
    }
    /** (内部使用的方法) rpc through websocket (function/script/variable command)
        未连接到 DDB 时调用会自动连接，连接断开时调用会抛出 DdbConnectionError
        When the DDB is not connected, the call will be automatically connected. When the connection is disconnected, the call will throw the DdbConnectionError
        - type: API 类型: 'script' | 'function' | 'variable' | 'connect'
        - options:
            - urgent?: 决定 `行为标识` 那一行字符串的取值（只适用于 script 和 function）
            - vars?: type === 'variable' 时必传，variable 指令中待上传的变量名
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage)
            - parse_object?: 在本次 rpc 期间设置 parse_object, 结束后恢复原有
                为 false 时返回的 DdbObj 仅含有 buffer 和 le，不做解析，以便后续转发、序列化
            - skip_connection_check?: 在首次 await ddb.connect() 建立连接时不能再次调用 await this.connect() 确保连接状态，会导致循环依赖，
                将这个 flag 设为 true 跳过连接状态检查 */
    async rpc(type, options) {
        // 保留调用栈信息
        const id = (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .genid */ .GW)() % 1000;
        let error = new DdbDatabaseError('', this.url, type, options, id);
        if (!options.skip_connection_check)
            await this.connect();
        const { script, func, args: _args = [], vars = [], urgent, listener, on_more_messages, } = options;
        if (func === 'pnode_run')
            await (this.ppnode_run ??= this.eval(this.python ?
                '\n' +
                    'def pnode_run (nodes, func_name, args, add_node_alias):\n' +
                    '    nargs = size(args)\n' +
                    '    func = funcByName(func_name)\n' +
                    '    \n' +
                    '    if not nargs:\n' +
                    '        return pnodeRun(func, nodes, add_node_alias)\n' +
                    '    \n' +
                    '    args_partial = [ ]\n' +
                    '    args_partial.append(func)\n' +
                    '    for a in args:\n' +
                    '        args_partial.append(a)\n' +
                    '    \n' +
                    '    return pnodeRun(\n' +
                    '        unifiedCall(partial, args_partial),\n' +
                    '        nodes,\n' +
                    '        add_node_alias\n' +
                    '    )\n'
                :
                    // 这个开头的空行很重要，应该可以绕过 webLoginRequired = true 时禁止执行代码
                    // 搜一下 APISocketConsole::execute
                    // https://dolphindb1.atlassian.net/browse/D20-4991
                    '\n' +
                        'def pnode_run (nodes, func_name, args, add_node_alias = true) {\n' +
                        '    nargs = size(args)\n' +
                        '    func = funcByName(func_name)\n' +
                        '    \n' +
                        '    if (!nargs)\n' +
                        '        return pnodeRun(func, nodes, add_node_alias)\n' +
                        '    \n' +
                        '    args_partial = array(any, 1 + nargs, 1 + nargs)\n' +
                        '    args_partial[0] = func\n' +
                        '    args_partial[1:] = args\n' +
                        '    return pnodeRun(\n' +
                        '        unifiedCall(partial, args_partial),\n' +
                        '        nodes,\n' +
                        '        add_node_alias\n' +
                        '    )\n' +
                        '}\n', { urgent: true }));
        // this 上的当前配置需要在 message 到达后使用，先保存起来
        const _listeners = [...this.listeners].reverse();
        // rpc 请求期间需要独占 websocket，所以设计了一个锁，申请之后才能使用
        // ddb 世界观：需要等待上一个 rpc 结果从 server 返回之后才能发起下一个调用  
        // 违反世界观可能造成:  
        // 1. 并发多个请求只返回第一个结果（阻塞，需后续请求疏通）
        // 2. windows 下 ddb server 返回多个相同的结果
        // 既然上一个请求没有出现 websocket error，且函数开头已经调用了 await this.connect() 检查过，
        // 这里也乐观的认为 this.connected && !this.errored 为 true
        return this.lwebsocket.request(async (websocket) => {
            // 独占资源后先检查状态
            if (this.error)
                throw this.error;
            const args = DdbObj.to_ddbobjs(_args);
            const rpc_id = ` (id = ${id})`;
            const command = this.enc.encode((() => {
                switch (type) {
                    case 'function':
                        if (this.verbose)
                            console.log(func + args.map(arg => arg.toString()).join(', ').bracket() + rpc_id);
                        return 'function\n' +
                            `${func}\n` +
                            `${args.length}\n` +
                            `${Number(DDB.le_client)}\n`;
                    case 'script':
                        if (this.verbose)
                            console.log(script + rpc_id);
                        return 'script\n' +
                            script;
                    case 'variable':
                        if (this.verbose)
                            for (let i = 0; i < vars.length; i++)
                                console.log(`${vars[i]} = ${args[i].toString()}`);
                        return 'variable\n' +
                            `${vars.join(',')}\n` +
                            `${vars.length}\n` +
                            `${Number(DDB.le_client)}\n`;
                    case 'connect':
                        if (this.verbose)
                            console.log('connect()' +
                                (this.autologin ?
                                    '\n' +
                                        `login(${this.username.quote()}, ${this.password.quote()})`
                                    :
                                        '') +
                                rpc_id);
                        return 'connect\n' +
                            // 详见 InterProcessIO.cpp#APISocketConsole::parseScript 中的
                            // Util::startWith "connect"
                            (this.autologin ?
                                'login\n' +
                                    this.username + '\n' +
                                    this.password /* encrypted (可选参数) + '\n' + 'false' */
                                :
                                    '');
                }
            })());
            // 使用资源发送请求并等待请求完成
            const result = await new Promise((resolve, reject) => {
                let first_message = true;
                this.on_error = () => {
                    // 这里一定有了 this.error, 不需要再 || new DdbConnectionError(this)
                    reject(this.error);
                };
                this.on_message = buffer => {
                    if (!on_more_messages || first_message)
                        try {
                            if (this.print_message_buffer)
                                console.log(buffer);
                            const message = this.parse_message(buffer, error);
                            listener?.(message, this);
                            for (const listener of _listeners)
                                listener(message, this);
                            const { type, data } = message;
                            switch (type) {
                                case 'print':
                                    if (this.print_message)
                                        console.log(data);
                                    break;
                                case 'object':
                                    first_message = false;
                                    resolve(data);
                                    break;
                                case 'error':
                                    first_message = false;
                                    reject(data);
                                    break;
                            }
                        }
                        catch (error) {
                            // 这里的错误并非 websocket 错误，而是 rpc 错误
                            reject(error);
                        }
                    else
                        on_more_messages(buffer);
                };
                websocket.send((0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .concat */ .xW)([
                    this.enc.encode(`API2 ${this.sid} ${command.length} / ${this.get_rpc_options({ urgent })}\n`),
                    command,
                    ...args.map(arg => arg.pack())
                ]));
            });
            if (this.verbose)
                console.log(result.toString() + rpc_id);
            return result;
        });
    }
    /** eval script through websocket (script command)
        - script?: 执行的脚本  Script to execute
        - options?: 执行选项  execution options
            - urgent?: 紧急 flag，确保提交的脚本使用 urgent worker 处理，防止被其它作业阻塞
                Urgent flag to ensure that submitted scripts are processed by urgent workers to prevent being blocked by other jobs
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage)  Process messages during this rpc (DdbMessage)
            - parse_object?: 在该次 rpc 期间设置 parse_object, 结束后恢复原有，为 false 时返回的 DdbObj 仅含有 buffer 和 le，
                不做解析，以便后续转发、序列化
                Set parse_object during this rpc, and restore the original after the end.
                When it is false, the returned DdbObj only contains buffer and le without parsing,
                so as to facilitate subsequent forwarding and serialization */
    async eval(script, { urgent, listener, parse_object, } = {}) {
        return this.rpc('script', { script, urgent, listener, parse_object });
    }
    /** call function through websocket (function command)
        - func: 函数名  function name
        - args?: `[ ]` 调用参数 (传入的原生 string 和 boolean 会被自动转换为 DdbObj<string> 和 DdbObj<boolean>)
            Call parameters (the incoming native string and boolean will be automatically converted to DdbObj<string> and DdbObj<boolean>)
        - options?: 调用选项  call options
            - urgent?: 紧急 flag。使用 urgent worker 执行，防止被其它作业阻塞
                Emergency flag. Use urgent worker execution to prevent being blocked by other jobs
            - node?: 设置结点 alias 时发送到集群中对应的结点执行 (使用 DolphinDB 中的 rpc 方法)
                When the node alias is set, it is sent to the corresponding node in the cluster for execution (using the rpc method in DolphinDB)
            - nodes?: 设置多个结点 alias 时发送到集群中对应的多个结点执行 (使用 DolphinDB 中的 pnodeRun 方法)
                When setting multiple node aliases, send them to the corresponding multiple nodes in the cluster for execution (using the pnodeRun method in DolphinDB)
            - func_type?: 设置 node 参数时必传，需指定函数类型，其它情况下不传
                It must be passed when setting the node parameter, the function type needs to be specified, and it is not passed in other cases
            - add_node_alias?: 设置 nodes 参数时选传，其它情况不传
                Select to pass when setting the nodes parameter, otherwise not pass
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage)
                Process messages during this rpc (DdbMessage)
            - parse_object?: 在该次 rpc 期间设置 parse_object, 结束后恢复原有，为 false 时返回的 DdbObj 仅含有 buffer 和 le，
                不做解析，以便后续转发、序列化
                Set parse_object during this rpc, and restore the original after the end.
                When it is false, the returned DdbObj only contains buffer and le without parsing,
                so as to facilitate subsequent forwarding and serialization
            - skip_connection_check?: (内部使用) 在首次 await ddb.connect() 建立连接时不能再次调用 await this.connect() 确保连接状态，会导致循环依赖，
                将这个 flag 设为 true 跳过连接状态检查
                (internal use) When await ddb.connect() establishes a connection for the first time, you cannot call await this.connect() again to ensure the connection status, which will lead to circular dependencies.
                 Set this flag to true to skip connection status checks */
    async call(func, args = [], { urgent, node, nodes, func_type, add_node_alias, listener, parse_object, skip_connection_check, on_more_messages } = {}) {
        if (node) {
            (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(func_type in DdbFunctionType, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('指定 node 时必须设置 func_type'));
            args = [
                node,
                new DdbFunction(func, func_type),
                ...args
            ];
            func = 'rpc';
        }
        if (nodes) {
            args = [
                new DdbVectorString(nodes),
                func,
                new DdbVectorAny(args),
                ...(() => {
                    if (typeof add_node_alias !== 'undefined')
                        return [add_node_alias];
                    if (this.python)
                        return [true];
                    return [];
                })()
            ];
            func = 'pnode_run';
        }
        return this.rpc('function', {
            func,
            args,
            urgent,
            listener,
            parse_object,
            skip_connection_check,
            on_more_messages
        });
    }
    /** 调用 dolphindb 函数，传入 js 原生数组作为参数，返回 js 原生对象或值（调用 DdbObj.data() 后的结果）
        - func: 函数名
        - args?: `[ ]` 调用参数，可以是 js 原生数组，参数在中间且想用 server 函数的默认参数值时可以传 null 占位
        - options?: 调用选项
            - urgent?: 紧急 flag。使用 urgent worker 执行，防止被其它作业阻塞
            - node?: 设置结点 alias 时发送到集群中对应的结点执行 (使用 DolphinDB 中的 rpc 方法)
            - nodes?: 设置多个结点 alias 时发送到集群中对应的多个结点执行 (使用 DolphinDB 中的 pnodeRun 方法)
            - func_type?: 设置 node 参数且参数数组为空时必传，需指定函数类型，其它情况下不传
            - add_node_alias?: 设置 nodes 参数时选传，其它情况不传
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage) */
    async invoke(func, args, options) {
        await (this.pinvoke ??= this.eval(this.python ?
            '\n' +
                'def invoke (func_name, args_json):\n' +
                '    args = fromStdJson(args_json)\n' +
                '    if type(args) != ANY:\n' +
                '        args = cast(args, ANY)\n' +
                '    return unifiedCall(funcByName(func_name), args)\n'
            :
                '\n' +
                    'def invoke (func_name, args_json) {\n' +
                    '    args = fromStdJson(args_json)\n' +
                    '    if (type(args) != ANY)\n' +
                    '        args = cast(args, ANY)\n' +
                    '    return unifiedCall(funcByName(func_name), args)\n' +
                    '}\n', { urgent: true }));
        if (options?.node)
            options.func_type = DdbFunctionType.UserDefinedFunc;
        return (await this.call(args?.length ? 'invoke' : func, args?.length ? [func, JSON.stringify(args)] : undefined, options)).data();
    }
    /** 执行 dolphindb 脚本，返回 js 原生对象或值（调用 DdbObj.data() 后的结果）
        - script?: 执行的脚本
        - options?: 执行选项
            - urgent?: 紧急 flag，确保提交的脚本使用 urgent worker 处理，防止被其它作业阻塞
            - listener?: 处理本次 rpc 期间的消息 (DdbMessage) */
    async execute(script, options) {
        return (await this.eval(script, options))
            .data();
    }
    /** upload variable through websocket (variable command) */
    async upload(
    /** 上传的变量名  Uploaded variables' name */
    vars, 
    /** 上传的变量值  Uploaded variables' value */
    args, { listener, parse_object, } = {}) {
        (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(args.length && args.length === vars.length, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('variable 指令参数不能为空且参数名不能为空，且数量应该匹配'));
        return this.rpc('variable', { vars, args, listener, parse_object });
    }
    /** 取消当前 session id 对应的所有 console jobs  Cancel all console jobs corresponding to the current session id */
    async cancel() {
        let ddb = new DDB(this.url, this);
        try {
            // 因为是新建的连接，而且执行完脚本之后马上就关闭了，所以不用考虑变量泄漏的问题
            await ddb.eval(`jobs = exec rootJobId from getConsoleJobs() where sessionId = ${this.sid}\n` +
                (this.python ? 'if size(jobs):\n' : 'if (size(jobs))\n') +
                '    cancelConsoleJob(jobs)\n', { urgent: true });
        }
        finally {
            ddb.disconnect();
        }
    }
    /** 解析服务端响应报文，返回去掉 header 的 data buf */
    parse_message(buf, error) {
        // MSG\n
        // <message>\0
        // 'M'.codePointAt(0).to_hex_str()
        if (buf[0] === 0x4d && buf[1] === 0x53 && buf[2] === 0x47 && buf[3] === 0x0a) {
            (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .assert */ .vA)(buf.at(-1) === 0, (0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('print 消息的 buffer 应该以 \\0 结束'));
            if (buf.indexOf(0) !== buf.length - 1)
                console.warn((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('print 消息的 buffer 中间不应该有 \\0'));
            return {
                type: 'print',
                data: this.dec.decode(buf.subarray(4, -1))
            };
        }
        // '1166953221 1 1\n'
        // 'OK\n'
        // '\x04\x00\x02\x00\x00\x00'
        /** index of line feed 0 */
        const ilf0 = buf.indexOf(0x0a); // '\n'
        const parts = this.dec.decode(buf.subarray(0, ilf0)).split(' ');
        /** session id */
        const sid = parts[0];
        if (sid !== this.sid) {
            console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('session id 从 {{sid}} 变为 {{sid_}}', { sid: this.sid, sid_: sid }));
            this.sid = sid;
        }
        /** 返回对象的数量 */
        const nobj = Number(parts[1]);
        /** 大小端: 协议中大端为 0, 小端为 1 */
        this.le = Number(parts[2]) !== 0;
        const ils1 = ilf0 + 1;
        const ilf1 = buf.indexOf(0x0a, ils1); // '\n'
        /** 'OK' 表示成功，其它文本表示失败 */
        const message = this.dec.decode(buf.subarray(ils1, ilf1));
        if (message !== 'OK') {
            error.message = message;
            return { type: 'error', data: error };
        }
        const bufobj = buf.subarray(ilf1 + 1);
        if (this.print_object_buffer)
            console.log(bufobj);
        return {
            type: 'object',
            data: error.options.parse_object ?? this.parse_object ?
                DdbObj.parse(bufobj, this.le)
                :
                    new DdbObj({
                        form: DdbForm.scalar,
                        type: DdbType.void,
                        length: 0,
                        le: this.le,
                        buffer: bufobj,
                    })
        };
    }
    /** 内部的流订阅方法  Internal stream subscription method */
    async subscribe() {
        // 流表推送过来的第一条数据是 schema，需要特殊处理
        let first = true;
        let win = {
            offset: 0,
            rows: 0,
            segments: [],
            objs: []
        };
        let schema;
        console.log((0,_i18n_index_js__WEBPACK_IMPORTED_MODULE_7__.t)('订阅流表成功:'), 
        // 普通流表结果为 columns (string[])
        // 高可用流表为 [columns (string[]), node sites (string[])]
        (await this.call('publishTable', [
            'localhost',
            new DdbInt(0),
            this.streaming.table,
            (this.streaming.action ||= `api_js_${new Date().getTime()}`),
            ...this.streaming?.filters?.column ? [
                new DdbVoid(), // offset
                this.streaming.filters.column // filter
            ] : []
        ], {
            skip_connection_check: true,
            // 先准备好收到 websocket message 的 callback
            on_more_messages: buffer => {
                try {
                    let data;
                    const dv = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);
                    const i_topic_end = buffer.indexOf(0, 17);
                    // 首个 message 一定是 table schema, 后续消息是 column 片段组成的 any vector
                    const obj = DdbObj.parse(buffer.subarray(i_topic_end + 1), this.le);
                    // server 推数据时遇到错误会返回 string，一般格式为 error.xxx: 错误信息
                    if (obj.form === DdbForm.scalar && obj.type === DdbType.string) {
                        this.disconnect();
                        const value = obj.value;
                        throw new Error(value.slice(value.indexOf(':') + 1).trim());
                    }
                    if (first) {
                        schema = data = obj.data();
                        data.name ||= this.streaming.table;
                        first = false;
                    }
                    else {
                        let rows;
                        // 用了流数据过滤功能后，必然发 table
                        if (obj.form === DdbForm.table) {
                            data = obj.data();
                            data.name ||= schema.name;
                            rows = data.data.length;
                        }
                        else {
                            const _data = obj.data();
                            const { columns } = schema;
                            rows = _data[0]?.length || 0;
                            data = {
                                ...schema,
                                data: (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(rows, i => (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .zip_object */ .WV)(columns, (0,xshell_utils_browser_js__WEBPACK_IMPORTED_MODULE_5__/* .seq */ .O6)(columns.length, j => _data[j][i])))
                            };
                        }
                        win.rows += rows;
                        win.segments.push(data);
                        win.objs.push(obj);
                        if (win.rows >= winsize * 2 && win.segments.length >= 2) {
                            let winsize_ = 0;
                            let i = win.segments.length - 1;
                            // 往前移动至首个累计 winsize_ 超过 winsize 的位置
                            for (; winsize_ < winsize; i--)
                                winsize_ += win.segments[i].data.length;
                            win.segments = win.segments.slice(i);
                            win.objs = win.objs.slice(i);
                            win.offset += win.rows - winsize_;
                            win.rows = winsize_;
                        }
                    }
                    this.streaming.handler({
                        ...this.streaming,
                        id: dv.getBigInt64(9, this.le),
                        time: dv.getBigInt64(1, this.le),
                        topic: this.dec.decode(buffer.subarray(17, i_topic_end)),
                        obj,
                        data,
                        window: win,
                    });
                }
                catch (error) {
                    // 将 error 交给 handler 处理
                    this.streaming.handler({ ...this.streaming, error });
                }
            }
        })).data());
    }
}
/** https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer#security_requirements
    SharedArrayBuffer is disabled by default in most browsers as a security precaution to avoid Spectre attacks.
    But it's still available in Node.js or some browsers. */
const has_shared_array_buffer = typeof SharedArrayBuffer !== 'undefined';
class BigInt128Array {
    static of(...items) {
        return new BigInt128Array(items);
    }
    static from(arrayLike, mapfn, thisArg) {
        if (mapfn) {
            const array = [];
            for (let i = 0; i < arrayLike.length; i++)
                array.push(mapfn.call(thisArg, arrayLike[i], i));
            return new BigInt128Array(array);
        }
        else {
            const v = new BigInt128Array(arrayLike.length);
            v.set(arrayLike);
        }
    }
    BYTES_PER_ELEMENT = 16;
    buffer;
    byteLength;
    byteOffset;
    constructor(fisrtArg, byteOffset, length) {
        if (typeof fisrtArg === 'number') {
            const length = fisrtArg;
            this.buffer = new ArrayBuffer(length * this.BYTES_PER_ELEMENT);
            this.byteOffset = 0;
            this.byteLength = length * this.BYTES_PER_ELEMENT;
        }
        else if (fisrtArg instanceof ArrayBuffer || (has_shared_array_buffer && fisrtArg instanceof SharedArrayBuffer)) {
            this.buffer = fisrtArg;
            this.byteOffset = byteOffset ?? 0;
            let byteLength = 0;
            if (length !== undefined) {
                byteLength = length * this.BYTES_PER_ELEMENT;
                if (byteLength + this.byteOffset > fisrtArg.byteLength)
                    throw new RangeError(`valid typed array length: ${length}`);
            }
            else {
                byteLength = fisrtArg.byteLength - this.byteOffset;
                if (byteLength % this.BYTES_PER_ELEMENT !== 0)
                    throw new RangeError('byte length of BigInt128Array should be a multiple of 16');
            }
            this.byteLength = byteLength;
        }
        else {
            const array = [];
            for (const value of fisrtArg)
                array.push(value);
            this.buffer = new ArrayBuffer(array.length * this.BYTES_PER_ELEMENT);
            this.byteOffset = 0;
            this.byteLength = array.length * this.BYTES_PER_ELEMENT;
            this.set(array);
        }
        return new Proxy(this, {
            get(target, key) {
                if (typeof key === 'string') {
                    const index = Number(key);
                    // only positive integer index is allowed
                    if (Number.isInteger(index) && index >= 0 && index < target.length)
                        return target.at(index);
                }
                return Reflect.get(target, key);
            },
            set(target, key, value) {
                if (typeof key === 'string') {
                    const index = Number(key);
                    if (Number.isInteger(index) && index >= 0 && index < target.length)
                        target.set([value], index);
                    // ignore invalid number index setter, and never set value to target
                    return true;
                }
                return Reflect.set(target, key, value);
            },
            has(target, key) {
                if (typeof key === 'string') {
                    const index = Number(key);
                    if (Number.isInteger(index) && index >= 0 && index < target.length)
                        return true;
                }
                return Reflect.has(target, key);
            }
        });
    }
    get length() {
        return this.byteLength / this.BYTES_PER_ELEMENT;
    }
    set(array, offset = 0) {
        if (offset + array.length > this.length)
            throw new RangeError('offset is out of bounds');
        const dv = new DataView(this.buffer);
        for (let i = 0; i < array.length; i++) {
            const byteOffset = this.byteOffset + (offset + i) * this.BYTES_PER_ELEMENT;
            set_big_int_128(dv, byteOffset, array[i]);
        }
    }
    at(index) {
        const length = this.length;
        if (index < 0)
            index += length;
        if (index >= length || index < 0)
            return undefined;
        const dv = new DataView(this.buffer);
        return get_big_int_128(dv, this.byteOffset + index * this.BYTES_PER_ELEMENT);
    }
    subarray(begin = 0, end = this.length) {
        const length = this.length;
        // subarray arguments should be the same behavior as other TypedArray
        // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/subarray#%E8%AF%B4%E6%98%8E
        if (begin < 0)
            begin += length;
        if (end < 0)
            end += length;
        if (begin < 0)
            begin = 0;
        else if (begin > length)
            begin = length;
        if (end < 0)
            end = 0;
        else if (end > length)
            end = length;
        const newLength = Math.max(end - begin, 0);
        return new BigInt128Array(this.buffer, this.byteOffset + begin * this.BYTES_PER_ELEMENT, newLength);
    }
    [Symbol.iterator]() {
        let index = 0;
        const array = this;
        return {
            next() {
                if (index < array.length)
                    return { value: array.at(index++), done: false };
                else
                    return { done: true };
            },
        };
    }
    toString() {
        const values = [];
        for (const value of this)
            values.push(value);
        return values.join(',');
    }
}
Object.defineProperty(BigInt128Array.prototype, Symbol.toStringTag, {
    configurable: false,
    writable: false,
    enumerable: false,
    value: 'BigInt128Array',
});
// DataView Extends for bigint 128 operations
function get_big_uint_128(dataview, byte_offset, le = true) {
    let cursor = byte_offset + (le ? 15 : 0);
    const end = byte_offset + (le ? -1 : 16);
    const step = le ? -1 : 1;
    let value = 0n;
    while (cursor !== end) {
        value = value << 8n | BigInt(dataview.getUint8(cursor));
        cursor += step;
    }
    return value;
}
function get_big_int_128(dataview, byte_offset, le = true) {
    return BigInt.asIntN(128, get_big_uint_128(dataview, byte_offset, le));
}
function set_big_uint_128(dataView, byte_offset, value, le = true) {
    let cursor = byte_offset + (le ? 0 : 15);
    const end = byte_offset + (le ? 16 : -1);
    const step = le ? 1 : -1;
    while (cursor !== end) {
        dataView.setUint8(cursor, Number(value & 0xffn));
        value = value >> 8n;
        cursor += step;
    }
}
function set_big_int_128(dataview, byte_offset, value, le = true) {
    set_big_uint_128(dataview, byte_offset, value, le);
}
// 大端
// const dataBE = new ArrayBuffer(16)
// const dataViewBE = new DataView(dataBE)
// set_big_int_128(dataViewBE, 0, -34355n, false)
// console.log(dataViewBE.buffer)
// const bigInt128BE = get_big_int_128(dataViewBE, 0, false)
// const bigUint128BE = get_big_uint_128(dataViewBE, 0, false)
// console.log(bigInt128BE.toString(), bigUint128BE.toString())
// 小端
// const dataLE = new ArrayBuffer(16)
// const dataViewLE = new DataView(dataLE)
// set_big_int_128(dataViewLE, 0, -34355n, true)
// console.log(dataViewLE.buffer)
// const bigInt128LE = get_big_int_128(dataViewLE, 0, true)
// const bigUint128LE = get_big_uint_128(dataViewLE, 0, true)
// console.log(bigInt128LE.toString(), bigUint128LE.toString())
//# sourceMappingURL=browser.js.map

/***/ }),

/***/ 9985:
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/i18n/index.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* unused harmony exports i18n, language */
/* harmony import */ var xshell_i18n_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! xshell/i18n/index.js */ 1675);
/* harmony import */ var _dict_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dict.json */ 4879);


let i18n = new xshell_i18n_index_js__WEBPACK_IMPORTED_MODULE_0__/* .I18N */ .T(_dict_json__WEBPACK_IMPORTED_MODULE_1__);
const { t, language } = i18n;

//# sourceMappingURL=index.js.map

/***/ }),

/***/ 7187:
/*!**********************************************************************************!*\
  !*** ./node_modules/.pnpm/emoji-regex@10.3.0/node_modules/emoji-regex/index.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (() => {
	// https://mths.be/emoji
	return /[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;
});


/***/ }),

/***/ 2512:
/*!*************************************************************************************!*\
  !*** ./node_modules/.pnpm/i18next@23.11.5/node_modules/i18next/dist/esm/i18next.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ay: () => (/* binding */ instance)
/* harmony export */ });
/* unused harmony exports changeLanguage, createInstance, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use */
const consoleLogger = {
  type: 'logger',
  log(args) {
    this.output('log', args);
  },
  warn(args) {
    this.output('warn', args);
  },
  error(args) {
    this.output('error', args);
  },
  output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};
class Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, 'log', '', true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, 'warn', '', true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, 'error', '');
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new Logger(this.logger, options);
  }
}
var baseLogger = new Logger();

class EventEmitter {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(' ').forEach(event => {
      if (!this.observers[event]) this.observers[event] = new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event]) return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach(_ref => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers['*']) {
      const cloned = Array.from(this.observers['*'].entries());
      cloned.forEach(_ref2 => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
}

function defer() {
  let res;
  let rej;
  const promise = new Promise((resolve, reject) => {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
}
function makeString(object) {
  if (object == null) return '';
  return '' + object;
}
function copy(a, s, t) {
  a.forEach(m => {
    if (s[m]) t[m] = s[m];
  });
}
const lastOfPathSeparatorRegExp = /###/g;
function getLastOfPath(object, path, Empty) {
  function cleanKey(key) {
    return key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;
  }
  function canNotTraverseDeeper() {
    return !object || typeof object === 'string';
  }
  const stack = typeof path !== 'string' ? path : path.split('.');
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper()) return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty) object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper()) return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
}
function setPath(object, path, newValue) {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== undefined || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === undefined && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {
      last.obj = undefined;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
}
function pushPath(object, path, newValue, concat) {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  if (concat) obj[k] = obj[k].concat(newValue);
  if (!concat) obj[k].push(newValue);
}
function getPath(object, path) {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj) return undefined;
  return obj[k];
}
function getPathWithDefaults(data, defaultData, key) {
  const value = getPath(data, key);
  if (value !== undefined) {
    return value;
  }
  return getPath(defaultData, key);
}
function deepExtend(target, source, overwrite) {
  for (const prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
}
function regexEscape(str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
}
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
function escape(data) {
  if (typeof data === 'string') {
    return data.replace(/[&<>"'\/]/g, s => _entityMap[s]);
  }
  return data;
}
class RegExpCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== undefined) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
}
const chars = [' ', ',', '?', '!', ';'];
const looksLikeObjectPathRegExpCache = new RegExpCache(20);
function looksLikeObjectPath(key, nsSeparator, keySeparator) {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0) return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\?' : c).join('|')})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
}
function deepFind(obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length;) {
    if (!current || typeof current !== 'object') {
      return undefined;
    }
    let next;
    let nextPath = '';
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== undefined) {
        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
}
function getCleanedCode(code) {
  if (code && code.indexOf('_') > 0) return code.replace('_', '-');
  return code;
}

class ResourceStore extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    if (this.options.ignoreJSONStructure === undefined) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (typeof key === 'string' && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf('.') > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join('.');
    }
    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent) this.emit('added', lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (typeof resources[m] === 'string' || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {
        silent: true
      });
    }
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit('removed', lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  }
  getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === 'v1') return {
      ...{},
      ...this.getResource(lng, ns)
    };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
}

var postProcessor = {
  processors: {},
  addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach(processor => {
      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

const checkedLoadedFor = {};
class Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super();
    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    this.logger = baseLogger.create('translator');
  }
  changeLanguage(lng) {
    if (lng) this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    if (key === undefined || key === null) {
      return false;
    }
    const resolved = this.resolve(key, options);
    return resolved && resolved.res !== undefined;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    if (typeof namespaces === 'string') namespaces = [namespaces];
    return {
      key,
      namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === 'object') options = {
      ...options
    };
    if (!options) options = {};
    if (keys === undefined || keys === null) return '';
    if (!Array.isArray(keys)) keys = [String(keys)];
    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved = this.resolve(keys, options);
    let res = resolved && resolved.res;
    const resUsedKey = resolved && resolved.usedKey || key;
    const resExactUsedKey = resolved && resolved.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved.res = r;
          resolved.usedParams = this.getUsedParamsDetails(options);
          return resolved;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy[m] === deepKey) copy[m] = res[m];
          }
        }
        res = copy;
      }
    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
      const hasDefaultValue = Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : '';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit('missingKey', l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach(language => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach(suffix => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== 'v1') {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved.res = res;
      resolved.usedParams = this.getUsedParamsDetails(options);
      return resolved;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {
        resolved
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation) this.interpolator.init({
        ...options,
        ...{
          interpolation: {
            ...this.options.interpolation,
            ...options.interpolation
          }
        }
      });
      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;
      if (this.options.interpolation.defaultVariables) data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft) options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;
      if (options.nest !== false) res = this.interpolator.nest(res, function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (lastKey && lastKey[0] === args[0] && !options.context) {
          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
          return null;
        }
        return _this.translate(...args, key);
      }, options);
      if (options.interpolation) this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;
    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (typeof keys === 'string') keys = [keys];
    keys.forEach(k => {
      if (this.isValidLookup(found)) return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach(ns => {
        if (this.isValidLookup(found)) return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(', ')}" won't get resolved as namespace "${usedNS}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        }
        codes.forEach(code => {
          if (this.isValidLookup(found)) return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];
    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = 'defaultValue';
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
        return true;
      }
    }
    return false;
  }
}

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}
class LanguageUtil {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return null;
    const p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === 'x') return null;
    return this.formatLanguageCode(p.join('-'));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return code;
    const p = code.split('-');
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (typeof code === 'string' && code.indexOf('-') > -1) {
      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      let p = code.split('-');
      if (this.options.lowerCaseLng) {
        p = p.map(part => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join('-');
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes) return null;
    let found;
    codes.forEach(code => {
      if (found) return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach(code => {
        if (found) return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly)) return found = lngOnly;
        found = this.options.supportedLngs.find(supportedLng => {
          if (supportedLng === lngOnly) return supportedLng;
          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;
          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;
        });
      });
    }
    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
    if (typeof fallbacks === 'string') fallbacks = [fallbacks];
    if (Array.isArray(fallbacks)) return fallbacks;
    if (!code) return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found) found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = c => {
      if (!c) return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (typeof code === 'string') {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach(fc => {
      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
}

let sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
let _rulesPluralsTypes = {
  1: function (n) {
    return Number(n > 1);
  },
  2: function (n) {
    return Number(n != 1);
  },
  3: function (n) {
    return 0;
  },
  4: function (n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  5: function (n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
  },
  6: function (n) {
    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
  },
  7: function (n) {
    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  8: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
  },
  9: function (n) {
    return Number(n >= 2);
  },
  10: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
  },
  11: function (n) {
    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
  },
  12: function (n) {
    return Number(n % 10 != 1 || n % 100 == 11);
  },
  13: function (n) {
    return Number(n !== 0);
  },
  14: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
  },
  15: function (n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  16: function (n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
  },
  17: function (n) {
    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);
  },
  18: function (n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
  },
  19: function (n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
  },
  20: function (n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
  },
  21: function (n) {
    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
  },
  22: function (n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);
  }
};
const nonIntlVersions = ['v1', 'v2', 'v3'];
const intlVersions = ['v4'];
const suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
function createRules() {
  const rules = {};
  sets.forEach(set => {
    set.lngs.forEach(l => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
}
class PluralResolver {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }
    this.rules = createRules();
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      try {
        return new Intl.PluralRules(getCleanedCode(code === 'dev' ? 'en' : code), {
          type: options.ordinal ? 'ordinal' : 'cardinal'
        });
      } catch (err) {
        return;
      }
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);
    }
    return rule.numbers.map(number => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return '';
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = 'plural';
      } else if (suffix === 1) {
        suffix = '';
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === 'v1') {
      if (suffix === 1) return '';
      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === 'v2') {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
}

function deepFindWithDefaults(data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && typeof key === 'string') {
    path = deepFind(data, key, keySeparator);
    if (path === undefined) path = deepFind(defaultData, key, keySeparator);
  }
  return path;
}
class Interpolator {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('interpolator');
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || (value => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (!options.interpolation) options.interpolation = {
      escapeValue: true
    };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== undefined ? escape$1 : escape;
    this.escapeValue = escapeValue !== undefined ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';
    this.formatSeparator = formatSeparator || ',';
    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');
    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';
    this.maxReplaces = maxReplaces || 1000;
    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options) this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, 'g');
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    function regexSafe(val) {
      return val.replace(/\$/g, '$$$$');
    }
    const handleFormat = key => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, undefined, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: val => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach(todo => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            const temp = missingInterpolationHandler(str, match, options);
            value = typeof temp === 'string' ? temp : '';
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = '';
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = '';
          }
        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    function handleHasOptions(key, inheritedOptions) {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0) return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions) clonedOptions = {
          ...inheritedOptions,
          ...clonedOptions
        };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;
      return key;
    }
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && typeof value !== 'string') return value;
      if (typeof value !== 'string') value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = '';
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
}

function parseFormatStr(formatStr) {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf('(') > -1) {
    const p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(';');
      opts.forEach(opt => {
        if (opt) {
          const [key, ...rest] = opt.split(':');
          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;
          if (val === 'false') formatOptions[trimmedKey] = false;
          if (val === 'true') formatOptions[trimmedKey] = true;
          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
}
function createCachedFormatter(fn) {
  const cache = {};
  return function invokeFormatter(val, lng, options) {
    const key = lng + JSON.stringify(options);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
}
class Formatter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: 'currency'
        });
        return val => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val, opt.range || 'day');
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    const iOpts = options.interpolation;
    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
}

function removePending(q, name) {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
}
class Connector extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create('backendConnector');
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach(lng => {
      let hasAllNamespaces = true;
      namespaces.forEach(ns => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {
          if (pending[name] === undefined) pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === undefined) pending[name] = true;
          if (toLoad[name] === undefined) toLoad[name] = true;
          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces) toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    if (err) this.emit('failedLoading', lng, ns, err);
    if (data) {
      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    const loaded = {};
    this.queue.forEach(q => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err) q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach(l => {
          if (!loaded[l]) loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach(n => {
              if (loaded[l][n] === undefined) loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit('loaded', loaded);
    this.queue = this.queue.filter(q => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : undefined;
    if (!lng.length) return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === 'function') {
          r.then(data => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : undefined;
    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);
    if (typeof namespaces === 'string') namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback();
      return null;
    }
    toLoad.toLoad.forEach(name => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {
      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
      return;
    }
    if (key === undefined || key === null || key === '') return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === 'function') {
            r.then(data => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
}

function get() {
  return {
    debug: false,
    initImmediate: true,
    ns: ['translation'],
    defaultNS: ['translation'],
    fallbackLng: ['dev'],
    fallbackNS: false,
    supportedLngs: false,
    nonExplicitSupportedLngs: false,
    load: 'all',
    preload: false,
    simplifyPluralSuffix: true,
    keySeparator: '.',
    nsSeparator: ':',
    pluralSeparator: '_',
    contextSeparator: '_',
    partialBundledLanguages: false,
    saveMissing: false,
    updateMissing: false,
    saveMissingTo: 'fallback',
    saveMissingPlurals: true,
    missingKeyHandler: false,
    missingInterpolationHandler: false,
    postProcess: false,
    postProcessPassResolved: false,
    returnNull: false,
    returnEmptyString: true,
    returnObjects: false,
    joinArrays: false,
    returnedObjectHandler: false,
    parseMissingKeyHandler: false,
    appendNamespaceToMissingKey: false,
    appendNamespaceToCIMode: false,
    overloadTranslationOptionHandler: function handle(args) {
      let ret = {};
      if (typeof args[1] === 'object') ret = args[1];
      if (typeof args[1] === 'string') ret.defaultValue = args[1];
      if (typeof args[2] === 'string') ret.tDescription = args[2];
      if (typeof args[2] === 'object' || typeof args[3] === 'object') {
        const options = args[3] || args[2];
        Object.keys(options).forEach(key => {
          ret[key] = options[key];
        });
      }
      return ret;
    },
    interpolation: {
      escapeValue: true,
      format: value => value,
      prefix: '{{',
      suffix: '}}',
      formatSeparator: ',',
      unescapePrefix: '-',
      nestingPrefix: '$t(',
      nestingSuffix: ')',
      nestingOptionsSeparator: ',',
      maxReplaces: 1000,
      skipOnVariables: true
    }
  };
}
function transformOptions(options) {
  if (typeof options.ns === 'string') options.ns = [options.ns];
  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];
  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }
  return options;
}

function noop() {}
function bindMemberFunctions(inst) {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(mem => {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
}
class I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    this.isInitializing = true;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (typeof options.ns === 'string') {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf('translation') < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== 'v1') {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== undefined) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== undefined) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    function createClassOnDemand(ClassOrObject) {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    }
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== 'undefined') {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init) s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on('*', function (event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach(m => {
        if (m.init) m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn('init: no languageDetector is used and no lng is defined');
    }
    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
    storeApi.forEach(fcName => {
      this[fcName] = function () {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
    storeApiChained.forEach(fcName => {
      this[fcName] = function () {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');
        this.isInitialized = true;
        if (!this.options.isClone) this.logger.log('initialized', this.options);
        this.emit('initialized', this.options);
        deferred.resolve(t);
        callback(err, t);
      };
      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = typeof language === 'string' ? language : this.language;
    if (typeof language === 'function') usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();
      const toLoad = [];
      const append = lng => {
        if (!lng) return;
        if (lng === 'cimode') return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(l => {
          if (l === 'cimode') return;
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(l => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach(l => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, e => {
        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    if (!callback) callback = noop;
    this.services.backendConnector.reload(lngs, ns, err => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module) {
    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');
    if (module.type === 'backend') {
      this.modules.backend = module;
    }
    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }
    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }
    if (module.type === 'i18nFormat') {
      this.modules.i18nFormat = module;
    }
    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }
    if (module.type === 'formatter') {
      this.modules.formatter = module;
    }
    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages) return;
    if (['cimode', 'dev'].indexOf(l) > -1) return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit('languageChanging', lng);
    const setLngProps = l => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = undefined;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = undefined;
        this.emit('languageChanged', l);
        this.logger.log('languageChanged', l);
      } else {
        this.isLanguageChangingTo = undefined;
      }
      deferred.resolve(function () {
        return _this2.t(...arguments);
      });
      if (callback) callback(err, function () {
        return _this2.t(...arguments);
      });
    };
    const setLng = lngs => {
      if (!lng && !lngs && this.services.languageDetector) lngs = [];
      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language) this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, err => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function (key, opts) {
      let options;
      if (typeof opts !== 'object') {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || '.';
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (typeof lng === 'string') {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === 'cimode') return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== undefined) return preResult;
    }
    if (this.hasResourceBundle(lng, ns)) return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback) callback();
      return Promise.resolve();
    }
    if (typeof ns === 'string') ns = [ns];
    ns.forEach(n => {
      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);
    });
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (typeof lngs === 'string') lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback) callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng) return 'rtl';
    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    return new I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore) delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new I18n(mergedOptions);
    if (options.debug !== undefined || options.prefix !== undefined) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(m => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
}
const instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;

const createInstance = instance.createInstance;
const dir = instance.dir;
const init = instance.init;
const loadResources = instance.loadResources;
const reloadResources = instance.reloadResources;
const use = instance.use;
const changeLanguage = instance.changeLanguage;
const getFixedT = instance.getFixedT;
const t = instance.t;
const exists = instance.exists;
const setDefaultNamespace = instance.setDefaultNamespace;
const hasLoadedNamespace = instance.hasLoadedNamespace;
const loadNamespaces = instance.loadNamespaces;
const loadLanguages = instance.loadLanguages;




/***/ }),

/***/ 5727:
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-object-model@1.2.5_react@18.3.1/node_modules/react-object-model/index.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ Model)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 5156);

/** 面向对象的 react 状态管理  Object-oriented state management for react.
    @see https://github.com/ShenHongFei/react-object-model
    @example ```ts
    class User extends Model <User> {
        name = 'Tom'
        age = 16
    }
    
    let user = new User()
    ``` */
class Model {
    /** Map<rerender, selector> */
    _selectors;
    /** 保存上次渲染的状态用于比较  last state */
    _state;
    constructor() {
        Object.defineProperty(this, '_selectors', {
            configurable: true,
            enumerable: false,
            writable: true,
            value: new Map()
        });
        Object.defineProperty(this, '_state', {
            configurable: true,
            enumerable: false,
            writable: true,
            value: {}
        });
    }
    /** 像使用 react hooks 那样订阅模型属性  use and watch model's properties like react hooks
        use 之后，通过 set 更新属性才会触发组件重新渲染  After `use`, properties updated by `set` will trigger rerender
        @param selector 订阅属性名称组成的数组  selector array of properties to watch
        @returns 模型本身  model self
        @example ```ts
            const { name, age } = user.use(['name', 'age'])
            ``` */
    use(selector) {
        // React guarantees that dispatch function identity is stable and won’t change on re-renders
        const [, rerender] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
        // 需要在 render 阶段就将组件加到订阅中，因为 effects 之间的执行顺序很难规划，react 只保证 render 过程在 effect 之前
        // 一般情况下子组件 effect 先执行，如果此时子组件 effect 中改变了父组件通过 use 订阅的状态，
        // 而订阅关系又不在 render 阶段设置，那么通过 use 订阅的状态的父组件还未执行下面的 effect 建立订阅关系，会漏掉这次更新
        this._selectors.set(rerender, selector);
        (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
            // 需要在 useEffect 里再次将组件加到订阅中，因为
            // strict mode 的 Ensuring reusable state 在 remount 组件时只会重新执行所有 effect, 不会再执行 render
            this._selectors.set(rerender, selector);
            return () => { this._selectors.delete(rerender); };
        }, []);
        return this;
    }
    /** 更新模型属性，diff, 重新渲染对应组件  assign properties to model then diff then rerender (when changed)
        @param data 属性  data properties
        @example ```ts
            user.set({ name: 'Tom', age: 16 })
            ``` */
    set(data) {
        Object.assign(this, data);
        this.render();
    }
    render(diffs) {
        const set_diffs = diffs ? new Set(diffs) : null;
        for (const [rerender, selector] of this._selectors)
            if (!selector ||
                selector.find(key => set_diffs ?
                    set_diffs.has(key)
                    :
                        this[key] !== this._state[key]))
                rerender({});
        this._state = { ...this };
    }
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 5285:
/*!*************************************************************************!*\
  !*** ./node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __addDisposableResource: () => (/* binding */ __addDisposableResource),
/* harmony export */   __assign: () => (/* binding */ __assign),
/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),
/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),
/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),
/* harmony export */   __await: () => (/* binding */ __await),
/* harmony export */   __awaiter: () => (/* binding */ __awaiter),
/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   __classPrivateFieldIn: () => (/* binding */ __classPrivateFieldIn),
/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),
/* harmony export */   __createBinding: () => (/* binding */ __createBinding),
/* harmony export */   __decorate: () => (/* binding */ __decorate),
/* harmony export */   __disposeResources: () => (/* binding */ __disposeResources),
/* harmony export */   __esDecorate: () => (/* binding */ __esDecorate),
/* harmony export */   __exportStar: () => (/* binding */ __exportStar),
/* harmony export */   __extends: () => (/* binding */ __extends),
/* harmony export */   __generator: () => (/* binding */ __generator),
/* harmony export */   __importDefault: () => (/* binding */ __importDefault),
/* harmony export */   __importStar: () => (/* binding */ __importStar),
/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),
/* harmony export */   __metadata: () => (/* binding */ __metadata),
/* harmony export */   __param: () => (/* binding */ __param),
/* harmony export */   __propKey: () => (/* binding */ __propKey),
/* harmony export */   __read: () => (/* binding */ __read),
/* harmony export */   __rest: () => (/* binding */ __rest),
/* harmony export */   __runInitializers: () => (/* binding */ __runInitializers),
/* harmony export */   __setFunctionName: () => (/* binding */ __setFunctionName),
/* harmony export */   __spread: () => (/* binding */ __spread),
/* harmony export */   __spreadArray: () => (/* binding */ __spreadArray),
/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),
/* harmony export */   __values: () => (/* binding */ __values),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise, SuppressedError, Symbol */

var extendStatics = function(d, b) {
  extendStatics = Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
  return extendStatics(d, b);
};

function __extends(d, b) {
  if (typeof b !== "function" && b !== null)
      throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
  extendStatics(d, b);
  function __() { this.constructor = d; }
  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
  __assign = Object.assign || function __assign(t) {
      for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
      return t;
  }
  return __assign.apply(this, arguments);
}

function __rest(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
      t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
              t[p[i]] = s[p[i]];
      }
  return t;
}

function __decorate(decorators, target, key, desc) {
  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
  return function (target, key) { decorator(target, key, paramIndex); }
}

function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {
  function accept(f) { if (f !== void 0 && typeof f !== "function") throw new TypeError("Function expected"); return f; }
  var kind = contextIn.kind, key = kind === "getter" ? "get" : kind === "setter" ? "set" : "value";
  var target = !descriptorIn && ctor ? contextIn["static"] ? ctor : ctor.prototype : null;
  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});
  var _, done = false;
  for (var i = decorators.length - 1; i >= 0; i--) {
      var context = {};
      for (var p in contextIn) context[p] = p === "access" ? {} : contextIn[p];
      for (var p in contextIn.access) context.access[p] = contextIn.access[p];
      context.addInitializer = function (f) { if (done) throw new TypeError("Cannot add initializers after decoration has completed"); extraInitializers.push(accept(f || null)); };
      var result = (0, decorators[i])(kind === "accessor" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);
      if (kind === "accessor") {
          if (result === void 0) continue;
          if (result === null || typeof result !== "object") throw new TypeError("Object expected");
          if (_ = accept(result.get)) descriptor.get = _;
          if (_ = accept(result.set)) descriptor.set = _;
          if (_ = accept(result.init)) initializers.unshift(_);
      }
      else if (_ = accept(result)) {
          if (kind === "field") initializers.unshift(_);
          else descriptor[key] = _;
      }
  }
  if (target) Object.defineProperty(target, contextIn.name, descriptor);
  done = true;
};

function __runInitializers(thisArg, initializers, value) {
  var useValue = arguments.length > 2;
  for (var i = 0; i < initializers.length; i++) {
      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);
  }
  return useValue ? value : void 0;
};

function __propKey(x) {
  return typeof x === "symbol" ? x : "".concat(x);
};

function __setFunctionName(f, name, prefix) {
  if (typeof name === "symbol") name = name.description ? "[".concat(name.description, "]") : "";
  return Object.defineProperty(f, "name", { configurable: true, value: prefix ? "".concat(prefix, " ", name) : name });
};

function __metadata(metadataKey, metadataValue) {
  if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
  return new (P || (P = Promise))(function (resolve, reject) {
      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
      function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

function __generator(thisArg, body) {
  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
  function verb(n) { return function (v) { return step([n, v]); }; }
  function step(op) {
      if (f) throw new TypeError("Generator is already executing.");
      while (g && (g = 0, op[0] && (_ = 0)), _) try {
          if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          if (y = 0, t) op = [op[0] & 2, t.value];
          switch (op[0]) {
              case 0: case 1: t = op; break;
              case 4: _.label++; return { value: op[1], done: false };
              case 5: _.label++; y = op[1]; op = [0]; continue;
              case 7: op = _.ops.pop(); _.trys.pop(); continue;
              default:
                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                  if (t[2]) _.ops.pop();
                  _.trys.pop(); continue;
          }
          op = body.call(thisArg, _);
      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
  }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
  }
  Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});

function __exportStar(m, o) {
  for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
  var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
      next: function () {
          if (o && i >= o.length) o = void 0;
          return { value: o && o[i++], done: !o };
      }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o), r, ar = [], e;
  try {
      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
  }
  catch (error) { e = { error: error }; }
  finally {
      try {
          if (r && !r.done && (m = i["return"])) m.call(i);
      }
      finally { if (e) throw e.error; }
  }
  return ar;
}

/** @deprecated */
function __spread() {
  for (var ar = [], i = 0; i < arguments.length; i++)
      ar = ar.concat(__read(arguments[i]));
  return ar;
}

/** @deprecated */
function __spreadArrays() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++)
      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
          r[k] = a[j];
  return r;
}

function __spreadArray(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
          if (!ar) ar = Array.prototype.slice.call(from, 0, i);
          ar[i] = from[i];
      }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
}

function __await(v) {
  return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
  function fulfill(value) { resume("next", value); }
  function reject(value) { resume("throw", value); }
  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
  var i, p;
  return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
  var m = o[Symbol.asyncIterator], i;
  return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
  if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
  return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
  Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
  o["default"] = v;
};

function __importStar(mod) {
  if (mod && mod.__esModule) return mod;
  var result = {};
  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
  __setModuleDefault(result, mod);
  return result;
}

function __importDefault(mod) {
  return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
  if (kind === "m") throw new TypeError("Private method is not writable");
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}

function __classPrivateFieldIn(state, receiver) {
  if (receiver === null || (typeof receiver !== "object" && typeof receiver !== "function")) throw new TypeError("Cannot use 'in' operator on non-object");
  return typeof state === "function" ? receiver === state : state.has(receiver);
}

function __addDisposableResource(env, value, async) {
  if (value !== null && value !== void 0) {
    if (typeof value !== "object" && typeof value !== "function") throw new TypeError("Object expected.");
    var dispose;
    if (async) {
        if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined.");
        dispose = value[Symbol.asyncDispose];
    }
    if (dispose === void 0) {
        if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined.");
        dispose = value[Symbol.dispose];
    }
    if (typeof dispose !== "function") throw new TypeError("Object not disposable.");
    env.stack.push({ value: value, dispose: dispose, async: async });
  }
  else if (async) {
    env.stack.push({ async: true });
  }
  return value;
}

var _SuppressedError = typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
  var e = new Error(message);
  return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

function __disposeResources(env) {
  function fail(e) {
    env.error = env.hasError ? new _SuppressedError(e, env.error, "An error was suppressed during disposal.") : e;
    env.hasError = true;
  }
  function next() {
    while (env.stack.length) {
      var rec = env.stack.pop();
      try {
        var result = rec.dispose && rec.dispose.call(rec.value);
        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });
      }
      catch (e) {
          fail(e);
      }
    }
    if (env.hasError) throw env.error;
  }
  return next();
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  __extends,
  __assign,
  __rest,
  __decorate,
  __param,
  __metadata,
  __awaiter,
  __generator,
  __createBinding,
  __exportStar,
  __values,
  __read,
  __spread,
  __spreadArrays,
  __spreadArray,
  __await,
  __asyncGenerator,
  __asyncDelegator,
  __asyncValues,
  __makeTemplateObject,
  __importStar,
  __importDefault,
  __classPrivateFieldGet,
  __classPrivateFieldSet,
  __classPrivateFieldIn,
  __addDisposableResource,
  __disposeResources,
});


/***/ }),

/***/ 3111:
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/chalk.browser.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GC: () => (/* binding */ magenta),
/* harmony export */   Oh: () => (/* binding */ grey),
/* harmony export */   Q_: () => (/* binding */ cyan),
/* harmony export */   wL: () => (/* binding */ green),
/* harmony export */   wv: () => (/* binding */ red),
/* harmony export */   z1: () => (/* binding */ blue)
/* harmony export */ });
/* unused harmony exports yellow, red_, green_, yellow_, blue_, magenta_, cyan_, underline */
/* harmony import */ var chalk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chalk */ 664);

const chalk = new chalk__WEBPACK_IMPORTED_MODULE_0__/* .Chalk */ .g7({ level: 2 });
const { red, green, yellow, blue, magenta, cyan, grey, redBright: red_, greenBright: green_, yellowBright: yellow_, blueBright: blue_, magentaBright: magenta_, cyanBright: cyan_, underline, } = chalk;

//# sourceMappingURL=chalk.browser.js.map

/***/ }),

/***/ 2471:
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/dict.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ Dict)
/* harmony export */ });
class Dict {
    _dict;
    constructor(_dict = {}) {
        this._dict = _dict;
    }
    get(key, language) {
        if (!key)
            return '';
        const item = this._dict[key];
        if (language)
            return item ?
                item[language] || ''
                :
                    '';
        return item;
    }
    to_resources() {
        return Object.entries(this._dict).reduce((acc, [key, item]) => {
            Object.entries(item).forEach(([language, translation]) => {
                if (!translation || !acc[language])
                    return;
                acc[language].translation[key] = translation;
            });
            return acc;
        }, {
            zh: { translation: {} },
            en: { translation: {} },
            ja: { translation: {} },
            ko: { translation: {} },
        });
    }
}
//# sourceMappingURL=dict.js.map

/***/ }),

/***/ 1675:
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/index.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: () => (/* binding */ I18N)
/* harmony export */ });
/* unused harmony export LANGUAGES */
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ 2512);
/* harmony import */ var _dict_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dict.js */ 2471);


const LANGUAGES = (/* unused pure expression or super */ null && (['zh', 'en', 'ja', 'ko']));
/**
    提供翻译文本功能，自动解析当前语言
    @see https://github.com/ShenHongFei/xshell/tree/master/i18n
*/
class I18N {
    static LANGUAGE_REGEXP = /^(zh|en|ja|jp|ko)$/;
    /** (ISO 639-1 标准语言代码) 可能取 zh, en, ja, ko */
    language;
    /** hostname shortcuts */
    hosts;
    /** url prefix shortcuts */
    roots;
    /** 标记静态文本，以便扫描词条，并在运行时根据当前语言获取翻译 */
    t;
    /** render: 翻译配置字段 */
    r;
    i18next;
    /** react-i18next <Trans/> 组件 */
    Trans = ({ children }) => children;
    /** ```ts
        import dict from './dict.json'  // { "添加": { "en": "Add", "ja": "追加", "ko": "추가" } }
        
        const i18n = new I18N(dict, 'zh')  // 创建实例，传入词典 dict 并指定语言（NodeJS 环境），
        const i18n = new I18N(dict)        // 创建实例，传入词典 dict 并自动判断当前语言（浏览器环境），
        const i18n = new I18N({ })         // 创建实例，传入空词典
        ```
        @see https://github.com/ShenHongFei/xshell/tree/master/i18n
    */
    constructor(_dict, language) {
        const is_browser = typeof window !== 'undefined' && typeof location !== 'undefined';
        const dict = new _dict_js__WEBPACK_IMPORTED_MODULE_1__/* .Dict */ .B(_dict);
        if (!language && is_browser)
            language = (new URLSearchParams(location.search).get('language') ||
                window.language);
        if (!language)
            language = Intl.DateTimeFormat().resolvedOptions().locale.slice(0, 2);
        if (!I18N.LANGUAGE_REGEXP.test(language)) {
            if (language)
                console.error('invalid language:', language);
            language = 'zh';
        }
        // console.log('language:', language)
        this.language = language;
        this.t = (text, options) => {
            options = options || {};
            const language = options.language || this.language;
            return this.i18next.t(text, { ...options, lng: language, defaultValue: text });
        };
        this.r = (field, language = this.language) => field ?
            field[language] || field.zh || field.en || field || ''
            :
                field || '';
        // --- init i18next
        this.i18next = i18next__WEBPACK_IMPORTED_MODULE_0__/* ["default"].createInstance */ .Ay.createInstance();
        if (is_browser)
            try {
                // 在无 React 的浏览器环境下避免 react-i18next 中执行 React.createContext() 报错
                // const React = require('react') as typeof import('react')
                const { initReactI18next, Trans: I18NextTrans } = require('react-i18next');
                this.i18next.use(initReactI18next);
                const _i18next = this.i18next;
                // 绑定 Trans 组件的 i18n 到 this.i18next, 解决多个 i18next 冲突的问题
                // react-i18next/context.js 中 i18n 实例只在模块级别维护，多次 this.i18next.use(initReactI18next) 会覆盖前面的 i18n，导致 Trans 无法翻译
                // https://github.com/i18next/react-i18next/issues/726
                this.Trans = function Trans({ i18n = _i18next, ...others }) {
                    // 简单转发，性能更好
                    return I18NextTrans({ i18n, ...others });
                    // return React.createElement(I18NextTrans, { i18n, ...others } as any, children)
                    // return <I18NextTrans {...{ i18n, ...others } }>{children}</I18NextTrans>
                };
            }
            catch { }
        this.i18next.init({
            lng: this.language,
            // LOCAL
            // debug: true,
            debug: false,
            fallbackLng: {
                en: ['zh'],
                ja: ['en', 'zh'],
                ko: ['en', 'zh'],
            },
            // 禁用 : 和 . 作为 seperator
            keySeparator: false,
            nsSeparator: false,
            resources: dict.to_resources(),
            interpolation: {
                escapeValue: false
            },
            react: {
                transKeepBasicHtmlNodesFor: []
            },
        });
        if (typeof window !== 'undefined' && window && !('i18n' in window))
            window.i18n = this;
    }
    /** 加载词典文件 (需要将这两行单独放一个文件里，以保证在 import 其他文件之前执行)
        
        @example
        import dict from './dict.json'  // { "添加": { "en": "Add", "ja": "追加", "ko": "추가" } }
        i18n.init(dict)
    */
    init(dict) {
        const resources = new _dict_js__WEBPACK_IMPORTED_MODULE_1__/* .Dict */ .B(dict).to_resources();
        for (const language in resources)
            this.i18next.addResources(language, 'translation', resources[language].translation);
    }
    toJSON() {
        return {
            language: this.language,
        };
    }
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 120:
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/instance.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* unused harmony exports i18n, language */
/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ 1675);
/* harmony import */ var _dict_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dict.json */ 4647);


let i18n = new _index_js__WEBPACK_IMPORTED_MODULE_0__/* .I18N */ .T(_dict_json__WEBPACK_IMPORTED_MODULE_1__);
const { t, language } = i18n;

//# sourceMappingURL=instance.js.map

/***/ }),

/***/ 667:
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/net.browser.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Em: () => (/* binding */ request),
/* harmony export */   ts: () => (/* binding */ connect_websocket)
/* harmony export */ });
/* unused harmony exports request_json, WebSocketConnectionError, Remote */
/* harmony import */ var _i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./i18n/instance.js */ 120);
/* harmony import */ var _prototype_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prototype.browser.js */ 6678);
/* harmony import */ var _utils_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.browser.js */ 2345);

 // to_time_str()

const drop_request_headers = new Set([
    // : 开头的 key
    // sec-*
    'accept-charset',
    'connection',
    'content-length',
    'keep-alive',
    'trailer',
    'transfer-encoding',
    'upgrade',
]);
async function fetch_retry(url, options, timeout, retries = 0, count = 0) {
    try {
        // 旧的浏览器可能没有这个函数
        if (AbortSignal.timeout)
            options.signal = AbortSignal.timeout(timeout);
        return await fetch(url, options);
    }
    catch (error) {
        if (count >= retries ||
            error.name !== 'TimeoutError' && !['ECONNRESET', 'ETIMEDOUT', 'ESOCKETTIMEDOUT'].includes(error.cause?.code))
            throw error;
        else {
            const duration = 2 ** count;
            console.log(`${(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)('等待 {{duration}} 秒后重试 fetch ({{_count}}) …', { duration, _count: count })}  ${url.toString()}`);
            await (0,_utils_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .delay */ .cb)(1000 * duration);
            return fetch_retry(url, options, timeout, retries, count + 1);
        }
    }
}
async function request(url, options = {}) {
    const { queries, headers: _headers, body, type = 'application/json', encoding, timeout = 5 * 1000, auth, cors, raw = false, full = false, credentials = 'include', } = options;
    let { method, retries, } = options;
    url = new URL(url, location.href);
    if (queries)
        for (const key in queries) {
            let value = queries[key];
            if (typeof value === 'boolean')
                value = value ? '1' : '0';
            url.searchParams.append(key, value);
        }
    if (body !== undefined && !method)
        method = 'POST';
    if (retries === true)
        retries = 2;
    // --- headers, http/2 开始都用小写的 headers
    let headers = new Headers();
    if (body !== undefined)
        headers.set('content-type', type);
    if (auth)
        headers.set('authorization', auth.type === 'basic' ? `Basic ${`${auth.username}:${auth.password}`.to_base64()}` : `Bearer ${auth.token}`);
    if (_headers)
        if (_headers instanceof Headers)
            // @ts-ignore: ts 类型不支持，实际上已经有了
            for (const [key, value] of _headers) {
                if (!key.startsWith(':') && !key.startsWith('sec-') && !drop_request_headers.has(key))
                    headers.set(key, value);
            }
        else
            for (const key in _headers)
                if (!key.startsWith(':') && !key.startsWith('sec-') && !drop_request_headers.has(key)) { // 可能在 http/2 的 response 中会有这样开头的保留 headers, 在透传时忽略比较好
                    (0,_utils_browser_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(key === key.toLowerCase(), `传入 request 的 headers 参数中 key 应该都是小写的，实际为 ${key}`);
                    headers.set(key, _headers[key]);
                }
    let fetch_options = {
        ...method ? { method } : {},
        keepalive: true,
        redirect: 'follow',
        credentials,
        ...cors ? { mode: 'cors' } : {},
        headers,
        // --- body
        body: (() => {
            if (body === undefined)
                return;
            switch (type) {
                case 'application/json':
                    return typeof body === 'string' ||
                        ArrayBuffer.isView(body) ||
                        body instanceof ArrayBuffer ||
                        body instanceof Blob ?
                        body
                        :
                            JSON.stringify(body);
                case 'application/x-www-form-urlencoded':
                    return body instanceof URLSearchParams ? body : new URLSearchParams(body);
                case 'multipart/form-data':
                    if (body instanceof FormData)
                        return body;
                    else {
                        let form = new FormData();
                        for (const key in body) {
                            let value = body[key];
                            form.set(key, value);
                        }
                        return form;
                    }
            }
        })(),
    };
    let response;
    try {
        response = await fetch_retry(url, fetch_options, timeout, retries);
        if (!response.ok)
            throw Object.assign(new Error((0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)('状态码 {{status}}, 非 2xx: {{url}}', { status: response.status, url })), { name: 'StatusCodeError' });
    }
    catch (error) {
        ;
        error.url = url;
        error.options = options;
        if (response)
            error.response = {
                status: response.status,
                headers: response.headers,
                body: await response.text(),
            };
        throw error;
    }
    if (raw)
        return response;
    const body_ = await (async () => {
        if (!response.body)
            return encoding === 'binary' ? new ArrayBuffer(0) : '';
        if (encoding === 'binary')
            return response.arrayBuffer();
        else
            return response.text();
    })();
    return full ? {
        status: response.status,
        headers: response.headers,
        body: body_
    }
        :
            body_;
}
/** 发起 http 请求并将响应体作为 json 解析 */
async function request_json(url, options) {
    const resp = await request(url, options);
    if (!resp)
        return;
    try {
        return JSON.parse(resp);
    }
    catch (error) {
        console.error(resp);
        throw error;
    }
}
class WebSocketConnectionError extends Error {
    name = 'WebSocketConnectionError';
    // 这里不保留 websocket 引用，防止循环引用导致 JSON 序列化失败
    url;
    protocols;
    websocket;
    event;
    type;
    code;
    reason;
    constructor(url, protocols, event, message) {
        super(`${url}${protocols ? ' ' + protocols.join(', ').bracket() : ''} ${(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)('连接出错了')}. ${message || ''}`);
        this.url = url;
        this.protocols = protocols;
        this.event = event;
        this.type = event.type;
        if (this.type === 'close') {
            this.code = event.code;
            this.reason = event.reason;
        }
    }
}
/** 连接 websocket url, 设置各种事件监听器。在 open 事件后 resolve, 返回 websocket
    遇到 error 时会创建 WebSocketConnectionError:
        - reject 掉返回的 promise (若此时未 settle)
        - 作为参数调用 on_error (已 settle 且有 on_error 回调)
    可以用 WebSocket.bufferedAmount 来显示大消息的发送进度
    https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/bufferedAmount
    - url
    - options:
        - protocols?
        - on_message: 根据 websocket frame 的 opcode 不同 (text frame 或 binary frame)，event 中的 data 对应为 ArrayBuffer 或者 string
          https://datatracker.ietf.org/doc/html/rfc6455#section-5.2
        - on_error?: 在 websocket 出错和非正常关闭 (close, error 事件) 时都调用，可以根据 error.type 来区分，error 的类型是 WebSocketConnectionError，
            type 为 'close' 时有 code 和 reason 属性
        - on_close?: 和 websocket 的 'close' 事件不相同，只在正常关闭 (close code 为 1000) 时才调用，否则都会调用 on_error
            https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes  */
async function connect_websocket(url, { protocols, on_message, on_error, on_close, }) {
    let websocket = new WebSocket(url, protocols);
    // https://stackoverflow.com/questions/11821096/what-is-the-difference-between-an-arraybuffer-and-a-blob/39951543
    websocket.binaryType = 'arraybuffer';
    return new Promise((resolve, reject) => {
        let settled = false;
        websocket.addEventListener('open', event => {
            console.log(websocket.url +
                (websocket.protocol ? ' ' + websocket.protocol.bracket() : '') +
                (0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)(' 已连接'));
            settled = true;
            resolve(websocket);
        });
        websocket.addEventListener('close', event => {
            if (event.code === 1000) // 正常关闭
                if (on_close)
                    on_close(event, websocket);
                else
                    console.log(`${websocket.url} ${(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)('已正常关闭')}`);
            else { // 异常关闭，认为发生了错误，进行错误处理
                const error = new WebSocketConnectionError(websocket.url, protocols, event, `${(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)('连接被关闭')}, code: ${event.code}${event.reason ? `, ${(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)('原因')}: ${event.reason}` : ''}`);
                if (settled)
                    if (on_error)
                        on_error(error, websocket);
                    else // 既然用户不传 on_error, 就当 unhandled error 抛出来
                        throw error;
                else {
                    settled = true;
                    reject(error);
                }
            }
        });
        websocket.addEventListener('error', event => {
            const error = new WebSocketConnectionError(websocket.url, protocols, event);
            // https://blog.insiderattack.net/promises-next-ticks-and-immediates-nodejs-event-loop-part-3-9226cbe7a6aa
            // close 的错误信息比较多，这里延后触发 error 事件，放到微任务队列之后的 timers 队列中
            setTimeout(() => {
                if (settled)
                    if (on_error)
                        on_error(error, websocket);
                    else // 既然用户不传 on_error, 就当 unhandled error 抛出来
                        throw error;
                else {
                    settled = true;
                    reject(error);
                }
            });
        });
        websocket.addEventListener('message', event => {
            on_message(event.data, websocket);
        });
    });
}
/** 通过创建 remote 对象对 websocket rpc 进行抽象
    创建 remote 对象时传入 funcs 注册处理函数，使得对端能通过 (rpc message).func 调用
    使用 remote.handle 方法处理对端发来的 websocket message，对于 websocket 连接接收方需要手动绑定 websocket message 事件到 remote.handle
    使用 remote.call 进行一元 rpc
    使用 remote.send 结合 message.id 进行复杂 rpc
    创建后等到首个 remote.call 或 remote.send 时自动建立实际 websocket 连接
    rpc 状态与底层连接的状态无关，如果是传入 url 创建的 remote 实例，remote.send 时检测到断线会自动建立新的 websocket 连接
    
    @example
    // Zero 继承自 Remote 并通过 call 实现了一些方法
    let zero = new Zero({ local: true })
    
    // 一元 rpc
    await zero.repl_ts('1234')
    
    // 订阅流
    const id = genid()
    
    zero.handlers.set(id, ({ data: [chunk] }: Message<[Uint8Array]>) => {
        term.write(chunk)
    })
    
    zero.send({ id, func: 'subscribe_stdio' }) */
class Remote {
    /** 在构造 Remote 时, this.initiator = Boolean(url || websocket)
        - true:  作为 websocket 连接发起方
        - false: 作为 websocket 连接接收方 */
    initiator;
    /** 作为 websocket 连接发起方，对端的 url 地址 */
    url;
    /** 作为 websocket 连接发起方有 websocket lock */
    lwebsocket;
    /** websocket 连接发起方，接收方，都能被对端通过 (rpc message).func 调用的 rpc 函数 */
    funcs;
    /** map<id, message handler>: 通过 (rpc message).id 找到对应的 handler
        一元 rpc 接收方不需要设置 handlers, 发送方需要 */
    handlers = new Map();
    /** `false` 打印所有交互的 rpc messages */
    print = false;
    reconnecting = false;
    /** 使用 Uint8Array 作为参数更灵活 https://stackoverflow.com/a/74505197/7609214 */
    static parse(buffer) {
        const dv = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);
        const len_json = dv.getUint32(0, true);
        let offset = 4 + len_json;
        let message = JSON.parse(decode(buffer.subarray(4, offset)));
        if (message.bins) {
            const { bins } = message;
            let { data } = message;
            for (const ibin of bins) {
                const len_buf = data[ibin];
                data[ibin] = buffer.subarray(offset, offset + len_buf);
                offset += len_buf;
            }
        }
        if (message.error)
            message.error = Object.assign(new Error(), message.error);
        return message;
    }
    static pack({ id, func, data = [], done, error }) {
        assert('length' in data, t('message.data 必须是数组'));
        let data_ = new Array(data.length);
        let bins = [];
        let bufs = [];
        for (let i = 0; i < data.length; i++) {
            const item = data[i];
            if (item instanceof Uint8Array) {
                bins.push(i);
                bufs.push(item);
                data_[i] = item.length;
            }
            else
                data_[i] = item;
        }
        const data_json = {
            id,
            ...func ? { func } : {},
            ...done ? { done } : {},
            ...error ? { error } : {},
            ...data_.length ? { data: data_ } : {},
            ...bins.length ? { bins } : {},
        };
        // 有可能 data_json 含有循环引用导致 JSON.stringify 报错
        const str_json = encode(JSON.stringify(data_json));
        let dv = new DataView(new ArrayBuffer(4));
        dv.setUint32(0, str_json.length, true);
        return concat([dv, str_json, ...bufs]);
    }
    /** 作为 websocket 连接发起方，传入 url 或 websocket，定义远程 Remote
        作为 websocket 连接接收方，不传 url 和 websocket，定义本地 Remote */
    constructor({ url, funcs, print, websocket, on_error } = {}) {
        assert(!(url && websocket), t('构建 Remote 时 url 和 websocket 最多只能传一个'));
        this.initiator = Boolean(url || websocket);
        if (url)
            this.url = url;
        if (funcs)
            this.funcs = funcs;
        if (print !== undefined)
            this.print = print;
        if (on_error)
            this.on_error = on_error;
        if (this.initiator)
            this.lwebsocket = new Lock(websocket || null);
    }
    on_error(error, websocket) {
        throw error;
    }
    /** 幂等，保证 websocket 已连接，否则抛出异常
        一般情况不需要手动调用，在其它方法中会自动调用这个方法，除非需要手动建立 websocket 连接并确保成功
        连接断开后，通过传入 url 参数构造的 remote 实例会自动创建新的 websocket 连接，而通过传入 websocket 参数构造的实例只会检查连接状态，在断开时抛出异常
        作为 websocket 连接发起方，不需要传入 websocket
        作为 websocket 连接接收方，需要传入使用的 websocket 连接，确保这个这个连接的状态 */
    async connect(websocket) {
        if (this.initiator)
            if (this.lwebsocket.resource?.readyState === WebSocket.OPEN)
                return;
            else if (!this.url)
                throw new Error(t('创建 Remote 时传入的 websocket 连接已断开'));
            else
                // 假设有多个请求想要并发连接 websocket, 且此时 websocket 是断开的状态
                // 应该排队依次连接，而不是后续的连接直接使用第一次连接的 promise，后续调用还是应该尝试重连（不止连接一次）
                return this.lwebsocket.request(async (websocket) => {
                    // 保存的 rpc 状态在 this.handlers, 与 websocket 无关，因此即使断开重连也不影响 rpc 的运行，即
                    // 底层连接断开后自动重连对上层应该是无感知的，除非再次连接时失败
                    if (websocket?.readyState === WebSocket.OPEN)
                        return;
                    else // 重连
                        this.lwebsocket.resource = await connect_websocket(this.url, {
                            on_message: (data, websocket) => {
                                this.handle(new Uint8Array(data), websocket);
                            },
                            on_error: this.on_error.bind(this)
                        });
                });
        else if (websocket.readyState !== WebSocket.OPEN)
            throw new Error(t('传入的 websocket 连接已断开'));
    }
    /** 作为 websocket 连接发起方手动关闭到对端的 websocket 连接 */
    disconnect() {
        this.lwebsocket.resource?.close(1000);
    }
    /** 发送 message 到对端 remote
        作为 websocket 连接发起方，不需要传入 websocket
        作为 websocket 连接接收方，必传 websocket 参数
        发送或连接出错时自动清理 message.id 对应的 handler */
    async send(message, websocket) {
        assert(!message.data || message.data.every(arg => arg !== undefined), t('message.data 数组中不能有 undefined 的项, 因为 json 序列化后会变为 null'));
        if (this.print)
            console.log('remote.send:', message);
        try {
            await this.connect(websocket);
            if (!message.id)
                message.id = genid();
            (websocket || this.lwebsocket.resource).send(Remote.pack(message));
        }
        catch (error) {
            if (message.id)
                this.handlers.delete(message.id);
            throw error;
        }
    }
    /** 处理接收到的 websocket message 并解析, 根据 message.id 或 message.func 分发到对应的 handler 进行处理
        如果 message.done == true 则对端指示当前 remote 可以清理 handler
        如果 handler 返回了值 (一定是数组)，则包装为 message 发送
        使用 Uint8Array 作为参数更灵活 https://stackoverflow.com/a/74505197/7609214  */
    async handle(data, websocket) {
        const message = Remote.parse(data);
        const { id, func, done } = message;
        if (this.print)
            console.log('remote.handle:', message);
        let handler;
        if (func)
            handler = this.funcs[func];
        else {
            handler = this.handlers.get(id);
            if (done && handler)
                this.handlers.delete(id);
        }
        try {
            if (handler) {
                const data = await handler(message, websocket);
                if (data)
                    await this.send({ id, data }, websocket);
            }
            else
                throw message.error || new Error(`${t('找不到 rpc handler')}: ${func ? `func: ${func.quote()}` : `id: ${id}`}`);
        }
        catch (error) {
            // handler 出错并不意味着 rpc 一定会结束，可能 error 是运行中的正常数据，所以不能清理 handler
            if (websocket.readyState === WebSocket.OPEN &&
                !message.error // 防止无限循环往对方发送 error, 只有在对方无错误时才可以发送
            )
                await this.send({ id, error, /* 不能设置 done 清理对面 handler, 理由同上 */ }, websocket);
            throw error;
        }
    }
    /** 调用对端 remote 中的 func, 只适用于最简单的一元 rpc (请求, 响应)
        作为 websocket 连接发起方，不需要传入 websocket
        作为 websocket 连接接收方，必传 websocket 参数  */
    async call(func, args, websocket) {
        return new Promise(async (resolve, reject) => {
            const id = genid();
            this.handlers.set(id, (message) => {
                const { error, data } = message;
                if (error)
                    reject(error);
                else
                    resolve(data);
                this.handlers.delete(id);
            });
            try {
                await this.send({ id, func, data: args }, websocket); // 不需要 done: true, 因为对面的 remote.handlers 中不会有这个 id 的 handler
            }
            catch (error) {
                reject(error);
            }
        });
    }
    /** 是幂等的，在未连接，或 (on_error) 检测到连接断开后以固定间隔尝试 remote.call(func) 重连
        通常在 on_error 中和首次启动时调用
        - func?: 连接后调用的函数，通常为某个 register 函数，将自身注册到 server
        - duration?: `1000 * 30` 首次重连失败后的后续尝试间隔 (单位: ms)
        - first_delay?: `0` 调用函数后是否立即连接，还是在 first_delay 后重连 (单位: ms)
        - on_error?: 接收每次尝试连接的错误 */
    async start_reconnecting({ func, args, interval = 1000 * 10, first_delay = 0, on_error, } = {}) {
        assert(this.url);
        if (this.reconnecting)
            return;
        this.reconnecting = true;
        if (first_delay)
            await delay(first_delay);
        for (;;) {
            if (this.lwebsocket.resource?.readyState !== WebSocket.OPEN)
                try {
                    if (func)
                        await this.call(func, args);
                    else
                        await this.connect();
                    this.reconnecting = false;
                    break;
                }
                catch (error) {
                    on_error?.(error);
                }
            else {
                this.reconnecting = false;
                break;
            }
            await delay(interval);
        }
    }
}
//# sourceMappingURL=net.browser.js.map

/***/ }),

/***/ 6678:
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/prototype.browser.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* unused harmony exports emoji_regex, to_method_property_descriptors, to_getter_property_descriptors, cjk, quotes, brackets, to_json, is_codepoint_fullwidth */
/* harmony import */ var byte_size__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! byte-size */ 840);
/* harmony import */ var emoji_regex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emoji-regex */ 7187);
/* harmony import */ var _i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./i18n/instance.js */ 120);
/** 在浏览器端修改 prototype，需要更加小心 */



const emoji_regex = (0,emoji_regex__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)();
function to_method_property_descriptors(methods) {
    return Object.fromEntries(Object.entries(methods)
        .map(([name, value]) => ([name, {
            configurable: true,
            writable: true,
            enumerable: false,
            value,
        }])));
}
function to_getter_property_descriptors(getters) {
    return Object.fromEntries(Object.entries(getters)
        .map(([name, get]) => ([name, {
            configurable: true,
            enumerable: false,
            get,
        }])));
}
const cjk = '([\u2e80-\u9fff\uf900-\ufaff])';
const quotes = {
    single: "'",
    double: '"',
    backtick: '`',
};
const brackets = {
    round: ['(', ')'],
    square: ['[', ']'],
    curly: ['{', '}'],
    pointy: ['<', '>'],
    corner: ['「', '」'],
    fat: ['【', '】'],
    tortoise_shell: ['〔', '〕'],
};
function to_fp(str) {
    if (!str)
        return str;
    const fp = str.replaceAll('\\', '/');
    // 转换小写盘符开头的路径
    return fp[1] === ':' && 'a' <= fp[0] && fp[0] <= 'z' ?
        fp[0].toUpperCase() + fp.slice(1)
        :
            fp;
}
// ------------------------------------ String.prototype
Object.defineProperties(String.prototype, {
    ...to_getter_property_descriptors({
        width() {
            const s = this.replace(emoji_regex, '  ');
            let width = 0;
            for (let i = 0; i < s.length; i++) {
                const code = s.codePointAt(i);
                if ((code <= 0x1f || (code >= 0x7f && code <= 0x9f)) || // ignore control characters
                    code >= 0x300 && code <= 0x36f // ignore combining characters
                )
                    continue;
                // surrogates
                if (code > 0xffff)
                    i++;
                width += is_codepoint_fullwidth(code) ? 2 : 1;
            }
            return width;
        }
    }),
    // ------------ 文本处理工具方法
    ...to_method_property_descriptors({
        /** 截取字符串不超过 width 显示宽度的部分，并保留颜色
            找到并记录能容纳 字符串 + … 的最后一个字符的位置 i_fitted
              - 若完整的字符串长度超过 width，返回 slice(0, i_fitted + 1) + …
              - 否则                          返回 this
         */
        truncate(width) {
            const color_bak = this.startsWith('\u001b') ? this.slice(0, 5) : '';
            if (width <= 2)
                return this.slice(0, width);
            let i_fitted = 0;
            let fitted_width = 0;
            let cur_width = 0;
            for (let i = 0; i < this.length; i++) {
                const code = this.codePointAt(i);
                if ((code <= 0x1F || (code >= 0x7F && code <= 0x9F)) || // Ignore control characters
                    code >= 0x300 && code <= 0x36F // Ignore combining characters
                )
                    continue;
                // surrogates (codepoint 需要用两个 utf-16 编码单位表示，因此这里跳过第二个编码单位，防止重复计算显示宽度)
                if (code > 0xFFFF)
                    i++;
                const w = is_codepoint_fullwidth(code) ? 2 : 1;
                if (cur_width + w + 2 <= width) {
                    i_fitted = i;
                    fitted_width += w;
                }
                cur_width += w;
                if (cur_width > width) {
                    const i_fitted_next = i_fitted + 1;
                    const t = this.slice(0, i_fitted_next) + ' '.repeat(width - 2 - fitted_width) + '…';
                    return color_bak ? color_bak + t + '\u001b[39m' : t;
                }
            }
            return this;
        },
        pad(width, { character = ' ', position = 'right' } = {}) {
            const _width = this.width;
            if (_width >= width)
                return this;
            if (position === 'right')
                return this + character.repeat((width - _width) / character.width);
            return character.repeat(width - _width) + this;
        },
        limit(width, { character = ' ', position = 'right' } = {}) {
            return this.pad(width, { character, position }).truncate(width);
        },
        to_regexp(preservations, flags = '') {
            const preserved_chars = new Set(preservations);
            const replace_chars = Array.prototype.filter.call('|\\{}()[]^$+*?.-', (c) => !preserved_chars.has(c))
                .map((c) => c === ']' ? '\\]' : c).join('');
            return new RegExp(this.replace(new RegExp(`[${replace_chars}]`, 'g'), '\\$&'), flags);
        },
        refmt(pattern, pattern_, preservations = '', flags = '', transformer = (name, value) => value || '', pattern_placeholder = /\{.*?\}/g) {
            // --- 转换 pattern 为 pattern_regx
            let last_end = 0;
            // placeholder matched group indexes
            let $placeholders = {};
            let regx_parts = [];
            function add_part(left, right) {
                const part = pattern.slice(left, right);
                if (part)
                    regx_parts.push(part.to_regexp(preservations).source.bracket());
            }
            pattern.replace(pattern_placeholder, ($0, offset) => {
                add_part(last_end, offset);
                last_end = offset + $0.length;
                const placeholder = $0.slice(1, -1);
                let [placeholder_name, placeholder_pattern] = placeholder.split(':').map(s => s.trim());
                let optional = false;
                if (placeholder_name.endsWith('?')) {
                    placeholder_name = placeholder_name.slice(0, -1);
                    optional = true;
                }
                $placeholders[placeholder_name] = regx_parts.push(placeholder_pattern ?
                    `${placeholder_pattern.bracket()}${optional ? '?' : ''}`
                    :
                        '(.*?)');
                return '';
            });
            add_part(last_end);
            // 最后一个 (.*?) 改为贪心匹配，满足 .{suffix} 的需要
            regx_parts = regx_parts.filter(part => part);
            if (regx_parts[regx_parts.length - 1] === '(.*?)')
                regx_parts[regx_parts.length - 1] = '(.*)';
            const pattern_regx = new RegExp(regx_parts.join(''), flags);
            // --- 根据 pattern_regx 去匹配原有字符串，获取匹配结果，生成 placeholders 词典
            const matches = pattern_regx.exec(this);
            if (!matches)
                return this;
            const placeholders = Object.fromEntries(Object.entries($placeholders)
                .map(([name, $i]) => [
                [name, matches[$i]],
                [`${name}.before`, matches[$i - 1] || ''],
                [`${name}.after`, matches[$i + 1] || ''],
            ])
                .flat());
            // --- 转换 pattern_ 为 replacement_str，如果有 transformer 则在遇到 placeholder 时应用
            last_end = 0;
            let replacement_parts = [];
            pattern_.replace(pattern_placeholder, ($0, offset) => {
                replacement_parts.push(pattern_.slice(last_end, offset));
                last_end = offset + $0.length;
                const placeholder_name = $0.slice(1, -1);
                replacement_parts.push(transformer(placeholder_name, placeholders[placeholder_name], placeholders));
                return '';
            });
            replacement_parts.push(pattern_.slice(last_end));
            return this.replace(pattern_regx, replacement_parts.join(''));
        },
        find(pattern, preservations = '', flags = '', pattern_placeholder = /\{.*?\}/g) {
            // --- 转换 pattern 为 pattern_regx
            let last_end = 0;
            // placeholder matched group index
            let $placeholders = {};
            let regx_parts = [];
            function add_part(left, right) {
                const part = pattern.slice(left, right);
                if (part)
                    regx_parts.push(part.to_regexp(preservations).source.bracket());
            }
            pattern.replace(pattern_placeholder, ($0, offset) => {
                add_part(last_end, offset);
                last_end = offset + $0.length;
                const placeholder = $0.slice(1, -1);
                let [placeholder_name, placeholder_pattern] = placeholder.split(':').map(s => s.trim());
                let optional = false;
                if (placeholder_name.endsWith('?')) {
                    placeholder_name = placeholder_name.slice(0, -1);
                    optional = true;
                }
                $placeholders[placeholder_name] = regx_parts.push(placeholder_pattern ?
                    `${placeholder_pattern.bracket()}${optional ? '?' : ''}`
                    :
                        '(.*?)');
                return '';
            });
            add_part(last_end);
            // 最后一个 (.*?) 改为贪心匹配，满足 .{suffix} 的需要
            regx_parts = regx_parts.filter(part => part);
            if (regx_parts[regx_parts.length - 1] === '(.*?)')
                regx_parts[regx_parts.length - 1] = '(.*)';
            const pattern_regx = new RegExp(regx_parts.join(''), flags);
            // --- 根据 pattern_regx 去匹配原有字符串，获取匹配结果，生成 placeholders 词典
            const matches = pattern_regx.exec(this);
            if (!matches)
                return {};
            return Object.fromEntries(Object.entries($placeholders)
                .map(([name, $i]) => [name, matches[$i] || '']));
        },
        quote(type = 'single') {
            if (type === 'psh')
                return `& ${this.quote()}`;
            return this.surround(quotes[type]);
        },
        bracket(shape = 'round') {
            return this.surround(...brackets[shape]);
        },
        surround(left, right) {
            return left + this + (right || left);
        },
        surround_tag(tag_name) {
            return '<' + tag_name + '>' + this + '</' + tag_name + '>';
        },
        to_lf() {
            return this.replace(/\r\n/g, '\n');
        },
        rm(pattern, flags = 'g') {
            if (typeof pattern === 'string')
                pattern = new RegExp(pattern, flags);
            return this.replace(pattern, '');
        },
        split_lines(delimiter = /\r?\n/) {
            let lines = this.split(delimiter);
            if (lines[lines.length - 1] === '')
                lines.pop();
            return lines;
        },
        split_indent() {
            let i = 0;
            let indent = 0;
            for (; i < this.length; i++)
                if (this[i] === ' ')
                    indent++;
                else if (this[i] === '\t')
                    indent += 4;
                else
                    break;
            return {
                indent,
                text: this.slice(i)
            };
        },
        strip_start(prefix, validate) {
            if (validate && !this.startsWith(prefix))
                throw new Error(`字符串没有以前缀 ${prefix} 开头: ${this}`);
            return this.slice(prefix.length);
        },
        strip_if_start(prefix) {
            return this.startsWith(prefix) ? this.slice(prefix.length) : this;
        },
        strip_end(suffix, validate) {
            if (validate && !this.endsWith(suffix))
                throw new Error(`字符串没有以后缀 ${suffix} 结尾: ${this}`);
            return this.slice(0, -suffix.length);
        },
        strip_if_end(suffix) {
            return this.endsWith(suffix) ? this.slice(0, -suffix.length) : this;
        },
        space() {
            if (!this)
                return this;
            let text_;
            text_ = this
                .replace(new RegExp(cjk + '([\'"])', 'g'), '$1 $2')
                .replace(new RegExp('([\'"])' + cjk, 'g'), '$1 $2')
                .replace(/(["']+)\s*(.+?)\s*(["']+)/g, '$1$2$3')
                .replace(new RegExp(cjk + '([\\+\\-\\*\\/=&\\\\\\|<>])([A-Za-z0-9])', 'g'), '$1 $2 $3')
                .replace(new RegExp('([A-Za-z0-9])([\\+\\-\\*\\/=&\\\\\\|<>])' + cjk, 'g'), '$1 $2 $3');
            const textBak = text_;
            text_ = text_.replace(new RegExp(cjk + '([\\(\\[\\{<\u201c]+(.*?)[\\)\\]\\}>\u201d]+)' + cjk, 'g'), '$1 $2 $4');
            if (text_ === textBak)
                text_ = text_
                    .replace(new RegExp(cjk + '([\\(\\[\\{<\u201c>])', 'g'), '$1 $2')
                    .replace(new RegExp('([\\)\\]\\}>\u201d<])' + cjk, 'g'), '$1 $2');
            return text_
                .replace(/([\(\[\{<\u201c]+)(\s*)(.+?)(\s*)([\)\]\}>\u201d]+)/g, '$1$3$5')
                .replace(new RegExp(cjk + '([~!;:,\\.\\?\u2026])([A-Za-z0-9])', 'g'), '$1$2 $3')
                .replace(new RegExp(cjk + '([A-Za-z0-9`\\$%\\^&\\*\\-=\\+\\\\\\|\\/@\u00a1-\u00ff\u2022\u2027\u2150-\u218f])', 'g'), '$1 $2')
                .replace(new RegExp('([A-Za-z0-9`\\$%\\^&\\*\\-=\\+\\\\\\|\\/@\u00a1-\u00ff\u2022\u2027\u2150-\u218f])' + cjk, 'g'), '$1 $2');
        },
    }),
    // ------------ 文件路径操作
    ...to_getter_property_descriptors({
        isdir() {
            return this.endsWith('/');
        },
        fp() {
            return to_fp(this);
        },
        fpd() {
            if (!this)
                return this;
            const fp = to_fp(this);
            return fp.endsWith('/') ? fp : `${fp}/`;
        },
        fdir() {
            const fname = (this.endsWith('/') ? this.slice(0, -1) : this).split('/').at(-1);
            return this.slice(0, this.length - (fname.length + (this.endsWith('/') ? 1 : 0)));
        },
        fname() {
            const fname = (this.endsWith('/') ? this.slice(0, -1) : this).split('/').at(-1);
            if (fname)
                return `${fname}${this.endsWith('/') ? '/' : ''}`;
            else
                return '';
        },
        fext() {
            const index = this.lastIndexOf('.');
            return index === -1 ? '' : this.slice(index);
        },
    }),
});
// ------------------------------------ Date.prototype
Object.defineProperties(Date.prototype, to_method_property_descriptors({
    to_str(ms) {
        return `${this.to_date_str()} ${this.to_time_str(ms)}`;
    },
    to_date_str() {
        // 2024.01.01
        return this.getFullYear() + '.' +
            String(this.getMonth() + 1).padStart(2, '0') + '.' +
            String(this.getDate()).padStart(2, '0');
    },
    to_time_str(ms) {
        // 早上 09:00:00
        const [ampm, hour] = get_twelve_hour_clock(this);
        return `${ampm} ${get_time_str(this, hour, ms, ':')}`;
    },
    to_dot_time_str(ms) {
        // 17.03.02
        return get_time_str(this, this.getHours(), ms, '.');
    },
    to_dot_str(ms) {
        return `${this.to_date_str()} ${this.to_dot_time_str(ms)}`;
    },
    to_formal_time_str(ms) {
        // 17:03:02
        return get_time_str(this, this.getHours(), ms, ':');
    },
    to_formal_str(ms) {
        return `${this.to_date_str()} ${this.to_formal_time_str(ms)}`;
    }
}));
function get_twelve_hour_clock(date) {
    let hour = date.getHours();
    if (hour <= 6)
        return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('凌晨'), hour];
    if (hour <= 8)
        return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('清晨'), hour];
    if (hour <= 9)
        return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('早上'), hour];
    if (hour <= 10)
        return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('上午'), hour];
    if (hour <= 12)
        return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('中午'), hour];
    hour -= 12;
    if (hour <= 5)
        return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('下午'), hour];
    if (hour <= 10)
        return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('晚上'), hour];
    return [(0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_1__.t)('深夜'), hour];
}
function get_time_str(date, hour, ms, splitter) {
    return String(hour).padStart(2, '0') + splitter +
        String(date.getMinutes()).padStart(2, '0') + splitter +
        String(date.getSeconds()).padStart(2, '0') +
        (ms ?
            '.' + String(date.getMilliseconds()).padStart(3, '0')
            :
                '');
}
// ------------------------------------ Number.prototype
Object.defineProperties(Number.prototype, to_method_property_descriptors({
    to_fsize_str(units = 'iec') {
        const { value, unit } = (0,byte_size__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(this, { units });
        return `${value} ${unit.replace('i', '')}`;
    },
    to_bin_str() {
        return `0b${this.toString(2)}`;
    },
    to_hex_str(length) {
        const s = Math.abs(this).toString(16);
        // 长度自动对齐到 4 的倍数
        if (length === undefined)
            length = Math.ceil(s.length / 4) * 4;
        return `${this < 0 ? '-' : ''}0x${'0'.repeat(length - s.length)}${s}`;
    },
    to_oct_str() {
        return `0o${this.toString(8)}`;
    },
}));
// ------------------------------------ Array.prototype
Object.defineProperties(Array.prototype, {
    ...to_getter_property_descriptors({
        last() {
            return this.at(-1);
        }
    }),
    // --- 文本处理工具方法
    ...to_method_property_descriptors({
        trim_lines({ trim_line = true, rm_empty_lines = true, rm_last_empty_lines = false } = {}) {
            if (!this.length)
                return this;
            let lines = this;
            if (trim_line)
                lines = lines.map(line => line.trim());
            if (rm_empty_lines)
                return lines.filter(line => line);
            if (rm_last_empty_lines) {
                lines.reverse();
                const i_not_empty = lines.findIndex(line => line);
                if (i_not_empty !== -1)
                    lines = lines.slice(i_not_empty);
                lines.reverse();
                return lines;
            }
            return lines;
        },
        indent(width, character = ' ') {
            return this.map(line => character.repeat(width) + line);
        },
        join_lines(append = true) {
            return `${this.join('\n')}${append ? '\n' : ''}`;
        }
    })
});
Object.defineProperties(BigInt.prototype, to_method_property_descriptors({
    toJSON() {
        return this.toString();
    }
}));
Object.defineProperties(Error.prototype, to_method_property_descriptors({
    toJSON() {
        return Object.fromEntries(Object.getOwnPropertyNames(this)
            .map(name => [name, this[name]]));
    }
}));
function to_json(obj, replacer) {
    return JSON.stringify(obj, replacer, 4) + '\n';
}
function is_codepoint_fullwidth(codepoint) {
    // code points are derived from:
    // http://www.unix.org/Public/UNIDATA/EastAsianWidth.txt
    return (!Number.isNaN(codepoint) &&
        codepoint >= 0x1100 &&
        (codepoint <= 0x115f || // hangul jamo
            codepoint === 0x201c || codepoint === 0x201d || // 
            codepoint === 0x2026 || // …
            codepoint === 0x203b || // ※
            // arrows
            (0x2190 <= codepoint && codepoint <= 0x21FF) ||
            codepoint === 0x2329 || // left-pointing angle bracket
            codepoint === 0x232a || // right-pointing angle bracket
            // ①
            (0x2460 <= codepoint && codepoint <= 0x24ff) ||
            // box drawing
            (0x2500 <= codepoint && codepoint <= 0x257f) ||
            // shapes, symbols, …
            (0x2580 <= codepoint && codepoint <= 0x2bef) ||
            // cjk radicals supplement .. enclosed cjk letters and months
            (0x2e80 <= codepoint && codepoint <= 0x3247 && codepoint !== 0x303f) ||
            // enclosed cjk letters and months .. cjk unified ideographs extension a
            (0x3250 <= codepoint && codepoint <= 0x4dbf) ||
            // cjk unified ideographs .. yi radicals
            (0x4E00 <= codepoint && codepoint <= 0xA4C6) ||
            // hangul jamo extended-a
            (0xa960 <= codepoint && codepoint <= 0xa97c) ||
            // hangul syllables
            (0xac00 <= codepoint && codepoint <= 0xd7a3) ||
            // cjk compatibility ideographs
            (0xf900 <= codepoint && codepoint <= 0xfaff) ||
            // vertical forms
            (0xfe10 <= codepoint && codepoint <= 0xfe19) ||
            // cjk compatibility forms .. small form variants
            (0xfe30 <= codepoint && codepoint <= 0xfe6b) ||
            // halfwidth and fullwidth forms
            (0xff01 <= codepoint && codepoint <= 0xff60) ||
            (0xffe0 <= codepoint && codepoint <= 0xffe6) ||
            // kana supplement
            (0x1b000 <= codepoint && codepoint <= 0x1b001) ||
            // enclosed ideographic supplement
            (0x1f200 <= codepoint && codepoint <= 0x1f251) ||
            // cjk unified ideographs extension b .. tertiary ideographic plane
            (0x20000 <= codepoint && codepoint <= 0x3fffd)));
}
//# sourceMappingURL=prototype.browser.js.map

/***/ }),

/***/ 2345:
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/utils.browser.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D4: () => (/* binding */ decode),
/* harmony export */   GW: () => (/* binding */ genid),
/* harmony export */   O6: () => (/* binding */ seq),
/* harmony export */   WA: () => (/* binding */ delta2str),
/* harmony export */   WV: () => (/* binding */ zip_object),
/* harmony export */   c_: () => (/* binding */ Lock),
/* harmony export */   cb: () => (/* binding */ delay),
/* harmony export */   cm: () => (/* binding */ vercmp),
/* harmony export */   kd: () => (/* binding */ strcmp),
/* harmony export */   vA: () => (/* binding */ assert),
/* harmony export */   xW: () => (/* binding */ concat)
/* harmony export */ });
/* unused harmony exports noop, not_empty, log, TimeoutError, timeout, defer, pause, encode, get, global_get, invoke, Timer, lowercase_first_letter */
/* harmony import */ var _i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./i18n/instance.js */ 120);

const noop = () => { };
/** value 不为 null 或 undefined */
const not_empty = (value) => value !== null && value !== undefined;
function assert(assertion, message) {
    if (!assertion) {
        debugger;
        throw Object.assign(new Error(`断言失败: ${message ? `${message}: ` : ''}${assertion}`), { assertion });
    }
}
function log(obj) {
    console.log(obj);
    return obj;
}
/** 生成 0, 1, ..., n - 1 (不包括 n) 的数组，支持传入 generator 函数，通过 index 生成各个元素
    @example seq(10, i => `item-${i}`) */
function seq(n, generator) {
    let a = new Array(n);
    for (let i = 0; i < n; i++)
        a[i] = generator ? generator(i) : i;
    return a;
}
/** 将 keys, values 数组按对应的顺序组合成一个对象 */
function zip_object(keys, values) {
    return keys.reduce((obj, key, i) => {
        obj[key] = values[i];
        return obj;
    }, {});
}
async function delay(milliseconds) {
    return new Promise(resolve => {
        setTimeout(resolve, milliseconds);
    });
}
class TimeoutError extends Error {
    constructor(message, options) {
        super(message, options);
        this.name = this.constructor.name;
    }
}
async function timeout(milliseconds, action) {
    const error = new TimeoutError();
    return new Promise((resolve, reject) => {
        delay(milliseconds).then(() => { reject(error); });
        action().then(resolve, reject);
    });
}
/** 创建一个 promise，后续可调用 promise.resolve, promise.reject 方法设置其状态和值
    - initial?: `undefined` 传入非 undefined 值（包括 null）时直接设置为 resolved 状态
    注: 下面的方法不能标记为 aysnc function, 否则会对返回值再做一层 Promise.resolve() 导致 reject, resolve 属性丢失 */
// eslint-disable-next-line @typescript-eslint/promise-function-async
function defer(initial) {
    if (initial === undefined) {
        let resolve;
        let reject;
        let promise = new Promise((_resolve, _reject) => {
            resolve = _resolve;
            reject = _reject;
        });
        return Object.assign(promise, { resolve, reject });
    }
    else
        return Object.assign(Promise.resolve(initial), {
            resolve() { },
            reject() { }
        });
}
/** @example
    let lock = new Lock(redis)
    
    // 锁定资源后在 action 回调中操作资源，回调 promise 完成后自动释放资源，
    // 三秒内未成功独占资源直接抛出 TimeoutError (开始执行后不受 signal abort 影响)
    await lock.request(async redis => {
        const value = await redis.get('key')
        await redis.set('key', value * 2)
    }, AbortSignal.timeout(3000))
    
    参考:
    https://developer.mozilla.org/en-US/docs/Web/API/Web_Locks_API
    https://github.com/metarhia/web-locks
    https://www.npmjs.com/package/async-lock  */
class Lock {
    /** 如果操作不需要独占资源，可以直接通过 lock.resource 访问，否则需要通过 await lock.request() 独占资源后再访问 */
    resource;
    /** 等待链，新的 await lock.request() 调用会等待当前等待链尾部的 promise 完成，并作为新的尾部 */
    ptail = defer(null);
    /** 查询当前资源是否属于被锁定的状态，方便在资源闲置时做一些可选操作（操作前仍需锁定），或者做一些状态展示 */
    locked = false;
    /** 可以不传 resource，表示管理某个抽象或虚拟的资源 */
    constructor(resource) {
        this.resource = resource;
    }
    /** 通过 await lock.request() 锁定资源以便独占访问
        成功返回之后由调用方负责调用 release 方法释放资源
        在 signal aborted 时抛出错误结束等待，且由内部实现自动释放资源 */
    // async request (action: (resource: TResource) => Promise<void>, signal?: AbortSignal): Promise<void>
    // async request <TResult> (action: <TResult> (resource: TResource) => Promise<TResult>, signal?: AbortSignal): Promise<TResult>
    async request(action, signal) {
        signal?.throwIfAborted();
        const ptail = this.ptail;
        let pcurrent = this.ptail = defer();
        this.locked = true;
        return new Promise((resolve, reject) => {
            // 下面两种情况，先发生的决定 request 返回的 promise 状态
            // 不管是否 aborted, 都要等资源被前一次调用释放，先 aborted 只是将控制权交回给调用者，在锁定资源后不执行 action， 直接释放
            /** 防止执行过程中 signal abort */
            let executing = false;
            signal?.addEventListener('abort', () => {
                if (!executing)
                    // 这里不能释放锁，需要等 ptail resolve 后拿到资源再释放
                    reject(signal.reason);
            }, { once: true });
            ptail.then(async () => {
                // 这里已经能保证独占访问资源
                // 如果 aborted, 可以理解为独占资源失败，调用者不会使用资源，直接释放
                if (signal?.aborted)
                    reject(signal.reason);
                else
                    // 由调用者去操作资源
                    try {
                        executing = true;
                        resolve(await action(this.resource));
                    }
                    catch (error) {
                        reject(error);
                    }
                // 下面开始释放锁
                // assert(this.locked)
                if (!this.locked)
                    reject(new Error((0,_i18n_instance_js__WEBPACK_IMPORTED_MODULE_0__.t)('尝试释放未锁定的锁，这不应该发生')));
                this.locked = false;
                pcurrent.resolve();
            });
        });
    }
}
async function pause(milliseconds = 3000) {
    await delay(milliseconds);
    debugger;
}
globalThis.pause = pause;
// ------------ text
let encoder = new TextEncoder();
/** 将字符串简单的编码为 utf-8 的 buffer (Uint8Array)。高频使用或者在流式处理时，考虑使用 TextEncoder 的 encodeInto 方法 */
function encode(str) {
    return encoder.encode(str);
}
let decoder = new TextDecoder();
/** 将 utf-8 buffer (Uint8Array) 简单的解码为 string。
    在流式处理 (buffer 可能不完整) 时，应使用独立的 TextDecoder 实例调用 decode(buffer, { stream: true }) */
function decode(buffer) {
    return decoder.decode(buffer);
}
/** 字符串字典序比较 */
function strcmp(l, r) {
    if (l === r)
        return 0;
    if (l < r)
        return -1;
    return 1;
}
/** 比较 1.10.02 这种版本号 */
function vercmp(l, r) {
    const lparts = l.split('.').map(x => Number(x));
    const rparts = r.split('.').map(x => Number(x));
    assert(lparts.length === rparts.length, '传入 vercmp 的两个版本号应该格式一致');
    for (let i = 0; i < lparts.length; i++) {
        const l = lparts[i];
        const r = rparts[i];
        assert(!isNaN(l) && !isNaN(r), '传入 vercmp 的版本非法');
        if (l !== r)
            return l - r;
    }
    return 0;
}
function get(obj, keypath) {
    let obj_ = obj;
    for (const key of keypath.split('.'))
        obj_ = obj_[key];
    return obj_;
}
function global_get(keypath) {
    return get(globalThis, keypath);
}
function invoke(obj, funcpath, args) {
    const paths = funcpath.split('.');
    let obj_ = obj;
    for (let i = 0; i < paths.length - 1; i++)
        obj_ = obj_[paths[i]];
    return obj_[paths.at(-1)].call(obj_, ...args);
}
/** 拼接 TypedArrays 生成一个完整的 Uint8Array */
function concat(arrays) {
    let length = 0;
    for (const a of arrays)
        length += a.byteLength;
    let buf = new Uint8Array(length);
    let offset = 0;
    for (const a of arrays) {
        const uint8view = new Uint8Array(a.buffer, a.byteOffset, a.byteLength);
        buf.set(uint8view, offset);
        offset += uint8view.byteLength;
    }
    return buf;
}
/** 时间间隔 (milliseconds) 格式化 */
function delta2str(delta) {
    if (delta < 1)
        return '0 ms';
    // [1, 1000) ms
    if (delta < 1000)
        return `${delta.toFixed(0)} ms`;
    // 1.1 s
    if (1000 <= delta && delta < 1000 * 60)
        return `${(delta / 1000).toFixed(1)} s`;
    // 1 min 12 s [1 min 0s, 60 min)
    const seconds = Math.trunc(delta / 1000);
    if (seconds < 60 * 60)
        return `${Math.trunc(seconds / 60)} min ${seconds % 60} s`;
    const hour = Math.trunc(seconds / 3600);
    return `${hour} h ${Math.trunc((seconds - 3600 * hour) / 60)} min ${seconds % 60} s`;
}
/** generate random id */
function genid() {
    return Math.random() * 2 ** 53;
}
class Timer {
    started = new Date().getTime();
    ended;
    /** 停止秒表，保存读数 */
    stop() {
        this.ended = new Date().getTime();
    }
    /** 如果秒表未停止，获取当前秒表读数；
        如果秒表已停止，获取停止时的秒表读数; */
    get() {
        return (this.ended || new Date().getTime()) - this.started;
    }
    getstr() {
        return `(${delta2str(this.get())})`;
    }
    print() {
        console.log(this.getstr());
    }
}
function lowercase_first_letter(str) {
    return str[0].toLowerCase() + str.slice(1);
}
//# sourceMappingURL=utils.browser.js.map

/***/ }),

/***/ 9899:
/*!************************!*\
  !*** ./i18n/dict.json ***!
  \************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"控制台":{"en":"Console"},"注销":{"en":"Log out"},"登录":{"en":"Log in"},"集群总览":{"en":"Cluster"},"交互编程":{"en":"Shell"},"作业管理":{"en":"Job"},"文件系统":{"en":"DFS"},"日志查看":{"en":"Log"},"刷新":{"en":"Refresh"},"编译并刷新 (r)":{"en":"Compile and refresh (r)"},"输入关键字后按回车可搜索作业":{"en":"Type keywords then press enter to search jobs"},"同步作业":{"en":"Synchronized Jobs"},"个进行中":{"en":"in progress"},"异步作业":{"en":"Asynchronized Jobs"},"个已完成":{"en":"finished"},"定时作业":{"en":"Scheduled Jobs"},"个已配置":{"en":"configured"},"确认停止作业":{"en":"Stop the job?"},"确认删除作业":{"en":"Delete the job?"},"停止作业成功":{"en":"Stopped the job sucessfully"},"删除作业成功":{"en":"Deleted the job successfully"},"作业已完成":{"en":"Job is already finished"},"停止":{"en":"Stop"},"删除":{"en":"Delete"},"请输入用户名":{"en":"Input username"}," 用户名 (默认: admin)":{"en":" username (default: admin)"},"请输入密码":{"en":"Input password"}," 密码 (默认: 123456)":{"en":" password (default: 123456)"},"运行中作业":{"en":"Running Jobs"},"已提交作业":{"en":"Submitted Jobs"},"已定时作业":{"en":"Scheduled Jobs"},"登录成功":{"en":"Logged in successfully."},"用户名或密码错误":{"en":"Incorrect username or password"}," 用户名":{"en":" Username"}," 密码":{"en":" Password"},"停止作业指令发送成功":{"en":"The command of stopping the job was sent successfully"},"集群管理":{"en":"Cluster Management"},"新建集群":{"en":"Create Cluster"},"确认删除集群":{"en":"Delete cluster"},"集群删除成功":{"en":"Cluster deleted"},"新建集群配置":{"en":"New Cluster Configuration"},"集群创建成功":{"en":"Cluster created"},"集群创建失败":{"en":"Cluster creation failed"},"核":{"en":"core"},"提交":{"en":"Submit"},"重置":{"en":"Reset"},"取消":{"en":"Cancel"},"收起侧栏":{"en":"Collapse"},"基本信息":{"en":"Basic Info"},"配置参数":{"en":"Configuration"},"集群参数":{"en":"Cluster Config"},"控制节点参数":{"en":"Controller Config"},"代理节点参数":{"en":"Agent Config"},"请输入参数值":{"en":"Please input a config value."},"保存更改":{"en":"Save"},"编辑参数":{"en":"Edit"},"提交参数修改":{"en":"Submit All"},"重置全部参数":{"en":"Reset All"},"参数重置成功":{"en":"parameters resetting succeed."},"参数重置失败":{"en":"parameters resetting failed."},"参数修改成功":{"en":"Configuration parameters successfully changed."},"参数修改失败":{"en":"Submittion failed."},"确认重置?":{"en":"Reset parameters?"},"确认提交?":{"en":"Submit changes?"},"名称":{"en":"name"},"模式":{"en":"mode"},"版本":{"en":"version"},"服务":{"en":"Service"},"状态":{"en":"status"},"状态_node_type":{"en":" Status"},"操作":{"en":"Action"},"当前值":{"en":"value"},"默认值":{"en":"default value"},"类型":{"en":"Type"},"描述":{"en":"description"},"内存":{"en":"memory"},"命名空间":{"en":"Namesapce"},"日志模式":{"en":"log mode"},"创建时间":{"en":"created at"},"存储类":{"en":"storage class"},"输出到文件":{"en":"file"},"输出到标准输出":{"en":"stdout"},"同时输出到文件和标准输出":{"en":"file & stdout"},"集群类型":{"en":"cluster type"},"节点数":{"en":"number of nodes"},"控制节点存储空间":{"en":"controller data size"},"数据节点存储空间":{"en":"datanode data size"},"只能包含小写字母、数字以及\'-\'，必须以小写字母开头，以小写字母或数字结尾":{"en":"Cluster name must consist of lowercase letters, numbers or \'-\', start with lowercase letter and end with lowercase letter or number."},"集群名称只能包含小写字母、数字以及\'-\'，必须以小写字母开头，以小写字母或数字结尾":{"en":"Cluster name must consist of lowercase letters, numbers or \'-\', start with lowercase letter and end with lowercase letter or number."},"控制节点配置":{"en":"Controller Configuration"},"数据存储空间":{"en":"data size"},"日志存储空间":{"en":"log size"},"数据节点配置":{"en":"Datanode Configuration"},"资源限制":{"en":"Resources Limit"},"确认重启？":{"en":"Restart node?"},"正在重启节点":{"en":"Restarting node"},"重启节点失败":{"en":"Restarting node failed"},"重启":{"en":"Restart"},"输入关键字搜索集群名称":{"en":"Input keywords to search cluster by name"},"内存已用 (已分配) / 最大可用":{"en":"memory used (allocated) / max"},"CPU 用量 (平均负载)":{"en":"CPU usage (load avg.)"},"当前连接 | 最大连接":{"en":"current | max connections"},"硬盘读取 | 硬盘写入":{"en":"hard disk read | write"},"网络接收 | 网络发送":{"en":"network receive | send"},"排队作业 | 运行作业":{"en":"queued | running jobs"},"排队任务 | 运行任务":{"en":"queued | running tasks"},"端口":{"en":"port"},"内存使用量":{"en":"memory usage"},"CPU 使用量":{"en":"cpu usage"},"日志":{"en":"log"},"日志刷新成功":{"en":"Log was refreshed successfully"},"日志刷新失败":{"en":"Failed to refresh log"},"配置":{"en":"Configuration"},"显示所有配置":{"en":"Show All Configurations"},"信息":{"en":"Info"},"总览":{"en":"Overview"},"数据":{"en":"Data"},"数据表":{"en":"Tables"},"DolphinDB: 执行代码":{"en":"DolphinDB: Execute Code"},"DolphinDB: 执行当前行代码":{"en":"DolphinDB: Execute Current Line"},"DolphinDB: 保存代码":{"en":"DolphinDB: Save Code"},"代码已保存在浏览器中":{"en":"The code is saved in the browser"},"确认删除服务？":{"en":"Delete service?"},"服务删除成功":{"en":"Service deleted"},"服务删除失败":{"en":"Service deletion failed"},"确认创建服务？":{"en":"Create service?"},"服务创建成功":{"en":"Service created"},"服务创建失败":{"en":"service creation failed"},"创建":{"en":"Create"},"控制节点":{"en":"Controllers"},"控制节点_node_type":{"en":"controller"},"控制节点_node_type_title":{"en":"Controller"},"数据节点":{"en":"Datanodes"},"数据节点_node_type":{"en":"datanode"},"数据节点_node_type_title":{"en":"Datanode"},"单机节点":{"en":" Standalone"},"单机节点_node_type":{"en":"single"},"单机节点_node_type_title":{"en":"Single"},"单机":{"en":"Standalone"},"集群监控":{"en":"Cluster Monitor"},"计算节点":{"en":"Computenodes"},"计算节点_node_type":{"en":"computenode"},"计算节点_node_type_title":{"en":"Computenode"},"计算节点配置":{"en":"Computenode Configuration"},"计算节点存储空间":{"en":"computenode data size"},"集群":{"en":"cluster"},"单控制节点":{"en":"singlecontroller"},"多控制节点":{"en":"multicontroller"},"您访问的这个控制节点现在不是高可用 (raft) 集群的 leader 节点, 将会为您自动跳转到集群当前的 leader 节点: ":{"en":"The controller you\'re visiting is not the raft leader in the high-availability cluster. You will be redirected to the current leader: "},"左侧编辑器使用指南:\\n":{"en":"Editor usage guide on the left\\n"},"按 Ctrl + E 执行选中代码或光标所在行代码，点击 执行中 可取消作业\\n":{"en":"Press Ctrl + E to execute selected code or the line of code where the cursor is placed. Click Executing to cancel the job\\n"},"按 Ctrl + Shift + E 执行选中代码或全部代码\\n":{"en":"Press Ctrl + Shift + E to execute selected code or all code\\n"},"按 Ctrl + S 保存代码\\n":{"en":"Press Ctrl + S to save the code\\n"},"按 F1 查看更多编辑器命令":{"en":"Press F1 to see more editor commands"},"终端":{"en":"Terminal"},"隐藏终端":{"en":"Hide Terminal"},"连接已关闭":{"en":"connection closed"},"连接出错: ":{"en":"connection errored: "},"已连接到: ":{"en":"connected to "},"共享变量":{"en":"Shared Variables"},"本地变量":{"en":"Local Variables"},"成交量":{"en":"vol"},"开盘价":{"en":"open"},"收盘价":{"en":"close"},"最高价":{"en":"high"},"最低价":{"en":"low"},"模块":{"en":"modules"},"每节点最大可用内存":{"en":"max memory per node"},"每节点最大可用核数":{"en":"max cores per node"},"过期时间":{"en":"expiration"},"最大节点数":{"en":"max nodes"},"绑定 CPU":{"en":"bind CPU"},"许可类型":{"en":"license type"},"授权类型":{"en":"authorization"},"试用版":{"en":"trial"},"商业版":{"en":"commercial"},"社区版":{"en":"community"},"客户名称":{"en":"client name"},"授权客户":{"en":"client name"},"内存已用":{"en":"memory used"},"内存已分配":{"en":"memory allocated"},"内存最大可用":{"en":"max memory available"},"CPU用量":{"en":"CPU usage"},"CPU平均负载":{"en":"CPU average load"},"当前连接":{"en":"current connections"},"最大连接":{"en":"maximum connections"},"硬盘读取":{"en":"disk read rate"},"硬盘写入":{"en":"disk write rate"},"磁盘剩余容量":{"en":"disk free space"},"磁盘总容量":{"en":"disk total capacity"},"网络接收速率":{"en":"network receive rate"},"网络发送速率":{"en":"network send rate"},"排队作业":{"en":"queued jobs"},"运行作业":{"en":"running jobs"},"作业负载":{"en":"job load"},"排队任务":{"en":"queued tasks"},"运行任务":{"en":"running tasks"},"前 10 个查询耗费中间值":{"en":"last 10 queries\' average cost"},"前 10 个查询耗费最大值":{"en":"last 10 queries\' maximum cost"},"前 100 个查询耗费中间值":{"en":"last 100 queries\' average cost"},"前 100 个查询耗费最大值":{"en":"last 100 queries\' maximum cost"},"前一分钟读磁盘容量":{"en":"last minute read volume rate"},"前一分钟写磁盘容量":{"en":"last minute write volume rate"},"前一分钟接收字节数":{"en":"last minute received bytes"},"前一分钟发送字节数":{"en":"last minute send bytes"},"前一批消息延时":{"en":"last message latency"},"所有消息平均延时":{"en":"cumulative average latency"},"节点内存空间上限":{"en":"memory limit"},"CPU 占用率":{"en":"CPU usage"},"CPU 平均负载":{"en":"CPU load average"},"worker 线程数":{"en":"workers"},"executor 线程数":{"en":"executors"},"磁盘":{"en":"Disk"},"磁盘读速率":{"en":"disk read rate"},"磁盘写速率":{"en":"disk write rate"},"前一分钟读磁盘量":{"en":"last minute disk read volume"},"前一分钟写磁盘量":{"en":"last minute disk write volume"},"网络":{"en":"network"},"任务与作业":{"en":"Task and Job"},"查询":{"en":"Query"},"内存_perf":{"en":"Memory"},"网络_perf":{"en":"Network"},"磁盘可用空间占比":{"en":"disk available space ratio"},"数据库":{"en":"Database"},"全部折叠":{"en":"Collapse All"},"前 100 行":{"en":"The first 100 rows of table"},"数据看板":{"en":"Dashboard"},"设置成功，目前小数位数为：":{"en":"Set up successfully, the current decimals is "},"默认":{"en":"Default"},"设置":{"en":"Set"},"设置小数位数: ":{"en":"Set decimal places: "},"重置成功，目前小数位数为：默认":{"en":"The reset is successful, the current number of decimal places is: default"},"确定":{"en":"Confirm"},"正在加载代码编辑器...":{"en":"Loading code editor..."},"在新窗口中打开":{"en":"Open in new window"},"流表":{"en":"streaming table"},"窗口":{"en":"window"},"偏移量":{"en":"offset"},"继续显示流表更新":{"en":"continue to show flow table updates"},"暂停显示流表更新":{"en":"pause showing flow table updates"},"实时":{"en":"real time"},"开始时间":{"en":"Start Time"},"结束时间":{"en":"End Time"},"错误信息":{"en":"Error Message"},"作业 ID":{"en":"Job ID"},"根作业 ID":{"en":"Root Job ID"},"详情":{"en":"Description"},"优先级":{"en":"Priority"},"并行度":{"en":"Parallelism"},"节点":{"en":"Node"},"用户 ID":{"en":"User ID"},"收到作业时间":{"en":"Received Time"},"会话 ID":{"en":"Session ID"},"客户端 IP":{"en":"Client IP"},"客户端端口":{"en":"Client Port"},"全部任务":{"en":"Total Tasks"},"已完成任务":{"en":"Finished Tasks"},"正在运行的任务":{"en":"Running Tasks"},"状态_job":{"en":"Status"},"主题":{"en":"Theme"},"进度":{"en":"Progress"},"开始日期":{"en":"Start Date"},"结束日期":{"en":"End Date"},"执行频率":{"en":"Execution Frequency"},"执行定时任务的时间":{"en":"Time to Execute"},"执行定时任务的日期":{"en":"Date to Execute"},"操作_job":{"en":"Actions"},"首个任务开始时间":{"en":"First Task Start Time"},"最后任务开始时间":{"en":"Last Task Start Time"},"队列":{"en":"Queue"},"类型_job":{"en":"Type"},"点击了 RefId 链接:":{"en":"RefId link clicked: "},"实际位数":{"en":"actual decimals"},"输入应为空或介于 0 ~ 20":{"en":"Input should be empty or between 0 and 20"},"重置成功，目前小数位数为：实际位数":{"en":"Reset successfully, now with actual decimals "},"上传文件":{"en":"Upload File"},"文件上传路径":{"en":"Upload Path"},"上传路径不能为空":{"en":"Upload path cannot be empty"},"点击此处或者拖拽文件到此处":{"en":"Click or drag and drop a File here"},"确认启动？":{"en":"Start Node?"},"启动节点失败":{"en":"Starting node failed"},"启动":{"en":"Start"},"确认暂停？":{"en":"Pause Node?"},"暂停成功":{"en":"Pausing node succeeded"},"暂停节点失败":{"en":"Pausing node failed"},"暂停":{"en":"Pause"},"添加列":{"en":"Add column"},"显示shchema信息":{"en":"Show schema"},"显示前一百行数据":{"en":"Show first 100 rows"},"添加成功":{"en":"Add successfully"},"列名":{"en":"Name"},"请输入列名":{"en":"Please enter the column name!"},"请选择该列的类型":{"en":"Please select the type of the column!"},"选择类型":{"en":"Select type"},"注释":{"en":"Comment"},"启动成功":{"en":"Start succeeded"},"上传文件至 {{instance}}":{"en":"Upload file to {{instance}}"},"Pod 内路径，如: /data/ddb/server/":{"en":"The path in the Pod, such as: /data/ddb/server/"},"文件大小限制 100 MB":{"en":"File size limit 100 MB"},"文件 {{filename}} 上传成功":{"en":"Upload succeeded"},"文件 {{filename}} 上传失败":{"en":"Upload failed"},"设置_settings":{"en":"Settings"},"文件上传成功":{"en":"File upload successfully"},"文件上传失败":{"en":"File upload failed"},"向下复制行":{"en":"Copy row down"},"删除行":{"en":"Delete row"},"按 Ctrl + D 向下复制行\\n":{"en":"Press Ctrl + D to copy lines down\\n"},"按 Ctrl + Y 删除行\\n":{"en":"Press Ctrl + Y to delete lines\\n"},"查看表结构":{"en":"Show table schema"},"字体已全部加载":{"en":"Fonts are all loaded"},"正在加载字体...":{"en":"loading font"},"首页":{"en":"Index"},"模块数量":{"en":"number of modules"},"当前为中信证券的 web, 启用单点登录":{"en":"Currently for CITIC Securities\' web, single sign-on is enabled"},"没有 sessionData 参数，将会跳转到登录页":{"en":"Without the sessionData parameter, it will jump to the login page"},"通过非 /dolphindb/ 路径直接访问中信证券 web":{"en":"Direct access to CITIC Securities web through a path other than /dolphindb/"},"ticket 登录失败":{"en":"ticket logged in failed"},"{{username}} 使用账号密码登陆成功":{"en":"{{username}} successfully logged in with the account password"},"没有自动登录的 ticket":{"en":"Tickets without auto-login"},"{{username}} 使用 ticket 登陆成功":{"en":"{{username}} successfully logged in with ticket"},"通过 session 登录失败，即将跳转到单点登录页":{"en":"Failed to log in through session, will jump to the single sign-on page"},"通过 session 登录成功:":{"en":"Successful logged in by session:"},"节点类型:":{"en":"node type:"},"节点名称:":{"en":"node name:"},"控制节点:":{"en":"control node:"},"版本:":{"en":"version:"},"集群节点:":{"en":"cluster nodes:"},"当前节点:":{"en":"current node:"},"保存代码至浏览器中":{"en":"Save the code to the browser"},"保存":{"en":"Save"},"执行选中代码或全部代码":{"en":"Execute the selected code or all code"},"执行":{"en":"Execute"},"当前连接正在执行作业，请等待":{"en":"The current connection is executing a job, please wait"},"按 Tab 补全函数\\n":{"en":"Press Tab to complete functions\\n"},"查看数据表结构":{"en":"View data table structure"},"查看前一百行数据":{"en":"View the first hundred rows of data"},"词典":{"en":"dict"},"个键":{"en":"keys"},"集合":{"en":"set"},"向量":{"en":"vector"},"个元素":{"en":"items"},"表格":{"en":"table"},"行":{"en":"rows"},"列":{"en":"columns"},"矩阵":{"en":"matrix"},"备份管理":{"en":"Backup Management"},"名字":{"en":"Name"},"备份信息":{"en":"Backup Information"},"主机":{"en":"Host"},"新建备份":{"en":"Create Backup"},"基础信息":{"en":"Basic Information"},"服务器信息":{"en":"Server Information"},"最大备份数":{"en":"Max Backups"},"备份":{"en":"Backups"},"还原":{"en":"Restores"},"服务地址":{"en":"End Point"},"供应商":{"en":"Providers"},"访问密钥":{"en":"AccessKey"},"加密密钥":{"en":"SecretAccessKey"},"共享目录_backup":{"en":"Path"},"调度中":{"en":"Scheduled"},"清理中":{"en":"Complete"},"清理完成":{"en":"Cleaned"},"参数异常":{"en":"Invalid"},"路径信息":{"en":"Path Information"},"用户名":{"en":"User ID"},"新建":{"en":"Create"},"此项必填":{"en":"This item is required"},"集群信息":{"en":"Cluster Information"},"桶名":{"en":"Prefix"},"存储类名称":{"en":"Storage Class Name"},"名称_backup":{"en":"Name"},"创建时间_backup":{"en":"Created At"},"操作_backup":{"en":"Operation"},"完成":{"en":"Complete"},"云端存储配置":{"en":"Cloud Storage Configuration"},"添加云端存储配置":{"en":"Add Cloud Storage Configuration"},"云端存储类型":{"en":"Cloud Storage Type"},"备份源":{"en":"Source of Backup"},"存储路径":{"en":"Storage Path"},"存储信息":{"en":"Storage Information"},"存储空间":{"en":"Storage Space"},"确认删除？":{"en":"Delete?"},"确认重新触发？":{"en":"Retrigger?"},"重新触发":{"en":"Retrigger"},"类型_backup":{"en":"Type"},"存储备份文件的存储系统配置":{"en":"Storage system configuration for storing backup files"},"存储临时备份文件的存储卷名称":{"en":"The name of the storage volume where temporary backup files are stored"},"区域":{"en":"Region"},"this.streaming.data 中的元素应该是 vector":{"en":"Elements in this.streaming.data should be vector"},"没有 mandate_code 参数，将会跳转到登录页":{"en":"Without the mandatory_code parameter, it will jump to the login page"},"代码地图:":{"en":"Code Map"},"回车补全:":{"en":"Enter Completion"},"是否取消执行中的作业？":{"en":"Do you want to cancel the job in progress?"},"取消作业":{"en":"Cancel Job"},"不要取消":{"en":"Do Not Cancel"},"执行中":{"en":"Executing"},"空闲中":{"en":"Idle"},"按 Tab 或 Enter 补全函数\\n":{"en":"Press Tab or Enter to complete functions\\n"},"控制是否显示缩略图":{"en":"Controls whether code mini map are displayed"},"控制除了 Tab 键以外，Enter 键是否同样可以接受建议。这能减少“插入新行”和“接受建议”命令之间的歧义。":{"en":"Controls whether the Enter key accepts suggestions in addition to the Tab key. This reduces the ambiguity between the \\"insert newline\\" and \\"accept suggestion\\" commands."},"函数文档 {{fname}} 已加载":{"en":"function documentation {{fname}} loaded"},"下限必须小于上限":{"en":"Lower limit must be less than upper limit"},"上限必须大于下限":{"en":"Upper limit must be greater than lower limit"},"升级":{"en":"Upgrade"},"下限":{"en":"Lower Limit"},"上限":{"en":"Upper Limit"},"升级失败，请查看网络请求":{"en":"Upgrade failed, please check the network request"},"升级 {{name}}":{"en":"Upgrade {{name}}"},"的词典":{"en":" dict"},"的 {{type}} 集合":{"en":" {{type}} set"},"的 {{type}} 向量":{"en":"{{type}} vector"},"的表格":{"en":" table"},"的流表":{"en":" streaming table"},"的矩阵":{"en":" matrix"},"排队中":{"en":"queuing"},"已完成":{"en":"completed"},"出错了":{"en":"failed"},"运行中_job.status":{"en":"running"},"登录后可查看{{info}}":{"en":"You need to be logged in to view {{info}}"},"当前节点日志":{"en":"the logs of the current node"},"去登录":{"en":"To log in"},"下限必须小于或等于上限":{"en":"The lower bound must be less than or equal to the upper bound"},"上限必须大于或等于下限":{"en":"The upper bound must be greater than or equal to lower bound"},"升级成功":{"en":"Update successed"},"运行正常":{"en":"Available"},"等待调度":{"en":"Unschedulable"},"已暂停":{"en":"Paused"},"准备中_pending":{"en":"Pending"},"开发":{"en":"development"},"生产":{"en":"production"},"使用默认账号密码登录失败":{"en":"Failed to log in with the default account and password"},"license 版本":{"en":"license version"},"web 构建时间":{"en":"web build time"},"web 开始初始化，当前处于{{mode}}模式，版本为 {{version}}":{"en":"The web starts to initialize, it is currently in {{mode}} mode, and the version is {{version}}"},"License Server 地址":{"en":"License Server Address"},"运行以下脚本时出错:\\n":{"en":"An error occurred while running the following script:\\n"},"调用 {{func}} 函数时出错，参数为:\\n":{"en":"Error calling {{func}} function with arguments:\\n"},"调用栈:\\n":{"en":"Call stack:\\n"},"web 初始化成功":{"en":"web initialization succeeded"},"使用 admin 账号密码登录失败":{"en":"Log in with admin account password failed"},"没有自动登录的 username":{"en":"No autologin username"},"getTablesByTabletChunk 应该只返回一个对应的 table":{"en":"getTablesByTabletChunk should only return a corresponding table"},"应该只有一个满足条件的 PartitionFile 在 PartitionDirectory 下面":{"en":"There should be only one PartitionFile that satisfies the condition under PartitionDirectory"},"directories 和 file 应该只有一个有值，另一个为空":{"en":"directories and file should only have a value, the other should be empty"},"数据库路径应该以 dfs:// 开头":{"en":"The database path should start with dfs://"},"结构":{"en":"schema"},"分区数据":{"en":"partition data"},"分区的数据":{"en":"partitioned data"},"分区":{"en":"partitions"},"sites 中应该有存放 chunk 所在节点的信息":{"en":"There should be information about the node where the chunk is stored in sites"},"登录后查看":{"en":"Log in to view"},"去登陆":{"en":"To log in"},"web 强制登录:":{"en":"web login required:"},"请登录":{"en":"Please log in"},"其他方式":{"en":"Other"},"机器指纹绑定":{"en":"Machine Fingerprint Bind"},"在线验证":{"en":"Online Verify"},"LicenseServer 验证":{"en":"LicenseServer Verify"},"是否为 LicenseServer":{"en":"Is LicenseServer"},"是":{"en":"Yes"},"否":{"en":"No"},"所有节点最大可用内存":{"en":"Max memory all nodes"},"所有节点最大可用核数":{"en":"Max cores all nodes"},"数据节点:":{"en":"datanode:"},"测试版":{"en":"test"},"所有节点可用内存之和":{"en":"The sum of available memory of all nodes"},"所有节点可用核数之和":{"en":"The sum of available cores of all nodes"},"没有找到可以正常访问的节点":{"en":"Can not find a node that can be accessed normally"},", 即将关闭页面":{"en":", the page will be closed"},"设置注释":{"en":"Set comment"},"设置注释成功":{"en":"Set comment successfully"},"输入列名，支持包含特殊字符":{"en":"Enter the name of the column, which supports special characters"},"运行中_node":{"en":"Ready"},"调度中_backup":{"en":"Scheduling"},"运行中_backup":{"en":"Running"},"运行成功":{"en":"Succeeded"},"运行失败_backup":{"en":"Failed"},"已就绪":{"en":"Ready"},"调度中_cluster":{"en":"Progressing"},"运行失败_cluster":{"en":"Unavailable"},"未就绪":{"en":"Unknown"},"转译错误信息出错，待解析文本 {{ text }}":{"en":"An error occurred while translating the error message, text to be parsed: {{ text }}"},"启用 JIT":{"en":"Enable JIT"},"日志管理":{"en":"Log Management"},"复制":{"en":"Copy"},"复制成功":{"en":"Copied successfully"},"上一步":{"en":"Go Back"},"建表中...":{"en":"Creating table..."},"创建失败":{"en":"Creation has failed"},"创建成功":{"en":"Successfully created"},"数据库路径 (directory)":{"en":"directory"},"表类型":{"en":"table type"},"分布式表":{"en":"partition table"},"维度表":{"en":"dimension table"},"表名":{"en":"Table Name"},"已存在相同名称的表":{"en":"A table with the same name already exists"},"数据列":{"en":"data columns"},"分区列":{"en":"partition columns"},"排序列":{"en":"sort columns"},"重复值处理方式":{"en":"de-duplicate method"},"保留全部":{"en":"keep all"},"保留最后一项":{"en":"keep last"},"保留第一项":{"en":"keep first"},"下一步":{"en":"Next"},"创建数据表":{"en":"Create table"},"命令预览":{"en":"Command preview"},"执行成功":{"en":"Execution finished"},"创建数据库":{"en":"Create database"},"数据库路径不能为空":{"en":"db path cannot be empty"},"数据库路径不能包含双引号":{"en":"db path cannot contain double quotes"},"请输入数据库路径":{"en":"Please enter db path"},"分区层级":{"en":"partition layer count"},"分区层级必须在1-3之间":{"en":"Partition layer count must be between 1 and 3"},"分区类型不能为空":{"en":"Partition type cannot be empty"},"顺序分区。分区方案格式为：整型标量，表示分区的数量。":{"en":"Sequential partition. partitionScheme format: integer scalar, indicating the number of partitions."},"顺序分区":{"en":"sequential partition"},"范围分区。分区方案格式为：向量，向量的任意两个相邻元素定义分区的范围。":{"en":"Range partition. partitionScheme format: vector, where any two adjacent elements of the vector define the range of a sub-partition."},"范围分区":{"en":"range partition"},"哈希分区。分区方案格式为：元组，第一个元素是分区列的数据类型，第二个元素是分区的数量。":{"en":"Hash partition. partitionScheme format: tuple, where the first element is the data type of the partition column, and the second element is the number of partitions."},"哈希分区":{"en":"hash partition"},"值分区。分区方案格式为：向量，向量的每个元素定义了一个分区。":{"en":"Value partition. partitionScheme format: vector, where each element of the vector defines a partition."},"值分区":{"en":"value partition"},"列表分区。分区方案格式为：嵌套向量，外层向量的每个元素定义了一个分区。":{"en":"List partition. partitionScheme format: vector of vector, where each element of the outer vector defines a partition."},"列表分区":{"en":"list partition"},"分区方案不能为空":{"en":"Partition scheme cannot be empty"},"分区位置":{"en":"partition location"},"存储引擎 (engine)":{"en":"engine"},"请选择存储引擎":{"en":"Please select storage engine"},"OLAP 引擎。OLAP 数据表的每个列存储为一个文件，数据以追加的方式存储到相应的列文件中，因此，数据写入的顺序决定了它们的存储顺序。":{"en":"OLAP engine. Each column of an OLAP table is stored as a file, and the data is stored in the corresponding column file in an append-only manner, so the order in which the data is written determines their storage order."},"TSDB 引擎。采用经典的 LSMT 模型，引入了排序列以提升在用户查询某个或少数几个设备（股票）在特定时间段数据的场景下的查询性能。":{"en":"TSDB engine. Using the classic LSMT model, the sorted column is introduced to improve the query performance in the scenario where the user queries the data of a few devices (or stocks) in a specific time period."},"写入事务原子性 (atomic)":{"en":"atomic"},"请选择写入事务原子性":{"en":"Please select transaction atomicity"},"写入事务的原子性层级为事务，即一个事务写入多个分区时，若某个分区被其他写入事务锁定而出现写入冲突，则该事务的写入全部失败。因此，该设置下，不允许并发写入同一个分区。":{"en":"Transaction level transaction atomicity. That is, when a transaction writes to multiple partitions, if a partition is locked by another write transaction and a write conflict occurs, all writes of this transaction fail. Therefore, in this setting, concurrent writes to the same partition are not allowed."},"事务级原子性":{"en":"transaction level transaction atomicity"},"写入事务的原子性层级为分区。若一个事务写入多个分区时，某分区被其它写入事务锁定而出现冲突，系统会完成其他分区的写入，同时对之前发生冲突的分区不断尝试写入，尝试数分钟后仍冲突才放弃。此设置下，允许并发写入同一个分区，但由于不能完全保证事务的原子性，可能出现部分分区写入成功而部分分区写入失败的情况。同时由于采用了重试机制，写入速度可能较慢。":{"en":"Partition level transaction atomicity. If a transaction writes to multiple partitions, and one of the partitions is locked by another write transaction so that a conflict occurs, the system will complete the write to other partitions first, and continuously attempts to write to the conflicted partition, giving up after several minutes of unsuccessful attempts. In this setting, concurrent writes to the same partition are allowed, but because the atomicity of the transaction cannot be guaranteed, it is possible that some partitions are written successfully while others fail. At the same time, due to the retry mechanism, the write speed may be slower."},"分区级原子性":{"en":"partition level transaction atomicity"},"分区粒度 (chunkGranularity)":{"en":"chunkGranularity"},"请选择分区粒度":{"en":"Please select chunk granularity"},"表级分区，设置后支持同时写入同一分区的不同表。":{"en":"Table level chunk granularity. Different tables can be written to the same partition at the same time."},"表级分区":{"en":"table level chunk granularity"},"数据库级分区，设置后只支持同时写入不同分区。":{"en":"Database level chunk granularity. Only different partitions can be written to at the same time."},"数据库级分区":{"en":"database level chunk granularity"},"已存在相同名称的列":{"en":"A column with the same name already exists"},"数据类型":{"en":"Data Type"},"备注":{"en":"Comment"},"压缩算法":{"en":"Compression"},"列 {{columns}} 不支持排序":{"en":"Column {{columns}} does not support sorting"},"索引列 {{columns}} 不能为 TIME, TIMESTAMP, NANOTIME, NANOTIMESTAMP 类型":{"en":"Index column {{columns}} cannot be of type TIME, TIMESTAMP, NANOTIME, and NANOTIMESTAMP"},"清空":{"en":"Clear"},"预览":{"en":"Preview"},"脚本预览":{"en":"script Preview"},"创建数据库的脚本:":{"en":"Scripts for creating database:"},"创建数据库成功":{"en":"Database created successfully."},"{{i18nIndex}}分区类型 (partitionType)":{"en":"{{i18nIndex}} partitionType"},"请选择{{i18nIndex}}分区类型":{"en":"Please select the partition type of the {{i18nIndex}} partition"},"{{i18nIndex}}分区方案 (partitionScheme)":{"en":"{{i18nIndex}} partitionScheme"},"请输入{{i18nIndex}}分区方案":{"en":"Please enter the partition scheme of the {{i18nIndex}} partition"},"参考教程":{"en":"Reference"},"一级":{"en":"first"},"二级":{"en":"second"},"三级":{"en":"third"},"仅支持单机节点和数据节点创建数据表":{"en":"Only single node and data node support create table"},"当前节点不是数据节点或单机节点，暂不支持在当前节点上创建数据库。":{"en":"The current node is not a data node or a single node, and does not support creating database yet."},"仅支持单机节点和数据节点创建数据库":{"en":"Only single node and data node support create database"},"小数位数":{"en":"Scale"},"请输入小数位数":{"en":"Please input scale"},"小数位数超出限制":{"en":"Scale out of limit"},"分区方案":{"en":"Partition Schema"},"请根据分区方案顺序选择分区列":{"en":"Please select partition columns according to partition schema"},"该数据库没有需要配置的分区列":{"en":"This database has no partition columns that need to be configured"},"请先登录再调用 init":{"en":"Please login first before calling init"},"登录失败":{"en":"Login Failed"},"jwt token 过期时间无法解析:":{"en":"invalid jwt token expire time:"},"License 过期提醒":{"en":"License expiration reminder"},"DolphinDB License 已过期，请联系管理人员立即更新，避免数据库关闭":{"en":"DolphinDB License has expired, please contact the administrator to update immediately to avoid database shutdown"},"DolphinDB License 将在两周内过期，请提醒管理人员及时更新，避免数据库过期后自动关闭":{"en":"The DolphinDB License will expire within two weeks, please remind the administrators to update it in time to avoid automatic shutdown of the database after expiration"},"修改密码":{"en":"Change password"},"登出":{"en":"Log out"},"修改失败":{"en":"Fail to change password"},"两次输入密码不一致":{"en":"The passwords entered twice are inconsistent"},"请输入新密码":{"en":"Please enter a new password"},"请重新输入新密码":{"en":"Please re-enter the new password"},"确认":{"en":"Confirm"},"刷新信息":{"en":"Refresh"},"启动节点":{"en":"Start node"},"停止节点":{"en":"Stop node"},"集群节点配置":{"en":"Cluster node configuration"},"已启动":{"en":"activated"},"未启动":{"en":"unactivated"},"work 线程数":{"en":"num of worker"},"读速率":{"en":"read rate"},"前一分钟读入":{"en":"last minute read"},"写速率":{"en":"write rate"},"前一分钟写入":{"en":"last minute written"},"用量":{"en":"used"},"接收速率":{"en":"receive rate"},"前一分钟接收":{"en":"last minute received bytes"},"发送速率":{"en":"send rate"},"前一分钟发送":{"en":"last minute sent bytes"},"代理节点":{"en":"agent node"},"单机总览":{"en":"single node overview"},"worker 线程总数":{"en":"num of worker"},"executor 线程总数":{"en":"num of executor"},"全部展开":{"en":"expand all"},"占用率":{"en":"usage"},"平均负载":{"en":"average load"},"已分配":{"en":"allocated"},"读":{"en":"read"},"前一分钟读":{"en":"read (1 min)"},"写":{"en":"write"},"前一分钟写":{"en":"written (1 min)"},"收":{"en":"receive"},"前一分钟收":{"en":"received (1 min)"},"发":{"en":"send"},"前一分钟发":{"en":"sent (1 min)"},"代理节点: ":{"en":"agent node"},"全选":{"en":"select all"},"控制":{"en":"controller"},"代理":{"en":"agent"},"节点不可停止":{"en":"node is not stoppable"},"确认启动以下节点":{"en":"Confirm the following nodes are to be started"},"确认停止以下节点":{"en":"Confirm that the following nodes are to be stopped"},"运行中":{"en":"running"},"当前连接数":{"en":"connections"},"最大连接数":{"en":"max number of connections"},"前一批消息时延":{"en":"pre batch msgs delay"},"所有消息平均时延":{"en":"all msgs avg latency"},"控制节点不可停止，停止控制节点将无法对集群节点进行启停操作。":{"en":"The control node cannot be stopped.Stopping the control node will not be able to start and stop the cluster nodes."},"代理节点不可停止，停止代理节点会导致控制节点发出的命令无法执行。":{"en":"The agent node cannot be stopped. Stopping the agent node will cause the commands issued by the controller node to be unable to be executed."},"代理节点不可跳转":{"en":"agent nodes cannot navigate"},"当前用户未登录，请登陆后再进行启停操作。":{"en":"Please log in before this operation."},"CDN 部署时无法使用配置管理":{"en":"Configuration management is not available for CDN deployments"},"设置当前代码执行的 SQL 标准":{"en":"Sets the SQL standard for the current code execution"},"SQL 标准:":{"en":"SQL Standard:"},"确认切换 SQL 标准？":{"en":"Confirm to switch SQL standard?"},"切换 SQL Standard 后，当前页面将会刷新，且内存变量会清空":{"en":"After switching to SQL Standard, the current page will be refreshed and the memory variables will be cleared"},"SQL 标准":{"en":"SQL Standard"},"取消作业指令发送成功":{"en":"Cancel job command sent successfully"},"点击可以取消当前执行中的作业":{"en":"Click to cancel the currently executing job"},"··· 共 {{total_lines}} 行 ···":{"en":"··· {{total_lines}} lines in total ···"},"去启动节点":{"en":"To start the node"},"没有正在运行的数据节点和计算节点":{"en":"No running data nodes and compute nodes"},"偏移":{"en":"offset"},"因子平台":{"en":"FactorLab"},"标题":{"en":"Title"},"数据源":{"en":"DataSource"},"基本属性":{"en":"Basic properties"},"数值轴，适用于连续数据":{"en":"Numerical axis, suitable for continuous data"},"类目轴，适用于离散的类目数据":{"en":"Category axis, suitable for discrete category data"},"时间轴，适用于连续的时序数据":{"en":"Time axis, suitable for continuous time series data"},"对数轴，适用于对数数据":{"en":"Logarithmic axis, suitable for logarithmic data"},"X 轴名称":{"en":"X-axis name"},"增加数据列":{"en":"Add data column"},"增加 Y 轴":{"en":"Add Y axis"},"坐标列":{"en":"Axis column"},"是否展示 X 缩略轴":{"en":"Display the X thumbnail axis"},"是否展示 Y 缩略轴":{"en":"Display the Y thumbnail axis"},"保存并应用":{"en":"Save and Apply"},"请先选中您需要更改配置的图表":{"en":"Please select the chart you want to change the configuration first"},"请为您的图表配置数据源":{"en":"Please configure the data source for your chart"},"画布":{"en":"Canvas"},"图表":{"en":"Charts"},"图例":{"en":"Legend"},"提示":{"en":"Hint"},"X 轴缩略轴":{"en":"X-axis abbreviated axis"},"Y 轴缩略轴":{"en":"Y-axis abbreviated axis"},"位置":{"en":"Position"},"左侧":{"en":"Left"},"关联 Y 轴":{"en":"Associated Y axis"},"列配置":{"en":"Column configuration"},"增加映射":{"en":"Add mapping"},"原始列名":{"en":"Original column name"},"展示列名":{"en":"Show column names"},"分页设置":{"en":"Pagination settings"},"需要分页":{"en":"Need pagination"},"默认分页数":{"en":"Default number of pages"},"编辑数据源":{"en":"Edit data source"},"堆叠值":{"en":"Stack value"},"同个类目轴上为数据列配置相同的堆叠值可以堆叠放置":{"en":"Series configurations with the same stack value on the same category axis can be stacked."},"关联变量":{"en":"Associated variables"},"实时计算":{"en":"Computing"},"流计算发布订阅状态":{"en":"Stream Computing Publish And Subscribe Status"},"流引擎状态":{"en":"Streaming Engines Status"},"流表状态":{"en":"Stream Tables Status"},"刷新成功":{"en":" refresh successfully"},"订阅线程状态":{"en":"Subscriber Thread State"},"表 SubWorkers 监控订阅节点的工作线程的状态。工作线程状态信息会按照 topic 来展示。":{"en":"The table SubWorkers monitors the state of worker threads of subscribing nodes. Worker thread status information will be displayed by topic."},"表 PubTables 监控流数据表状态。每一行表示一个流数据表的信息。":{"en":"Stream data table status"},"订阅状态":{"en":"subscriber status"},"表 SubConns 监控本地订阅节点和订阅节点之间的连接状态。":{"en":"The table SubConns monitors the connection status between the local subscribing node and subscribing nodes."},"发布状态":{"en":"Publisher Status"},"表 PubConns 监控本地发布节点和它的所有订阅节点之间的连接状态。":{"en":"The table PubConns monitors the connection status between the local publishing node and all its subscribing nodes."},"持久化线程状态":{"en":"Persistent Thread State"},"表 PersistWorkers 监控负责持久化流数据表的工作线程的状态。":{"en":"Table PersistWorkers monitors the status of worker threads responsible for persisting streaming data tables."},"持久化共享流表状态":{"en":"Persistent Shared Stream Table State"},"表 PersistenceMeta 返回启用了持久化的共享流数据表的元数据。":{"en":"Table PersistenceMeta returns the metadata of a shared stream data table with persistence enabled."},"非持久化共享流表状态":{"en":"Non-persistent Shared Stream Table State"},"表 sharedStreamingTableStat 返回未启用持久化的共享流数据表的元数据。":{"en":"The table sharedStreamingTableStat returns the metadata of the shared streaming table that does not enable persistence."},"表 EngineStat 返回流计算引擎的状态。":{"en":"The table EngineStat returns the status of the stream computing engine."},"批量取消订阅":{"en":"Batch unsubscribe"},"确认取消订阅选中的流数据表吗？":{"en":"Are you sure to unsubscribe the selected stream data table?"},"批量删除":{"en":"Batch Delete"},"确认删除选中的引擎吗？":{"en":"Are you sure you want to delete the selected engine?"},"确认删除选中的持久化共享数据流表吗？":{"en":"Are you sure to delete the selected persistent shared data flow table?"},"确认删除选中的共享流数据表吗？":{"en":"Are you sure to delete the selected shared stream data table?"},"线程 ID":{"en":"Worker ID"},"订阅主题":{"en":"Topic"},"订阅队列深度":{"en":"Queue Depth"},"订阅队列深度上限":{"en":"Queue Depth Limit"},"最近处理失败的错误信息":{"en":"Last Error Message"},"最近处理失败的时刻":{"en":"Last Failed Timestamp"},"处理失败的消息总数":{"en":"Failed Message Count"},"已处理消息数":{"en":"Processed Message Count"},"最近消息 ID":{"en":"Last Message ID"},"最近处理失败的消息 ID":{"en":"Last Failed Message ID"},"共享流数据表":{"en":"Table Name"},"订阅节点":{"en":"Subscriber"},"最近消息的偏移量":{"en":"Message Offset"},"订阅任务":{"en":"Actions"},"发布队列深度上限":{"en":"Queue Depth Limit"},"发布队列深度":{"en":"Queue Depth"},"发布节点":{"en":"Publisher"},"接收消息总量":{"en":"Cumulative Message Count"},"接收消息平均延迟":{"en":"Average Message Latency"},"最近消息的延迟":{"en":"Last Message Latency"},"最近消息的接收时刻":{"en":"Last Update"},"总行数":{"en":"Total Rows"},"内存中行数":{"en":"Number of Rows in Memory"},"内存中偏移量":{"en":"Offset in Memory"},"磁盘中行数":{"en":"Number of Rows on Disk"},"磁盘中偏移量":{"en":"Offset on Disk"},"是否异步持久化":{"en":"Whether to Persist Asynchronously"},"保留时间":{"en":"Retention Minutes"},"是否压缩":{"en":"Compress"},"持久化路径":{"en":"Persistence Dir"},"持久化线程":{"en":"Persistence Worker"},"Raft 组":{"en":"Raft Group"},"Raft 日志序号":{"en":"Last Log Seq"},"行数":{"en":"Number of Rows"},"列数":{"en":"Number of Columns"},"字节数":{"en":"Bytes"},"引擎名":{"en":"Engine Name"},"引擎类型":{"en":"Engine Type"},"最近错误信息":{"en":"Last Error Message"},"分组数":{"en":"Number of Groups"},"行数（单表）":{"en":"Number of Rows (Single Table)"},"行数（左表）":{"en":"Number of Rows (Left Table)"},"行数（右表）":{"en":"Number of Rows (Right Table)"},"内存清理阈值":{"en":"Memory Cleanup Threshold"},"指标数量":{"en":"Number of Indicators"},"指标源码":{"en":"Indicator Source Code"},"用户":{"en":"User"},"窗口长度":{"en":"Window Length"},"步长":{"en":"Step Size"},"是否使用系统时间":{"en":"Use System Time"},"快照目录":{"en":"Snapshot Directory"},"快照间隔":{"en":"Snapshot Interval"},"快照 ID":{"en":"Snapshot ID"},"快照时间戳":{"en":"Snapshot Timestamp"},"触发方式":{"en":"Trigger"},"触发间隔":{"en":"Trigger Interval"},"时间间隔":{"en":"Time Interval"},"等待时间间隔":{"en":"Waitting Time Interval"},"过滤条件":{"en":"Filter Condition"},"0 为绿色，1-10000 为橙色，10000 以上为红色。":{"en":"0 is green, 1-10000 is orange, and above 10000 is red."},"取消订阅成功":{"en":"Successfully unsubscribed"},"引擎删除成功":{"en":"Engine deleted successfully"},"流数据表删除成功":{"en":"Stream data table deleted successfully"},"流数据表状态":{"en":"Streaming tables status"},"最近消息延迟":{"en":"last message latency"},"最近消息接收时刻":{"en":"last message received time"},"当前节点流计算状态":{"en":"the current node stream computing status"},"队列深度":{"en":"Queue Depth"},"队列深度上限":{"en":"Queue Depth Limit"},"最近错误时刻":{"en":"Latest Error Timestamp"},"失败消息总数":{"en":"Number of Failed Messages"},"最近错误消息 ID":{"en":"Latest Error Message ID"},"最近接收时刻":{"en":"Receive Average Latency"},"错误详细信息":{"en":"error details"},"详细":{"en":"details"},"接收平均延迟":{"en":"receive average latency"},"流计算监控":{"en":"Stream"},"流计算引擎状态":{"en":"Stream Computing Engine Status"},"监控订阅节点的工作线程的状态。工作线程状态信息会按照 topic 来展示。":{"en":"Monitor the status of the worker threads of subscribing nodes. Worker thread status information will be displayed according to topic."},"监控本地发布节点和它的所有订阅节点之间的连接状态。":{"en":"Monitors the connection status between the local publishing node and all its subscribing nodes."},"监控负责持久化流数据表的工作线程的状态。":{"en":"Monitor the status of the worker thread responsible for persisting the streaming data table."},"监控启用了持久化的共享流数据表的元数据。":{"en":"Monitor metadata for shared streaming data tables with persistence enabled."},"监控未启用持久化的共享流数据表的元数据。":{"en":"Monitor metadata for shared streaming data tables that do not have persistence enabled."},"监控流计算引擎的状态。":{"en":"Monitor the status of the stream computing engine."},"流数据表":{"en":"Stream Table"},"取消订阅":{"en":"Unsubscribe"},"引擎":{"en":"Engines"},"持久化共享数据流表":{"en":"Persistent Shared Streaming Tables"},"共享数据流表":{"en":"Shared Streaming Tables"},"最近处理消息 ID":{"en":"Recently processed message ID"},"条":{"en":"piece"},"毫秒":{"en":"millisecond"},"更多信息":{"en":"More info"},"点击查看":{"en":"click to view"},"请输入 \'YES\' 以确认该操作":{"en":"Please enter \'YES\' to confirm this action"},"控制节点不支持流数据的发布订阅，请跳转到数据节点或计算节点查看流数据状态。":{"en":"The control node does not support publishing and subscription of streaming data. Please jump to the data node or computing node to view the streaming data status."},"批量":{"en":"Batch "},"当前配置不存在":{"en":"The current configuration does not exist"},"配置id重复，无法保存":{"en":"The configuration id is duplicated and cannot be saved"},"当前配置与已有配置重名，请改名":{"en":"The current configuration has the same name as the existing configuration, please change the name"},"命名不可为空":{"en":"Name cannot be empty"},"分布式数据库":{"en":"Distributed Database"},"共享内存表":{"en":"Shared In-Memory Table"},"函数视图":{"en":"Function View"},"脚本权限":{"en":"script permissions"},"dfs 表名":{"en":"dfs table name"},"revoke 成功":{"en":"revoke successful"},"权限赋予成功":{"en":"Permission granted successfully"},"新增权限":{"en":"Add Access"},"请选择{{category}}":{"en":"Please choose {{category}}"},"请选择 dfs 数据库/表":{"en":"Please select DFS database/table"},"请选择权限":{"en":"Please select permissions"},"请选择权限类型":{"en":"Please select permission type"},"增加":{"en":"add"},"当前查看{{role}}:":{"en":"currently viewing {{role}}"},"组":{"en":"group"},"返回{{role}}列表":{"en":"return {{role}} list"},"权限管理":{"en":"Permission"},"权限查看":{"en":"permission view"},"请输入想要搜索的{{category}}":{"en":"Search {{category}}"},"组名":{"en":"Group Name"},"组内用户":{"en":"group members"},"成员管理":{"en":"member management"},"查看权限":{"en":"Access"},"删除组":{"en":"Delete Group"},"确认删除组 {{group}} 吗":{"en":"Are you sure to delete {{group}}"},"组删除成功":{"en":"Successfully Deleted"},"新建组":{"en":"Create Group"},"组创建成功":{"en":"Successfully Created"},"成员":{"en":"Members"},"请输入想查找的用户":{"en":"Please enter the user you want to search for"},"组 {{group}} 成员管理":{"en":"Manage Members for {{group}}"},"成员修改成功":{"en":"Successfully Changed"},"确认删除选中的 {{num}} 个组吗？":{"en":"Are you sure to delete selected groups?"},"请输入想要搜索的组":{"en":"Search Groups"},"是否管理员":{"en":"Is Admin"},"管理员":{"en":"Admin"},"非管理员":{"en":"Non-admin"},"请选择想要添加的组":{"en":"Please select the group."},"重置密码":{"en":"Reset Password"},"删除用户":{"en":"Delete User"},"确认删除用户 {{user}} 吗":{"en":"Are you sure to delete {{user}}?"},"用户删除成功":{"en":"Successfully Deleted"},"新建用户":{"en":"Create User"},"用户创建成功":{"en":"Successfully Created"},"密码":{"en":"Password"},"确认密码":{"en":"Confirm Password"},"确认删除选中的 {{num}} 个用户吗？":{"en":"Are you sure to delete selected users?"},"密码修改成功":{"en":"Successfully Reset Password."},"重置用户 {{user}} 密码":{"en":"Reset Password for {{user}}"},"新密码":{"en":"New Password"},"请输入想要搜索的用户":{"en":"Search Users"},"用户管理":{"en":"User"},"组管理":{"en":"Group"},"数据面板":{"en":"Dashboard"},"加载到内存":{"en":"Load into Memory"},"内存大小":{"en":"Memory Size"},"类目轴，适用于离散的类目数据，或者时序数据":{"en":"Category axis, suitable for discrete category data or time series data"},"字号":{"en":"font size"},"强制包含零刻度":{"en":"force include zero scale"},"底数":{"en":"base"},"时间格式化":{"en":"time formatting"},"数据列 1":{"en":"data column 1"},"热力值列":{"en":"heatmap value column"},"颜色":{"en":"color"},"标记点":{"en":"marker points"},"水平线":{"en":"horizontal line"},"阈值":{"en":"threshold"},"低于阈值配色":{"en":"color below threshold"},"高于阈值配色":{"en":"color above threshold"},"线类型":{"en":"line type"},"展示端标签":{"en":"display end labels"},"散点大小":{"en":"scatter plot size"},"散点标记":{"en":"scatter plot marker"},"阴暗色":{"en":"dark color"},"明亮色":{"en":"bright color"},"最小值":{"en":"minimum value"},"最大值":{"en":"maximum value"},"展示标签":{"en":"display labels"},"Y 轴相对于左右默认位置的偏移":{"en":"Y-axis offset relative to default left/right position"},"Y 轴":{"en":"Y-axis"},"X 轴配置":{"en":"X-axis configuration"},"Y 轴配置":{"en":"Y-axis configuration"},"每行变量数":{"en":"number of variables per row"},"查询按钮":{"en":"query button"},"不展示查询按钮的情况，表单更新即会进行查询，在变量设置较多的情况下，建议使用查询按钮，点击之后再运行数据源代码":{"en":"In cases where the query button is not displayed, the form will be queried upon update. In situations with a large number of variable settings, it is recommended to use the query button and click it before running the data source code."},"上内边距":{"en":"top padding"},"下内边距":{"en":"bottom padding"},"左内边距":{"en":"left padding"},"右内边距":{"en":"right padding"},"标题字号":{"en":"title font size"},"提示框":{"en":"tooltip"},"展示网格线":{"en":"display grid lines"},"展示边框":{"en":"display border"},"展示列选择":{"en":"display column selection"},"倒序展示":{"en":"display in reverse order"},"流数据开启此功能可将最新的数据插入到表格头部":{"en":"Enable this function for streaming data to insert the latest data at the top of the table"},"启用此选项之后，会在表格内层滚动":{"en":"After enabling this option, the table will have inner scrolling"},"禁止滚动":{"en":"Disable scrolling"},"变量设置":{"en":"variable settings"},"是否展示":{"en":"whether to display"},"列宽":{"en":"column width"},"数值列可设置阈值，设置之后后超过阈值的数值展示为红色，低于阈值则展示为绿色，非数值列不生效":{"en":"Numeric columns can have thresholds set. After setting, values exceeding the threshold will be displayed in red, while values below the threshold will be displayed in green. This does not apply to non-numeric columns."},"字体颜色":{"en":"font color"},"背景颜色":{"en":"background color"},"是否千分位":{"en":"whether to display thousands separator"},"对齐方式":{"en":"alignment"},"数据轴":{"en":"data axis"},"类目轴":{"en":"category axis"},"对数":{"en":"logarithmic"},"右侧":{"en":"right side"},"平均值":{"en":"average value"},"实线":{"en":"solid line"},"虚线":{"en":"dashed line"},"点线":{"en":"dotted line"},"运行按钮文字":{"en":"text for the run button"},"按钮文字":{"en":"button text"},"时间轴":{"en":"time axis"},"数值轴，适用于连续数据\\n类目轴，适用于离散的类目数据或者时序数据\\n对数轴，适用于对数数据":{"en":"Numeric axis, suitable for continuous data\\ncategory axis, suitable for discrete category data or time series data\\nlogarithmic axis, suitable for logarithmic data"},"交易量":{"en":"trading volume"},"k 线颜色（涨）":{"en":"k-line color (up)"},"k 线颜色（跌）":{"en":"k-line color (down)"},"线条颜色":{"en":"line color"},"k 线":{"en":"k-line"},"Y 轴分割线":{"en":"Y-axis gridline"},"柱状图颜色":{"en":"bar chart color"},"曲线颜色":{"en":"curve color"},"倍率":{"en":"multiplier"},"行情数据档数":{"en":"quotation data level"},"订单图":{"en":"Order"},"数据环":{"en":"data loop"},"增加环":{"en":"add loop"},"标签列":{"en":"label column"},"正在加载 ReactQuill":{"en":"loading ReactQuill"},"添加文本":{"en":"add text"},"不保存":{"en":"Don\'t save"},"此数据源存在未保存的更改。你想保存吗？":{"en":"There are unsaved changes in this data source. do you want to save?"},"点击填充数据源":{"en":"populate data source"},"配置数据源":{"en":"configure data source"},"应用":{"en":"apply"},"关闭":{"en":"Close"},"重命名":{"en":"Rename"},"保存成功":{"en":"save successful"},"当前数据源已被图表绑定无法删除":{"en":"current data source is bound to a chart and cannot be deleted"},"该数据源名已存在":{"en":"this data source name already exists"},"数据源名长度不能大于10":{"en":"data source name cannot be longer than 10 characters"},"数据源名不能为空":{"en":"data source name cannot be empty"},"当前数据源存在错误":{"en":"current data source has errors"},"轮询启动失败":{"en":"polling failed to start"},"无法订阅到流数据表":{"en":"unable to subscribe to streaming data table"},"复制失败":{"en":"copy failed"},"插入变量":{"en":"insert variable"},"数据预览":{"en":"data preview"},"自动刷新":{"en":"Auto refresh"},"间隔时间":{"en":"Interval time"},"最大展示行数":{"en":"Maximum display rows"},"若该值为空则表示不对最大展示行数进行限制":{"en":"If the value is empty, it means that there is no limit on the maximum number of display rows"},"自定义":{"en":"custom"},"列名预览（共{{length}}列）：":{"en":"column name preview ({{length}} columns):"},"列过滤":{"en":"Column filter"},"值过滤、范围过滤、哈希过滤":{"en":"value filter, range filter, hash filter"},"当前过滤列为:":{"en":"Current filter column is:"},"当前流表无过滤列":{"en":"Current streaming table has no filter columns"},"表达式过滤":{"en":"Expression filter"},"无可用流表":{"en":"No available streaming table"},"过滤":{"en":"Filter"},"数据面板保存成功":{"en":"dashboard saved successfully"},"修改成功":{"en":"modification successful"},"当前数据面板列表为空":{"en":"Current dashboard list is empty"},"撤销成功":{"en":"undo successful"},"删除成功":{"en":"deletion successful"},"选择 dashboard":{"en":"select dashboard"},"仅编辑":{"en":"edit only"},"仅预览":{"en":"preview only"},"返回主界面":{"en":"Return to overview"},"离开此界面您当前更改会丢失，是否需要保存当前更改":{"en":"Leaving this interface will result in the loss of your current changes. Do you want to save the changes?"},"请输入数据面板的名称":{"en":"Please enter the name of the dashboard"},"请输入新的数据面板名称":{"en":"Please enter a new name for the dashboard"},"创建副本成功":{"en":"copy created successfully"},"请输入 dashboard 副本名称":{"en":"Please enter the name of the dashboard copy"},"新增":{"en":"Add"},"导出":{"en":"Export"},"创建副本":{"en":"Create copy"},"修改名称":{"en":"Rename"},"分享":{"en":"Share"},"确定当前 dashboard 删除吗？":{"en":"Are you sure you want to delete the current dashboard?"},"确认删除":{"en":"confirm deletion"},"撤销":{"en":"Revoke"},"编辑":{"en":"Edit"},"批量导入":{"en":"Batch import"},"导入":{"en":"Import"},"你确定要导入这 {{length}} 个 dashboard 吗？":{"en":"Are you sure you want to import these {{length}} dashboards?"},"已存在":{"en":"already exists"},"导入成功！":{"en":"Import successful!"},"覆盖":{"en":"overwrite"},"重命名后导入":{"en":"import after renaming"},"控制节点不支持数据面板，请跳转到数据节点或计算节点查看。":{"en":"Control nodes do not support dashboards. Please navigate to data nodes or compute nodes to view."},"请点击下方按钮完成初始化":{"en":"Please click the button below to complete initialization"},"初始化操作将新增以下数据库表：":{"en":"The initialization operation will add the following database tables:"},"以及 11 个以 dashboard_ 开头的函数视图（FunctionView）":{"en":"and 11 function views starting with dashboard_"},"你确定要初始化数据面板功能吗？":{"en":"Are you sure you want to initialize dashboard functionality?"},"初始化":{"en":"Initialize"},"数据面板功能未初始化，请联系管理员初始化数据面板功能":{"en":"Datshboard functionality is not initialized. Please contact the administrator to initialize dashboard functionality"},"dashboard 配置加载成功":{"en":"Dashboard configuration loaded successfully"},"当前 url 所指向的 dashboard 不存在":{"en":"The dashboard pointed to by the current URL does not exist"},"请输入新数据面板的名称":{"en":"Please enter a new name for the dashboard"},"请输入新的 dashboard 名称":{"en":"Please enter a new name for the dashboard"},"您没有删除 {{name}} 的权限":{"en":"you do not have permission to delete {{name}}"},"确认删除选中的 {{length}} 个数据面板吗？":{"en":"Are you sure to delete the {{length}} selected dashboard"},"拥有":{"en":"own"},"来源于 ":{"en":"source from"},"确定删除 {{name}} 吗？":{"en":"Are you sure you want to delete {{name}}?"},"当前 dashboard 列表为空":{"en":"the current dashboard list is empty"},"确认撤销":{"en":"confirm Undo"},"请选择至少一个面板进行导出":{"en":"please select at least one panel to export"},"您没有导出 {{name}} 的权限":{"en":"you do not have permission to export {{name}}"},"批量导出":{"en":"Batch export"},"请至少选中一个数据面板后再删除":{"en":"please select at least one dashboard before deleting"},"基础":{"en":"basic"},"画布样式":{"en":"canvas style"},"确定要重置配置吗？":{"en":"Are you sure you want to reset the configuration?"},"重置配置":{"en":"reset configuration"},"配置表单与数据源结构相关，如修改数据源结构，建议重置表单以适应最新结构":{"en":"The configuration form is related to the data source structure. If you modify the data source structure, it is recommended to reset the form to adapt to the latest structure"},"请至少选中一个数据面板后再分享":{"en":"please select at least one dashboard before sharing"},"批量分享":{"en":"Batch share"},"请选择需要分享的用户":{"en":"please select the users to share with"},"全部编辑":{"en":"edit all"},"全部仅预览":{"en":"preview only"},"全部无":{"en":"none"},"请选择想要分享的 dashboard":{"en":"please select the dashboard to share"},"您没有分享 {{name}} 的权限":{"en":"You don\'t have permission to share {{name}}"},"分享成功":{"en":"share successful"},"权限":{"en":"Access"},"无":{"en":"none"},"dashboard 名称不允许为空":{"en":"dashboard name cannot be empty"},"dashboard 名称中不允许包含 \\"/\\" 或 \\"\\\\\\" ":{"en":"dashboard names are not allowed to contain \\"/\\" or \\"\\\\\\""},"名称重复，请重新输入":{"en":"duplicate name, please enter a different name"},"标签":{"en":"label"},"值":{"en":"value"},"确定要删除该选项吗？":{"en":"Are you sure you want to delete this option?"},"可选项：":{"en":"options:"},"变量":{"en":"Variable"},"不存在":{"en":"does not exist"},"当前变量已被数据源使用无法删除":{"en":"the current variable is being used by a data source and cannot be deleted"},"该变量名已存在":{"en":"variable name already exists"},"变量名长度不能大于10":{"en":"variable name cannot be longer than 10 characters"},"变量名不能为空":{"en":"variable name cannot be empty"},"此变量已被数据源引用无法修改名称":{"en":"this variable is referenced by a data source and cannot have its name modified"},"变量冲突，复制失败":{"en":"variable conflict, copy failed"},"此变量存在未保存的更改。你想保存吗？":{"en":"There are unsaved changes to this variable. Do you want to save them?"},"配置变量":{"en":"configure variable"},"显示名称：":{"en":"display name:"},"变量类型：":{"en":"variable type:"},"单选":{"en":"single select"},"多选":{"en":"multi-select"},"自由文本":{"en":"free text"},"日期":{"en":"date"},"变量值：":{"en":"variable value:"},"使用默认 admin 账号密码登录失败":{"en":"failed to log in using the default admin account password"},"柱状图":{"en":"Bar"},"折线图":{"en":"Line"},"饼图":{"en":"Pie"},"K 线":{"en":"K-line"},"混合图":{"en":"Mix"},"富文本":{"en":"Text"},"描述表":{"en":"Describe"},"编辑器":{"en":"Editor"},"仪表盘":{"en":"Gauge"},"雷达图":{"en":"Radar"},"散点图":{"en":"Scatter"},"热力图":{"en":"Heat"},"保留时间（分钟）":{"en":"retention time (minutes)"},"气泡提示":{"en":"tooltip"},"值列":{"en":"value column"},"标签字号":{"en":"label font size"},"值字号":{"en":"value font size"},"每行展示数量":{"en":"number of items per row"},"值颜色":{"en":"value color"},"列属性":{"en":"column attributes"},"编辑文本":{"en":"Edit text"},"查看数据库 {{db_name}} 用户权限":{"en":"View database {{db_name}} user permissions"},"查看用户权限":{"en":"View user permissions"},"确认{{action}}选中的 ":{"en":"Confirm {{action}} Selected "}," 个{{item}}吗?":{"en":" {{item}} ?"},"请选择想要添加的用户":{"en":"Please select the user you want to add."},"请输入要搜索的流表名":{"en":"Please enter the table name you want to search."},"以下内容已复制到剪切板":{"en":"The following content has been copied to the clipboard."},"已存在，粘贴失败!":{"en":"already exists, paste failed!"},"初始化数据面板成功！":{"en":"Dashboard initialization successful!"},"新数据面板":{"en":"New dashboard"},"提示：初始化后请完善相关配置（详见文档），并重启服务器":{"en":"Tip: After initialization, please complete the relevant configuration (see the documentation for details) and restart the server"},"新数据源":{"en":"New data source"},"请输入新数据源的名称":{"en":"Please enter a name for the new data source"},"新变量":{"en":"New variable"},"请输入新变量的名称":{"en":"Please enter a name for the new variable"},"web 版本":{"en":"web version"},"是否排序":{"en":"Sort or not"},"为多列设置排序时需设置优先级，该值越高表明优先级越高":{"en":"When setting sorting for multiple columns, you need to set a priority. The higher the value, the higher the priority."},"排序优先级":{"en":"Sort priority"},"请输入优先级":{"en":"Please enter priority"},"自定义端标签":{"en":"Custom end tag"},"支持静态标签与模板变量，其中模板变量包含以下几种":{"en":"Supports static tags and template variables, where template variables include the following types"},"{a}：数据列名称":{"en":"{a}: data column name"},"{c}：当 x 轴为类目轴时显示 y 轴值，当 x 轴为其余轴时显示 x轴值,y轴值":{"en":"When the x-axis is the category axis, the y-axis value is displayed. When the x-axis is the other axes, the x-axis value and y-axis value are displayed."},"{b}：x轴值":{"en":"{b}: x-axis value"},"示例: 名称-{a}":{"en":"Example: name-{a}"},"请注意，不填自定义端标签时默认展示 y 轴值":{"en":"Please note that when the custom end label is not filled in, the y-axis value is displayed by default."},"请输入自定义端标签":{"en":"Please enter custom end tag"},"仅数值类型可支持排序":{"en":"Only numeric types support sorting"},"请编辑代码":{"en":"Please edit the code"},"新建查询":{"en":"Create query"},"向导查询":{"en":"Use Query Builder"},"脚本查询":{"en":"Use Script Editor"},"筛选查询列":{"en":"Select Columns"},"查询列":{"en":"Selected"},"非查询列":{"en":"Unselected"},"增加查询列":{"en":"Add Column"},"删除查询列":{"en":"Remove Column"},"查询列不可为空，请重新筛选！":{"en":"Select at least 1 column."},"添加查询条件":{"en":"Set Query Conditions"},"分区列查询条件":{"en":"Partitioning Columns"},"必填项，仅支持【且满足】，与”其他查询条件”亦为【且满足】关系。":{"en":"Set at least 1 condition. Conditions on partitioning columns can only be combined with others (on either partitioning or non-partitioning columns) using the AND operator."},"请选择列名":{"en":"Select column"},"请选择运算符":{"en":"Select operator"},"请输入对比值":{"en":"Enter at least 1 value."},"且满足":{"en":"AND"},"增加且条件项":{"en":"Add AND condition"},"删除该条件项":{"en":"Delete condition"},"删除该条件块":{"en":"Delete condition group"},"其他查询条件":{"en":"Non-Partitioning Columns"},"或满足":{"en":"OR"},"新增条件块":{"en":"Add Condition Group"},"重置条件":{"en":"Reset"},"查看 SQL 语句":{"en":"View Generated Query"},"返回修改":{"en":"Go Back"},"预览数据":{"en":"Preview Data"},"导出数据":{"en":"Export Data"},"当前数据量已达 50 万行，暂不支持导出功能。":{"en":"Cannot export data exceeding 500,000 rows."},"当前数据为空，暂不支持导出功能。":{"en":"No rows to export. Query returned no data."},"当前数据量已达 2000 万行的预览上限，此处仅显示部分截断数据。":{"en":"Showing a partial preview of the data. The full dataset exceeds 20 million rows."},"输入对比值时须带有通配符 “%”。“%” 表示任意 0 个或者多个字符，可匹配任意类型和长度的字符。使用时请注意区分大小写。以下为使用示例：":{"en":"The LIKE/NOT LIKE pattern must include the wildcard character %, which represents zero, one, or multiple characters of any type or length. It is case-sensitive. For example:"},"688%（匹配以 “688” 开头的字符串，能够匹配例如 “688101.SH”、”688101”的字符串）":{"en":"688% matches strings starting with \\"688\\", like \\"688101\\"."},"%SZ%（匹配包含 “SZ” 的字符串， 能够匹配例如 “300951.SZ”、 “SZ.300951”的字符串）":{"en":"%SZ% matches strings that contain \\"SZ\\", such as \\"001SZ\\"."},"%6（匹配以 “6” 结尾的字符串，能够匹配例如 “abcd6” 的字符串）":{"en":"%6 matches strings ending with \\"6\\", like \\"abcd6\\"."},"在对比值的下拉框中选择一个或多个枚举值。注意，下拉框中仅展示部分枚举值，且存在响应延时。":{"en":"For IN and NOT IN operators, the dropdown shows a subset of available values with a brief delay."},"请手动输入未显示的枚举值，单击回车键以完成操作。":{"en":"Alternatively, enter one or more values manually in the field, pressing \'Enter\' after each."},"复制代码":{"en":"Copy"},"文件名":{"en":"File Name"},"请输入文件名":{"en":"Specify a file name."},"等于 (=)":{"en":"= (Equal to)"},"不等于 (!=)":{"en":"!= (Not equal to)"},"匹配 (like)":{"en":"Like"},"不匹配 (not like)":{"en":"Not like"},"包含 (in)":{"en":"In"},"不包含 (not in)":{"en":"Not in"},"大于 (>)":{"en":"> (Greater than)"},"小于 (<)":{"en":"< (Less than)"},"大于等于 (>=)":{"en":">= (Greater than or equal to)"},"小于等于 (<=)":{"en":"<= (Less than or equal to)"},"导出成功":{"en":"Export successfully"},"共 {{total}} 条数据":{"en":"Number of Rows: {{total}}"},"请注意，无法删除或者编辑当前选中的选项":{"en":"Please note that currently selected options cannot be deleted or edited"},"仅单机节点、数据节点和计算节点支持新建查询":{"en":"Queries can only be created on data/compute nodes, or on a standalone server."},"CEP 流计算引擎":{"en":"CEP Streaming Engine"},"引擎信息":{"en":"Engine Info"},"数据视图":{"en":"Data View"},"发送事件到引擎":{"en":"Send Event"},"CEP 引擎":{"en":"CEP Engine"},"引擎名称":{"en":"Engine Name"},"创建人":{"en":"Creator"},"子引擎数":{"en":"Sub Engines"},"子引擎数：{{num}}":{"en":"Sub Engines: {{num}}"},"接收事件数":{"en":"Received Events"},"发送事件数":{"en":"Sent Events"},"事件队列最大深度":{"en":"Maximum Event Queue Depth"},"队列中发送事件数":{"en":"Sent Events in Output Queue"},"子引擎信息":{"en":"Sub Engine Info"},"事件队列中待处理事件数":{"en":"Pending Events in Event Queue"},"事件监听数":{"en":"Event Listeners"},"计时器数":{"en":"Timers"},"插入队列头事件数":{"en":"Events Sent to Queue Head"},"插入队列尾事件数":{"en":"Events Sent to Queue Tail"},"匹配成功事件数":{"en":"Matched Events"},"最近接收事件的时间":{"en":"Timestamp of the Last Received Event"},"请输入要查询的 key":{"en":"Please enter a key for query."},"发送事件到 {{name}} 引擎":{"en":"Send An Event to {{name}} Engine"},"事件类型":{"en":"Event Type"},"事件字段":{"en":"Fields"},"类型说明":{"en":"DataTypes"},"{{type}} 的值":{"en":"Value of {{type}}"},"{{type}} 的精度":{"en":"Scale of {{type}}"},"发送成功":{"en":"Success"},"字段类型有误，请检查":{"en":"The entered field type is incorrect."},"请输入事件字段":{"en":"Please enter the fields."},"请选择事件类型":{"en":"Please select the event type."},"数据类型为 {{name}}":{"en":"Please enter data of {{name}} type."},"最近错误时间":{"en":"Last Error Time"},"请选择数据视图":{"en":"Please select a data view"},"监视器数":{"en":"Monitors"},"k 线图仅支持时间轴":{"en":"K-line only supports timeline"},"配置管理":{"en":"Config"},"请输入配置名":{"en":"Please enter config name"},"请输入配置名！":{"en":"Please enter config name!"},"数值":{"en":"Value"},"请输入配置值":{"en":"Please enter config value"},"请输入配置值！":{"en":"Please enter config value!"},"确认删除此配置项？":{"en":"Confirm to delete this config item?"},"新增控制节点配置":{"en":"Add controller config"},"请输入想要查找的配置项":{"en":"Please enter config name"},"集群节点管理":{"en":"Cluster node management"},"限定词":{"en":"Qualifier"},"请输入选择器":{"en":"Please enter qualifier"},"其它":{"en":"others"},"新增配置":{"en":"New config"},"请输入或选择配置项名":{"en":"Please enter or select a config item name"},"请输入配置项值":{"en":"Please enter the config item value"},"主机名":{"en":"Host"},"请输入主机名":{"en":"Please enter host"},"端口号":{"en":"Port"},"请输入端口号":{"en":"Please enter the port"},"别名":{"en":"Alias"},"请输入别名":{"en":"Please enter an alias"},"请选择节点类型":{"en":"Please select node mode"},"确认删除此节点？":{"en":"Confirm to delete this node?"},"新增节点":{"en":"Add new node"},"请输入想要查找的节点别名":{"en":"Please enter the node alias"},"线程":{"en":"thread"},"发布流":{"en":"streaming_pub"},"订阅流":{"en":"streaming_sub"},"系统":{"en":"system"},"返回":{"en":"Return"},"动作":{"en":"Actions"},"撤销权限":{"en":"Revoke"},"确认 revoke 该权限吗？":{"en":"Confirm revoke permission?"},"Revoke":{"en":"Revoke"},"确认添加":{"en":"Confirm"},"添加权限":{"en":"Add Access"},"请选择权限应用范围":{"en":"Please select the access object."},"应用范围为全局":{"en":"Global level"},"预添加":{"en":"Add"},"移除":{"en":"remove"},"Revoke 成功":{"en":"Revoke successfully"},"确认 revoke 选中的 {{num}} 条权限吗？":{"en":"Confirm {{num}} permissions selected by revoke?"},"全局权限":{"en":"Global"},"请输入组名":{"en":"Please enter a group name"},"组名长度不能超过 30 个字符":{"en":"Group name must be less than 30 characters."},"预览修改":{"en":"Preview"},"确认对组 {{group}} 进行以下改动吗？":{"en":"Confirm the following changes to {{group}}?"},"组内用户修改成功":{"en":"Users in the group have been modified successfully"},"原组内用户:":{"en":"Users in the original group"},"移入用户:":{"en":"Add"},"移出用户:":{"en":"Remove"},"非管理员不能查看权限管理模块。":{"en":"Available only for administrators."},"重置用户 ":{"en":"Reset user "},"用户 {{user}} 所属组管理":{"en":"Manage Groups for {{user}}"},"请输入想查找的组":{"en":"Search Groups"},"确认对用户 {{user}} 进行以下改动吗？":{"en":"Confirm the following changes to {{user}}?"},"用户所属组修改成功":{"en":"Successfully Changed"},"原有组:":{"en":"Groups"},"移入组:":{"en":"Move into"},"移出组:":{"en":"Move out"},"用户组管理":{"en":"group management"},"列名完全匹配":{"en":"Column names match exactly"},"为指定名称的列定制配置":{"en":"Customize the configuration for a column with a specified name"},"列名正则匹配":{"en":"Column name regular matching"},"为列名匹配正则表达式的列定制配置":{"en":"Customize configuration for columns whose column names match regular expressions"},"类型匹配":{"en":"type matching"},"为特定 DolphinDB 数据类型的列定制配置，如 INT, DOUBLE":{"en":"Custom configuration for columns of specific DolphinDB data types, such as INT, DOUBLE"},"配置规则 {{name}}":{"en":"Configure rule {{name}}"},"匹配类型":{"en":"Match Type"},"筛选列":{"en":"Filter Columns"},"正则表达式":{"en":"Regular Expression"},"支持子面量形式和构造函数形式的正则对象":{"en":"Supports regular objects in literal form and constructor form"},"子面量：/abc/g":{"en":"Amount of sub-face: /abc/g"},"构造函数：new RegExp(\\"abc\\", \\"g\\")":{"en":"Constructor: new RegExp(\\"abc\\", \\"g\\")"},"正则表达式书写规则":{"en":"Regular expression writing rules"},"请输入正则表达式":{"en":"Please enter a regular expression"},"增加配置规则":{"en":"Add configuration rules"},"阈值设置":{"en":"Threshold setting"},"阈值类型":{"en":"Threshold type"},"绝对值":{"en":"Absolute Value"},"百分比":{"en":"Percentage"},"管理权限":{"en":"Manage Access"},"批量撤销":{"en":"Revoke Access"},"DFS 表名":{"en":"DFS tables"},"确认撤销该权限吗？":{"en":"Are you sure to revoke this access?"},"确认撤销选中的 {{num}} 条权限吗？":{"en":"Are you sure to delete selected access?"},"当前{{role}}:":{"en":"Current {{role}}"},"组成员":{"en":"Members"},"组名只能包含字母、下划线或数字，并且不能以数字或下划线开头":{"en":"Group name can only use letters, digits or underscores (_), and must start with letters."},"非组成员":{"en":"Non-Members"},"组成员修改成功":{"en":"Successfully Changed"},"管理成员":{"en":"Manage Members"},"所属组":{"en":"Group"},"请输入用户名!":{"en":"Please enter user ID."},"用户名长度不能超过 30 个字符":{"en":"User ID must be less than 30 characters."},"用户名只能包含字母、下划线或数字，并且不能以数字或下划线开头":{"en":"User ID can only use letters, digits or underscores (_), and must start with letters."},"请输入密码!":{"en":"Please enter password."},"密码长度为 6-20 个字符，且不包含空格或中文":{"en":"Use a password 6-20 characters long. Spaces and Chinese characters are not allowed."},"请再次输入密码!":{"en":"Please confirm your password."},"两次输入密码需要保持一致!":{"en":"Your passwords do not match."},"未所属组":{"en":"Other Groups"},"管理用户组":{"en":"Manage Groups"},"范围":{"en":"Scope"},"原组成员:":{"en":"Members"},"设置密码":{"en":"Set Password"},"设置权限":{"en":"Manage Access"},"设置用户组":{"en":"Manage Groups"},"配置项":{"en":"key"},"请输入配置项":{"en":"Please enter key"},"请输入配置项！":{"en":"Please enter key"},"请输入或选择配置项":{"en":"Please enter or select key"},"主机名 / IP 地址":{"en":"Hostname/IP address"},"请输入主机名 / IP 地址":{"en":"Please enter hostname/IP address"},"请输入正确的主机名 / IP 地址":{"en":"Please enter correct hostname/IP address"},"流发布":{"en":"streaming_pub"},"流订阅":{"en":"streaming_sub"},"停用":{"en":"deactivate"},"启用":{"en":"activate"},"{{label}}{{active_label}}提示":{"en":"{{label}} {{active_label}} tips"},"{{label}}{{active_label}}成功":{"en":"{{label}} {{active_label}} successfully"},"可选模块":{"en":"Optional Modules"}}');

/***/ }),

/***/ 4879:
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/i18n/dict.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"暂时不支持序列化":{"en":"serialization is not currently supported"},"不能自动转换 {{type}} 至 DdbObj":{"en":"cannot automatically convert {{type}} to DdbObj"},"form 必须是 DdbForm.table, 否则不能 to_rows":{"en":"form must be DdbForm.table, otherwise it cannot to_rows"},"this.form 必须是 DdbForm.dict, 否则不能调用 to_dict 转换为 js object":{"en":"this.form must be DdbForm.dict, otherwise to_dict cannot be called to convert to js object"},"当前只支持自动转换 dict<string, any | ...dictables> 为 js object":{"en":"currently api only supports automatic conversion of dict<string, any | ...dictables> to js object"},"deep = true 时必须设置 strip = true":{"en":"strip = true must be set when deep = true"},"timestamp 字符串长度必须等于格式串长度":{"en":"the length of the timestamp string must be equal to the length of the format string"},"格式串必须包含秒的格式 (ss)":{"en":"the format string must contain the format for seconds (ss)"},"格式串必须包含纳秒的格式 (SSSSSSSSS)":{"en":"format string must contain nanosecond format (SSSSSSSSS)"},"nanotimestamp 字符串长度必须等于格式串长度":{"en":"nanotimestamp string length must be equal to format string length"},"指定 node 时必须设置 func_type":{"en":"func_type must be set when specifying node"},"variable 指令参数不能为空且参数名不能为空，且数量应该匹配":{"en":"variable command parameter cannot be empty and parameter name cannot be empty, and the number should match"},"session id 从 {{sid}} 变为 {{sid_}}":{"en":"session id changed from {{sid}} to {{sid_}}"},"订阅流表成功:":{"en":"subscribed to streaming table:"},"vector {{type}} 暂不支持序列化":{"en":"vector {{type}} serialization is not currently supported"},"form 必须是 DdbForm.table, 否则不能 to_cols":{"en":"form must be DdbForm.table, otherwise it cannot to_cols"},"这是在调用 this.rpc 之前默认的 on_message, 不应该被调用到，除非建立连接后 server 先推送了 message":{"en":"This is the default on_message before calling this.rpc, it should not be called unless the server pushes the message first after the connection is established"}," 暂时不支持解析":{"en":" parsing is currently not supported"},"array vector 存在非法 unit: {{unit}}":{"en":"array vector has invalid unit: {{unit}}"}," 暂时不支持序列化":{"en":" serialization is currently not supported"},"print 消息的 buffer 应该以 \\\\0 结束":{"en":"The buffer of the print message should end with \\\\0"},"print 消息的 buffer 中间不应该有 \\\\0":{"en":"There should not be \\\\0 in the buffer of the print message"},"已断开":{"en":"is already disconnected"},"连接出错了，可能由于网络原因连接已被关闭，或服务器断开连接":{"en":"connection errored. The connection may have been closed due to network reasons, or the server disconnected"},"new DdbBlob 不能传空的 value":{"en":"new DdbBlob cannot pass an empty value"},"{{form}}<{{type}}> 暂时不支持解析":{"en":"cannot parse {{form}}<{{type}}>"},"流数据订阅后一定先返回 schema":{"en":"After subscribing to streaming data, the schema must be returned first."},"{{form}} {{type}} 暂不支持 data()":{"en":"{{form}} {{type}} does not support data() yet"}," 暂时不支持转换为 js 对象":{"en":" conversion to js object is not supported at the moment"}}');

/***/ }),

/***/ 4647:
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/i18n/dict.json ***!
  \*************************************************************************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"存在":{"en":"exists"},"不存在":{"en":"not exists"},"打开文件":{"en":"open file"},"fp 必须是绝对路径，或传入 dir 参数: ":{"en":"fp must be absolute path, or pass in \'dir\' parameters:"},"读取":{"en":"read"}," 的编码可能是 ":{"en":"\'s encoding might be "},"写入":{"en":"write"},"追加":{"en":"append"},"data 不是 Buffer 或 string":{"en":"data is not a buffer or string"}," 必须是绝对路径":{"en":" must be absolute path"},"参数 fpd: ":{"en":"argument fpd: "}," 必须以 / 结尾":{"en":"must ends with /"},"fp 必须是绝对路径":{"en":"fp must be absolute path"},"删除了文件夹: ":{"en":"deleted folder: "},"删除了文件: ":{"en":"deleted file: "},"文件夹已不存在: ":{"en":"folder no longer exists: "},"文件已不存在: ":{"en":"file no longer exists: "},"fp_src 和 fp_dst 必须同为文件路径或文件夹路径":{"en":"fp_src and fp_dst must be the same as file paths or folder paths"},"fp_src 和 fp_dst 必须为完整路径":{"en":"fp_src and fp_dst must be complete paths"},"复制":{"en":"copy"},"src 和 dst 必须同为文件路径或文件夹路径":{"en":"src and dst must be the same as file paths or folder paths"},"src 和 dst 必须为完整路径":{"en":"src and dst must be complete paths"},"移动":{"en":"move"},"fp 和 fp_ 必须是绝对路径":{"en":"fp and fp_ must be absolute paths"},"重命名":{"en":"rename"},"文件已存在：":{"en":"file already exists: "},"fpd 必须是绝对路径: ":{"en":"fpd must be absolute path"},"fpd 必须以 / 结尾: ":{"en":"fpd must end with /"},"fp_real 和 fp_link 必须同为文件路径或文件夹路径":{"en":"fp_real and fp_link must be the same as file paths or folder paths"},"存在同名":{"en":"exists the same name "},"文件夹":{"en":"folder"},"文件":{"en":"file"},"，无法创建链接":{"en":", unable to create link"},"已将源文件 ":{"en":"linked src file"}," 链接到 ":{"en":" to "},"fp 必须是完整路径":{"en":"fp must be complete path"},"文件修改 (":{"en":"file changed ("},"remote.send(): websocket client 已断开":{"en":"remote.send(): websocket client disconnected"},"找不到 rpc handler":{"en":"cannot find rpc handler"},"凌晨":{"en":"early morning"},"清晨":{"en":"early morning"},"早上":{"en":"morning"},"上午":{"en":"morning"},"中午":{"en":"noon"},"下午":{"en":"afternoon"},"晚上":{"en":"night"},"深夜":{"en":"late at night"},"断言失败":{"en":"assertion failed"}," 太短":{"en":" is too short"},"xshell 正在启动":{"en":"xshell is booting"},"repl 已启动":{"en":"repl has started"},"server 正在启动":{"en":"server is starting"},"server 已启动":{"en":"server has started"},"xshell 启动完成":{"en":"xshell booted"},"xshell 正在监听: ":{"en":"xshell is listening at: "},"已加载":{"en":"loaded"},"所有模块全部加载":{"en":"all modules were loaded"},"状态码 {{status}}, 非 2xx: {{url}}":{"en":"status code {{code}} is not 2xx: {{url}}"},"请求参数:":{"en":"request.params:"},"请求体:":{"en":"request.body:"},"响应状态码:":{"en":"response.code:"},"响应错误:":{"en":"response.error:"},"响应头:":{"en":"response.headers:"},"响应体:":{"en":"response.body:"},"调用栈:":{"en":"call stack:"},"已存在":{"en":"exists"},"进程":{"en":"process"},"异常结束, 错误码:":{"en":"exited abnormally with error code:"},"信号:":{"en":"signal"},"正常结束":{"en":"exited normally"},"xshell 开始启动":{"en":"xshell is booting"},"nodejs.repl 启动成功":{"en":"nodejs.repl started successfully"},"server 启动成功":{"en":"server started successfully"},"xshell 启动成功":{"en":"xshell started successfully"},"xshell 正在退出":{"en":"xshell is exiting"},"所有模块加载成功":{"en":"all modules were loaded successfully"}," 已连接":{"en":" connected"}," 已正常关闭":{"en":" closed normally"},"被关闭":{"en":"was closed"},"原因":{"en":"reason"},"已创建文件夹":{"en":"created folder"},"已存在文件夹":{"en":"folder already exists:"}," 太短，防止误删文件":{"en":" is too short (prevent accidental deletion of files)"},"异常结束":{"en":"exited abnormally"},"结束":{"en":"exited"},"不能太短，防止误删文件":{"en":"can not be too short to prevent accidental deletion of files"},"连接出错了":{"en":"connection errored"},"超过等待时间:":{"en":"response.timeout exceeded:"},"等待 {{duration}} 秒后重试 fetch ({{_count}}) …":{"en":"Wait {{duration}} seconds to retry fetching ({{_count}}) …"},"状态码 {{status}} 非 2xx":{"en":"Status code {{status}} is not 2xx"},"传入 request 的 headers 参数中 key 应该都是小写的，实际为 {{key}}":{"en":"The key in the headers parameter of the incoming request should be all lowercase, and it is actually {{key}}"},"dir 必须以 / 结尾":{"en":"dir must end with /"},"fp 必须是文件，不能以 / 结尾":{"en":"fp must be a file and cannot end with /"},"fp 必须是绝对路径:":{"en":"fp must be an absolute path:"},"fp 必须是绝对路径，当前为:":{"en":"fp must be an absolute path, currently:"},"已正常关闭":{"en":"closed normally"},"websocket close 事件时应该已经 settled":{"en":"Promise should have been settled in websocket close event"},"连接被关闭":{"en":"connection closed"},"状态码 {{status}}, 非 2xx":{"en":"Status code {{status}}, not 2xx"},"构建 Remote 时 url 和 websocket 最多只能传一个":{"en":"When building Remote, only one url and websocket can be passed at most"},"创建 Remote 时传入的 websocket 连接已断开":{"en":"The incoming websocket connection was broken while creating the Remote"},"传入的 websocket 连接已断开":{"en":"The incoming websocket connection was disconnected"},"尝试释放未锁定的锁，这不应该发生":{"en":"Attempt to release an unlocked lock, this should not happen"},"超时错误":{"en":"timeout error"},"xshell 启动成功，用时 {{duration}}，正在监听: http://localhost:8421\\n":{"en":"xshell started successfully, took {{duration}}, is listening: http://localhost:8421\\n"},"xshell 启动成功，用时 ":{"en":"xshell started successfully, it took "},"正在监听: http://localhost:8421\\n":{"en":"listening: http://localhost:8421\\n"},"flist: 参数 fpd: \'{{fpd}}\' 必须是绝对路径":{"en":"flist: parameter fpd: \'{{fpd}}\' must be an absolute path"},"flist: 参数 fpd: \'{{fpd}}\' 必须以 / 结尾":{"en":"flist: argument fpd: \'{{fpd}}\' must end with /"},"fstat: 参数 fp: \'{{fp}}\' 必须是绝对路径":{"en":"fstat: parameter fp: \'{{fp}}\' must be an absolute path"},"不存在且无法创建文件夹 {{fpd}}":{"en":"Folder {{fpd}} does not exist and cannot be created"},"message.data 必须是数组":{"en":"message.data must be an array"},"fsend 必须传 absolute 选项或 root 文件夹":{"en":"fsend must pass absolute option or root folder"},"message.data 数组中不能有 undefined 的项, 因为 json 序列化后会变为 null":{"en":"There cannot be undefined items in the message.data array, because json will become null after serialization"},"xshell 启动成功，正在监听: http://localhost:8421":{"en":"xshell started successfully and is listening: http://localhost:8421"},"flstat: 参数 fp: \'{{fp}}\' 必须是绝对路径":{"en":"flstat: parameter fp: \'{{fp}}\' must be an absolute path"},"filter 选项只适用于 fp_src 为文件夹":{"en":"filter option only applies to fp_src for folders"},"已订阅 stdio":{"en":"subscribed to stdio"},"由于 websocket 连接关闭，stdio 订阅被关闭":{"en":"stdio subscription was closed due to websocket connection closed"},"已取消订阅 stdio":{"en":"stdio unsubscribed"},"{{name}} 启动成功，正在监听 {{ports}} 端口":{"en":"{{name}} started successfully and is listening on {{ports}} port"},"删除了文件夹":{"en":"deleted folder"},"删除了文件":{"en":"deleted file"},"已不存在文件":{"en":"file no longer exists:"},"已不存在文件夹":{"en":"folder no longer exists:"},"不支持 content-encoding: {{encoding}} 的 http 请求":{"en":"http requests with content-encoding: {{encoding}} are not supported"},"等待 {{duration}} 秒后重试 request (已尝试 {{_count}} 次) …":{"en":"Wait {{duration}} seconds before retrying request (tried {{_count}} times) …"}}');

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		id: moduleId,
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/******/ // expose the modules object (__webpack_modules__)
/******/ __webpack_require__.m = __webpack_modules__;
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/create fake namespace object */
/******/ (() => {
/******/ 	var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 	var leafPrototypes;
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 16: return value when it's Promise-like
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = this(value);
/******/ 		if(mode & 8) return value;
/******/ 		if(typeof value === 'object' && value) {
/******/ 			if((mode & 4) && value.__esModule) return value;
/******/ 			if((mode & 16) && typeof value.then === 'function') return value;
/******/ 		}
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		var def = {};
/******/ 		leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 		for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 			Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 		}
/******/ 		def['default'] = () => (value);
/******/ 		__webpack_require__.d(ns, def);
/******/ 		return ns;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/global */
/******/ (() => {
/******/ 	__webpack_require__.g = (function() {
/******/ 		if (typeof globalThis === 'object') return globalThis;
/******/ 		try {
/******/ 			return this || new Function('return this')();
/******/ 		} catch (e) {
/******/ 			if (typeof window === 'object') return window;
/******/ 		}
/******/ 	})();
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/load script */
/******/ (() => {
/******/ 	var inProgress = {};
/******/ 	var dataWebpackPrefix = "dolphindb-web:";
/******/ 	// loadScript function to load a script via script tag
/******/ 	__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 		if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 		var script, needAttach;
/******/ 		if(key !== undefined) {
/******/ 			var scripts = document.getElementsByTagName("script");
/******/ 			for(var i = 0; i < scripts.length; i++) {
/******/ 				var s = scripts[i];
/******/ 				if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 			}
/******/ 		}
/******/ 		if(!script) {
/******/ 			needAttach = true;
/******/ 			script = document.createElement('script');
/******/ 			script.type = "module";
/******/ 			script.charset = 'utf-8';
/******/ 			script.timeout = 120;
/******/ 			if (__webpack_require__.nc) {
/******/ 				script.setAttribute("nonce", __webpack_require__.nc);
/******/ 			}
/******/ 			script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 	
/******/ 			script.src = url;
/******/ 		}
/******/ 		inProgress[url] = [done];
/******/ 		var onScriptComplete = (prev, event) => {
/******/ 			// avoid mem leaks in IE.
/******/ 			script.onerror = script.onload = null;
/******/ 			clearTimeout(timeout);
/******/ 			var doneFns = inProgress[url];
/******/ 			delete inProgress[url];
/******/ 			script.parentNode && script.parentNode.removeChild(script);
/******/ 			doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 			if(prev) return prev(event);
/******/ 		}
/******/ 		var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 		script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 		script.onload = onScriptComplete.bind(null, script.onload);
/******/ 		needAttach && document.head.appendChild(script);
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/import chunk loading */
/******/ (() => {
/******/ 	__webpack_require__.b = new URL("./", import.meta.url);
/******/ 	
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// [resolve, Promise] = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		516: 0
/******/ 	};
/******/ 	
/******/ 	// no install chunk
/******/ 	
/******/ 	// no chunk on demand loading
/******/ 	
/******/ 	// no external install chunk
/******/ 	
/******/ 	// no on chunks loaded
/******/ })();
/******/ 
/******/ /* webpack/runtime/nonce */
/******/ (() => {
/******/ 	__webpack_require__.nc = undefined;
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*****************************************!*\
  !*** ./console/index.tsx + 311 modules ***!
  \*****************************************/

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(6070);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js
var injectStylesIntoStyleTag = __webpack_require__(3316);
var injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js
var styleDomAPI = __webpack_require__(525);
var styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js
var insertBySelector = __webpack_require__(3231);
var insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js
var setAttributesWithoutAttributes = __webpack_require__(5260);
var setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js
var insertStyleElement = __webpack_require__(584);
var insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js
var styleTagTransform = __webpack_require__(117);
var styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);
// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/scroll-bar.sass
var scroll_bar = __webpack_require__(386);
;// CONCATENATED MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/scroll-bar.sass

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (styleTagTransform_default());
options.setAttributes = (setAttributesWithoutAttributes_default());
options.insert = insertBySelector_default().bind(null, "head");
options.domAPI = (styleDomAPI_default());
options.insertStyleElement = (insertStyleElement_default());

var update = injectStylesIntoStyleTag_default()(scroll_bar/* default */.A, options);




       /* harmony default export */ const xshell_scroll_bar = (scroll_bar/* default */.A && scroll_bar/* default */.A.locals ? scroll_bar/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/formily-patch.scss
var formily_patch = __webpack_require__(8430);
;// CONCATENATED MODULE: ./console/formily-patch.scss

      
      
      
      
      
      
      
      
      

var formily_patch_options = {};

formily_patch_options.styleTagTransform = (styleTagTransform_default());
formily_patch_options.setAttributes = (setAttributesWithoutAttributes_default());
formily_patch_options.insert = insertBySelector_default().bind(null, "head");
formily_patch_options.domAPI = (styleDomAPI_default());
formily_patch_options.insertStyleElement = (insertStyleElement_default());

var formily_patch_update = injectStylesIntoStyleTag_default()(formily_patch/* default */.A, formily_patch_options);




       /* harmony default export */ const console_formily_patch = (formily_patch/* default */.A && formily_patch/* default */.A.locals ? formily_patch/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/index.sass
var cjs_ruleSet_1_rules_1_use_2_console = __webpack_require__(1149);
;// CONCATENATED MODULE: ./console/index.sass

      
      
      
      
      
      
      
      
      

var console_options = {};

console_options.styleTagTransform = (styleTagTransform_default());
console_options.setAttributes = (setAttributesWithoutAttributes_default());
console_options.insert = insertBySelector_default().bind(null, "head");
console_options.domAPI = (styleDomAPI_default());
console_options.insertStyleElement = (insertStyleElement_default());

var console_update = injectStylesIntoStyleTag_default()(cjs_ruleSet_1_rules_1_use_2_console/* default */.A, console_options);




       /* harmony default export */ const console_0 = (cjs_ruleSet_1_rules_1_use_2_console/* default */.A && cjs_ruleSet_1_rules_1_use_2_console/* default */.A.locals ? cjs_ruleSet_1_rules_1_use_2_console/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/pagination.sass
var pagination = __webpack_require__(4523);
;// CONCATENATED MODULE: ./console/pagination.sass

      
      
      
      
      
      
      
      
      

var pagination_options = {};

pagination_options.styleTagTransform = (styleTagTransform_default());
pagination_options.setAttributes = (setAttributesWithoutAttributes_default());
pagination_options.insert = insertBySelector_default().bind(null, "head");
pagination_options.domAPI = (styleDomAPI_default());
pagination_options.insertStyleElement = (insertStyleElement_default());

var pagination_update = injectStylesIntoStyleTag_default()(pagination/* default */.A, pagination_options);




       /* harmony default export */ const console_pagination = (pagination/* default */.A && pagination/* default */.A.locals ? pagination/* default */.A.locals : undefined);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(5156);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js
var client = __webpack_require__(9576);
;// CONCATENATED MODULE: ./node_modules/.pnpm/@ebay+nice-modal-react@1.2.13_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@ebay/nice-modal-react/lib/esm/index.js
/* *********************************************************
 * Copyright 2021 eBay Inc.

 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
*********************************************************** */
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
/* eslint-disable @typescript-eslint/no-explicit-any */
/**
 * @module NiceModal
 * */

var symModalId = Symbol('NiceModalId');
var initialState = {};
var NiceModalContext = external_React_default().createContext(initialState);
var NiceModalIdContext = external_React_default().createContext(null);
var MODAL_REGISTRY = {};
var ALREADY_MOUNTED = {};
var uidSeed = 0;
var dispatch = function () {
    throw new Error('No dispatch method detected, did you embed your app with NiceModal.Provider?');
};
var getUid = function () { return "_nice_modal_" + uidSeed++; };
// Modal reducer used in useReducer hook.
var reducer = function (state, action) {
    var _a, _b, _c;
    if (state === void 0) { state = initialState; }
    switch (action.type) {
        case 'nice-modal/show': {
            var _d = action.payload, modalId = _d.modalId, args = _d.args;
            return __assign(__assign({}, state), (_a = {}, _a[modalId] = __assign(__assign({}, state[modalId]), { id: modalId, args: args, 
                // If modal is not mounted, mount it first then make it visible.
                // There is logic inside HOC wrapper to make it visible after its first mount.
                // This mechanism ensures the entering transition.
                visible: !!ALREADY_MOUNTED[modalId], delayVisible: !ALREADY_MOUNTED[modalId] }), _a));
        }
        case 'nice-modal/hide': {
            var modalId = action.payload.modalId;
            if (!state[modalId])
                return state;
            return __assign(__assign({}, state), (_b = {}, _b[modalId] = __assign(__assign({}, state[modalId]), { visible: false }), _b));
        }
        case 'nice-modal/remove': {
            var modalId = action.payload.modalId;
            var newState = __assign({}, state);
            delete newState[modalId];
            return newState;
        }
        case 'nice-modal/set-flags': {
            var _e = action.payload, modalId = _e.modalId, flags = _e.flags;
            return __assign(__assign({}, state), (_c = {}, _c[modalId] = __assign(__assign({}, state[modalId]), flags), _c));
        }
        default:
            return state;
    }
};
// Get modal component by modal id
function getModal(modalId) {
    var _a;
    return (_a = MODAL_REGISTRY[modalId]) === null || _a === void 0 ? void 0 : _a.comp;
}
// action creator to show a modal
function showModal(modalId, args) {
    return {
        type: 'nice-modal/show',
        payload: {
            modalId: modalId,
            args: args,
        },
    };
}
// action creator to set flags of a modal
function setModalFlags(modalId, flags) {
    return {
        type: 'nice-modal/set-flags',
        payload: {
            modalId: modalId,
            flags: flags,
        },
    };
}
// action creator to hide a modal
function hideModal(modalId) {
    return {
        type: 'nice-modal/hide',
        payload: {
            modalId: modalId,
        },
    };
}
// action creator to remove a modal
function removeModal(modalId) {
    return {
        type: 'nice-modal/remove',
        payload: {
            modalId: modalId,
        },
    };
}
var modalCallbacks = {};
var hideModalCallbacks = {};
var getModalId = function (modal) {
    if (typeof modal === 'string')
        return modal;
    if (!modal[symModalId]) {
        modal[symModalId] = getUid();
    }
    return modal[symModalId];
};
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function show(modal, args) {
    var modalId = getModalId(modal);
    if (typeof modal !== 'string' && !MODAL_REGISTRY[modalId]) {
        register(modalId, modal);
    }
    dispatch(showModal(modalId, args));
    if (!modalCallbacks[modalId]) {
        // `!` tell ts that theResolve will be written before it is used
        var theResolve_1;
        // `!` tell ts that theResolve will be written before it is used
        var theReject_1;
        var promise = new Promise(function (resolve, reject) {
            theResolve_1 = resolve;
            theReject_1 = reject;
        });
        modalCallbacks[modalId] = {
            resolve: theResolve_1,
            reject: theReject_1,
            promise: promise,
        };
    }
    return modalCallbacks[modalId].promise;
}
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function hide(modal) {
    var modalId = getModalId(modal);
    dispatch(hideModal(modalId));
    // Should also delete the callback for modal.resolve #35
    delete modalCallbacks[modalId];
    if (!hideModalCallbacks[modalId]) {
        // `!` tell ts that theResolve will be written before it is used
        var theResolve_2;
        // `!` tell ts that theResolve will be written before it is used
        var theReject_2;
        var promise = new Promise(function (resolve, reject) {
            theResolve_2 = resolve;
            theReject_2 = reject;
        });
        hideModalCallbacks[modalId] = {
            resolve: theResolve_2,
            reject: theReject_2,
            promise: promise,
        };
    }
    return hideModalCallbacks[modalId].promise;
}
var remove = function (modal) {
    var modalId = getModalId(modal);
    dispatch(removeModal(modalId));
    delete modalCallbacks[modalId];
    delete hideModalCallbacks[modalId];
};
var setFlags = function (modalId, flags) {
    dispatch(setModalFlags(modalId, flags));
};
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function useModal(modal, args) {
    var modals = (0,external_React_.useContext)(NiceModalContext);
    var contextModalId = (0,external_React_.useContext)(NiceModalIdContext);
    var modalId = null;
    var isUseComponent = modal && typeof modal !== 'string';
    if (!modal) {
        modalId = contextModalId;
    }
    else {
        modalId = getModalId(modal);
    }
    // Only if contextModalId doesn't exist
    if (!modalId)
        throw new Error('No modal id found in NiceModal.useModal.');
    var mid = modalId;
    // If use a component directly, register it.
    (0,external_React_.useEffect)(function () {
        if (isUseComponent && !MODAL_REGISTRY[mid]) {
            register(mid, modal, args);
        }
    }, [isUseComponent, mid, modal, args]);
    var modalInfo = modals[mid];
    var showCallback = (0,external_React_.useCallback)(function (args) { return show(mid, args); }, [mid]);
    var hideCallback = (0,external_React_.useCallback)(function () { return hide(mid); }, [mid]);
    var removeCallback = (0,external_React_.useCallback)(function () { return remove(mid); }, [mid]);
    var resolveCallback = (0,external_React_.useCallback)(function (args) {
        var _a;
        (_a = modalCallbacks[mid]) === null || _a === void 0 ? void 0 : _a.resolve(args);
        delete modalCallbacks[mid];
    }, [mid]);
    var rejectCallback = (0,external_React_.useCallback)(function (args) {
        var _a;
        (_a = modalCallbacks[mid]) === null || _a === void 0 ? void 0 : _a.reject(args);
        delete modalCallbacks[mid];
    }, [mid]);
    var resolveHide = (0,external_React_.useCallback)(function (args) {
        var _a;
        (_a = hideModalCallbacks[mid]) === null || _a === void 0 ? void 0 : _a.resolve(args);
        delete hideModalCallbacks[mid];
    }, [mid]);
    return (0,external_React_.useMemo)(function () { return ({
        id: mid,
        args: modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.args,
        visible: !!(modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.visible),
        keepMounted: !!(modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.keepMounted),
        show: showCallback,
        hide: hideCallback,
        remove: removeCallback,
        resolve: resolveCallback,
        reject: rejectCallback,
        resolveHide: resolveHide,
    }); }, [
        mid,
        modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.args,
        modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.visible,
        modalInfo === null || modalInfo === void 0 ? void 0 : modalInfo.keepMounted,
        showCallback,
        hideCallback,
        removeCallback,
        resolveCallback,
        rejectCallback,
        resolveHide,
    ]);
}
var create = function (Comp) {
    return function (_a) {
        var _b;
        var defaultVisible = _a.defaultVisible, keepMounted = _a.keepMounted, id = _a.id, props = __rest(_a, ["defaultVisible", "keepMounted", "id"]);
        var _c = useModal(id), args = _c.args, show = _c.show;
        // If there's modal state, then should mount it.
        var modals = (0,external_React_.useContext)(NiceModalContext);
        var shouldMount = !!modals[id];
        (0,external_React_.useEffect)(function () {
            // If defaultVisible, show it after mounted.
            if (defaultVisible) {
                show();
            }
            ALREADY_MOUNTED[id] = true;
            return function () {
                delete ALREADY_MOUNTED[id];
            };
        }, [id, show, defaultVisible]);
        (0,external_React_.useEffect)(function () {
            if (keepMounted)
                setFlags(id, { keepMounted: true });
        }, [id, keepMounted]);
        var delayVisible = (_b = modals[id]) === null || _b === void 0 ? void 0 : _b.delayVisible;
        // If modal.show is called
        //  1. If modal was mounted, should make it visible directly
        //  2. If modal has not been mounted, should mount it first, then make it visible
        (0,external_React_.useEffect)(function () {
            if (delayVisible) {
                // delayVisible: false => true, it means the modal.show() is called, should show it.
                show(args);
            }
        }, [delayVisible, args, show]);
        if (!shouldMount)
            return null;
        return (external_React_default().createElement(NiceModalIdContext.Provider, { value: id },
            external_React_default().createElement(Comp, __assign({}, props, args))));
    };
};
// All registered modals will be rendered in modal placeholder
var register = function (id, comp, props) {
    if (!MODAL_REGISTRY[id]) {
        MODAL_REGISTRY[id] = { comp: comp, props: props };
    }
    else {
        MODAL_REGISTRY[id].props = props;
    }
};
/**
 * Unregister a modal.
 * @param id - The id of the modal.
 */
var unregister = function (id) {
    delete MODAL_REGISTRY[id];
};
// The placeholder component is used to auto render modals when call modal.show()
// When modal.show() is called, it means there've been modal info
var NiceModalPlaceholder = function () {
    var modals = (0,external_React_.useContext)(NiceModalContext);
    var visibleModalIds = Object.keys(modals).filter(function (id) { return !!modals[id]; });
    visibleModalIds.forEach(function (id) {
        if (!MODAL_REGISTRY[id] && !ALREADY_MOUNTED[id]) {
            console.warn("No modal found for id: " + id + ". Please check the id or if it is registered or declared via JSX.");
            return;
        }
    });
    var toRender = visibleModalIds
        .filter(function (id) { return MODAL_REGISTRY[id]; })
        .map(function (id) { return (__assign({ id: id }, MODAL_REGISTRY[id])); });
    return (external_React_default().createElement((external_React_default()).Fragment, null, toRender.map(function (t) { return (external_React_default().createElement(t.comp, __assign({ key: t.id, id: t.id }, t.props))); })));
};
var InnerContextProvider = function (_a) {
    var children = _a.children;
    var arr = (0,external_React_.useReducer)(reducer, initialState);
    var modals = arr[0];
    dispatch = arr[1];
    return (external_React_default().createElement(NiceModalContext.Provider, { value: modals },
        children,
        external_React_default().createElement(NiceModalPlaceholder, null)));
};
var Provider = function (_a) {
    var children = _a.children, givenDispatch = _a.dispatch, givenModals = _a.modals;
    if (!givenDispatch || !givenModals) {
        return external_React_default().createElement(InnerContextProvider, null, children);
    }
    dispatch = givenDispatch;
    return (external_React_default().createElement(NiceModalContext.Provider, { value: givenModals },
        children,
        external_React_default().createElement(NiceModalPlaceholder, null)));
};
/**
 * Declarative way to register a modal.
 * @param id - The id of the modal.
 * @param component - The modal Component.
 * @returns
 */
var ModalDef = function (_a) {
    var id = _a.id, component = _a.component;
    (0,external_React_.useEffect)(function () {
        register(id, component);
        return function () {
            unregister(id);
        };
    }, [id, component]);
    return null;
};
/**
 * A place holder allows to bind props to a modal.
 * It assigns show/hide methods to handler object to show/hide the modal.
 *
 * Comparing to use the <MyNiceModal id=../> directly, this approach allows use registered modal id to find the modal component.
 * Also it avoids to create unique id for MyNiceModal.
 *
 * @param modal - The modal id registered or a modal component.
 * @param handler - The handler object to control the modal.
 * @returns
 */
var ModalHolder = function (_a) {
    var _b;
    var modal = _a.modal, _c = _a.handler, handler = _c === void 0 ? {} : _c, restProps = __rest(_a, ["modal", "handler"]);
    var mid = (0,external_React_.useMemo)(function () { return getUid(); }, []);
    var ModalComp = typeof modal === 'string' ? (_b = MODAL_REGISTRY[modal]) === null || _b === void 0 ? void 0 : _b.comp : modal;
    if (!handler) {
        throw new Error('No handler found in NiceModal.ModalHolder.');
    }
    if (!ModalComp) {
        throw new Error("No modal found for id: " + modal + " in NiceModal.ModalHolder.");
    }
    handler.show = (0,external_React_.useCallback)(function (args) { return show(mid, args); }, [mid]);
    handler.hide = (0,external_React_.useCallback)(function () { return hide(mid); }, [mid]);
    return external_React_default().createElement(ModalComp, __assign({ id: mid }, restProps));
};
var antdModal = function (modal) {
    return {
        visible: modal.visible,
        onOk: function () { return modal.hide(); },
        onCancel: function () { return modal.hide(); },
        afterClose: function () {
            // Need to resolve before remove
            modal.resolveHide();
            if (!modal.keepMounted)
                modal.remove();
        },
    };
};
var antdModalV5 = function (modal) {
    var _a = antdModal(modal), onOk = _a.onOk, onCancel = _a.onCancel, afterClose = _a.afterClose;
    return {
        open: modal.visible,
        onOk: onOk,
        onCancel: onCancel,
        afterClose: afterClose,
    };
};
var antdDrawer = function (modal) {
    return {
        visible: modal.visible,
        onClose: function () { return modal.hide(); },
        afterVisibleChange: function (v) {
            if (!v) {
                modal.resolveHide();
            }
            !v && !modal.keepMounted && modal.remove();
        },
    };
};
var antdDrawerV5 = function (modal) {
    var _a = antdDrawer(modal), onClose = _a.onClose, afterOpenChange = _a.afterVisibleChange;
    return {
        open: modal.visible,
        onClose: onClose,
        afterOpenChange: afterOpenChange,
    };
};
var muiDialog = function (modal) {
    return {
        open: modal.visible,
        onClose: function () { return modal.hide(); },
        onExited: function () {
            modal.resolveHide();
            !modal.keepMounted && modal.remove();
        },
    };
};
var muiDialogV5 = function (modal) {
    return {
        open: modal.visible,
        onClose: function () { return modal.hide(); },
        TransitionProps: {
            onExited: function () {
                modal.resolveHide();
                !modal.keepMounted && modal.remove();
            },
        },
    };
};
var bootstrapDialog = function (modal) {
    return {
        show: modal.visible,
        onHide: function () { return modal.hide(); },
        onExited: function () {
            modal.resolveHide();
            !modal.keepMounted && modal.remove();
        },
    };
};
var NiceModal = {
    Provider: Provider,
    ModalDef: ModalDef,
    ModalHolder: ModalHolder,
    NiceModalContext: NiceModalContext,
    create: create,
    register: register,
    getModal: getModal,
    show: show,
    hide: hide,
    remove: remove,
    useModal: useModal,
    reducer: reducer,
    antdModal: antdModal,
    antdDrawer: antdDrawer,
    muiDialog: muiDialog,
    bootstrapDialog: bootstrapDialog,
};
/* harmony default export */ const esm = (NiceModal);
//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: external "antd"
const external_antd_namespaceObject = globalThis["antd"];
;// CONCATENATED MODULE: ./node_modules/.pnpm/rc-pagination@4.0.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/es/locale/zh_CN.js
var locale = {
  // Options
  items_per_page: '条/页',
  jump_to: '跳至',
  jump_to_confirm: '确定',
  page: '页',
  // Pagination
  prev_page: '上一页',
  next_page: '下一页',
  prev_5: '向前 5 页',
  next_5: '向后 5 页',
  prev_3: '向前 3 页',
  next_3: '向后 3 页',
  page_size: '页码'
};
/* harmony default export */ const zh_CN = (locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/rc-picker@4.5.0_dayjs@1.11.11_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/es/locale/zh_CN.js
var zh_CN_locale = {
  locale: 'zh_CN',
  yearFormat: 'YYYY年',
  cellDateFormat: 'D',
  cellMeridiemFormat: 'A',
  today: '今天',
  now: '此刻',
  backToToday: '返回今天',
  ok: '确定',
  timeSelect: '选择时间',
  dateSelect: '选择日期',
  weekSelect: '选择周',
  clear: '清除',
  month: '月',
  year: '年',
  previousMonth: '上个月 (翻页上键)',
  nextMonth: '下个月 (翻页下键)',
  monthSelect: '选择月份',
  yearSelect: '选择年份',
  decadeSelect: '选择年代',
  previousYear: '上一年 (Control键加左方向键)',
  nextYear: '下一年 (Control键加右方向键)',
  previousDecade: '上一年代',
  nextDecade: '下一年代',
  previousCentury: '上一世纪',
  nextCentury: '下一世纪'
};
/* harmony default export */ const locale_zh_CN = (zh_CN_locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/time-picker/locale/zh_CN.js
const locale_zh_CN_locale = {
  placeholder: '请选择时间',
  rangePlaceholder: ['开始时间', '结束时间']
};
/* harmony default export */ const time_picker_locale_zh_CN = (locale_zh_CN_locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/date-picker/locale/zh_CN.js


// 统一合并为完整的 Locale
const date_picker_locale_zh_CN_locale = {
  lang: Object.assign({
    placeholder: '请选择日期',
    yearPlaceholder: '请选择年份',
    quarterPlaceholder: '请选择季度',
    monthPlaceholder: '请选择月份',
    weekPlaceholder: '请选择周',
    rangePlaceholder: ['开始日期', '结束日期'],
    rangeYearPlaceholder: ['开始年份', '结束年份'],
    rangeMonthPlaceholder: ['开始月份', '结束月份'],
    rangeQuarterPlaceholder: ['开始季度', '结束季度'],
    rangeWeekPlaceholder: ['开始周', '结束周']
  }, locale_zh_CN),
  timePickerLocale: Object.assign({}, time_picker_locale_zh_CN)
};
// should add whitespace between char in Button
date_picker_locale_zh_CN_locale.lang.ok = '确定';
// All settings at:
// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json
/* harmony default export */ const date_picker_locale_zh_CN = (date_picker_locale_zh_CN_locale);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/calendar/locale/zh_CN.js

/* harmony default export */ const calendar_locale_zh_CN = (date_picker_locale_zh_CN);
;// CONCATENATED MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/es/locale/zh_CN.js
/* eslint-disable no-template-curly-in-string */




const typeTemplate = '${label}不是一个有效的${type}';
const localeValues = {
  locale: 'zh-cn',
  Pagination: zh_CN,
  DatePicker: date_picker_locale_zh_CN,
  TimePicker: time_picker_locale_zh_CN,
  Calendar: calendar_locale_zh_CN,
  // locales for all components
  global: {
    placeholder: '请选择'
  },
  Table: {
    filterTitle: '筛选',
    filterConfirm: '确定',
    filterReset: '重置',
    filterEmptyText: '无筛选项',
    filterCheckall: '全选',
    filterSearchPlaceholder: '在筛选项中搜索',
    emptyText: '暂无数据',
    selectAll: '全选当页',
    selectInvert: '反选当页',
    selectNone: '清空所有',
    selectionAll: '全选所有',
    sortTitle: '排序',
    expand: '展开行',
    collapse: '关闭行',
    triggerDesc: '点击降序',
    triggerAsc: '点击升序',
    cancelSort: '取消排序'
  },
  Modal: {
    okText: '确定',
    cancelText: '取消',
    justOkText: '知道了'
  },
  Tour: {
    Next: '下一步',
    Previous: '上一步',
    Finish: '结束导览'
  },
  Popconfirm: {
    cancelText: '取消',
    okText: '确定'
  },
  Transfer: {
    titles: ['', ''],
    searchPlaceholder: '请输入搜索内容',
    itemUnit: '项',
    itemsUnit: '项',
    remove: '删除',
    selectCurrent: '全选当页',
    removeCurrent: '删除当页',
    selectAll: '全选所有',
    deselectAll: '取消全选',
    removeAll: '删除全部',
    selectInvert: '反选当页'
  },
  Upload: {
    uploading: '文件上传中',
    removeFile: '删除文件',
    uploadError: '上传错误',
    previewFile: '预览文件',
    downloadFile: '下载文件'
  },
  Empty: {
    description: '暂无数据'
  },
  Icon: {
    icon: '图标'
  },
  Text: {
    edit: '编辑',
    copy: '复制',
    copied: '复制成功',
    expand: '展开',
    collapse: '收起'
  },
  Form: {
    optional: '（可选）',
    defaultValidateMessages: {
      default: '字段验证错误${label}',
      required: '请输入${label}',
      enum: '${label}必须是其中一个[${enum}]',
      whitespace: '${label}不能为空字符',
      date: {
        format: '${label}日期格式无效',
        parse: '${label}不能转换为日期',
        invalid: '${label}是一个无效日期'
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: '${label}须为${len}个字符',
        min: '${label}最少${min}个字符',
        max: '${label}最多${max}个字符',
        range: '${label}须在${min}-${max}字符之间'
      },
      number: {
        len: '${label}必须等于${len}',
        min: '${label}最小值为${min}',
        max: '${label}最大值为${max}',
        range: '${label}须在${min}-${max}之间'
      },
      array: {
        len: '须为${len}个${label}',
        min: '最少${min}个${label}',
        max: '最多${max}个${label}',
        range: '${label}数量须在${min}-${max}之间'
      },
      pattern: {
        mismatch: '${label}与模式不匹配${pattern}'
      }
    }
  },
  Image: {
    preview: '预览'
  },
  QRCode: {
    expired: '二维码过期',
    refresh: '点击刷新',
    scanned: '已扫描'
  },
  ColorPicker: {
    presetEmpty: '暂无'
  }
};
/* harmony default export */ const es_locale_zh_CN = (localeValues);
// EXTERNAL MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/en_US.js
var en_US = __webpack_require__(5685);
// EXTERNAL MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ja_JP.js
var ja_JP = __webpack_require__(2593);
// EXTERNAL MODULE: ./node_modules/.pnpm/antd@5.17.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/ko_KR.js
var ko_KR = __webpack_require__(651);
;// CONCATENATED MODULE: external ["./pre-bundle/antd-pro-components.js","ProComponents"]
var x = (y) => {
	var x = {}; __webpack_require__.d(x, y); return x
} 
var y = (x) => (() => (x))
const antd_pro_components_js_ProComponents_namespaceObject = x({ ["EditableProTable"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_antd_pro_components_js_a790971e__.ProComponents.EditableProTable), ["ProConfigProvider"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_antd_pro_components_js_a790971e__.ProComponents.ProConfigProvider) });
// EXTERNAL MODULE: external "dayjs"
var external_dayjs_ = __webpack_require__(4606);
var external_dayjs_default = /*#__PURE__*/__webpack_require__.n(external_dayjs_);
// EXTERNAL MODULE: ./i18n/index.ts
var i18n = __webpack_require__(6361);
// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.11/node_modules/dayjs/locale/zh-cn.js
var zh_cn = __webpack_require__(5093);
// EXTERNAL MODULE: ./console/model.ts
var model = __webpack_require__(1467);
;// CONCATENATED MODULE: external "icons"
const external_icons_namespaceObject = globalThis["icons"];
var external_icons_default = /*#__PURE__*/__webpack_require__.n(external_icons_namespaceObject);
// EXTERNAL MODULE: ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/browser.js
var browser = __webpack_require__(1980);
;// CONCATENATED MODULE: ./console/components/License.tsx





const licenseTypes = {
    [model/* LicenseTypes */.H5.Other]: (0,i18n.t)('其他方式'),
    [model/* LicenseTypes */.H5.MachineFingerprintBind]: (0,i18n.t)('机器指纹绑定'),
    [model/* LicenseTypes */.H5.OnlineVerify]: (0,i18n.t)('在线验证'),
    [model/* LicenseTypes */.H5.LicenseServerVerify]: 'LicenseServer',
};
const authorizations = {
    trial: (0,i18n.t)('试用版'),
    community: (0,i18n.t)('社区版'),
    commercial: (0,i18n.t)('商业版'),
    test: (0,i18n.t)('测试版'),
};
function License() {
    const { version, license, license_server } = model/* model */.ge.use(['version', 'license', 'license_server']);
    if (!license)
        return;
    const auth = authorizations[license.authorization] || license.authorization;
    const license_type = licenseTypes[license.licenseType] || license.licenseType;
    const is_license_server_node = license_server?.is_license_server_node;
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popover, { placement: 'bottomRight', zIndex: 1060, trigger: 'hover', content: (0,jsx_runtime.jsx)("div", { className: 'license-card head-bar-info', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Card, { size: 'small', bordered: false, title: `${auth} v${version}`, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions, { bordered: true, size: 'small', column: 2, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('授权类型'), children: auth }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('授权客户'), children: license.clientName }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('许可类型'), children: license_type }), license.licenseType === model/* LicenseTypes */.H5.LicenseServerVerify && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('是否为 LicenseServer'), children: is_license_server_node ? (0,i18n.t)('是') : (0,i18n.t)('否') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('过期时间'), children: (0,browser/* date2str */.Ww)(license.expiration) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('绑定 CPU'), children: String(license.bindCPU) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('license 版本'), children: license.version }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('模块数量'), children: license.modules === -1n ? '∞' : String(license.modules) }), is_license_server_node ?
                            (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('所有节点可用内存之和'), children: license_server.resource?.maxMemory }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('所有节点可用核数之和'), children: license_server.resource?.maxCores })] })
                            :
                                (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('每节点最大可用内存'), children: license.maxMemoryPerNode }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('每节点最大可用核数'), children: license.maxCoresPerNode })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('最大节点数'), children: license.maxNodes }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('web 版本'), children: 'v3.00.0.2 (2024.05.24 11:13:31 bd24fa)' })] }) }) }), children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Tag, { className: 'license', color: '#f2f2f2', children: [auth, " v", version] }) });
}

;// CONCATENATED MODULE: ./console/components/Status.tsx





const uppercase_node_types = {
    [model/* NodeType */.Z6.data]: (0,i18n.t)('数据节点', { context: 'node_type_title' }),
    [model/* NodeType */.Z6.controller]: (0,i18n.t)('控制节点', { context: 'node_type_title' }),
    [model/* NodeType */.Z6.single]: (0,i18n.t)('单机节点', { context: 'node_type_title' }),
    [model/* NodeType */.Z6.computing]: (0,i18n.t)('计算节点', { context: 'node_type_title' }),
};
const lowercase_node_types = {
    [model/* NodeType */.Z6.data]: (0,i18n.t)('数据节点', { context: 'node_type' }),
    [model/* NodeType */.Z6.controller]: (0,i18n.t)('控制节点', { context: 'node_type' }),
    [model/* NodeType */.Z6.single]: (0,i18n.t)('单机节点', { context: 'node_type' }),
    [model/* NodeType */.Z6.computing]: (0,i18n.t)('计算节点', { context: 'node_type' }),
};
function Status() {
    const { node_type, node_alias } = model/* model */.ge.use(['node_type', 'node_alias']);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popover, { placement: 'bottomRight', zIndex: 1060, trigger: 'hover', content: (0,jsx_runtime.jsx)("div", { className: 'head-bar-info', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Card, { size: 'small', title: uppercase_node_types[node_type] + (0,i18n.t)('状态', { context: 'node_type' }), bordered: false, extra: (0,jsx_runtime.jsx)("div", { className: 'refresh', onClick: () => { model/* model */.ge.get_cluster_perf(true); }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('刷新'), color: 'grey', children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SyncOutlined, { className: 'icon' }) }) }), children: (0,jsx_runtime.jsx)("div", { className: 'status-description', children: (0,jsx_runtime.jsx)(Performance, {}) }) }) }), children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Tag, { className: 'node-info', color: '#f2f2f2', onMouseOver: () => { model/* model */.ge.get_cluster_perf(true); }, children: [lowercase_node_types[node_type], " ", node_alias] }) });
}
function Performance() {
    const { node } = model/* model */.ge.use(['node']);
    if (!node)
        return null;
    return (0,jsx_runtime.jsxs)("div", { className: 'perf', children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions, { className: 'table', column: 2, bordered: true, size: 'small', title: (0,i18n.t)('内存', { context: 'perf' }), children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('内存已用'), children: Number(node.memoryUsed).to_fsize_str() }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('内存已分配'), children: Number(node.memoryAlloc).to_fsize_str() }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('节点内存空间上限'), children: [node.maxMemSize, " GB"] })] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions, { className: 'table', column: 2, bordered: true, size: 'small', title: 'CPU', children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('CPU 占用率'), children: [node.cpuUsage.toFixed(1), " %"] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('CPU 平均负载'), children: node.avgLoad.toFixed(1) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('worker 线程总数'), children: node.workerNum })] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions, { className: 'table', column: 2, bordered: true, size: 'small', title: (0,i18n.t)('磁盘'), children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('磁盘读速率'), children: [Number(node.diskReadRate).to_fsize_str(), "/s"] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('磁盘写速率'), children: [Number(node.diskWriteRate).to_fsize_str(), "/s"] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('前一分钟读磁盘量'), children: Number(node.lastMinuteReadVolume).to_fsize_str() }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('前一分钟写磁盘量'), children: Number(node.lastMinuteWriteVolume).to_fsize_str() }), (node.mode !== model/* NodeType */.Z6.controller && node.mode !== model/* NodeType */.Z6.computing) && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('磁盘剩余容量'), children: Number(node.diskFreeSpace).to_fsize_str() }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('磁盘总容量'), children: Number(node.diskCapacity).to_fsize_str() }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('磁盘可用空间占比'), children: [(node.diskFreeSpaceRatio * 100).toFixed(2), "%"] })] })] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions, { className: 'table', column: 2, bordered: true, size: 'small', title: (0,i18n.t)('网络', { context: 'perf' }), children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('当前连接'), children: node.connectionNum }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('最大连接'), children: node.maxConnections }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('网络接收速率'), children: [Number(node.networkRecvRate).to_fsize_str(), "/s"] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('网络发送速率'), children: [Number(node.networkSendRate).to_fsize_str(), "/s"] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('前一分钟接收字节数'), children: Number(node.lastMinuteNetworkRecv).to_fsize_str() }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('前一分钟发送字节数'), children: Number(node.lastMinuteNetworkSend).to_fsize_str() })] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions, { className: 'table', column: 2, bordered: true, size: 'small', title: (0,i18n.t)('任务与作业'), children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('排队作业'), children: node.queuedJobs }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('运行作业'), children: node.runningJobs }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('排队任务'), children: node.queuedTasks }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('运行任务'), children: node.runningTasks }), Number(node.lastMsgLatency) >= 0 ? (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('前一批消息延时'), children: [Number(node.lastMsgLatency).to_fsize_str(), " s"] }) : null, Number(node.cumMsgLatency) >= 0 ? (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('所有消息平均延时'), children: [Number(node.cumMsgLatency).to_fsize_str(), " s"] }) : null, (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions.Item, { label: (0,i18n.t)('作业负载'), children: node.jobLoad })] })] });
}

;// CONCATENATED MODULE: ./console/components/Settings.tsx






function Settings() {
    const [decimals, set_decimals] = (0,external_React_.useState)({ status: null, value: model/* model */.ge.options?.decimals ?? null });
    function confirm() {
        if (decimals.status === null) {
            model/* model */.ge.set({ options: { decimals: decimals.value } });
            model/* model */.ge.message.success((0,i18n.t)('设置成功，目前小数位数为：') + (decimals.value === null ? (0,i18n.t)('实际位数') : decimals.value));
        }
        else
            set_decimals({ status: null, value: model/* model */.ge.options?.decimals ? model/* model */.ge.options.decimals : null });
    }
    function validate(text) {
        text = text.trim();
        if (text.length === 0)
            return { value: null, status: null };
        if (!/^[0-9]*$/.test(text))
            return { value: null, status: 'error' };
        const num = Number(text);
        if (Number.isNaN(num))
            return { value: null, status: 'error' };
        if (num < 0 || num > 20)
            return { value: num, status: 'error' };
        return { value: num, status: null };
    }
    return (0,jsx_runtime.jsx)("div", { className: 'header-settings', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popover, { trigger: 'hover', placement: 'bottomRight', zIndex: 1060, content: (0,jsx_runtime.jsx)("div", { className: 'header-settings-content head-bar-info', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Card, { size: 'small', title: (0,i18n.t)('设置', { context: 'settings' }), bordered: false, children: (0,jsx_runtime.jsxs)("div", { className: 'decimals-toolbar', children: [(0,jsx_runtime.jsxs)("span", { className: 'decimals-toolbar-input', children: [(0,i18n.t)('设置小数位数: '), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('输入应为空或介于 0 ~ 20'), placement: 'topLeft', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 0, max: 20, onStep: value => {
                                                set_decimals(validate(value.toString()));
                                            }, onInput: (text) => {
                                                set_decimals(validate(text));
                                            }, value: decimals.value, size: 'small', status: decimals.status, onPressEnter: confirm, controls: { upIcon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CaretUpOutlined, {}), downIcon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CaretDownOutlined, {}) } }) })] }), (0,jsx_runtime.jsxs)("span", { className: 'decimals-toolbar-button-group', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { size: 'small', onClick: () => {
                                            model/* model */.ge.set({ options: { decimals: null } });
                                            set_decimals({ value: null, status: null });
                                            model/* model */.ge.message.success((0,i18n.t)('重置成功，目前小数位数为：实际位数'));
                                        }, children: (0,i18n.t)('重置') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: confirm, size: 'small', type: 'primary', children: (0,i18n.t)('确定') })] })] }) }) }), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SettingFilled, { className: 'header-settings-icon', style: { fontSize: '20px', color: '#707070' }, onMouseOver: () => {
                    set_decimals({ value: model/* model */.ge.options?.decimals ?? null, status: null });
                } }) }) });
}

;// CONCATENATED MODULE: ./console/components/CompileAndRefresh.tsx





function CompileAndRefresh() {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'refresh-button', size: 'small', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => { await model/* model */.ge.recompile_and_refresh(); }, children: (0,i18n.t)('编译并刷新 (r)') });
}

;// CONCATENATED MODULE: ./console/components/HostSelect.tsx


function HostSelect() {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { className: 'host-select', size: 'small', options: [
            {
                label: '测试数据节点',
                value: '192.168.0.200:20023'
            },
            {
                label: '测试控制节点',
                value: '192.168.0.200:20000'
            },
            {
                label: '单机',
                value: '183.134.101.134:8892'
            },
            {
                label: '数据面板.开发',
                value: '192.168.100.45:8666'
            },
            {
                label: '数据面板.演示',
                value: '183.134.101.138:8666'
            },
            {
                label: 'indi',
                value: '192.168.100.45:8633',
            },
            {
                label: '因子管理',
                value: '183.136.170.16:8820'
            },
            {
                label: '运维工具',
                value: '183.136.170.173:1001'
            },
            {
                label: '本地',
                value: '127.0.0.1:8848'
            }
        ], onSelect: (host) => {
            const [hostname, port] = host.split(':');
            let url = new URL(location.href);
            url.searchParams.set('hostname', hostname);
            url.searchParams.set('port', port);
            url.searchParams.delete('dashboard');
            location.href = url.toString();
        }, popupMatchSelectWidth: false, defaultValue: (() => {
            const { searchParams } = new URL(location.href);
            return `${searchParams.get('hostname')}:${searchParams.get('port')}`;
        })() });
}

;// CONCATENATED MODULE: ./console/components/icons/arrow.down.icon.svg
var _path;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgArrowdownicon = function SvgArrowdownicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "arrow_down_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), _path || (_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "m483.072 714.496 30.165 30.208 415.958-415.83a42.837 42.837 0 0 0 0-60.287 42.539 42.539 0 0 0-60.331-.043L513.323 623.957 158.08 268.544a42.496 42.496 0 0 0-60.288 0 42.837 42.837 0 0 0-.085 60.33l383.701 383.873 1.707 1.749z"
  })));
};
/* harmony default export */ const arrow_down_icon = (SvgArrowdownicon);
;// CONCATENATED MODULE: ./console/components/DdbHeader.tsx












function DdbHeader() {
    const { logined, username, node_alias } = model/* model */.ge.use(['logined', 'username', 'node_alias']);
    (0,external_React_.useEffect)(() => {
        if (!node_alias)
            return;
        document.title = `DolphinDB - ${node_alias}`;
    }, [node_alias]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("img", { className: 'logo', src: './ddb.svg' }), (model/* model */.ge.dev || model/* model */.ge.test) && (0,jsx_runtime.jsx)(HostSelect, {}), model/* model */.ge.dev && (0,jsx_runtime.jsx)(CompileAndRefresh, {}), (0,jsx_runtime.jsx)("div", { className: 'padding' }), (0,jsx_runtime.jsx)("div", { className: 'section', children: (0,jsx_runtime.jsx)(Status, {}) }), (0,jsx_runtime.jsx)("div", { className: 'section', children: (0,jsx_runtime.jsx)(License, {}) }), (0,jsx_runtime.jsx)(Settings, {}), (0,jsx_runtime.jsx)("div", { className: 'section', children: (0,jsx_runtime.jsx)("div", { className: 'user', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Dropdown, { menu: {
                            className: 'menu',
                            items: [
                                logined ?
                                    {
                                        key: 'logout',
                                        icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.LogoutOutlined, {}),
                                        label: (0,jsx_runtime.jsx)("a", { className: 'logout', onClick: () => { model/* model */.ge.logout(); }, children: (0,i18n.t)('注销') }),
                                    }
                                    :
                                        {
                                            key: 'login',
                                            icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.LoginOutlined, {}),
                                            label: (0,jsx_runtime.jsx)("a", { className: 'login', onClick: () => { model/* model */.ge.goto_login(); }, children: (0,i18n.t)('登录') }),
                                        }
                            ]
                        }, children: (0,jsx_runtime.jsxs)("a", { className: 'username', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Avatar, { className: 'avatar', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.UserOutlined, {}), size: 'small' }), username, (0,jsx_runtime.jsx)((external_icons_default()), { className: 'arrow-down', component: arrow_down_icon })] }) }) }) })] });
}

// EXTERNAL MODULE: external "_"
var external_ = __webpack_require__(2238);
;// CONCATENATED MODULE: ./console/overview/icons/overview.icon.svg
var overview_icon_path;
function overview_icon_extends() { overview_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return overview_icon_extends.apply(this, arguments); }

var SvgOverviewicon = function SvgOverviewicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", overview_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 22 22"
  }, props), overview_icon_path || (overview_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    fillRule: "evenodd",
    stroke: "currentColor",
    strokeLinejoin: "round",
    strokeWidth: 0.2,
    d: "M10.873 11.633 6.316 8.975V3.658L10.873 1l4.557 2.658v5.317l-4.557 2.658ZM7.33 8.342l3.544 2.025 3.545-2.025v-4.05l-3.545-2.026L7.33 4.29v4.05ZM16.443 21l-4.557-2.658v-5.317l4.557-2.658L21 13.025v5.317L16.443 21Zm-3.544-3.291 3.531 2.025 3.557-2.025v-4.05l-3.53-2.026-3.532 2.025v4.05h-.026ZM5.544 21 1 18.342v-5.317l4.544-2.658 4.57 2.658v5.317L5.544 21Zm-3.531-3.291 3.53 2.025 3.558-2.025v-4.05L5.57 11.632l-3.557 2.025v4.05Z"
  })));
};
/* harmony default export */ const overview_icon = (SvgOverviewicon);
;// CONCATENATED MODULE: ./console/config/icons/config.icon.svg
var config_icon_path, _path2;
function config_icon_extends() { config_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return config_icon_extends.apply(this, arguments); }

var SvgConfigicon = function SvgConfigicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", config_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "config_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), config_icon_path || (config_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M512 938.667a32.032 32.032 0 0 1-15.648-4.086l-352-197.333A32 32 0 0 1 128 709.333V314.667a32 32 0 0 1 16.352-27.915l352-197.333a32 32 0 0 1 31.296 0l352 197.333A32 32 0 0 1 896 314.667v394.666a32 32 0 0 1-16.352 27.915l-352 197.333A32 32 0 0 1 512 938.667zM192 690.58l320 179.392 320-179.392V333.408L512 154.016 192 333.408v357.173z"
  })), _path2 || (_path2 = /*#__PURE__*/external_React_.createElement("path", {
    d: "M512 682.667c-94.101 0-170.667-76.566-170.667-170.667S417.9 341.333 512 341.333 682.667 417.9 682.667 512 606.1 682.667 512 682.667zm0-277.334c-58.816 0-106.667 47.851-106.667 106.667S453.184 618.667 512 618.667 618.667 570.816 618.667 512 570.816 405.333 512 405.333z"
  })));
};
/* harmony default export */ const config_icon = (SvgConfigicon);
;// CONCATENATED MODULE: ./console/shell/index.icon.svg
var _defs, _g;
function index_icon_extends() { index_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return index_icon_extends.apply(this, arguments); }

var SvgIndexicon = function SvgIndexicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", index_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: "1em",
    height: "1em",
    viewBox: "0 0 22 19"
  }, props), _defs || (_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("path", {
    id: "index_icon_svg__a",
    d: "M0 0h21v18.824H0z"
  }))), _g || (_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/external_React_.createElement("g", {
    transform: "translate(.103)"
  }, /*#__PURE__*/external_React_.createElement("mask", {
    id: "index_icon_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/external_React_.createElement("use", {
    xlinkHref: "#index_icon_svg__a"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M11.895 16.287c-.88.622-1.91.934-2.965.92a5.612 5.612 0 0 1-.414-.02c-.054-.007-.11-.015-.167-.021-.107-.015-.216-.029-.32-.05a2.979 2.979 0 0 1-.191-.044c-.103-.024-.206-.049-.305-.08-.048-.013-.095-.032-.143-.048a5.322 5.322 0 0 1-.344-.126c-.026-.01-.05-.022-.074-.035a5.142 5.142 0 0 1-.386-.187l-.016-.008a5.078 5.078 0 0 1-1.151-.869l-.016-.018a4.332 4.332 0 0 1-.362-.413 5.096 5.096 0 0 1-1.108-3.177h1.332L3.13 8.889l-2.13 3.222H2.33a6.69 6.69 0 0 0 1.18 3.802l.026.047c.077.11.161.213.244.317.03.038.06.081.091.12a6.424 6.424 0 0 0 .42.464 6.632 6.632 0 0 0 2.025 1.39c.04.02.081.038.124.056.139.059.284.11.43.158.068.025.137.05.206.07.127.038.256.069.387.101.087.02.174.043.263.06.036.008.07.018.107.024.123.022.248.034.372.049l.133.018c.222.022.444.037.664.037a6.581 6.581 0 0 0 3.809-1.217.81.81 0 0 0 .196-1.12.79.79 0 0 0-1.113-.2Zm7.772-9.579a6.696 6.696 0 0 0-1.173-3.793c-.01-.018-.018-.037-.03-.055-.093-.132-.192-.254-.291-.378-.012-.015-.022-.031-.034-.045A6.6 6.6 0 0 0 15.104.346c-.057-.019-.114-.039-.172-.057a5.77 5.77 0 0 0-.418-.11c-.079-.018-.156-.039-.234-.053-.039-.008-.075-.018-.115-.026-.105-.019-.21-.027-.317-.041-.073-.008-.144-.02-.219-.029A6.602 6.602 0 0 0 13.1.004c-.032 0-.062-.004-.095-.004l-.016.002a6.587 6.587 0 0 0-3.802 1.21.807.807 0 0 0-.196 1.121.794.794 0 0 0 1.113.197 4.995 4.995 0 0 1 3.384-.897c.045.004.09.013.135.019.12.014.24.032.358.055.052.01.103.024.153.036.115.027.23.055.344.088l.107.036c.129.043.254.088.38.14a5.092 5.092 0 0 1 1.947 1.458c.003.005.005.01.009.013a5.103 5.103 0 0 1 1.149 3.23h-1.333l2.133 3.22L21 6.708h-1.333Z",
    mask: "url(#index_icon_svg__b)"
  }), /*#__PURE__*/external_React_.createElement("path", {
    stroke: "currentColor",
    d: "M6.527 7.762H1.871a.877.877 0 0 1-.873-.879v-4.69c0-.484.392-.879.873-.879h4.656c.481 0 .873.395.873.879v4.69a.878.878 0 0 1-.873.88Z",
    mask: "url(#index_icon_svg__b)"
  })), /*#__PURE__*/external_React_.createElement("path", {
    stroke: "currentColor",
    d: "M20.301 17.647h-4.28a.803.803 0 0 1-.8-.802v-4.279c0-.441.36-.801.8-.801h4.28c.442 0 .802.36.802.801v4.28a.802.802 0 0 1-.802.801Z"
  }))));
};
/* harmony default export */ const index_icon = (SvgIndexicon);
;// CONCATENATED MODULE: ./console/dashboard/icons/dashboard.icon.svg
var _style, dashboard_icon_defs, _defs2, dashboard_icon_path;
function dashboard_icon_extends() { dashboard_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return dashboard_icon_extends.apply(this, arguments); }

var SvgDashboardicon = function SvgDashboardicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", dashboard_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    xmlSpace: "preserve",
    id: "dashboard_icon_svg__\\u56FE\\u5C42_1",
    x: 0,
    y: 0,
    style: {
      enableBackground: "new 0 0 19 19"
    },
    viewBox: "0 0 19 19",
    width: "1em",
    height: "1em"
  }, props), _style || (_style = /*#__PURE__*/external_React_.createElement("style", null, ".dashboard_icon_svg__st4{fill:none;stroke:currentColor;stroke-width:1.5;stroke-linecap:round}")), dashboard_icon_defs || (dashboard_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("path", {
    id: "dashboard_icon_svg__SVGID_1_",
    d: "M0 0h19v19H0z"
  }))), /*#__PURE__*/external_React_.createElement("clipPath", {
    id: "dashboard_icon_svg__SVGID_00000052783436110482733530000008416262150932912823_"
  }, /*#__PURE__*/external_React_.createElement("use", {
    xlinkHref: "#dashboard_icon_svg__SVGID_1_",
    style: {
      overflow: "visible"
    }
  })), /*#__PURE__*/external_React_.createElement("g", {
    style: {
      clipPath: "url(#dashboard_icon_svg__SVGID_00000052783436110482733530000008416262150932912823_)"
    }
  }, _defs2 || (_defs2 = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("filter", {
    id: "dashboard_icon_svg__Adobe_OpacityMaskFilter",
    width: 19,
    height: 18.9,
    x: 0,
    y: 0,
    filterUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_React_.createElement("feColorMatrix", {
    values: "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"
  })))), /*#__PURE__*/external_React_.createElement("mask", {
    id: "dashboard_icon_svg__mask0_796_8983_00000070833450227544371340000002917513203865788552_",
    width: 19,
    height: 18.9,
    x: 0,
    y: 0,
    maskUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "M0 0h19v19H0V0z",
    style: {
      fillRule: "evenodd",
      clipRule: "evenodd",
      fill: "#fff",
      filter: "url(#dashboard_icon_svg__Adobe_OpacityMaskFilter)"
    }
  })), /*#__PURE__*/external_React_.createElement("g", {
    style: {
      mask: "url(#dashboard_icon_svg__mask0_796_8983_00000070833450227544371340000002917513203865788552_)"
    }
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "M5.5 15.6H.9c-.2 0-.4-.1-.6-.3-.2-.2-.3-.4-.3-.6V2.6c0-.5.4-.9.9-.9h7.8V.9C8.6.4 9 0 9.5 0s.9.4.9.9v.9h7.8c.5 0 .9.4.9.9v12.1c0 .2-.1.4-.3.6-.2.2-.4.3-.6.3h-4.6l1.1 2.2c.2.4 0 1-.4 1.1-.3.1-.7.1-.9-.4l-1.5-3H7.3l-1.5 3c-.2.4-.5.5-1 .4-.4-.2-.6-.7-.4-1.1l1.1-2.3zm1.4-1.3h10.8V3.1H1.3v11.2h5.6z",
    style: {
      fillRule: "evenodd",
      clipRule: "evenodd"
    }
  })), dashboard_icon_path || (dashboard_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M13.5 7.5v4M5.5 8.5v3M9.5 5.5v6",
    className: "dashboard_icon_svg__st4"
  }))));
};
/* harmony default export */ const dashboard_icon = (SvgDashboardicon);
;// CONCATENATED MODULE: ./console/job.icon.svg
var job_icon_path;
function job_icon_extends() { job_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return job_icon_extends.apply(this, arguments); }

var SvgJobicon = function SvgJobicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", job_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 20 20"
  }, props), job_icon_path || (job_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    fillRule: "evenodd",
    d: "M11.875 0c.795 0 1.504.5 1.769 1.25h2.606c.69 0 1.25.56 1.25 1.25v6.25h-1.25V2.5h-3.491l-.294-.834a.625.625 0 0 0-.477-.406l-.113-.01h-6.25a.625.625 0 0 0-.544.316l-.046.1-.294.834H1.25v16.25h7.5V20h-7.5C.56 20 0 19.44 0 18.75V2.5c0-.69.56-1.25 1.25-1.25h2.606C4.121.5 4.83 0 5.626 0h6.249Zm.625 15c.69 0 1.25.56 1.25 1.25v1.25c0 .69-.56 1.25-1.25 1.25h-1.25c-.69 0-1.25-.56-1.25-1.25v-1.25c0-.69.56-1.25 1.25-1.25h1.25Zm-1.25 2.5h1.25v-1.25h-1.25v1.25Zm8.125-1.25a.625.625 0 1 1 0 1.25h-3.75a.625.625 0 1 1 0-1.25h3.75ZM8.75 12.5v1.25H5a.625.625 0 0 1-.113-1.24L5 12.5h3.75ZM12.5 10c.69 0 1.25.56 1.25 1.25v1.25c0 .69-.56 1.25-1.25 1.25h-1.25c-.69 0-1.25-.56-1.25-1.25v-1.25c0-.69.56-1.25 1.25-1.25h1.25Zm-1.25 2.5h1.25v-1.25h-1.25v1.25Zm8.125-1.25a.625.625 0 0 1 0 1.25h-3.75a.625.625 0 1 1 0-1.25h3.75ZM12.5 6.875a.625.625 0 0 1 .113 1.24l-.113.01H5a.625.625 0 0 1-.113-1.24L5 6.875h7.5Z"
  })));
};
/* harmony default export */ const job_icon = (SvgJobicon);
;// CONCATENATED MODULE: ./console/log.icon.svg
var log_icon_g;
function log_icon_extends() { log_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return log_icon_extends.apply(this, arguments); }

var SvgLogicon = function SvgLogicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", log_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 18 20"
  }, props), log_icon_g || (log_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "currentColor",
    fillRule: "evenodd"
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "M14.68 4.62c0-.4-.33-.731-.733-.731H4.621a.734.734 0 0 0-.732.73c0 .402.328.732.732.732h9.326c.404 0 .732-.33.732-.731ZM4.62 8.258a.734.734 0 0 0-.731.731c0 .401.328.731.732.731h4.355a.73.73 0 1 0 0-1.462H4.621Zm10.49 7.487a.651.651 0 0 0-.157-.118c.412-.588.654-1.3.654-2.07 0-2.008-1.65-3.634-3.686-3.634-2.035 0-3.686 1.626-3.686 3.634s1.65 3.634 3.686 3.634c.746 0 1.44-.219 2.022-.594a.731.731 0 0 0 .132.182l1.899 1.896a.732.732 0 0 0 1.035-1.034l-1.9-1.896Zm-3.189.014c-1.233 0-2.234-.986-2.234-2.202s1.001-2.202 2.234-2.202 2.234.986 2.234 2.202-.998 2.202-2.234 2.202Z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M10.677 18.567H2.76a1.43 1.43 0 0 1-1.422-1.43V2.88c0-.786.64-1.429 1.422-1.429h12.16a1.43 1.43 0 0 1 1.421 1.43v7.108h.007v.002a.716.716 0 1 0 1.43 0c0-.027-.001-.051-.004-.078V2.858C17.773 1.286 17.16 0 15.596 0H2.844C1.28 0 0 1.286 0 2.858v14.284C0 18.714 1.28 20 2.844 20h7.824a.716.716 0 0 0 .01-1.433Z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M16.111 12.5a.833.833 0 1 0 1.667 0 .833.833 0 0 0-1.667 0Z"
  }))));
};
/* harmony default export */ const log_icon = (SvgLogicon);
;// CONCATENATED MODULE: ./console/factor.icon.svg
var factor_icon_g, factor_icon_defs;
function factor_icon_extends() { factor_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return factor_icon_extends.apply(this, arguments); }

var SvgFactoricon = function SvgFactoricon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", factor_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 25 25"
  }, props), factor_icon_g || (factor_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    clipPath: "url(#factor_icon_svg__a)"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M14.273 22.1c-3.974.733-8.132-1.04-10.272-4.709-1.712-2.934-1.712-6.48-.244-9.293a2.93 2.93 0 0 0 2.14-.245c1.345-.733 1.773-2.445.978-3.73-.734-1.344-2.446-1.772-3.73-.978-1.345.734-1.773 2.446-.978 3.73.061.061.061.122.122.183-1.834 3.424-1.956 7.704.123 11.312 2.506 4.402 7.459 6.48 12.167 5.625.55-.123.856-.612.733-1.162-.122-.55-.55-.795-1.039-.734ZM4.063 4.673c.427-.245.978-.122 1.222.306.245.428.123.978-.305 1.222-.428.245-.979.123-1.223-.305-.245-.428-.123-.978.305-1.223ZM22.71 18.003c1.834-3.424 1.956-7.704-.123-11.311a11.665 11.665 0 0 0-12.167-5.625c-.55.122-.856.611-.734 1.161a.952.952 0 0 0 1.04.673c3.974-.734 8.132 1.04 10.271 4.708 1.712 2.934 1.712 6.48.245 9.293a2.93 2.93 0 0 0-2.14.245c-1.345.734-1.773 2.445-.978 3.73.734 1.345 2.446 1.773 3.73.978 1.345-.734 1.773-2.446.978-3.73-.061 0-.061-.061-.122-.122Zm-1.774 2.323c-.428.245-.978.122-1.222-.306-.245-.428-.123-.978.305-1.222.428-.245.979-.123 1.223.305.245.428.122.979-.306 1.223Z"
  }), /*#__PURE__*/external_React_.createElement("g", {
    clipPath: "url(#factor_icon_svg__b)"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M18.708 14.927a1.371 1.371 0 0 0-.508-.79c.113-.452.17-.96.17-1.468 0-.62-.113-1.298-.339-1.919.113-.113.17-.282.226-.451.056-.34.056-.621-.113-.903-.17-.283-.452-.508-.734-.565a.783.783 0 0 0-.508 0c-.733-.846-1.75-1.524-2.822-1.806-.169-.734-.79-1.298-1.58-1.298s-1.41.564-1.58 1.298c-1.073.282-2.088.96-2.822 1.806H7.59c-.339.113-.564.282-.734.565-.17.282-.226.62-.17.959.057.17.114.339.227.451a5.495 5.495 0 0 0-.339 1.92c0 .507.056.959.17 1.467a1.913 1.913 0 0 0-.509.79c-.112.395-.056.846.17 1.241.338.509.903.79 1.467.79.282 0 .62-.112.508-.112.847.79 1.862 1.354 2.991 1.58.17.452.621.79 1.129.79s.96-.338 1.129-.79c1.129-.226 2.144-.79 2.991-1.58.17.056.339.113.508.113.17 0 .282 0 .451-.057.395-.113.79-.395 1.016-.733a2.03 2.03 0 0 0 .113-1.299ZM16.79 9.96c0-.113.113-.17.17-.226.056-.056.113-.056.169-.056h.113c.113 0 .17.113.226.169.056.113.056.17.056.282 0 .113-.113.17-.17.226a.368.368 0 0 1-.507-.113c-.113-.113-.113-.226-.057-.282ZM12.5 6.856c.282 0 .508.226.508.508a.506.506 0 0 1-.508.508.506.506 0 0 1-.508-.508c0-.282.226-.508.508-.508ZM7.533 9.847c.057-.113.17-.17.226-.17h.282c.113.057.17.114.17.226 0 .113 0 .226-.057.283-.056.225-.282.282-.451.169-.113-.056-.17-.113-.17-.226-.056-.113-.056-.226 0-.282Zm.847 5.644c-.056.113-.113.226-.226.282-.225.113-.564.056-.677-.17-.056-.112-.113-.225-.056-.394.056-.17.112-.226.225-.282.113-.057.226-.113.395-.057.113.057.226.113.283.226.056.17.056.282.056.395Zm4.12 2.935a.386.386 0 0 1-.395-.395c0-.226.17-.395.395-.395.226 0 .395.169.395.395 0 .225-.17.395-.395.395Zm3.217-3.895a1.59 1.59 0 0 0-.17 1.242c.057.17.114.282.17.395-.62.565-1.411.96-2.201 1.129-.226-.339-.62-.564-1.016-.564-.395 0-.79.225-1.016.564a4.572 4.572 0 0 1-2.201-1.129c.056-.113.17-.282.17-.395a1.622 1.622 0 0 0-.17-1.242c-.226-.395-.564-.62-1.016-.733-.17-.057-.282-.057-.451-.057-.057-.338-.113-.677-.113-1.072 0-.508.056-.96.226-1.468.395 0 .79-.225.959-.62.226-.226.226-.565.17-.847 0-.056-.057-.17-.057-.226.564-.62 1.298-1.072 2.088-1.354.282.508.79.846 1.411.846.62 0 1.129-.338 1.411-.846.79.226 1.524.734 2.088 1.354-.17.339-.17.79.057 1.13.225.338.564.563.96.62.168.452.225.96.225 1.467 0 .339-.057.678-.113 1.073-.17 0-.282 0-.452.056-.395.057-.733.339-.959.677Zm1.862 1.073c-.056.113-.169.226-.282.226-.113.056-.282 0-.395-.057-.113-.056-.226-.17-.226-.282-.056-.113 0-.282.057-.395.056-.113.17-.226.282-.226h.113c.113 0 .17 0 .226.057.113.056.226.169.226.282.056.169.056.282 0 .395Z"
  })))), factor_icon_defs || (factor_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("clipPath", {
    id: "factor_icon_svg__a"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "#fff",
    d: "M0 0h25v25H0z"
  })), /*#__PURE__*/external_React_.createElement("clipPath", {
    id: "factor_icon_svg__b"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "#fff",
    d: "M5.728 5.727h13.545v13.545H5.728z"
  })))));
};
/* harmony default export */ const factor_icon = (SvgFactoricon);
;// CONCATENATED MODULE: ./console/computing/icons/computing.icon.svg
var computing_icon_path;
function computing_icon_extends() { computing_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return computing_icon_extends.apply(this, arguments); }

var SvgComputingicon = function SvgComputingicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", computing_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 22 20"
  }, props), computing_icon_path || (computing_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M19.248 14.483a2.76 2.76 0 0 0-2.694 2.194l-6.845-.001c-.18-.12-.289-.94-.353-1.504h1.986a1.71 1.71 0 0 0 2.923-.295 1.727 1.727 0 0 0-1.01-2.375 1.716 1.716 0 0 0-1.785.442c-.226.235-.38.53-.445.85H9.17c-.25-1.362-.824-2.76-2.626-2.76H.688a.687.687 0 0 0-.688.69.69.69 0 0 0 .688.69h5.857c.695 0 1.013.426 1.219 1.38H.688a.687.687 0 0 0-.688.689.69.69 0 0 0 .688.69H7.97c.145 1.294.335 2.884 1.769 2.884h6.842c.017 0 .03-.009.047-.01A2.745 2.745 0 0 0 19.248 20c.73 0 1.43-.29 1.946-.808a2.762 2.762 0 0 0-1.946-4.71Zm0 4.138a1.374 1.374 0 0 1-1.272-.852 1.382 1.382 0 0 1 1.272-1.908 1.375 1.375 0 0 1 1.377 1.38 1.381 1.381 0 0 1-1.377 1.38ZM.688 9.655H11.69c.028 0 .053-.013.08-.016a2.754 2.754 0 0 0 2.66 2.085c.73 0 1.431-.29 1.947-.808a2.762 2.762 0 0 0 0-3.901 2.743 2.743 0 0 0-4.606 1.278c-.028-.004-.053-.017-.081-.017H.688a.687.687 0 0 0-.688.69.69.69 0 0 0 .688.69Zm13.743-2.069a1.374 1.374 0 0 1 1.272.852 1.382 1.382 0 0 1-1.273 1.907 1.375 1.375 0 0 1-1.376-1.38 1.381 1.381 0 0 1 1.377-1.379ZM.688 7.021h5.857c2.327 0 2.614-1.945 2.786-3.107.144-.98.232-1.155.408-1.155h6.42a1.71 1.71 0 0 0 2.922-.296 1.727 1.727 0 0 0-1.01-2.374 1.717 1.717 0 0 0-2.23 1.29H9.74c-1.425 0-1.632 1.404-1.77 2.333-.202 1.371-.387 1.93-1.424 1.93H.688a.687.687 0 0 0-.688.69.69.69 0 0 0 .688.69Z"
  })));
};
/* harmony default export */ const computing_icon = (SvgComputingicon);
;// CONCATENATED MODULE: ./console/access/icons/access.icon.svg
var access_icon_path;
function access_icon_extends() { access_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return access_icon_extends.apply(this, arguments); }

var SvgAccessicon = function SvgAccessicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", access_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "access_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), access_icon_path || (access_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M153.6 469.312v469.376h716.8V469.312H153.6zM64 384h896v640H64V384zm403.2 329.92c-26.752-14.72-44.8-42.304-44.8-73.92 0-47.104 40.128-85.312 89.6-85.312 49.472 0 89.6 38.208 89.6 85.312 0 31.616-18.048 59.136-44.8 73.92v115.968a44.8 44.8 0 0 1-89.6 0V713.92zM332.8 384h358.4V256c0-94.272-80.256-170.688-179.2-170.688-98.944 0-179.2 76.416-179.2 170.688v128zM512 0c148.48 0 268.8 114.56 268.8 256v128H243.2V256C243.2 114.56 363.52 0 512 0z"
  })));
};
/* harmony default export */ const access_icon = (SvgAccessicon);
;// CONCATENATED MODULE: ./console/access/icons/user.icon.svg
var user_icon_path;
function user_icon_extends() { user_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return user_icon_extends.apply(this, arguments); }

var SvgUsericon = function SvgUsericon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", user_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "user_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), user_icon_path || (user_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M858.5 763.6c-18.9-44.8-46.1-85-80.6-119.5-34.5-34.5-74.7-61.6-119.5-80.6-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6-34.5 34.5-61.6 74.7-80.6 119.5C146.9 807.5 137 854 136 901.8c-.1 4.5 3.5 8.2 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60c4.5 0 8.1-3.7 8-8.2-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"
  })));
};
/* harmony default export */ const user_icon = (SvgUsericon);
;// CONCATENATED MODULE: ./console/access/icons/group.icon.svg
var group_icon_path, group_icon_path2;
function group_icon_extends() { group_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return group_icon_extends.apply(this, arguments); }

var SvgGroupicon = function SvgGroupicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", group_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "group_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), group_icon_path || (group_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3E3A39",
    d: "M864 844.768a2.464 2.464 0 0 1-1.504.704L288 844.096V726.08c0-5.824 6.016-14.944 12.096-17.44C301.664 708 456.992 640 576 640c118.752 0 274.336 68 276.864 69.088 5.216 2.08 11.136 11.168 11.136 17.024v118.656zM480.48 440.8V336.064A112.064 112.064 0 0 1 592.256 224 112 112 0 0 1 704 336.064V440.8a112 112 0 0 1-111.744 112.064A112 112 0 0 1 480.48 440.8zm397.248 209.28c-4.992-2.176-92.64-40.384-191.008-61.056A176 176 0 0 0 768 440.8V336.064C768 238.976 689.152 160 592.256 160c-96.928 0-175.776 78.976-175.776 176.064V440.8c0 59.136 29.344 111.456 74.112 143.36-108.16 18.72-210.752 63.488-215.552 65.6-29.088 12-51.04 44.8-51.04 76.384v126.4h.544a65.536 65.536 0 0 0 64.96 56.96h572.992c28.672 0 54.304-18.752 63.808-46.72l1.696-4.96V726.08c0-31.808-22.016-64.672-50.272-76z"
  })), group_icon_path2 || (group_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3E3A39",
    d: "M360.384 573.44c1.024 0 1.952.288 2.976.288a32 32 0 1 0 0-64 68.736 68.736 0 0 1-68.64-68.768v-84.256c0-37.856 30.784-68.704 68.64-68.704a32 32 0 0 0 0-64 132.832 132.832 0 0 0-132.64 132.736v84.256c0 32.736 12.352 62.368 32.064 85.536-62.72 19.296-117.536 49.696-127.584 55.456C112.352 592.8 96 618.688 96 644.448v91.904a32 32 0 1 0 64 0v-91.744a11.424 11.424 0 0 1 2.336-4.672 28.992 28.992 0 0 0 3.584-1.824c30.432-17.728 123.84-63.712 189.76-63.712 1.632 0 3.104-.704 4.704-.96"
  })));
};
/* harmony default export */ const group_icon = (SvgGroupicon);
;// CONCATENATED MODULE: ./console/components/DdbSider.tsx


















const { Text, Link } = external_antd_namespaceObject.Typography;
const svgs = {
    overview: overview_icon,
    config: config_icon,
    shell: index_icon,
    dashboard: dashboard_icon,
    job: job_icon,
    log: log_icon,
    factor: factor_icon,
    computing: computing_icon,
    access: access_icon,
    user: user_icon,
    group: group_icon
};
function MenuIcon({ view }) {
    return (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-menu', component: svgs[view] });
}
function DdbSider() {
    const { view, node_type, collapsed, logined, admin, login_required, v1, dev, test, is_factor_platform_enabled } = model/* model */.ge.use(['view', 'node_type', 'collapsed', 'logined', 'admin', 'login_required', 'v1', 'dev', 'test', 'is_factor_platform_enabled', 'enabled_modules']);
    // debugger
    const factor_href = (0,external_React_.useMemo)(() => {
        const search_params = new URLSearchParams(location.search);
        return 'factor-platform/index.html?' +
            new URLSearchParams((0,external_.omitBy)({
                ddb_hostname: search_params.get('hostname'),
                ddb_port: search_params.get('port'),
                logined: Number(logined).toString(),
                token: localStorage.getItem(model/* storage_keys */.Xu.ticket)
            }, external_.isNil)).toString();
    }, [logined]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Layout.Sider, { width: 140, className: 'sider', theme: 'light', collapsible: true, collapsedWidth: 50, collapsed: collapsed, trigger: (0,jsx_runtime.jsxs)("div", { className: `collapse-trigger ${collapsed ? 'collapsed' : 'expand'}`, children: [collapsed ? (0,jsx_runtime.jsx)(external_icons_namespaceObject.DoubleRightOutlined, { className: 'collapse-icon' }) : (0,jsx_runtime.jsx)(external_icons_namespaceObject.DoubleLeftOutlined, { className: 'collapse-icon' }), !collapsed && (0,jsx_runtime.jsx)(Text, { className: 'text', ellipsis: true, children: (0,i18n.t)('收起侧栏') })] }), onCollapse: (collapsed, type) => {
            localStorage.setItem(model/* storage_keys */.Xu.collapsed, String(collapsed));
            model/* model */.ge.set({ collapsed });
        }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Menu, { className: `menu ${admin && (dev || test) ? 'module-settings' : ''}`, mode: 'inline', theme: 'light', selectedKeys: [view], onSelect: ({ key }) => {
                if (login_required && !logined) {
                    model/* model */.ge.message.error((0,i18n.t)('请登录'));
                    return;
                }
                if (key === 'factor')
                    return;
                model/* model */.ge.set_query('view', key);
                model/* model */.ge.set({ view: key });
            }, inlineIndent: 10, items: [
                ...dev || test ? [{
                        key: 'overview',
                        icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'overview' }),
                        label: node_type === model/* NodeType */.Z6.single ? (0,i18n.t)('单机总览') : (0,i18n.t)('集群总览'),
                    }] : [],
                ...!test && node_type === model/* NodeType */.Z6.controller ? [{
                        key: 'overview-old',
                        icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'overview' }),
                        label: (0,i18n.t)('集群总览'),
                    }] : [],
                ...admin && node_type === model/* NodeType */.Z6.controller ? [{
                        key: 'config',
                        icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'config' }),
                        label: (0,i18n.t)('配置管理')
                    }] : [],
                {
                    key: 'shell',
                    icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'shell' }),
                    label: (0,i18n.t)('交互编程'),
                },
                ...(i18n/* language */.BH === 'zh' && !v1) ? [{
                        key: 'dashboard',
                        icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'dashboard' }),
                        label: (0,i18n.t)('数据面板'),
                    }] : [],
                {
                    key: 'job',
                    icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'job' }),
                    label: (0,i18n.t)('作业管理'),
                },
                {
                    key: 'computing',
                    icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'computing' }),
                    label: (0,i18n.t)('流计算监控', { context: 'menu' }),
                },
                ...node_type !== model/* NodeType */.Z6.computing && admin ? [{
                        key: 'access',
                        icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'access' }),
                        label: (0,i18n.t)('权限管理'),
                        children: [
                            {
                                key: 'user',
                                icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'user' }),
                                label: (0,i18n.t)('用户管理'),
                            },
                            {
                                key: 'group',
                                icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'group' }),
                                label: (0,i18n.t)('组管理'),
                            },
                        ]
                    }] : [],
                {
                    key: 'log',
                    icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'log' }),
                    label: (0,i18n.t)('日志查看'),
                },
                ...is_factor_platform_enabled ? [{
                        key: 'factor',
                        icon: (0,jsx_runtime.jsx)(MenuIcon, { view: 'factor' }),
                        label: (0,jsx_runtime.jsx)(Link, { target: '_blank', href: factor_href, children: (0,i18n.t)('因子平台') })
                    }] : [],
                ...dev || test ? [
                    {
                        key: 'test',
                        icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ExperimentOutlined, { className: 'icon-menu' }),
                        label: '测试模块'
                    }
                ] : [],
                ...admin && (dev || test) ? [
                    {
                        key: 'settings',
                        icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SettingOutlined, { className: 'icon-menu' }),
                        label: '功能设置'
                    }
                ] : [],
            ].filter(item => model/* model */.ge.is_module_visible(item.key)) }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/components/GlobalErrorBoundary.sass
var GlobalErrorBoundary = __webpack_require__(9877);
;// CONCATENATED MODULE: ./console/components/GlobalErrorBoundary.sass

      
      
      
      
      
      
      
      
      

var GlobalErrorBoundary_options = {};

GlobalErrorBoundary_options.styleTagTransform = (styleTagTransform_default());
GlobalErrorBoundary_options.setAttributes = (setAttributesWithoutAttributes_default());
GlobalErrorBoundary_options.insert = insertBySelector_default().bind(null, "head");
GlobalErrorBoundary_options.domAPI = (styleDomAPI_default());
GlobalErrorBoundary_options.insertStyleElement = (insertStyleElement_default());

var GlobalErrorBoundary_update = injectStylesIntoStyleTag_default()(GlobalErrorBoundary/* default */.A, GlobalErrorBoundary_options);




       /* harmony default export */ const components_GlobalErrorBoundary = (GlobalErrorBoundary/* default */.A && GlobalErrorBoundary/* default */.A.locals ? GlobalErrorBoundary/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./console/dashboard/model.ts
var dashboard_model = __webpack_require__(3016);
;// CONCATENATED MODULE: ./console/components/GlobalErrorBoundary.tsx







class GlobalErrorBoundary_GlobalErrorBoundary extends external_React_.Component {
    state = { error: null };
    static getDerivedStateFromError(error) {
        return { error };
    }
    /** 挂载到全局的错误处理方法，在 onClick, useEffect 等回调中报错且未 catch 时弹框显示错误 */
    on_global_error = ({ error, reason }) => {
        error ??= reason;
        if (!error.shown) {
            error.shown = true;
            // 非 Error 类型的错误转换为 Error
            if (error instanceof Error) {
                // 忽略 monaco editor 的错误
                // https://github.com/microsoft/monaco-editor/issues/4325
                if (error.message.includes('getModifierState is not a function'))
                    return;
            }
            else {
                // 忽略 monaco editor 的错误
                // https://github.com/suren-atoyan/monaco-react/issues/57
                if (error.msg?.includes('operation is manually canceled') && error.type === 'cancelation')
                    return;
                error = new Error(JSON.stringify(error));
            }
            const in_dashboard = new URLSearchParams(location.search).get('dashboard');
            if (in_dashboard)
                dashboard_model/* dashboard */.ze.show_error({ error });
            else
                model/* model */.ge.show_error({ error });
        }
    };
    render() {
        const { error } = this.state;
        if (error) {
            const { title, body } = model/* model */.ge.format_error(error);
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { className: 'global-error-result', status: 'error', title: title, subTitle: body, extra: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: () => { this.clear_error(); }, children: (0,i18n.t)('关闭') }) });
        }
        else
            return this.props.children;
    }
    clear_error() {
        this.setState({ error: null });
    }
    componentDidMount() {
        window.addEventListener('error', this.on_global_error);
        window.addEventListener('unhandledrejection', this.on_global_error);
    }
    componentWillUnmount() {
        window.removeEventListener('error', this.on_global_error);
        window.removeEventListener('unhandledrejection', this.on_global_error);
    }
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/login.sass
var login = __webpack_require__(364);
;// CONCATENATED MODULE: ./console/login.sass

      
      
      
      
      
      
      
      
      

var login_options = {};

login_options.styleTagTransform = (styleTagTransform_default());
login_options.setAttributes = (setAttributesWithoutAttributes_default());
login_options.insert = insertBySelector_default().bind(null, "head");
login_options.domAPI = (styleDomAPI_default());
login_options.insertStyleElement = (insertStyleElement_default());

var login_update = injectStylesIntoStyleTag_default()(login/* default */.A, login_options);




       /* harmony default export */ const console_login = (login/* default */.A && login/* default */.A.locals ? login/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/login.tsx






function Login() {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("img", { className: 'logo', src: './ddb.svg' }), (0,jsx_runtime.jsx)("div", { className: 'form-container', children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { name: 'login-form', className: 'form', layout: 'vertical', initialValues: {
                        username: model/* model */.ge.dev ? 'admin' : '',
                        password: model/* model */.ge.dev ? '123456' : ''
                    }, onFinish: async (values) => {
                        try {
                            await model/* model */.ge.login_by_password(values.username, values.password);
                        }
                        catch (error) {
                            if (error.message.endsWith('The user name or password is incorrect.')) {
                                model/* model */.ge.message.error((0,i18n.t)('用户名或密码错误'));
                                return;
                            }
                            else
                                throw error;
                        }
                        model/* model */.ge.message.success((0,i18n.t)('登录成功'));
                        model/* model */.ge.goto_redirection();
                    }, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'username', rules: [{ required: true, message: (0,i18n.t)('请输入用户名') }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { prefix: (0,jsx_runtime.jsx)(external_icons_namespaceObject.UserOutlined, { className: 'site-form-item-icon' }), placeholder: (0,i18n.t)(' 用户名') }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'password', rules: [{ required: true, message: (0,i18n.t)('请输入密码') }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input.Password, { prefix: (0,jsx_runtime.jsx)(external_icons_namespaceObject.LockOutlined, { className: 'site-form-item-icon' }), placeholder: (0,i18n.t)(' 密码') }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', htmlType: 'submit', className: 'submit', children: (0,i18n.t)('登录') }) })] }) })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/overview/index.sass
var overview = __webpack_require__(9555);
;// CONCATENATED MODULE: ./console/overview/index.sass

      
      
      
      
      
      
      
      
      

var overview_options = {};

overview_options.styleTagTransform = (styleTagTransform_default());
overview_options.setAttributes = (setAttributesWithoutAttributes_default());
overview_options.insert = insertBySelector_default().bind(null, "head");
overview_options.domAPI = (styleDomAPI_default());
overview_options.insertStyleElement = (insertStyleElement_default());

var overview_update = injectStylesIntoStyleTag_default()(overview/* default */.A, overview_options);




       /* harmony default export */ const console_overview = (overview/* default */.A && overview/* default */.A.locals ? overview/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./node_modules/.pnpm/react-object-model@1.2.5_react@18.3.1/node_modules/react-object-model/hooks.js

function use_rerender() {
    const set_state = (0,external_React_.useState)({})[1];
    return function rerender() {
        set_state({});
    };
}
function use_modal() {
    const [visible, set_visible] = (0,external_React_.useState)(false);
    return {
        visible,
        open() {
            set_visible(true);
        },
        close() {
            set_visible(false);
        }
    };
}
//# sourceMappingURL=hooks.js.map
// EXTERNAL MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/utils.browser.js
var utils_browser = __webpack_require__(2345);
;// CONCATENATED MODULE: ./console/overview/icons/refresh.icon.svg
var refresh_icon_path;
function refresh_icon_extends() { refresh_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return refresh_icon_extends.apply(this, arguments); }

var SvgRefreshicon = function SvgRefreshicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", refresh_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 18 18"
  }, props), refresh_icon_path || (refresh_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    fillRule: "evenodd",
    d: "M17.324 10.335a.959.959 0 0 0-1.916-.068l-.012-.003A6.77 6.77 0 0 1 1.992 8.36 6.77 6.77 0 0 1 9.639 2.6a6.76 6.76 0 0 1 2.809 1.066l-1.193 1.866c-.058.09.022.204.127.182l4.48-.979a.122.122 0 0 0 .093-.142L14.969.095c-.021-.105-.16-.13-.216-.04l-1.267 1.984a8.696 8.696 0 0 0-13.4 6.053 8.695 8.695 0 0 0 7.403 9.822c4.749.668 9.143-2.635 9.82-7.381h-.004a1.02 1.02 0 0 0 .019-.198Z",
    clipRule: "evenodd"
  })));
};
/* harmony default export */ const refresh_icon = (SvgRefreshicon);
;// CONCATENATED MODULE: ./console/overview/icons/start.icon.svg
var start_icon_path;
function start_icon_extends() { start_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return start_icon_extends.apply(this, arguments); }

var SvgStarticon = function SvgStarticon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", start_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 11 15"
  }, props), start_icon_path || (start_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    fillRule: "evenodd",
    d: "M9.784 6.715a1 1 0 0 1 0 1.57L1.62 14.723a1 1 0 0 1-1.62-.785V1.062A1 1 0 0 1 1.62.277l8.165 6.438Z",
    clipRule: "evenodd"
  })));
};
/* harmony default export */ const start_icon = (SvgStarticon);
;// CONCATENATED MODULE: ./console/overview/icons/stop.icon.svg
var _rect;
function stop_icon_extends() { stop_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return stop_icon_extends.apply(this, arguments); }

var SvgStopicon = function SvgStopicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", stop_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 13 13"
  }, props), _rect || (_rect = /*#__PURE__*/external_React_.createElement("rect", {
    width: 13,
    height: 13,
    fill: "currentColor",
    rx: 1
  })));
};
/* harmony default export */ const stop_icon = (SvgStopicon);
;// CONCATENATED MODULE: ./console/overview/icons/expand.icon.svg
var expand_icon_path, expand_icon_path2;
function expand_icon_extends() { expand_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return expand_icon_extends.apply(this, arguments); }

var SvgExpandicon = function SvgExpandicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", expand_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 20 20"
  }, props), expand_icon_path || (expand_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#000",
    stroke: "#000",
    strokeWidth: 0.2,
    d: "M10.278 7.912V7.91c-.003-.336-.32-.577-.67-.577H2.19c-.352 0-.668.244-.668.578 0 .333.316.577.668.577H9.61c.351 0 .668-.244.668-.577Zm0 4.22v-.002c-.003-.332-.319-.576-.67-.576H2.19c-.352 0-.668.244-.668.577 0 .334.316.578.668.578H9.61c.351 0 .668-.244.668-.578Zm-.68 3.647h-7.4c-.354 0-.678.242-.678.577 0 .335.321.577.678.577h7.4c.357 0 .678-.242.678-.577 0-.335-.321-.577-.679-.577Z"
  })), expand_icon_path2 || (expand_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#000",
    stroke: "#000",
    strokeWidth: 0.2,
    d: "M10.279 3.684c-.004-.333-.32-.577-.671-.577H2.19c-.351 0-.668.244-.668.577 0 .334.317.578.668.578h7.42c.35 0 .668-.244.668-.578ZM2.2 16.931h15c.355 0 .679-.242.679-.577 0-.335-.321-.578-.679-.578h-15c-.354 0-.678.243-.678.578 0 .337.321.577.678.577ZM17.075 9.658h-1.73v-6.09c0-.351-.245-.668-.578-.668-.334 0-.575.318-.575.668v6.09h-1.73a1.1 1.1 0 0 0-.358.05c-.082.028-.155.073-.186.136a.198.198 0 0 0-.018.103c.003.034.011.07.025.109a.971.971 0 0 0 .163.274l2.002 2.505c.18.226.419.356.675.356.258 0 .495-.133.673-.356l2.006-2.507a.977.977 0 0 0 .16-.275.418.418 0 0 0 .025-.109.204.204 0 0 0-.015-.096.196.196 0 0 0-.07-.085.435.435 0 0 0-.111-.055 1.107 1.107 0 0 0-.358-.05Z"
  })));
};
/* harmony default export */ const expand_icon = (SvgExpandicon);
;// CONCATENATED MODULE: ./console/overview/icons/collapse.icon.svg
var collapse_icon_path, collapse_icon_path2;
function collapse_icon_extends() { collapse_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return collapse_icon_extends.apply(this, arguments); }

var SvgCollapseicon = function SvgCollapseicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", collapse_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 20 20"
  }, props), collapse_icon_path || (collapse_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#000",
    stroke: "#000",
    strokeWidth: 0.2,
    d: "M14.941 3.46c.179-.223.415-.355.674-.355.256 0 .495.13.674.355l2.002 2.505-3.35-2.505Zm0 0-2.005 2.508M14.94 3.46l-2.005 2.508m0 0a.977.977 0 0 0-.16.274.423.423 0 0 0-.025.11c-.002.028 0 .063.014.095a.197.197 0 0 0 .07.086c.031.021.069.04.112.055.087.03.205.05.357.05h.042m-.41-.67.41.67m0 0h1.69v6.09c0 .35.243.667.577.667.334 0 .574-.317.574-.668v-6.09h1.731c.152 0 .27-.02.358-.05.081-.028.154-.072.186-.136a.199.199 0 0 0 .017-.103.418.418 0 0 0-.024-.109.972.972 0 0 0-.163-.274l-4.946.673Zm-3.068 1.274V7.91c-.003-.336-.32-.577-.67-.577H2.19c-.352 0-.668.244-.668.578 0 .333.316.577.668.577H9.61c.351 0 .668-.244.668-.577Zm0 4.22v-.002c-.003-.332-.319-.576-.67-.576H2.19c-.352 0-.668.244-.668.577 0 .334.316.578.668.578H9.61c.351 0 .668-.244.668-.578Zm-.68 3.647h-7.4c-.354 0-.678.242-.678.577 0 .335.321.577.678.577h7.4c.357 0 .678-.242.678-.577 0-.335-.321-.577-.679-.577Z"
  })), collapse_icon_path2 || (collapse_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#000",
    stroke: "#000",
    strokeWidth: 0.2,
    d: "M10.279 3.684c-.004-.333-.32-.577-.671-.577H2.19c-.351 0-.668.244-.668.577 0 .334.317.578.668.578h7.42c.35 0 .668-.244.668-.578ZM2.2 16.931h15c.355 0 .679-.242.679-.577 0-.335-.321-.578-.679-.578h-15c-.354 0-.678.243-.678.578 0 .337.321.577.678.577Z"
  })));
};
/* harmony default export */ const collapse_icon = (SvgCollapseicon);
;// CONCATENATED MODULE: ./console/overview/icons/cpu.icon.svg
var cpu_icon_g, cpu_icon_defs;
function cpu_icon_extends() { cpu_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return cpu_icon_extends.apply(this, arguments); }

var SvgCpuicon = function SvgCpuicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", cpu_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 20 20"
  }, props), cpu_icon_g || (cpu_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "#6A7B97",
    clipPath: "url(#cpu_icon_svg__a)"
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "M12.74 13.667H7.26a.9.9 0 0 1-.918-.917V7.28a.9.9 0 0 1 .918-.916h5.479c.52 0 .918.397.918.917v5.47a.92.92 0 0 1-.918.916Zm-4.56-1.834h3.641V8.198H8.18v3.635Z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M16.901 17.823H3.098a.9.9 0 0 1-.918-.917V3.125c0-.52.397-.917.918-.917h13.803c.52 0 .919.398.919.917v13.78a.92.92 0 0 1-.919.918ZM4.017 15.989h11.966V4.042H4.017v11.947Z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M7.291 19.167a.888.888 0 0 1-.888-.886v-1.314a.887.887 0 1 1 1.775 0v1.314a.887.887 0 0 1-.887.886Zm5.448 0a.887.887 0 0 1-.888-.886v-1.314a.887.887 0 1 1 1.775 0v1.314a.887.887 0 0 1-.887.886ZM7.29 3.889a.888.888 0 0 1-.888-.886V1.718a.887.887 0 1 1 1.775 0v1.314c0 .459-.397.856-.887.856Zm5.448 0a.887.887 0 0 1-.888-.886V1.718a.887.887 0 1 1 1.775 0v1.314c0 .459-.397.856-.887.856Zm5.54 4.309h-1.317a.887.887 0 1 1 .001-1.773h1.316a.887.887 0 1 1 0 1.772Zm0 5.346h-1.317a.888.888 0 0 1-.887-.886c0-.489.398-.885.888-.885h1.316a.887.887 0 1 1 0 1.771ZM3.006 8.197H1.721a.888.888 0 0 1-.888-.886c0-.489.398-.886.888-.886h1.316c.49 0 .888.397.888.886s-.43.886-.919.886Zm0 5.347H1.721a.887.887 0 0 1-.888-.886c0-.489.398-.885.888-.885h1.316c.49 0 .888.396.888.885 0 .49-.43.886-.919.886Z"
  }))), cpu_icon_defs || (cpu_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("clipPath", {
    id: "cpu_icon_svg__a"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "#fff",
    d: "M0 0h20v20H0z"
  })))));
};
/* harmony default export */ const cpu_icon = (SvgCpuicon);
;// CONCATENATED MODULE: ./console/overview/icons/memory.icon.svg
var memory_icon_path, memory_icon_path2, _path3;
function memory_icon_extends() { memory_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return memory_icon_extends.apply(this, arguments); }

var SvgMemoryicon = function SvgMemoryicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", memory_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 20 20"
  }, props), memory_icon_path || (memory_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#6A7B97",
    d: "M11.58 13.053c.49 0 .736.246.736.737v2.947c0 .491-.245.737-.737.737-.49 0-.736-.246-.736-.737V13.79c0-.491.245-.737.737-.737ZM14.527 13.053c.491 0 .737.246.737.737v2.947c0 .491-.246.737-.737.737s-.737-.246-.737-.737V13.79c0-.491.246-.737.737-.737Z"
  })), memory_icon_path2 || (memory_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#6A7B97",
    d: "M17.474 7.527a1.102 1.102 0 0 0 .737 1.037v8.173a1.473 1.473 0 0 1-1.474 1.474H7.895v-3.684H6.42v3.684H3.474A1.474 1.474 0 0 1 2 16.737V8.564A1.1 1.1 0 0 0 2 6.49V3.474A1.474 1.474 0 0 1 3.474 2h13.263a1.474 1.474 0 0 1 1.474 1.474v3.015a1.102 1.102 0 0 0-.737 1.038Zm-.737 9.21V9.325a2.564 2.564 0 0 1 0-3.597V3.474H3.474v2.254a2.564 2.564 0 0 1 0 3.597v7.412h1.473v-2.21a1.473 1.473 0 0 1 1.474-1.474h1.474a1.474 1.474 0 0 1 1.474 1.474v2.21h7.368Z"
  })), _path3 || (_path3 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#6A7B97",
    d: "M13.053 10.842H7.158A1.474 1.474 0 0 1 5.685 9.37v-2.21a1.474 1.474 0 0 1 1.473-1.474h5.895a1.473 1.473 0 0 1 1.474 1.473v2.21a1.474 1.474 0 0 1-1.474 1.474Zm0-1.473v-2.21H7.158v2.21h5.895Z"
  })));
};
/* harmony default export */ const memory_icon = (SvgMemoryicon);
;// CONCATENATED MODULE: ./console/overview/icons/disk.icon.svg
var disk_icon_path;
function disk_icon_extends() { disk_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return disk_icon_extends.apply(this, arguments); }

var SvgDiskicon = function SvgDiskicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", disk_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 20 20"
  }, props), disk_icon_path || (disk_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#6A7B97",
    stroke: "#6A7B97",
    strokeMiterlimit: 10,
    strokeWidth: 0.2,
    d: "M18.953 14.995 16.402 4.21a1.504 1.504 0 0 0-.518-.857A1.553 1.553 0 0 0 14.936 3h-9.87a1.557 1.557 0 0 0-.951.353c-.268.22-.451.522-.52.857L1.045 14.995a1.68 1.68 0 0 0 .279 1.386c.137.191.318.347.529.455.21.107.445.164.682.164h14.927c.237-.002.47-.059.681-.166.21-.108.392-.264.529-.454a1.676 1.676 0 0 0 .28-1.387v.002ZM4.774 4.523a.3.3 0 0 1 .105-.17.31.31 0 0 1 .19-.069h9.867c.07.002.136.027.189.07.053.043.09.103.105.17l1.483 6.279h-3.68a.597.597 0 0 0-.496.274l-1.083 1.643h-3.23l-1.235-1.672a.587.587 0 0 0-.48-.247H3.292l1.483-6.278Zm12.944 11.072a.316.316 0 0 1-.26.128H2.535a.341.341 0 0 1-.233-.104.327.327 0 0 1-.09-.236.44.44 0 0 1 .01-.082l.762-3.227h3.233l1.235 1.672a.589.589 0 0 0 .479.245h3.843a.597.597 0 0 0 .498-.274l1.083-1.643h3.66l.756 3.23a.336.336 0 0 1-.054.291Z"
  })));
};
/* harmony default export */ const disk_icon = (SvgDiskicon);
;// CONCATENATED MODULE: ./console/overview/icons/network.icon.svg
var network_icon_g, network_icon_defs;
function network_icon_extends() { network_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return network_icon_extends.apply(this, arguments); }

var SvgNetworkicon = function SvgNetworkicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", network_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 20 20"
  }, props), network_icon_g || (network_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    clipPath: "url(#network_icon_svg__a)"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "#6A7B97",
    d: "M19.214 6.107A9.966 9.966 0 0 0 17.07 2.93 9.966 9.966 0 0 0 10 0a9.966 9.966 0 0 0-7.071 2.929A9.966 9.966 0 0 0 0 10a9.967 9.967 0 0 0 2.929 7.071A9.964 9.964 0 0 0 10 20a9.968 9.968 0 0 0 7.071-2.929A9.965 9.965 0 0 0 20 10c0-1.35-.265-2.66-.786-3.893Zm-8.473.758a46.1 46.1 0 0 0 3.326-.163c.235.796.385 1.651.448 2.557h-3.774V6.865Zm0-1.483V1.944c.408.282.911.69 1.414 1.254.542.609.997 1.3 1.36 2.06-.97.074-1.9.112-2.774.124Zm-1.482-3.35V5.38a47.175 47.175 0 0 1-2.652-.118 8.752 8.752 0 0 1 1.312-2.007c.47-.537.942-.937 1.34-1.225ZM6.734 6.756c.84.057 1.683.093 2.525.107v2.395H5.61c.063-.904.213-1.758.447-2.553.22.018.445.035.678.051ZM4.124 9.26h-2.61c.09-1.059.375-2.078.836-3.015a37.23 37.23 0 0 0 2.209.315c-.23.85-.375 1.752-.435 2.7Zm-.02 1.482c.046.906.225 1.81.535 2.703-1.02.116-1.8.24-2.283.324a8.448 8.448 0 0 1-.842-3.027h2.59Zm1.484 0h3.671v2.408a49.386 49.386 0 0 0-3.095.149 8.37 8.37 0 0 1-.576-2.557Zm3.671 3.891v3.049a14.38 14.38 0 0 1-1.297-1.383 12.34 12.34 0 0 1-1.097-1.566 47.216 47.216 0 0 1 2.394-.1Zm1.482 3.164V14.63c.796.011 1.638.044 2.516.104-.312.53-.678 1.054-1.095 1.563a14.414 14.414 0 0 1-1.421 1.498Zm1.216-4.617a47.9 47.9 0 0 0-1.216-.032v-2.406h3.795a8.375 8.375 0 0 1-.577 2.56 46.162 46.162 0 0 0-2.002-.122Zm4.063-2.438h2.466a8.448 8.448 0 0 1-.84 3.024 42.146 42.146 0 0 0-2.164-.311 9.717 9.717 0 0 0 .538-2.713ZM16 9.259a13.675 13.675 0 0 0-.437-2.71 42.18 42.18 0 0 0 2.088-.302c.46.936.745 1.954.835 3.012H16Zm.023-5.283c.284.284.547.587.789.907a41.03 41.03 0 0 1-1.74.23 10.31 10.31 0 0 0-1.936-3.038 8.5 8.5 0 0 1 2.887 1.901ZM7.057 2.002a10.31 10.31 0 0 0-2.01 3.12 40.08 40.08 0 0 1-1.856-.242c.24-.319.503-.62.786-.903a8.491 8.491 0 0 1 3.08-1.975Zm-3.08 14.021a8.656 8.656 0 0 1-.778-.892 40.359 40.359 0 0 1 2.052-.262c.422.823.956 1.628 1.594 2.403.263.32.539.628.827.926a8.47 8.47 0 0 1-3.695-2.175Zm8.524 2.124c.27-.282.53-.574.778-.875a13.452 13.452 0 0 0 1.59-2.395c.647.068 1.291.152 1.934.252-.24.315-.5.614-.78.894-1 1.001-2.206 1.722-3.522 2.124Z"
  }))), network_icon_defs || (network_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("clipPath", {
    id: "network_icon_svg__a"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "#fff",
    d: "M0 0h20v20H0z"
  })))));
};
/* harmony default export */ const network_icon = (SvgNetworkicon);
;// CONCATENATED MODULE: ./console/overview/icons/task.icon.svg
var task_icon_path, task_icon_path2;
function task_icon_extends() { task_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return task_icon_extends.apply(this, arguments); }

var SvgTaskicon = function SvgTaskicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", task_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 20 20"
  }, props), task_icon_path || (task_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#6A7B97",
    stroke: "#6A7B97",
    strokeWidth: 0.4,
    d: "M16.247 1.249H3.749a2.5 2.5 0 0 0-2.5 2.5v12.498a2.5 2.5 0 0 0 2.5 2.5h12.498a2.5 2.5 0 0 0 2.5-2.5V3.749a2.5 2.5 0 0 0-2.5-2.5Zm1.25 15a1.247 1.247 0 0 1-1.248 1.249H3.752c-.334 0-.65-.129-.886-.365a1.24 1.24 0 0 1-.368-.883V3.75a1.255 1.255 0 0 1 1.254-1.252h12.496a1.25 1.25 0 0 1 1.25 1.252v12.5Z"
  })), task_icon_path2 || (task_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#6A7B97",
    stroke: "#6A7B97",
    strokeWidth: 0.2,
    d: "M15.47 6.872h-5a.624.624 0 0 0 0 1.249h5a.624.624 0 0 0 0-1.249Zm0 5.002h-5a.624.624 0 0 0 0 1.25h5a.624.624 0 0 0 0-1.25Zm-8.75-1.562a2.187 2.187 0 1 0 0 4.375 2.187 2.187 0 0 0 0-4.374Zm.663 2.852a.938.938 0 1 1-1.326-1.328.938.938 0 0 1 1.326 1.328Zm.77-7.355L6.094 7.867l-.808-.808a.624.624 0 1 0-.883.883l1.25 1.25a.625.625 0 0 0 .883 0l2.5-2.5a.624.624 0 0 0-.883-.883Z"
  })));
};
/* harmony default export */ const task_icon = (SvgTaskicon);
;// CONCATENATED MODULE: ./console/overview/index.tsx




const { Header } = external_antd_namespaceObject.Layout;















function Overview() {
    const { nodes, node_type, logined } = model/* model */.ge.use(['nodes', 'node_type', 'logined']);
    (0,external_React_.useEffect)(() => {
        let flag = true;
        (async () => {
            while (true) {
                await (0,utils_browser/* delay */.cb)(10000);
                if (!flag)
                    break;
                await model/* model */.ge.get_cluster_perf(false);
            }
        })();
        return () => {
            flag = false;
        };
    });
    const [isStartLoading, setIsStartLoading] = (0,external_React_.useState)(false);
    const [isStopLoading, setIsStopLoading] = (0,external_React_.useState)(false);
    const [selectedNodeNames, setSelectedNodeNames] = (0,external_React_.useState)([]);
    const selecteNodeNamesSet = new Set(selectedNodeNames);
    const selectedNodes = nodes.filter(node => selecteNodeNamesSet.has(node.name));
    const [expandedNodes, setExpandedNodes] = (0,external_React_.useState)(nodes.filter(item => (item.name !== model/* model */.ge.node.name)));
    const iconClassname = i18n/* language */.BH === 'zh' ? 'icon-area' : 'icon-area-en';
    return (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Layout, { children: [node_type !== model/* NodeType */.Z6.single && (0,jsx_runtime.jsx)(Header, { className: 'header-bar', children: (0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsxs)("div", { className: 'operations', children: [(0,jsx_runtime.jsx)("div", { className: iconClassname, onClick: () => {
                                        model/* model */.ge.get_cluster_perf(true);
                                    }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'text', block: true, icon: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-refresh', component: refresh_icon }), children: (0,i18n.t)('刷新') }) }), (0,jsx_runtime.jsx)("div", { className: iconClassname, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: selectedNodes.length && !logined ? (0,i18n.t)('当前用户未登录，请登陆后再进行启停操作。') : '', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('确认启动以下节点'), disabled: !selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.offline).length || !logined, description: () => selectedNodes.map(node => node.state === model/* DdbNodeState */.kG.offline && ((0,jsx_runtime.jsx)("p", { className: 'model-node', children: node.name }, node.name))), onConfirm: async () => {
                                                setIsStartLoading(true);
                                                model/* model */.ge.start_nodes(selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.offline));
                                                await (0,utils_browser/* delay */.cb)(5000);
                                                setIsStartLoading(false);
                                                await model/* model */.ge.get_cluster_perf(false);
                                            }, okText: (0,i18n.t)('确认'), cancelText: (0,i18n.t)('取消'), okButtonProps: { disabled: selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.offline).length === 0, loading: isStartLoading }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'text', block: true, disabled: !selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.offline).length || !logined, icon: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-start' + (!selectedNodes.length || !logined ? ' grey-icon' : ' blue-icon'), component: start_icon }), children: (0,i18n.t)('启动') }) }) }) }), (0,jsx_runtime.jsx)("div", { className: iconClassname, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: selectedNodes.length && !logined ? (0,i18n.t)('当前用户未登录，请登陆后再进行启停操作。') : '', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('确认停止以下节点'), disabled: !selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.online).length || !logined, description: () => selectedNodes.map(node => node.state === model/* DdbNodeState */.kG.online && ((0,jsx_runtime.jsx)("p", { className: 'model-node', children: node.name }, node.name))), onConfirm: async () => {
                                                setIsStopLoading(true);
                                                model/* model */.ge.stop_nodes(selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.online));
                                                await (0,utils_browser/* delay */.cb)(5000);
                                                setIsStopLoading(false);
                                                await model/* model */.ge.get_cluster_perf(false);
                                            }, okText: (0,i18n.t)('确认'), cancelText: (0,i18n.t)('取消'), okButtonProps: { disabled: selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.online).length === 0, loading: isStopLoading }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'text', block: true, disabled: !selectedNodes.filter(node => node.state === model/* DdbNodeState */.kG.online).length || !logined, icon: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-stop' + (!selectedNodes.length || !logined ? ' grey-icon' : ' blue-icon'), component: stop_icon }), children: (0,i18n.t)('停止') }) }) }) }), (0,jsx_runtime.jsx)("div", { className: i18n/* language */.BH === 'zh' ? 'icon-expand-area' : 'icon-expand-area-en', onClick: () => { setExpandedNodes(nodes.filter(node => node.mode === model/* NodeType */.Z6.agent)); }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'text', block: true, icon: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-expand', component: expand_icon }), children: (0,i18n.t)('全部展开') }) }), (0,jsx_runtime.jsx)("div", { className: i18n/* language */.BH === 'zh' ? 'icon-collapse-area' : 'icon-collapse-area-en', onClick: () => { setExpandedNodes(nodes); }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'text', block: true, icon: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-collapse', component: collapse_icon }), children: (0,i18n.t)('全部折叠') }) })] }), node_type === model/* NodeType */.Z6.controller && (0,jsx_runtime.jsxs)("div", { className: 'configs', children: [(0,jsx_runtime.jsx)(ButtonIframeModal, { class_name: 'nodes-modal', button_text: (0,i18n.t)('集群节点配置'), iframe_src: './dialogs/nodesSetup.html' }), (0,jsx_runtime.jsx)(ButtonIframeModal, { class_name: 'controller-modal', button_text: (0,i18n.t)('控制节点配置'), iframe_src: './dialogs/controllerConfig.html' }), (0,jsx_runtime.jsx)(ButtonIframeModal, { class_name: 'datanode-modal', button_text: (0,i18n.t)('数据节点配置'), iframe_src: './dialogs/datanodeConfig.html' })] })] }) }), (0,jsx_runtime.jsx)("div", { className: `content${node_type === model/* NodeType */.Z6.single ? ' single-node-content' : ''}`, children: node_type === model/* NodeType */.Z6.single ?
                    (0,jsx_runtime.jsx)(Nodes, { type: model/* NodeType */.Z6.single, nodes: [], selectedNodes: [], setSelectedNodes: () => { }, expandedNodes: [], setExpandedNodes: () => { } }, model/* NodeType */.Z6.single)
                    :
                        [model/* NodeType */.Z6.controller, model/* NodeType */.Z6.data, model/* NodeType */.Z6.computing, model/* NodeType */.Z6.agent].map(type => (0,jsx_runtime.jsx)(Nodes, { type: type, nodes: nodes.filter(node => node.mode === type), selectedNodes: selectedNodes, setSelectedNodes: (nodes) => {
                                setSelectedNodeNames(nodes.map(node => node.name));
                            }, expandedNodes: expandedNodes, setExpandedNodes: setExpandedNodes }, type)) })] });
}
function ButtonIframeModal({ button_text, class_name, iframe_src }) {
    const { test } = model/* model */.ge;
    const { visible, open, close } = use_modal();
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: test ? (0,i18n.t)('测试环境部署时无法使用配置管理') : '', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SettingOutlined, {}), onClick: open, disabled: test, children: button_text }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: class_name, open: visible, onCancel: close, width: '80%', footer: null, children: (0,jsx_runtime.jsx)("iframe", { src: iframe_src }) })] });
}
const node_type = [(0,i18n.t)('数据节点'), (0,i18n.t)('代理节点'), (0,i18n.t)('控制节点'), , (0,i18n.t)('计算节点')];
function Nodes({ type, nodes, selectedNodes, setSelectedNodes, expandedNodes, setExpandedNodes }) {
    const { node } = model/* model */.ge.use(['node']);
    const numOfNodes = nodes.filter(node => node.mode === type).length;
    function switchFold(node) {
        if (node.mode === model/* NodeType */.Z6.agent)
            return;
        let newExpandedNodes = [];
        if (expandedNodes.every(item => item.name !== node.name))
            newExpandedNodes = [...expandedNodes, node];
        else
            newExpandedNodes = expandedNodes.filter(item => item.mode !== node.mode || item.name !== node.name);
        setExpandedNodes(newExpandedNodes);
    }
    return type === model/* NodeType */.Z6.single ?
        (0,jsx_runtime.jsx)(Node, { node: node, type: type, selectedNodes: [], setSelectedNodes: () => { }, expanded: true, switchFold: () => { } }, node.name)
        :
            Boolean(nodes.length) && (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsxs)("div", { className: 'nodes-header', children: [node_type[type] + ' (' + nodes.length + ')', type === model/* NodeType */.Z6.controller ?
                                (0,jsx_runtime.jsx)("div", { className: 'controller-site', children: (0,jsx_runtime.jsx)(NodeSite, { node: node }) })
                                :
                                    type !== model/* NodeType */.Z6.agent && (0,jsx_runtime.jsx)("div", { className: 'nodes-selectAll', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Checkbox, { checked: selectedNodes.filter(node => node.mode === type).length === numOfNodes, indeterminate: selectedNodes.filter(node => node.mode === type).length && selectedNodes.filter(node => node.mode === type).length !== numOfNodes, onChange: () => {
                                                let newSlectedNodes = [];
                                                if (selectedNodes.filter(node => node.mode === type).length < numOfNodes)
                                                    newSlectedNodes = nodes.filter(node => node.mode === type && !selectedNodes.includes(node)).concat(selectedNodes);
                                                else
                                                    newSlectedNodes = selectedNodes.filter(node => node.mode !== type);
                                                setSelectedNodes(newSlectedNodes);
                                            }, children: (0,jsx_runtime.jsx)("div", { className: 'text-selectAll', children: (0,i18n.t)('全选') }) }) })] }), nodes.map(node => (0,jsx_runtime.jsx)(Node, { node: node, type: type, selectedNodes: selectedNodes, setSelectedNodes: setSelectedNodes, expanded: expandedNodes.some(item => item.name === node.name), switchFold: (node) => { switchFold(node); } }, node.name))] });
}
const node_colors = ['data-color', 'agent-color', 'controller-color', 'single-color', 'computing-color'];
const title_colors = ['data-title-color', 'agent-title-color', 'controller-title-color', 'single-title-color', 'computing-title-color'];
const node_statuses = ['offline', 'online'];
const node_backgrounds = ['data-node-background', '', 'controller-node-background', '', 'computing-node-background'];
const current_node_borders = ['data-current-node', '', 'controller-current-node', '', '', ''];
function Node({ node, type, selectedNodes, setSelectedNodes, expanded, switchFold }) {
    const { name, state, mode, agentSite, maxConnections, maxMemSize, workerNum, connectionNum, memoryUsed, memoryAlloc, diskReadRate, diskWriteRate, diskCapacity, diskFreeSpace, lastMinuteReadVolume, lastMinuteWriteVolume, networkRecvRate, networkSendRate, lastMinuteNetworkRecv, lastMinuteNetworkSend, cpuUsage, avgLoad, queuedJobs, queuedTasks, runningJobs, isLeader, lastMsgLatency, cumMsgLatency } = node;
    const agentNode = agentSite ? agentSite.split(':')[2] : '';
    function handeChange() {
        let newSelectedNodes = [];
        if (selectedNodes.every(node => node.name !== name))
            newSelectedNodes = [...selectedNodes, node];
        else
            newSelectedNodes = selectedNodes.filter(node => node.mode !== type || node.name !== name);
        setSelectedNodes(newSelectedNodes);
    }
    return (0,jsx_runtime.jsxs)("div", { className: 'node' + ' ' + (type !== model/* NodeType */.Z6.single && node.name === model/* model */.ge.node.name ? current_node_borders[node.mode] : ''), children: [type === model/* NodeType */.Z6.single ?
                (0,jsx_runtime.jsxs)("div", { className: 'node-header' + ' ' + node_colors[mode], children: [(0,jsx_runtime.jsxs)("div", { className: 'node-title' + ' ' + title_colors[mode], children: [(0,jsx_runtime.jsx)("div", { className: 'node-name', children: name }), isLeader ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { className: 'leader-tag', color: '#FFF', children: "leader" }) : null] }), (0,jsx_runtime.jsx)("div", { className: 'node-click-single', children: (0,jsx_runtime.jsx)("div", { className: `single-refresh-container${i18n/* language */.BH === 'en' ? ' en-width' : ''}`, onClick: () => {
                                    model/* model */.ge.get_cluster_perf(true);
                                }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'text', block: true, icon: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-refresh', component: refresh_icon }), children: (0,i18n.t)('刷新') }) }) }), (0,jsx_runtime.jsx)(NodeSite, { node: node }), (0,jsx_runtime.jsx)("div", { className: node_statuses[state], children: (0,jsx_runtime.jsx)("span", { children: state ? (0,i18n.t)('运行中') : (0,i18n.t)('未启动') }) })] })
                :
                    (0,jsx_runtime.jsxs)("div", { className: 'node-header' + ' ' + node_colors[mode] + (expanded ? ' node-header-fold' : ''), children: [(0,jsx_runtime.jsx)("div", { className: 'node-chosen', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: node.mode === model/* NodeType */.Z6.controller || node.mode === model/* NodeType */.Z6.agent
                                        ? node.mode === model/* NodeType */.Z6.controller
                                            ? (0,i18n.t)('控制节点不可停止，停止控制节点将无法对集群节点进行启停操作。')
                                            : (0,i18n.t)('代理节点不可停止，停止代理节点会导致控制节点发出的命令无法执行。')
                                        : '', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Checkbox, { disabled: node.mode === model/* NodeType */.Z6.controller || node.mode === model/* NodeType */.Z6.agent, checked: selectedNodes.some(node => node.mode === type && node.name === name), onChange: () => { handeChange(); } }) }) }), (0,jsx_runtime.jsxs)("div", { className: 'node-title' + ' ' + title_colors[mode], children: [(0,jsx_runtime.jsx)("div", { className: 'node-name', children: name }), isLeader && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { className: 'leader-tag', color: '#FFF', children: "leader" })] }), (0,jsx_runtime.jsx)("div", { className: 'node-click', onClick: () => { switchFold(node); } }), (0,jsx_runtime.jsx)(NodeSite, { node: node }), (0,jsx_runtime.jsx)("div", { className: node_statuses[state], children: (0,jsx_runtime.jsx)("span", { children: state ? (0,i18n.t)('运行中') : (0,i18n.t)('未启动') }) })] }), (0,jsx_runtime.jsxs)("div", { className: (type !== model/* NodeType */.Z6.single && expanded ? 'node-body-fold' : 'node-body') + ' ' + node_backgrounds[node.mode], children: [(0,jsx_runtime.jsxs)(NodeInfo, { title: 'CPU', icon: cpu_icon, className: 'cpu-info', children: [(0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('占用率'), Progress: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Progress, { percent: cpuUsage, showInfo: false, strokeColor: cpuUsage > 67 ? '#FF8660' : cpuUsage > 33 ? '#FFCE4F' : '#A8EB7F', size: [100, 7] }), children: Math.round(cpuUsage) + '%' }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('worker 线程总数'), children: workerNum }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('平均负载'), Progress: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Progress, { percent: avgLoad, showInfo: false, strokeColor: avgLoad > 67 ? '#FF8660' : avgLoad > 33 ? '#FFCE4F' : '#A8EB7F', size: [100, 7] }), children: Math.round(avgLoad) + '%' })] }), (0,jsx_runtime.jsxs)(NodeInfo, { title: (0,i18n.t)('内存'), icon: memory_icon, className: 'memory-info', children: [(0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('用量'), Progress: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Progress, { percent: (Number(memoryUsed) / (maxMemSize * 1024 * 1024 * 1024)) * 100, showInfo: false, strokeColor: (Number(memoryUsed) / (maxMemSize * 1024 * 1024 * 1024)) * 100 > 67
                                        ? '#FF8660'
                                        : (Number(memoryUsed) / (maxMemSize * 1024 * 1024 * 1024)) * 100 > 33
                                            ? '#FFCE4F'
                                            : '#A8EB7F', size: [150, 7] }), children: Number(memoryUsed).to_fsize_str() + ' / ' + maxMemSize + ' GB' }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('已分配'), children: Number(memoryAlloc).to_fsize_str() })] }), (0,jsx_runtime.jsxs)(NodeInfo, { title: (0,i18n.t)('磁盘'), icon: disk_icon, className: 'disk-info', children: [(0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('读'), children: Number(diskReadRate).to_fsize_str() + '/s' }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('前一分钟读'), children: Number(lastMinuteReadVolume).to_fsize_str() }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('写'), children: Number(diskWriteRate).to_fsize_str() + '/s' }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('前一分钟写'), children: Number(lastMinuteWriteVolume).to_fsize_str() }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('用量'), Progress: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Progress, { percent: (Number(diskCapacity - diskFreeSpace) / Number(diskCapacity)) * 100, showInfo: false, strokeColor: (Number(diskCapacity - diskFreeSpace) / Number(diskCapacity)) * 100 > 67
                                        ? '#FF8660'
                                        : (Number(diskCapacity - diskFreeSpace) / Number(diskCapacity)) * 100 > 33
                                            ? '#FFCE4F'
                                            : '#A8EB7F', size: i18n/* language */.BH === 'zh' ? [200, 7] : [160, 7] }), children: `${Number(diskCapacity - diskFreeSpace).to_fsize_str()} / ${Number(diskCapacity).to_fsize_str()}` })] }), (0,jsx_runtime.jsxs)(NodeInfo, { title: (0,i18n.t)('网络'), icon: network_icon, className: 'network-info', children: [(0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('收'), children: Number(networkRecvRate).to_fsize_str() + '/s' }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('前一分钟收'), children: Number(lastMinuteNetworkRecv).to_fsize_str() }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('发'), children: Number(networkSendRate).to_fsize_str() + '/s' }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('前一分钟发'), children: Number(lastMinuteNetworkSend).to_fsize_str() }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('当前连接数'), children: connectionNum }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('最大连接数'), children: maxConnections })] }), (0,jsx_runtime.jsxs)(NodeInfo, { title: (0,i18n.t)('任务与作业'), icon: task_icon, className: 'task-info', children: [(0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('运行作业'), children: runningJobs }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('运行任务'), children: runningJobs }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('排队作业'), children: queuedJobs }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('排队任务'), children: queuedTasks }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('前一批消息时延'), children: Number(lastMsgLatency) < Number.MIN_VALUE ? 0 + ' s' : Number(lastMsgLatency) + ' s' }), (0,jsx_runtime.jsx)(InfoItem, { title: (0,i18n.t)('所有消息平均时延'), children: Number(cumMsgLatency) < Number.MIN_VALUE ? 0 + ' s' : Number(cumMsgLatency) + ' s' })] })] }), (0,jsx_runtime.jsx)("div", { className: expanded ? 'node-footer-fold' : 'node-footer', children: agentNode && (0,jsx_runtime.jsx)("span", { children: (0,i18n.t)('代理节点') + ': ' + agentNode }) })] });
}
function NodeInfo({ title, icon, className, children }) {
    return (0,jsx_runtime.jsxs)("div", { className: 'info-card' + ' ' + className, children: [(0,jsx_runtime.jsxs)("div", { className: 'info-title', children: [(0,jsx_runtime.jsx)((external_icons_default()), { component: icon }), (0,jsx_runtime.jsx)("div", { className: 'title-text', children: title })] }), (0,jsx_runtime.jsx)("div", { className: 'info-body', children: (0,jsx_runtime.jsx)("div", { className: 'info-table', children: children }) })] });
}
function InfoItem({ title, children, Progress }) {
    return (0,jsx_runtime.jsxs)("div", { className: 'item-content', children: [(0,jsx_runtime.jsx)("div", { className: i18n/* language */.BH === 'zh' ? 'item-title' : 'item-title-en', children: title }), (0,jsx_runtime.jsxs)("div", { className: 'item-body', children: [(0,jsx_runtime.jsx)("div", { className: 'info-text', children: children }), Progress] })] });
}
function NodeSite({ node }) {
    const { host, port, mode, publicName } = node;
    const privateDomain = `${host}:${port}`;
    let privateLink = getUrl(host, port);
    let publicDomain = [];
    let publicLink = [];
    if (publicName) {
        publicDomain = publicName.split(/,|;/).map(val => val + ':' + port);
        publicLink = publicName.split(/,|;/).map(val => getUrl(val, port));
    }
    function getUrl(hostname, port) {
        const current_params = new URLSearchParams(location.search);
        const is_query_params_mode = current_params.get('hostname') || current_params.get('port');
        if (is_query_params_mode) {
            current_params.set('hostname', hostname);
            current_params.set('port', port.toString());
        }
        return is_query_params_mode
            ? `${location.protocol}//${location.hostname}:${location.port}${location.pathname}?${current_params.toString()}`
            : `${location.protocol}//${hostname}:${port}`;
    }
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("div", { className: 'node-site', children: mode === model/* NodeType */.Z6.agent ? ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('代理节点不可跳转'), children: (0,jsx_runtime.jsx)("div", { className: 'control-disable', children: (0,jsx_runtime.jsx)("a", { className: 'disable-link', href: privateLink, target: '_blank', children: privateDomain }) }) })) : ((0,jsx_runtime.jsx)("a", { href: privateLink, target: '_blank', children: privateDomain })) }), publicDomain.map((val, idx) => (0,jsx_runtime.jsx)("div", { className: 'node-site', children: mode === model/* NodeType */.Z6.agent ? ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('代理节点不可跳转'), children: (0,jsx_runtime.jsx)("div", { className: 'control-disable', children: (0,jsx_runtime.jsx)("a", { className: 'disable-link', href: publicLink[idx], target: '_blank', children: val }) }) })) : (publicLink.length && ((0,jsx_runtime.jsx)("a", { href: publicLink[idx], target: '_blank', children: val }))) }, val))] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/overview/old.sass
var old = __webpack_require__(6318);
;// CONCATENATED MODULE: ./console/overview/old.sass

      
      
      
      
      
      
      
      
      

var old_options = {};

old_options.styleTagTransform = (styleTagTransform_default());
old_options.setAttributes = (setAttributesWithoutAttributes_default());
old_options.insert = insertBySelector_default().bind(null, "head");
old_options.domAPI = (styleDomAPI_default());
old_options.insertStyleElement = (insertStyleElement_default());

var old_update = injectStylesIntoStyleTag_default()(old/* default */.A, old_options);




       /* harmony default export */ const overview_old = (old/* default */.A && old/* default */.A.locals ? old/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/overview/old.tsx



function OverviewOld() {
    return (0,jsx_runtime.jsx)("iframe", { className: 'iframe', src: './default.html', width: '100%' });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/config/index.sass
var config = __webpack_require__(4010);
;// CONCATENATED MODULE: ./console/config/index.sass

      
      
      
      
      
      
      
      
      

var config_options = {};

config_options.styleTagTransform = (styleTagTransform_default());
config_options.setAttributes = (setAttributesWithoutAttributes_default());
config_options.insert = insertBySelector_default().bind(null, "head");
config_options.domAPI = (styleDomAPI_default());
config_options.insertStyleElement = (insertStyleElement_default());

var config_update = injectStylesIntoStyleTag_default()(config/* default */.A, config_options);




       /* harmony default export */ const console_config = (config/* default */.A && config/* default */.A.locals ? config/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/react-object-model@1.2.5_react@18.3.1/node_modules/react-object-model/index.js
var react_object_model = __webpack_require__(5727);
;// CONCATENATED MODULE: ./console/config/type.ts

const CONFIG_CLASSIFICATION = {
    [(0,i18n.t)('线程')]: new Set(['localExecutors', 'maxBatchJobWorker', 'maxDynamicWorker', 'webWorkerNum', 'workerNum']),
    [(0,i18n.t)('内存')]: new Set(['chunkCacheEngineMemSize', 'maxMemSize', 'memoryReleaseRate', 'regularArrayMemoryLimit', 'warningMemSize']),
    [(0,i18n.t)('磁盘')]: new Set(['batchJobDir', 'chunkMetaDir', 'dataSync', 'jobLogFile', 'logFile', 'logLevel', 'maxLogSize', 'redoLogDir', 'redoLogPurgeInterval', 'redoLogPurgeLimit', 'volumes', 'diskIOConcurrencyLevel']),
    [(0,i18n.t)('网络')]: new Set(['enableHTTPS', 'localSite', 'maxConnections', 'maxConnectionPerSite', 'tcpNoDelay']),
    [(0,i18n.t)('流发布')]: new Set(['maxMsgNumPerBlock', 'maxPersistenceQueueDepth', 'maxPubQueueDepthPerSite', 'maxPubConnections', 'persistenceDir', 'persistenceWorkerNum']),
    [(0,i18n.t)('流订阅')]: new Set(['maxSubConnections', 'maxSubQueueDepth', 'persistOffsetDir', 'subExecutorPooling', 'subExecutors', 'subPort', 'subThrottle']),
    [(0,i18n.t)('系统')]: new Set(['console', 'config', 'home', 'maxPartitionNumPerQuery', 'mode', 'moduleDir', 'newValuePartitionPolicy', 'perfMonitoring', 'pluginDir', 'preloadModules', 'init', 'startup', 'run', 'tzdb', 'webRoot', 'webLoginRequired'])
};

;// CONCATENATED MODULE: ./console/config/utils.ts


const strs_2_controller_configs = (strs) => strs.map(str => {
    const [name, value] = str.split('=');
    return {
        id: str,
        name,
        value
    };
});
const _2_strs = (items) => items.map(i => i.id);
const strs_2_nodes = (strs) => strs.map(str => {
    const [rest, mode] = str.split(',');
    const [host, port, alias] = rest.split(':');
    return {
        id: str,
        host,
        port,
        alias,
        mode: mode
    };
});
function strs_2_nodes_config(strs) {
    const nodes_configs = new Map();
    strs.forEach(str => {
        const [rest, value] = str.split('=');
        const [first, second] = rest.split('.');
        const qualifier = second ? first : '';
        const name = second ? second : first;
        nodes_configs.set(rest, {
            key: rest,
            category: get_category(name),
            qualifier,
            name,
            value,
        });
    });
    return nodes_configs;
}
function get_category(name) {
    let category = (0,i18n.t)('其它');
    let clses = Object.keys(CONFIG_CLASSIFICATION);
    for (let cls of clses)
        if (CONFIG_CLASSIFICATION[cls].has(name))
            category = cls;
    return category;
}

;// CONCATENATED MODULE: ./console/config/model.ts




class ConfigModel extends react_object_model/* Model */.K {
    nodes_configs;
    async load_controller_configs() {
        return this.call('loadControllerConfigs');
    }
    async save_controller_configs(configs) {
        return this.call('saveControllerConfigs', [new browser/* DdbVectorString */.x$(configs)]);
    }
    async get_cluster_nodes() {
        return this.call('getClusterNodesCfg');
    }
    async save_cluster_nodes(nodes) {
        return this.call('saveClusterNodes', [new browser/* DdbVectorString */.x$(nodes)]);
    }
    async load_nodes_config() {
        this.set({
            nodes_configs: strs_2_nodes_config((await this.call('loadClusterNodesConfigs'))
                .value)
        });
    }
    async change_nodes_config(configs) {
        configs.forEach(([key, value]) => {
            this.nodes_configs.set(key, { ...value, category: get_category(value.name) });
        });
        await this.save_nodes_config();
    }
    async delete_nodes_config(configs) {
        configs.forEach(config => {
            this.nodes_configs.delete(config);
        });
        await this.save_nodes_config();
    }
    async save_nodes_config() {
        const new_nodes_configs = new Map();
        await this.call('saveClusterNodesConfigs', [new browser/* DdbVectorString */.x$(Array.from(this.nodes_configs).map(([key, config]) => {
                new_nodes_configs.set(key, config);
                const { value } = config;
                return `${key}=${value}`;
            }))]);
        this.set({ nodes_configs: new_nodes_configs });
    }
    async call(name, args) {
        return model/* model */.ge.ddb.call(name, args, { ...model/* model */.ge.node_type === model/* NodeType */.Z6.controller || model/* model */.ge.node_type === model/* NodeType */.Z6.single ? {} : { node: model/* model */.ge.controller_alias, func_type: browser/* DdbFunctionType */.T5.SystemFunc } });
    }
}
let model_config = new ConfigModel();

;// CONCATENATED MODULE: ./console/config/ControllerConfig.tsx










const { Search } = external_antd_namespaceObject.Input;
function ControllerConfig() {
    const [configs, set_configs] = (0,external_React_.useState)([]);
    const [search_key, set_search_key] = (0,external_React_.useState)('');
    const actionRef = (0,external_React_.useRef)();
    const cols = (0,external_React_.useMemo)(() => ([
        {
            title: (0,i18n.t)('配置项'),
            dataIndex: 'name',
            key: 'name',
            width: 400,
            fieldProps: {
                placeholder: (0,i18n.t)('请输入配置项'),
            },
            formItemProps: {
                rules: [{
                        required: true,
                        message: (0,i18n.t)('请输入配置项！')
                    },
                ]
            }
        },
        {
            title: (0,i18n.t)('值'),
            dataIndex: 'value',
            key: 'value',
            fieldProps: {
                placeholder: (0,i18n.t)('请输入配置值'),
            },
            formItemProps: {
                rules: [{
                        required: true,
                        message: (0,i18n.t)('请输入配置值！')
                    }]
            }
        },
        {
            title: (0,i18n.t)('操作'),
            valueType: 'option',
            key: 'actions',
            width: 240,
            render: (text, record, _, action) => [
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', onClick: () => {
                        action?.startEditable?.(record.id);
                    }, children: (0,i18n.t)('编辑') }, 'editable'),
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('确认删除此配置项？'), onConfirm: async () => delete_config(record.id), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', children: (0,i18n.t)('删除') }) }, 'delete')
            ],
        },
    ]), [configs]);
    const delete_config = (0,external_React_.useCallback)(async (config_id) => {
        const new_configs = _2_strs(configs).filter(cfg => cfg !== config_id);
        await model_config.save_controller_configs(new_configs);
        actionRef.current.reload();
    }, [configs]);
    return (0,jsx_runtime.jsx)(antd_pro_components_js_ProComponents_namespaceObject.EditableProTable, { rowKey: 'id', actionRef: actionRef, columns: cols, request: async () => {
            const value = Array.from(new Set((await model_config.load_controller_configs()).value));
            const configs = strs_2_controller_configs(value);
            set_configs(configs);
            return {
                data: configs.filter(({ name }) => name.toLowerCase().includes(search_key.toLowerCase())),
                success: true,
                total: value.length
            };
        }, scroll: { y: 'calc(100vh - 250px)' }, recordCreatorProps: {
            position: 'bottom',
            record: () => ({
                id: String((0,utils_browser/* genid */.GW)()),
                name: '',
                value: ''
            }),
            creatorButtonText: (0,i18n.t)('新增控制节点配置'),
            onClick() {
                (async () => {
                    let $tbody = document.querySelector('.ant-table-body');
                    await (0,utils_browser/* delay */.cb)(0);
                    $tbody.scrollTop = $tbody.scrollHeight;
                })();
            }
        }, toolBarRender: () => [
            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => {
                    await actionRef.current.reload();
                    model/* model */.ge.message.success((0,i18n.t)('刷新成功'));
                }, children: (0,i18n.t)('刷新') }),
            (0,jsx_runtime.jsx)(Search, { placeholder: (0,i18n.t)('请输入想要查找的配置项'), value: search_key, onChange: e => { set_search_key(e.target.value); }, onSearch: async () => actionRef.current.reload() })
        ], editable: {
            type: 'single',
            onSave: async (rowKey, data, row) => {
                const config_strs = _2_strs(configs);
                let idx = config_strs.indexOf(rowKey);
                if (idx === -1)
                    await model_config.save_controller_configs([data.name + '=' + data.value, ...config_strs]);
                else
                    await model_config.save_controller_configs(config_strs.toSpliced(idx, 1, data.name + '=' + data.value));
                actionRef.current.reload();
                model/* model */.ge.message.success((0,i18n.t)('保存成功'));
            },
            onDelete: async (key, row) => delete_config(row.id),
            deletePopconfirmMessage: (0,i18n.t)('确认删除此配置项？'),
            saveText: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', children: (0,i18n.t)('保存') }, 'editable'),
            deleteText: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', children: (0,i18n.t)('删除') }, 'delete'),
            cancelText: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', children: (0,i18n.t)('取消') }, 'cancel'),
        }, tableLayout: 'fixed' });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.3.1/node_modules/use-sync-external-store/shim/index.js
var shim = __webpack_require__(1285);
;// CONCATENATED MODULE: ./node_modules/.pnpm/swr@2.2.5_react@18.3.1/node_modules/swr/dist/_internal/index.mjs


// Shared state between server components and client components
const noop = ()=>{};
// Using noop() as the undefined value as undefined can be replaced
// by something else. Prettier ignore and extra parentheses are necessary here
// to ensure that tsc doesn't remove the __NOINLINE__ comment.
// prettier-ignore
const UNDEFINED = /*#__NOINLINE__*/ noop();
const OBJECT = Object;
const isUndefined = (v)=>v === UNDEFINED;
const isFunction = (v)=>typeof v == 'function';
const mergeObjects = (a, b)=>({
        ...a,
        ...b
    });
const isPromiseLike = (x)=>isFunction(x.then);

// use WeakMap to store the object->key mapping
// so the objects can be garbage collected.
// WeakMap uses a hashtable under the hood, so the lookup
// complexity is almost O(1).
const table = new WeakMap();
// counter of the key
let counter = 0;
// A stable hash implementation that supports:
// - Fast and ensures unique hash properties
// - Handles unserializable values
// - Handles object key ordering
// - Generates short results
//
// This is not a serialization function, and the result is not guaranteed to be
// parsable.
const stableHash = (arg)=>{
    const type = typeof arg;
    const constructor = arg && arg.constructor;
    const isDate = constructor == Date;
    let result;
    let index;
    if (OBJECT(arg) === arg && !isDate && constructor != RegExp) {
        // Object/function, not null/date/regexp. Use WeakMap to store the id first.
        // If it's already hashed, directly return the result.
        result = table.get(arg);
        if (result) return result;
        // Store the hash first for circular reference detection before entering the
        // recursive `stableHash` calls.
        // For other objects like set and map, we use this id directly as the hash.
        result = ++counter + '~';
        table.set(arg, result);
        if (constructor == Array) {
            // Array.
            result = '@';
            for(index = 0; index < arg.length; index++){
                result += stableHash(arg[index]) + ',';
            }
            table.set(arg, result);
        }
        if (constructor == OBJECT) {
            // Object, sort keys.
            result = '#';
            const keys = OBJECT.keys(arg).sort();
            while(!isUndefined(index = keys.pop())){
                if (!isUndefined(arg[index])) {
                    result += index + ':' + stableHash(arg[index]) + ',';
                }
            }
            table.set(arg, result);
        }
    } else {
        result = isDate ? arg.toJSON() : type == 'symbol' ? arg.toString() : type == 'string' ? JSON.stringify(arg) : '' + arg;
    }
    return result;
};

// Global state used to deduplicate requests and store listeners
const SWRGlobalState = new WeakMap();

const EMPTY_CACHE = {};
const INITIAL_CACHE = {};
const STR_UNDEFINED = 'undefined';
// NOTE: Use the function to guarantee it's re-evaluated between jsdom and node runtime for tests.
const isWindowDefined = typeof window != STR_UNDEFINED;
const isDocumentDefined = typeof document != STR_UNDEFINED;
const hasRequestAnimationFrame = ()=>isWindowDefined && typeof window['requestAnimationFrame'] != STR_UNDEFINED;
const createCacheHelper = (cache, key)=>{
    const state = SWRGlobalState.get(cache);
    return [
        // Getter
        ()=>!isUndefined(key) && cache.get(key) || EMPTY_CACHE,
        // Setter
        (info)=>{
            if (!isUndefined(key)) {
                const prev = cache.get(key);
                // Before writing to the store, we keep the value in the initial cache
                // if it's not there yet.
                if (!(key in INITIAL_CACHE)) {
                    INITIAL_CACHE[key] = prev;
                }
                state[5](key, mergeObjects(prev, info), prev || EMPTY_CACHE);
            }
        },
        // Subscriber
        state[6],
        // Get server cache snapshot
        ()=>{
            if (!isUndefined(key)) {
                // If the cache was updated on the client, we return the stored initial value.
                if (key in INITIAL_CACHE) return INITIAL_CACHE[key];
            }
            // If we haven't done any client-side updates, we return the current value.
            return !isUndefined(key) && cache.get(key) || EMPTY_CACHE;
        }
    ];
} // export { UNDEFINED, OBJECT, isUndefined, isFunction, mergeObjects, isPromiseLike }
;

/**
 * Due to the bug https://bugs.chromium.org/p/chromium/issues/detail?id=678075,
 * it's not reliable to detect if the browser is currently online or offline
 * based on `navigator.onLine`.
 * As a workaround, we always assume it's online on the first load, and change
 * the status upon `online` or `offline` events.
 */ let online = true;
const isOnline = ()=>online;
// For node and React Native, `add/removeEventListener` doesn't exist on window.
const [onWindowEvent, offWindowEvent] = isWindowDefined && window.addEventListener ? [
    window.addEventListener.bind(window),
    window.removeEventListener.bind(window)
] : [
    noop,
    noop
];
const isVisible = ()=>{
    const visibilityState = isDocumentDefined && document.visibilityState;
    return isUndefined(visibilityState) || visibilityState !== 'hidden';
};
const initFocus = (callback)=>{
    // focus revalidate
    if (isDocumentDefined) {
        document.addEventListener('visibilitychange', callback);
    }
    onWindowEvent('focus', callback);
    return ()=>{
        if (isDocumentDefined) {
            document.removeEventListener('visibilitychange', callback);
        }
        offWindowEvent('focus', callback);
    };
};
const initReconnect = (callback)=>{
    // revalidate on reconnected
    const onOnline = ()=>{
        online = true;
        callback();
    };
    // nothing to revalidate, just update the status
    const onOffline = ()=>{
        online = false;
    };
    onWindowEvent('online', onOnline);
    onWindowEvent('offline', onOffline);
    return ()=>{
        offWindowEvent('online', onOnline);
        offWindowEvent('offline', onOffline);
    };
};
const preset = {
    isOnline,
    isVisible
};
const defaultConfigOptions = {
    initFocus,
    initReconnect
};

const IS_REACT_LEGACY = !external_React_.useId;
const IS_SERVER = !isWindowDefined || 'Deno' in window;
// Polyfill requestAnimationFrame
const rAF = (f)=>hasRequestAnimationFrame() ? window['requestAnimationFrame'](f) : setTimeout(f, 1);
// React currently throws a warning when using useLayoutEffect on the server.
// To get around it, we can conditionally useEffect on the server (no-op) and
// useLayoutEffect in the browser.
const useIsomorphicLayoutEffect = IS_SERVER ? external_React_.useEffect : external_React_.useLayoutEffect;
// This assignment is to extend the Navigator type to use effectiveType.
const navigatorConnection = typeof navigator !== 'undefined' && navigator.connection;
// Adjust the config based on slow connection status (<= 70Kbps).
const slowConnection = !IS_SERVER && navigatorConnection && ([
    'slow-2g',
    '2g'
].includes(navigatorConnection.effectiveType) || navigatorConnection.saveData);

const _internal_serialize = (key)=>{
    if (isFunction(key)) {
        try {
            key = key();
        } catch (err) {
            // dependencies not ready
            key = '';
        }
    }
    // Use the original key as the argument of fetcher. This can be a string or an
    // array of values.
    const args = key;
    // If key is not falsy, or not an empty array, hash it.
    key = typeof key == 'string' ? key : (Array.isArray(key) ? key.length : key) ? stableHash(key) : '';
    return [
        key,
        args
    ];
};

// Global timestamp.
let __timestamp = 0;
const getTimestamp = ()=>++__timestamp;

const FOCUS_EVENT = 0;
const RECONNECT_EVENT = 1;
const MUTATE_EVENT = 2;
const ERROR_REVALIDATE_EVENT = 3;

var events = {
  __proto__: null,
  ERROR_REVALIDATE_EVENT: ERROR_REVALIDATE_EVENT,
  FOCUS_EVENT: FOCUS_EVENT,
  MUTATE_EVENT: MUTATE_EVENT,
  RECONNECT_EVENT: RECONNECT_EVENT
};

async function internalMutate(...args) {
    const [cache, _key, _data, _opts] = args;
    // When passing as a boolean, it's explicitly used to disable/enable
    // revalidation.
    const options = mergeObjects({
        populateCache: true,
        throwOnError: true
    }, typeof _opts === 'boolean' ? {
        revalidate: _opts
    } : _opts || {});
    let populateCache = options.populateCache;
    const rollbackOnErrorOption = options.rollbackOnError;
    let optimisticData = options.optimisticData;
    const rollbackOnError = (error)=>{
        return typeof rollbackOnErrorOption === 'function' ? rollbackOnErrorOption(error) : rollbackOnErrorOption !== false;
    };
    const throwOnError = options.throwOnError;
    // If the second argument is a key filter, return the mutation results for all
    // filtered keys.
    if (isFunction(_key)) {
        const keyFilter = _key;
        const matchedKeys = [];
        const it = cache.keys();
        for (const key of it){
            if (// Skip the special useSWRInfinite and useSWRSubscription keys.
            !/^\$(inf|sub)\$/.test(key) && keyFilter(cache.get(key)._k)) {
                matchedKeys.push(key);
            }
        }
        return Promise.all(matchedKeys.map(mutateByKey));
    }
    return mutateByKey(_key);
    async function mutateByKey(_k) {
        // Serialize key
        const [key] = _internal_serialize(_k);
        if (!key) return;
        const [get, set] = createCacheHelper(cache, key);
        const [EVENT_REVALIDATORS, MUTATION, FETCH, PRELOAD] = SWRGlobalState.get(cache);
        const startRevalidate = ()=>{
            const revalidators = EVENT_REVALIDATORS[key];
            const revalidate = isFunction(options.revalidate) ? options.revalidate(get().data, _k) : options.revalidate !== false;
            if (revalidate) {
                // Invalidate the key by deleting the concurrent request markers so new
                // requests will not be deduped.
                delete FETCH[key];
                delete PRELOAD[key];
                if (revalidators && revalidators[0]) {
                    return revalidators[0](MUTATE_EVENT).then(()=>get().data);
                }
            }
            return get().data;
        };
        // If there is no new data provided, revalidate the key with current state.
        if (args.length < 3) {
            // Revalidate and broadcast state.
            return startRevalidate();
        }
        let data = _data;
        let error;
        // Update global timestamps.
        const beforeMutationTs = getTimestamp();
        MUTATION[key] = [
            beforeMutationTs,
            0
        ];
        const hasOptimisticData = !isUndefined(optimisticData);
        const state = get();
        // `displayedData` is the current value on screen. It could be the optimistic value
        // that is going to be overridden by a `committedData`, or get reverted back.
        // `committedData` is the validated value that comes from a fetch or mutation.
        const displayedData = state.data;
        const currentData = state._c;
        const committedData = isUndefined(currentData) ? displayedData : currentData;
        // Do optimistic data update.
        if (hasOptimisticData) {
            optimisticData = isFunction(optimisticData) ? optimisticData(committedData, displayedData) : optimisticData;
            // When we set optimistic data, backup the current committedData data in `_c`.
            set({
                data: optimisticData,
                _c: committedData
            });
        }
        if (isFunction(data)) {
            // `data` is a function, call it passing current cache value.
            try {
                data = data(committedData);
            } catch (err) {
                // If it throws an error synchronously, we shouldn't update the cache.
                error = err;
            }
        }
        // `data` is a promise/thenable, resolve the final data first.
        if (data && isPromiseLike(data)) {
            // This means that the mutation is async, we need to check timestamps to
            // avoid race conditions.
            data = await data.catch((err)=>{
                error = err;
            });
            // Check if other mutations have occurred since we've started this mutation.
            // If there's a race we don't update cache or broadcast the change,
            // just return the data.
            if (beforeMutationTs !== MUTATION[key][0]) {
                if (error) throw error;
                return data;
            } else if (error && hasOptimisticData && rollbackOnError(error)) {
                // Rollback. Always populate the cache in this case but without
                // transforming the data.
                populateCache = true;
                // Reset data to be the latest committed data, and clear the `_c` value.
                set({
                    data: committedData,
                    _c: UNDEFINED
                });
            }
        }
        // If we should write back the cache after request.
        if (populateCache) {
            if (!error) {
                // Transform the result into data.
                if (isFunction(populateCache)) {
                    const populateCachedData = populateCache(data, committedData);
                    set({
                        data: populateCachedData,
                        error: UNDEFINED,
                        _c: UNDEFINED
                    });
                } else {
                    // Only update cached data and reset the error if there's no error. Data can be `undefined` here.
                    set({
                        data,
                        error: UNDEFINED,
                        _c: UNDEFINED
                    });
                }
            }
        }
        // Reset the timestamp to mark the mutation has ended.
        MUTATION[key][1] = getTimestamp();
        // Update existing SWR Hooks' internal states:
        Promise.resolve(startRevalidate()).then(()=>{
            // The mutation and revalidation are ended, we can clear it since the data is
            // not an optimistic value anymore.
            set({
                _c: UNDEFINED
            });
        });
        // Throw error or return data
        if (error) {
            if (throwOnError) throw error;
            return;
        }
        return data;
    }
}

const revalidateAllKeys = (revalidators, type)=>{
    for(const key in revalidators){
        if (revalidators[key][0]) revalidators[key][0](type);
    }
};
const initCache = (provider, options)=>{
    // The global state for a specific provider will be used to deduplicate
    // requests and store listeners. As well as a mutate function that is bound to
    // the cache.
    // The provider's global state might be already initialized. Let's try to get the
    // global state associated with the provider first.
    if (!SWRGlobalState.has(provider)) {
        const opts = mergeObjects(defaultConfigOptions, options);
        // If there's no global state bound to the provider, create a new one with the
        // new mutate function.
        const EVENT_REVALIDATORS = {};
        const mutate = internalMutate.bind(UNDEFINED, provider);
        let unmount = noop;
        const subscriptions = {};
        const subscribe = (key, callback)=>{
            const subs = subscriptions[key] || [];
            subscriptions[key] = subs;
            subs.push(callback);
            return ()=>subs.splice(subs.indexOf(callback), 1);
        };
        const setter = (key, value, prev)=>{
            provider.set(key, value);
            const subs = subscriptions[key];
            if (subs) {
                for (const fn of subs){
                    fn(value, prev);
                }
            }
        };
        const initProvider = ()=>{
            if (!SWRGlobalState.has(provider)) {
                // Update the state if it's new, or if the provider has been extended.
                SWRGlobalState.set(provider, [
                    EVENT_REVALIDATORS,
                    {},
                    {},
                    {},
                    mutate,
                    setter,
                    subscribe
                ]);
                if (!IS_SERVER) {
                    // When listening to the native events for auto revalidations,
                    // we intentionally put a delay (setTimeout) here to make sure they are
                    // fired after immediate JavaScript executions, which can be
                    // React's state updates.
                    // This avoids some unnecessary revalidations such as
                    // https://github.com/vercel/swr/issues/1680.
                    const releaseFocus = opts.initFocus(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, FOCUS_EVENT)));
                    const releaseReconnect = opts.initReconnect(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, RECONNECT_EVENT)));
                    unmount = ()=>{
                        releaseFocus && releaseFocus();
                        releaseReconnect && releaseReconnect();
                        // When un-mounting, we need to remove the cache provider from the state
                        // storage too because it's a side-effect. Otherwise, when re-mounting we
                        // will not re-register those event listeners.
                        SWRGlobalState.delete(provider);
                    };
                }
            }
        };
        initProvider();
        // This is a new provider, we need to initialize it and setup DOM events
        // listeners for `focus` and `reconnect` actions.
        // We might want to inject an extra layer on top of `provider` in the future,
        // such as key serialization, auto GC, etc.
        // For now, it's just a `Map` interface without any modifications.
        return [
            provider,
            mutate,
            initProvider,
            unmount
        ];
    }
    return [
        provider,
        SWRGlobalState.get(provider)[4]
    ];
};

// error retry
const onErrorRetry = (_, __, config, revalidate, opts)=>{
    const maxRetryCount = config.errorRetryCount;
    const currentRetryCount = opts.retryCount;
    // Exponential backoff
    const timeout = ~~((Math.random() + 0.5) * (1 << (currentRetryCount < 8 ? currentRetryCount : 8))) * config.errorRetryInterval;
    if (!isUndefined(maxRetryCount) && currentRetryCount > maxRetryCount) {
        return;
    }
    setTimeout(revalidate, timeout, opts);
};
const compare = (currentData, newData)=>stableHash(currentData) == stableHash(newData);
// Default cache provider
const [cache, mutate] = initCache(new Map());
// Default config
const defaultConfig = mergeObjects({
    // events
    onLoadingSlow: noop,
    onSuccess: noop,
    onError: noop,
    onErrorRetry,
    onDiscarded: noop,
    // switches
    revalidateOnFocus: true,
    revalidateOnReconnect: true,
    revalidateIfStale: true,
    shouldRetryOnError: true,
    // timeouts
    errorRetryInterval: slowConnection ? 10000 : 5000,
    focusThrottleInterval: 5 * 1000,
    dedupingInterval: 2 * 1000,
    loadingTimeout: slowConnection ? 5000 : 3000,
    // providers
    compare,
    isPaused: ()=>false,
    cache,
    mutate,
    fallback: {}
}, // use web preset by default
preset);

const mergeConfigs = (a, b)=>{
    // Need to create a new object to avoid mutating the original here.
    const v = mergeObjects(a, b);
    // If two configs are provided, merge their `use` and `fallback` options.
    if (b) {
        const { use: u1, fallback: f1 } = a;
        const { use: u2, fallback: f2 } = b;
        if (u1 && u2) {
            v.use = u1.concat(u2);
        }
        if (f1 && f2) {
            v.fallback = mergeObjects(f1, f2);
        }
    }
    return v;
};

const SWRConfigContext = (0,external_React_.createContext)({});
const SWRConfig = (props)=>{
    const { value } = props;
    const parentConfig = (0,external_React_.useContext)(SWRConfigContext);
    const isFunctionalConfig = isFunction(value);
    const config = (0,external_React_.useMemo)(()=>isFunctionalConfig ? value(parentConfig) : value, [
        isFunctionalConfig,
        parentConfig,
        value
    ]);
    // Extend parent context values and middleware.
    const extendedConfig = (0,external_React_.useMemo)(()=>isFunctionalConfig ? config : mergeConfigs(parentConfig, config), [
        isFunctionalConfig,
        parentConfig,
        config
    ]);
    // Should not use the inherited provider.
    const provider = config && config.provider;
    // initialize the cache only on first access.
    const cacheContextRef = (0,external_React_.useRef)(UNDEFINED);
    if (provider && !cacheContextRef.current) {
        cacheContextRef.current = initCache(provider(extendedConfig.cache || cache), config);
    }
    const cacheContext = cacheContextRef.current;
    // Override the cache if a new provider is given.
    if (cacheContext) {
        extendedConfig.cache = cacheContext[0];
        extendedConfig.mutate = cacheContext[1];
    }
    // Unsubscribe events.
    useIsomorphicLayoutEffect(()=>{
        if (cacheContext) {
            cacheContext[2] && cacheContext[2]();
            return cacheContext[3];
        }
    }, []);
    return (0,external_React_.createElement)(SWRConfigContext.Provider, mergeObjects(props, {
        value: extendedConfig
    }));
};

const INFINITE_PREFIX = '$inf$';

// @ts-expect-error
const enableDevtools = isWindowDefined && window.__SWR_DEVTOOLS_USE__;
const use = enableDevtools ? window.__SWR_DEVTOOLS_USE__ : [];
const setupDevTools = ()=>{
    if (enableDevtools) {
        // @ts-expect-error
        window.__SWR_DEVTOOLS_REACT__ = external_React_;
    }
};

const normalize = (args)=>{
    return isFunction(args[1]) ? [
        args[0],
        args[1],
        args[2] || {}
    ] : [
        args[0],
        null,
        (args[1] === null ? args[2] : args[1]) || {}
    ];
};

const useSWRConfig = ()=>{
    return mergeObjects(defaultConfig, (0,external_React_.useContext)(SWRConfigContext));
};

const preload = (key_, fetcher)=>{
    const [key, fnArg] = _internal_serialize(key_);
    const [, , , PRELOAD] = SWRGlobalState.get(cache);
    // Prevent preload to be called multiple times before used.
    if (PRELOAD[key]) return PRELOAD[key];
    const req = fetcher(fnArg);
    PRELOAD[key] = req;
    return req;
};
const middleware = (useSWRNext)=>(key_, fetcher_, config)=>{
        // fetcher might be a sync function, so this should not be an async function
        const fetcher = fetcher_ && ((...args)=>{
            const [key] = _internal_serialize(key_);
            const [, , , PRELOAD] = SWRGlobalState.get(cache);
            if (key.startsWith(INFINITE_PREFIX)) {
                // we want the infinite fetcher to be called.
                // handling of the PRELOAD cache happens there.
                return fetcher_(...args);
            }
            const req = PRELOAD[key];
            if (isUndefined(req)) return fetcher_(...args);
            delete PRELOAD[key];
            return req;
        });
        return useSWRNext(key_, fetcher, config);
    };

const BUILT_IN_MIDDLEWARE = use.concat(middleware);

// It's tricky to pass generic types as parameters, so we just directly override
// the types here.
const withArgs = (hook)=>{
    return function useSWRArgs(...args) {
        // Get the default and inherited configuration.
        const fallbackConfig = useSWRConfig();
        // Normalize arguments.
        const [key, fn, _config] = normalize(args);
        // Merge configurations.
        const config = mergeConfigs(fallbackConfig, _config);
        // Apply middleware
        let next = hook;
        const { use } = config;
        const middleware = (use || []).concat(BUILT_IN_MIDDLEWARE);
        for(let i = middleware.length; i--;){
            next = middleware[i](next);
        }
        return next(key, fn || config.fetcher || null, config);
    };
};

// Add a callback function to a list of keyed callback functions and return
// the unsubscribe function.
const subscribeCallback = (key, callbacks, callback)=>{
    const keyedRevalidators = callbacks[key] || (callbacks[key] = []);
    keyedRevalidators.push(callback);
    return ()=>{
        const index = keyedRevalidators.indexOf(callback);
        if (index >= 0) {
            // O(1): faster than splice
            keyedRevalidators[index] = keyedRevalidators[keyedRevalidators.length - 1];
            keyedRevalidators.pop();
        }
    };
};

// Create a custom hook with a middleware
const withMiddleware = (useSWR, middleware)=>{
    return (...args)=>{
        const [key, fn, config] = normalize(args);
        const uses = (config.use || []).concat(middleware);
        return useSWR(key, fn, {
            ...config,
            use: uses
        });
    };
};

setupDevTools();



;// CONCATENATED MODULE: ./node_modules/.pnpm/swr@2.2.5_react@18.3.1/node_modules/swr/dist/core/index.mjs






const unstable_serialize = (key)=>serialize(key)[0];

/// <reference types="react/experimental" />
const core_use = external_React_.use || ((promise)=>{
    if (promise.status === 'pending') {
        throw promise;
    } else if (promise.status === 'fulfilled') {
        return promise.value;
    } else if (promise.status === 'rejected') {
        throw promise.reason;
    } else {
        promise.status = 'pending';
        promise.then((v)=>{
            promise.status = 'fulfilled';
            promise.value = v;
        }, (e)=>{
            promise.status = 'rejected';
            promise.reason = e;
        });
        throw promise;
    }
});
const WITH_DEDUPE = {
    dedupe: true
};
const useSWRHandler = (_key, fetcher, config)=>{
    const { cache, compare, suspense, fallbackData, revalidateOnMount, revalidateIfStale, refreshInterval, refreshWhenHidden, refreshWhenOffline, keepPreviousData } = config;
    const [EVENT_REVALIDATORS, MUTATION, FETCH, PRELOAD] = SWRGlobalState.get(cache);
    // `key` is the identifier of the SWR internal state,
    // `fnArg` is the argument/arguments parsed from the key, which will be passed
    // to the fetcher.
    // All of them are derived from `_key`.
    const [key, fnArg] = _internal_serialize(_key);
    // If it's the initial render of this hook.
    const initialMountedRef = (0,external_React_.useRef)(false);
    // If the hook is unmounted already. This will be used to prevent some effects
    // to be called after unmounting.
    const unmountedRef = (0,external_React_.useRef)(false);
    // Refs to keep the key and config.
    const keyRef = (0,external_React_.useRef)(key);
    const fetcherRef = (0,external_React_.useRef)(fetcher);
    const configRef = (0,external_React_.useRef)(config);
    const getConfig = ()=>configRef.current;
    const isActive = ()=>getConfig().isVisible() && getConfig().isOnline();
    const [getCache, setCache, subscribeCache, getInitialCache] = createCacheHelper(cache, key);
    const stateDependencies = (0,external_React_.useRef)({}).current;
    const fallback = isUndefined(fallbackData) ? config.fallback[key] : fallbackData;
    const isEqual = (prev, current)=>{
        for(const _ in stateDependencies){
            const t = _;
            if (t === 'data') {
                if (!compare(prev[t], current[t])) {
                    if (!isUndefined(prev[t])) {
                        return false;
                    }
                    if (!compare(returnedData, current[t])) {
                        return false;
                    }
                }
            } else {
                if (current[t] !== prev[t]) {
                    return false;
                }
            }
        }
        return true;
    };
    const getSnapshot = (0,external_React_.useMemo)(()=>{
        const shouldStartRequest = (()=>{
            if (!key) return false;
            if (!fetcher) return false;
            // If `revalidateOnMount` is set, we take the value directly.
            if (!isUndefined(revalidateOnMount)) return revalidateOnMount;
            // If it's paused, we skip revalidation.
            if (getConfig().isPaused()) return false;
            if (suspense) return false;
            if (!isUndefined(revalidateIfStale)) return revalidateIfStale;
            return true;
        })();
        // Get the cache and merge it with expected states.
        const getSelectedCache = (state)=>{
            // We only select the needed fields from the state.
            const snapshot = mergeObjects(state);
            delete snapshot._k;
            if (!shouldStartRequest) {
                return snapshot;
            }
            return {
                isValidating: true,
                isLoading: true,
                ...snapshot
            };
        };
        const cachedData = getCache();
        const initialData = getInitialCache();
        const clientSnapshot = getSelectedCache(cachedData);
        const serverSnapshot = cachedData === initialData ? clientSnapshot : getSelectedCache(initialData);
        // To make sure that we are returning the same object reference to avoid
        // unnecessary re-renders, we keep the previous snapshot and use deep
        // comparison to check if we need to return a new one.
        let memorizedSnapshot = clientSnapshot;
        return [
            ()=>{
                const newSnapshot = getSelectedCache(getCache());
                const compareResult = isEqual(newSnapshot, memorizedSnapshot);
                if (compareResult) {
                    // Mentally, we should always return the `memorizedSnapshot` here
                    // as there's no change between the new and old snapshots.
                    // However, since the `isEqual` function only compares selected fields,
                    // the values of the unselected fields might be changed. That's
                    // simply because we didn't track them.
                    // To support the case in https://github.com/vercel/swr/pull/2576,
                    // we need to update these fields in the `memorizedSnapshot` too
                    // with direct mutations to ensure the snapshot is always up-to-date
                    // even for the unselected fields, but only trigger re-renders when
                    // the selected fields are changed.
                    memorizedSnapshot.data = newSnapshot.data;
                    memorizedSnapshot.isLoading = newSnapshot.isLoading;
                    memorizedSnapshot.isValidating = newSnapshot.isValidating;
                    memorizedSnapshot.error = newSnapshot.error;
                    return memorizedSnapshot;
                } else {
                    memorizedSnapshot = newSnapshot;
                    return newSnapshot;
                }
            },
            ()=>serverSnapshot
        ];
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [
        cache,
        key
    ]);
    // Get the current state that SWR should return.
    const cached = (0,shim.useSyncExternalStore)((0,external_React_.useCallback)((callback)=>subscribeCache(key, (current, prev)=>{
            if (!isEqual(prev, current)) callback();
        }), // eslint-disable-next-line react-hooks/exhaustive-deps
    [
        cache,
        key
    ]), getSnapshot[0], getSnapshot[1]);
    const isInitialMount = !initialMountedRef.current;
    const hasRevalidator = EVENT_REVALIDATORS[key] && EVENT_REVALIDATORS[key].length > 0;
    const cachedData = cached.data;
    const data = isUndefined(cachedData) ? fallback : cachedData;
    const error = cached.error;
    // Use a ref to store previously returned data. Use the initial data as its initial value.
    const laggyDataRef = (0,external_React_.useRef)(data);
    const returnedData = keepPreviousData ? isUndefined(cachedData) ? laggyDataRef.current : cachedData : data;
    // - Suspense mode and there's stale data for the initial render.
    // - Not suspense mode and there is no fallback data and `revalidateIfStale` is enabled.
    // - `revalidateIfStale` is enabled but `data` is not defined.
    const shouldDoInitialRevalidation = (()=>{
        // if a key already has revalidators and also has error, we should not trigger revalidation
        if (hasRevalidator && !isUndefined(error)) return false;
        // If `revalidateOnMount` is set, we take the value directly.
        if (isInitialMount && !isUndefined(revalidateOnMount)) return revalidateOnMount;
        // If it's paused, we skip revalidation.
        if (getConfig().isPaused()) return false;
        // Under suspense mode, it will always fetch on render if there is no
        // stale data so no need to revalidate immediately mount it again.
        // If data exists, only revalidate if `revalidateIfStale` is true.
        if (suspense) return isUndefined(data) ? false : revalidateIfStale;
        // If there is no stale data, we need to revalidate when mount;
        // If `revalidateIfStale` is set to true, we will always revalidate.
        return isUndefined(data) || revalidateIfStale;
    })();
    // Resolve the default validating state:
    // If it's able to validate, and it should revalidate when mount, this will be true.
    const defaultValidatingState = !!(key && fetcher && isInitialMount && shouldDoInitialRevalidation);
    const isValidating = isUndefined(cached.isValidating) ? defaultValidatingState : cached.isValidating;
    const isLoading = isUndefined(cached.isLoading) ? defaultValidatingState : cached.isLoading;
    // The revalidation function is a carefully crafted wrapper of the original
    // `fetcher`, to correctly handle the many edge cases.
    const revalidate = (0,external_React_.useCallback)(async (revalidateOpts)=>{
        const currentFetcher = fetcherRef.current;
        if (!key || !currentFetcher || unmountedRef.current || getConfig().isPaused()) {
            return false;
        }
        let newData;
        let startAt;
        let loading = true;
        const opts = revalidateOpts || {};
        // If there is no ongoing concurrent request, or `dedupe` is not set, a
        // new request should be initiated.
        const shouldStartNewRequest = !FETCH[key] || !opts.dedupe;
        /*
         For React 17
         Do unmount check for calls:
         If key has changed during the revalidation, or the component has been
         unmounted, old dispatch and old event callbacks should not take any
         effect

        For React 18
        only check if key has changed
        https://github.com/reactwg/react-18/discussions/82
      */ const callbackSafeguard = ()=>{
            if (IS_REACT_LEGACY) {
                return !unmountedRef.current && key === keyRef.current && initialMountedRef.current;
            }
            return key === keyRef.current;
        };
        // The final state object when the request finishes.
        const finalState = {
            isValidating: false,
            isLoading: false
        };
        const finishRequestAndUpdateState = ()=>{
            setCache(finalState);
        };
        const cleanupState = ()=>{
            // Check if it's still the same request before deleting it.
            const requestInfo = FETCH[key];
            if (requestInfo && requestInfo[1] === startAt) {
                delete FETCH[key];
            }
        };
        // Start fetching. Change the `isValidating` state, update the cache.
        const initialState = {
            isValidating: true
        };
        // It is in the `isLoading` state, if and only if there is no cached data.
        // This bypasses fallback data and laggy data.
        if (isUndefined(getCache().data)) {
            initialState.isLoading = true;
        }
        try {
            if (shouldStartNewRequest) {
                setCache(initialState);
                // If no cache is being rendered currently (it shows a blank page),
                // we trigger the loading slow event.
                if (config.loadingTimeout && isUndefined(getCache().data)) {
                    setTimeout(()=>{
                        if (loading && callbackSafeguard()) {
                            getConfig().onLoadingSlow(key, config);
                        }
                    }, config.loadingTimeout);
                }
                // Start the request and save the timestamp.
                // Key must be truthy if entering here.
                FETCH[key] = [
                    currentFetcher(fnArg),
                    getTimestamp()
                ];
            }
            [newData, startAt] = FETCH[key];
            newData = await newData;
            if (shouldStartNewRequest) {
                // If the request isn't interrupted, clean it up after the
                // deduplication interval.
                setTimeout(cleanupState, config.dedupingInterval);
            }
            // If there're other ongoing request(s), started after the current one,
            // we need to ignore the current one to avoid possible race conditions:
            //   req1------------------>res1        (current one)
            //        req2---------------->res2
            // the request that fired later will always be kept.
            // The timestamp maybe be `undefined` or a number
            if (!FETCH[key] || FETCH[key][1] !== startAt) {
                if (shouldStartNewRequest) {
                    if (callbackSafeguard()) {
                        getConfig().onDiscarded(key);
                    }
                }
                return false;
            }
            // Clear error.
            finalState.error = UNDEFINED;
            // If there're other mutations(s), that overlapped with the current revalidation:
            // case 1:
            //   req------------------>res
            //       mutate------>end
            // case 2:
            //         req------------>res
            //   mutate------>end
            // case 3:
            //   req------------------>res
            //       mutate-------...---------->
            // we have to ignore the revalidation result (res) because it's no longer fresh.
            // meanwhile, a new revalidation should be triggered when the mutation ends.
            const mutationInfo = MUTATION[key];
            if (!isUndefined(mutationInfo) && // case 1
            (startAt <= mutationInfo[0] || // case 2
            startAt <= mutationInfo[1] || // case 3
            mutationInfo[1] === 0)) {
                finishRequestAndUpdateState();
                if (shouldStartNewRequest) {
                    if (callbackSafeguard()) {
                        getConfig().onDiscarded(key);
                    }
                }
                return false;
            }
            // Deep compare with the latest state to avoid extra re-renders.
            // For local state, compare and assign.
            const cacheData = getCache().data;
            // Since the compare fn could be custom fn
            // cacheData might be different from newData even when compare fn returns True
            finalState.data = compare(cacheData, newData) ? cacheData : newData;
            // Trigger the successful callback if it's the original request.
            if (shouldStartNewRequest) {
                if (callbackSafeguard()) {
                    getConfig().onSuccess(newData, key, config);
                }
            }
        } catch (err) {
            cleanupState();
            const currentConfig = getConfig();
            const { shouldRetryOnError } = currentConfig;
            // Not paused, we continue handling the error. Otherwise, discard it.
            if (!currentConfig.isPaused()) {
                // Get a new error, don't use deep comparison for errors.
                finalState.error = err;
                // Error event and retry logic. Only for the actual request, not
                // deduped ones.
                if (shouldStartNewRequest && callbackSafeguard()) {
                    currentConfig.onError(err, key, currentConfig);
                    if (shouldRetryOnError === true || isFunction(shouldRetryOnError) && shouldRetryOnError(err)) {
                        if (!getConfig().revalidateOnFocus || !getConfig().revalidateOnReconnect || isActive()) {
                            // If it's inactive, stop. It will auto-revalidate when
                            // refocusing or reconnecting.
                            // When retrying, deduplication is always enabled.
                            currentConfig.onErrorRetry(err, key, currentConfig, (_opts)=>{
                                const revalidators = EVENT_REVALIDATORS[key];
                                if (revalidators && revalidators[0]) {
                                    revalidators[0](events.ERROR_REVALIDATE_EVENT, _opts);
                                }
                            }, {
                                retryCount: (opts.retryCount || 0) + 1,
                                dedupe: true
                            });
                        }
                    }
                }
            }
        }
        // Mark loading as stopped.
        loading = false;
        // Update the current hook's state.
        finishRequestAndUpdateState();
        return true;
    }, // `setState` is immutable, and `eventsCallback`, `fnArg`, and
    // `keyValidating` are depending on `key`, so we can exclude them from
    // the deps array.
    //
    // FIXME:
    // `fn` and `config` might be changed during the lifecycle,
    // but they might be changed every render like this.
    // `useSWR('key', () => fetch('/api/'), { suspense: true })`
    // So we omit the values from the deps array
    // even though it might cause unexpected behaviors.
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
        key,
        cache
    ]);
    // Similar to the global mutate but bound to the current cache and key.
    // `cache` isn't allowed to change during the lifecycle.
    const boundMutate = (0,external_React_.useCallback)(// Use callback to make sure `keyRef.current` returns latest result every time
    (...args)=>{
        return internalMutate(cache, keyRef.current, ...args);
    }, // eslint-disable-next-line react-hooks/exhaustive-deps
    []);
    // The logic for updating refs.
    useIsomorphicLayoutEffect(()=>{
        fetcherRef.current = fetcher;
        configRef.current = config;
        // Handle laggy data updates. If there's cached data of the current key,
        // it'll be the correct reference.
        if (!isUndefined(cachedData)) {
            laggyDataRef.current = cachedData;
        }
    });
    // After mounted or key changed.
    useIsomorphicLayoutEffect(()=>{
        if (!key) return;
        const softRevalidate = revalidate.bind(UNDEFINED, WITH_DEDUPE);
        // Expose revalidators to global event listeners. So we can trigger
        // revalidation from the outside.
        let nextFocusRevalidatedAt = 0;
        const onRevalidate = (type, opts = {})=>{
            if (type == events.FOCUS_EVENT) {
                const now = Date.now();
                if (getConfig().revalidateOnFocus && now > nextFocusRevalidatedAt && isActive()) {
                    nextFocusRevalidatedAt = now + getConfig().focusThrottleInterval;
                    softRevalidate();
                }
            } else if (type == events.RECONNECT_EVENT) {
                if (getConfig().revalidateOnReconnect && isActive()) {
                    softRevalidate();
                }
            } else if (type == events.MUTATE_EVENT) {
                return revalidate();
            } else if (type == events.ERROR_REVALIDATE_EVENT) {
                return revalidate(opts);
            }
            return;
        };
        const unsubEvents = subscribeCallback(key, EVENT_REVALIDATORS, onRevalidate);
        // Mark the component as mounted and update corresponding refs.
        unmountedRef.current = false;
        keyRef.current = key;
        initialMountedRef.current = true;
        // Keep the original key in the cache.
        setCache({
            _k: fnArg
        });
        // Trigger a revalidation
        if (shouldDoInitialRevalidation) {
            if (isUndefined(data) || IS_SERVER) {
                // Revalidate immediately.
                softRevalidate();
            } else {
                // Delay the revalidate if we have data to return so we won't block
                // rendering.
                rAF(softRevalidate);
            }
        }
        return ()=>{
            // Mark it as unmounted.
            unmountedRef.current = true;
            unsubEvents();
        };
    }, [
        key
    ]);
    // Polling
    useIsomorphicLayoutEffect(()=>{
        let timer;
        function next() {
            // Use the passed interval
            // ...or invoke the function with the updated data to get the interval
            const interval = isFunction(refreshInterval) ? refreshInterval(getCache().data) : refreshInterval;
            // We only start the next interval if `refreshInterval` is not 0, and:
            // - `force` is true, which is the start of polling
            // - or `timer` is not 0, which means the effect wasn't canceled
            if (interval && timer !== -1) {
                timer = setTimeout(execute, interval);
            }
        }
        function execute() {
            // Check if it's OK to execute:
            // Only revalidate when the page is visible, online, and not errored.
            if (!getCache().error && (refreshWhenHidden || getConfig().isVisible()) && (refreshWhenOffline || getConfig().isOnline())) {
                revalidate(WITH_DEDUPE).then(next);
            } else {
                // Schedule the next interval to check again.
                next();
            }
        }
        next();
        return ()=>{
            if (timer) {
                clearTimeout(timer);
                timer = -1;
            }
        };
    }, [
        refreshInterval,
        refreshWhenHidden,
        refreshWhenOffline,
        key
    ]);
    // Display debug info in React DevTools.
    (0,external_React_.useDebugValue)(returnedData);
    // In Suspense mode, we can't return the empty `data` state.
    // If there is an `error`, the `error` needs to be thrown to the error boundary.
    // If there is no `error`, the `revalidation` promise needs to be thrown to
    // the suspense boundary.
    if (suspense && isUndefined(data) && key) {
        // SWR should throw when trying to use Suspense on the server with React 18,
        // without providing any initial data. See:
        // https://github.com/vercel/swr/issues/1832
        if (!IS_REACT_LEGACY && IS_SERVER) {
            throw new Error('Fallback data is required when using suspense in SSR.');
        }
        // Always update fetcher and config refs even with the Suspense mode.
        fetcherRef.current = fetcher;
        configRef.current = config;
        unmountedRef.current = false;
        const req = PRELOAD[key];
        if (!isUndefined(req)) {
            const promise = boundMutate(req);
            core_use(promise);
        }
        if (isUndefined(error)) {
            const promise = revalidate(WITH_DEDUPE);
            if (!isUndefined(returnedData)) {
                promise.status = 'fulfilled';
                promise.value = true;
            }
            core_use(promise);
        } else {
            throw error;
        }
    }
    return {
        mutate: boundMutate,
        get data () {
            stateDependencies.data = true;
            return returnedData;
        },
        get error () {
            stateDependencies.error = true;
            return error;
        },
        get isValidating () {
            stateDependencies.isValidating = true;
            return isValidating;
        },
        get isLoading () {
            stateDependencies.isLoading = true;
            return isLoading;
        }
    };
};
const core_SWRConfig = OBJECT.defineProperty(SWRConfig, 'defaultValue', {
    value: defaultConfig
});
/**
 * A hook to fetch data.
 *
 * @link https://swr.vercel.app
 * @example
 * ```jsx
 * import useSWR from 'swr'
 * function Profile() {
 *   const { data, error, isLoading } = useSWR('/api/user', fetcher)
 *   if (error) return <div>failed to load</div>
 *   if (isLoading) return <div>loading...</div>
 *   return <div>hello {data.name}!</div>
 * }
 * ```
 */ const useSWR = withArgs(useSWRHandler);



;// CONCATENATED MODULE: ./console/config/NodesManagement.tsx










const { Search: NodesManagement_Search } = external_antd_namespaceObject.Input;
function NodesManagement() {
    const [nodes, set_nodes] = (0,external_React_.useState)([]);
    const [search_key, set_search_key] = (0,external_React_.useState)('');
    const actionRef = (0,external_React_.useRef)();
    const { mutate } = useSWR('/get/nodes', async () => model_config.get_cluster_nodes(), {
        onSuccess: data => {
            const nodes = strs_2_nodes(data.value);
            set_nodes(nodes);
        }
    });
    const cols = (0,external_React_.useMemo)(() => ([
        {
            title: (0,i18n.t)('别名'),
            dataIndex: 'alias',
            key: 'alias',
            fieldProps: {
                placeholder: (0,i18n.t)('请输入别名'),
            },
            formItemProps: {
                rules: [{
                        required: true,
                        message: (0,i18n.t)('请输入别名')
                    }]
            }
        },
        {
            title: (0,i18n.t)('类型'),
            dataIndex: 'mode',
            key: 'mode',
            valueType: 'select',
            valueEnum: {
                datanode: {
                    text: (0,i18n.t)('数据节点'),
                    value: 'datanode'
                },
                computenode: {
                    text: (0,i18n.t)('计算节点'),
                    value: 'computenode'
                },
                controller: {
                    text: (0,i18n.t)('控制节点'),
                    value: 'controller',
                },
                agent: {
                    text: (0,i18n.t)('代理节点'),
                    value: 'agent',
                },
            },
            fieldProps: {
                placeholder: (0,i18n.t)('请选择节点类型'),
            },
            formItemProps: {
                rules: [{
                        required: true,
                        message: (0,i18n.t)('请选择节点类型')
                    }]
            }
        },
        {
            title: (0,i18n.t)('主机名 / IP 地址'),
            dataIndex: 'host',
            key: 'host',
            fieldProps: {
                placeholder: (0,i18n.t)('请输入主机名 / IP 地址'),
            },
            formItemProps: {
                rules: [{
                        required: true,
                        message: (0,i18n.t)('请输入主机名 / IP 地址')
                    }]
            }
        },
        {
            title: (0,i18n.t)('端口号'),
            dataIndex: 'port',
            key: 'port',
            fieldProps: {
                placeholder: (0,i18n.t)('请输入端口号'),
                type: 'number',
            },
            formItemProps: {
                rules: [{
                        required: true,
                        message: (0,i18n.t)('请输入端口号')
                    }]
            }
        },
        {
            title: (0,i18n.t)('操作'),
            valueType: 'option',
            key: 'actions',
            width: 240,
            render: (text, record, _, action) => [
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', onClick: () => {
                        action?.startEditable?.(record.id);
                    }, children: (0,i18n.t)('编辑') }, 'editable'),
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('确认删除此节点？'), onConfirm: async () => delete_nodes(record.id), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', children: (0,i18n.t)('删除') }) }, 'delete')
            ],
        },
    ]), [nodes]);
    const delete_nodes = (0,external_React_.useCallback)(async (node_id) => {
        const new_nodes = _2_strs(nodes).filter(nod => nod !== node_id);
        await model_config.save_cluster_nodes(new_nodes);
        await mutate();
    }, [nodes]);
    return (0,jsx_runtime.jsx)(antd_pro_components_js_ProComponents_namespaceObject.EditableProTable, { rowKey: 'id', columns: cols, actionRef: actionRef, recordCreatorProps: {
            position: 'bottom',
            record: () => ({
                id: String(Date.now()),
                host: '',
                port: '',
                alias: '',
                mode: ''
            }),
            creatorButtonText: (0,i18n.t)('新增节点'),
            onClick: () => {
                const tbody = document.querySelector('.ant-table-body');
                setTimeout(() => tbody.scrollTop = tbody.scrollHeight, 1);
            }
        }, scroll: { y: 'calc(100vh - 250px)' }, value: search_key ? nodes.filter(({ alias }) => alias.toLocaleLowerCase().includes(search_key.toLocaleLowerCase())) : nodes, toolBarRender: () => [
            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => {
                    await mutate();
                    model/* model */.ge.message.success((0,i18n.t)('刷新成功'));
                }, children: (0,i18n.t)('刷新') }),
            (0,jsx_runtime.jsx)(NodesManagement_Search, { className: 'toolbar-search', placeholder: (0,i18n.t)('请输入想要查找的节点别名'), onSearch: set_search_key })
        ], editable: {
            type: 'single',
            onSave: async (rowKey, data, row) => {
                const node_strs = _2_strs(nodes);
                let idx = node_strs.indexOf(rowKey);
                if (idx === -1)
                    await model_config.save_cluster_nodes([`${data.host}:${data.port}:${data.alias},${data.mode}`, ...node_strs]);
                else
                    await model_config.save_cluster_nodes(node_strs.toSpliced(idx, 1, `${data.host}:${data.port}:${data.alias},${data.mode}`));
                mutate();
                model/* model */.ge.message.success((0,i18n.t)('保存成功'));
            },
            onDelete: async (key, row) => delete_nodes(row.id),
            deletePopconfirmMessage: (0,i18n.t)('确认删除此节点？'),
            saveText: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', children: (0,i18n.t)('保存') }, 'editable'),
            deleteText: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', children: (0,i18n.t)('删除') }, 'delete'),
            cancelText: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', children: (0,i18n.t)('取消') }, 'cancal'),
        } });
}

;// CONCATENATED MODULE: ./console/config/NodesConfigAddModal.tsx









const NodesConfigAddModal = esm.create(() => {
    const modal = esm.useModal();
    const [add_config_form] = external_antd_namespaceObject.Form.useForm();
    const filter_config = (0,external_React_.useCallback)((input, option) => (option?.label ?? '').toLowerCase().includes(input.toLowerCase()), []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'add-config-modal', open: modal.visible, onCancel: modal.hide, maskClosable: false, title: (0,i18n.t)('新增配置'), footer: false, afterClose: modal.remove, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { labelCol: { span: 4 }, wrapperCol: { span: 20 }, form: add_config_form, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('限定词'), name: 'qualifier', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: 'eg dn1 or dn% or empty' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('配置项'), name: 'name', rules: [{ required: true, message: (0,i18n.t)('请输入或选择配置项') }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.AutoComplete, { showSearch: true, optionFilterProp: 'label', 
                        // @ts-ignore
                        filterOption: filter_config, 
                        // @ts-ignore
                        options: Object.entries(CONFIG_CLASSIFICATION).map(([cfg_cls, configs]) => ({
                            label: cfg_cls,
                            options: Array.from(configs).map(cfg => ({
                                label: cfg,
                                value: cfg
                            }))
                        })) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('值'), name: 'value', rules: [{ required: true, message: (0,i18n.t)('请输入配置值') }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form.Item, { wrapperCol: { offset: 9, span: 15 }, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'mr-btn', onClick: modal.hide, children: (0,i18n.t)('取消') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', htmlType: 'submit', onClick: async () => {
                                try {
                                    const { qualifier, name, value } = await add_config_form.validateFields();
                                    const key = (qualifier ? qualifier + '.' : '') + name;
                                    await model_config.change_nodes_config([[key, { qualifier, name, value, key }]]);
                                    model/* model */.ge.message.success((0,i18n.t)('保存成功'));
                                    modal.hide();
                                }
                                catch (error) {
                                    // 数据校验不需要展示报错弹窗
                                    if (error instanceof browser/* DdbDatabaseError */.UI)
                                        throw error;
                                }
                            }, children: (0,i18n.t)('保存') })] })] }) });
});

;// CONCATENATED MODULE: ./console/config/NodesConfig.tsx











const { Search: NodesConfig_Search } = external_antd_namespaceObject.Input;
function NodesConfig() {
    const { nodes_configs } = model_config.use(['nodes_configs']);
    const [active_key, set_active_key] = (0,external_React_.useState)('thread');
    const [search_key, set_search_key] = (0,external_React_.useState)('');
    (0,external_React_.useEffect)(() => {
        (async () => {
            await model_config.load_nodes_config();
        })();
    }, []);
    const cols = (0,external_React_.useMemo)(() => [
        {
            title: (0,i18n.t)('限定词'),
            dataIndex: 'qualifier',
            key: 'qualifier',
            width: 300,
            fieldProps: {
                placeholder: (0,i18n.t)('请输入选择器')
            },
            formItemProps: {
                rules: [
                    {
                        required: false
                    }
                ]
            }
        },
        {
            title: (0,i18n.t)('配置项'),
            dataIndex: 'name',
            key: 'name',
            width: 400,
            fieldProps: {
                placeholder: (0,i18n.t)('请输入配置项')
            },
            formItemProps: {
                rules: [
                    {
                        required: true,
                        message: (0,i18n.t)('请输入配置项')
                    }
                ]
            }
        },
        {
            title: (0,i18n.t)('值'),
            dataIndex: 'value',
            key: 'value',
            fieldProps: {
                placeholder: (0,i18n.t)('请输入配置值')
            },
            formItemProps: {
                rules: [
                    {
                        required: true,
                        message: (0,i18n.t)('请输入配置值')
                    }
                ]
            }
        },
        {
            title: (0,i18n.t)('操作'),
            valueType: 'option',
            key: 'actions',
            width: 240,
            render: (text, record, _, action) => [
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', onClick: () => {
                        action?.startEditable?.(record.key);
                    }, children: (0,i18n.t)('编辑') }, 'editable'),
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('确认删除此配置项？'), onConfirm: async () => delete_config(record.key), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', children: (0,i18n.t)('删除') }) }, 'delete')
            ]
        }
    ], []);
    const delete_config = (0,external_React_.useCallback)(async (config_name) => {
        await model_config.delete_nodes_config([config_name]);
        model/* model */.ge.message.success((0,i18n.t)('删除成功'));
    }, []);
    const search_row = (0,external_React_.useCallback)((record, index) => {
        if (search_key === '')
            return '';
        // 根据 record 或 index 判断是否需要添加 highlight-row 类名
        const { name } = record;
        return name.toLowerCase().includes(search_key.toLowerCase()) ? 'high-light-row' : '';
    }, [search_key]);
    const items = (0,external_React_.useMemo)(() => {
        let clsed_configs = Object.fromEntries([...Object.keys(CONFIG_CLASSIFICATION), (0,i18n.t)('其它')].map(cfg => [cfg, []]));
        nodes_configs?.forEach(nodes_config => {
            const { category } = nodes_config;
            clsed_configs[category].push(nodes_config);
        });
        return Object.entries(clsed_configs).map(([key, clsed_config]) => ({
            key,
            label: (0,jsx_runtime.jsx)("div", { className: 'collapse-title', children: key }),
            children: ((0,jsx_runtime.jsx)(antd_pro_components_js_ProComponents_namespaceObject.EditableProTable, { className: 'nodes-config-table', rowKey: 'key', columns: cols, value: clsed_config, recordCreatorProps: false, tableLayout: 'fixed', rowClassName: search_row, editable: {
                    type: 'single',
                    onSave: async (rowKey, data, row) => {
                        const { name, qualifier, value } = data;
                        const key = (qualifier ? qualifier + '.' : '') + name;
                        if (rowKey !== key)
                            model_config.nodes_configs.delete(rowKey);
                        await model_config.change_nodes_config([[key, { name, qualifier, value, key }]]);
                        model/* model */.ge.message.success((0,i18n.t)('保存成功'));
                    },
                    onDelete: async (key) => delete_config(key),
                    deletePopconfirmMessage: (0,i18n.t)('确认删除此配置项？'),
                    saveText: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', children: (0,i18n.t)('保存') }, 'editable')),
                    deleteText: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', className: 'mr-btn', children: (0,i18n.t)('删除') }, 'delete')),
                    cancelText: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', children: (0,i18n.t)('取消') }, 'cancel'))
                } }))
        }));
    }, [nodes_configs, search_key]);
    return (0,jsx_runtime.jsxs)("div", { className: 'nodes-config-container', children: [(0,jsx_runtime.jsxs)("div", { className: 'toolbar', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => {
                            await model_config.load_nodes_config();
                            model/* model */.ge.message.success((0,i18n.t)('刷新成功'));
                        }, children: (0,i18n.t)('刷新') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusOutlined, {}), onClick: async () => esm.show(NodesConfigAddModal), children: (0,i18n.t)('新增配置') }), (0,jsx_runtime.jsx)(NodesConfig_Search, { placeholder: (0,i18n.t)('请输入想要查找的配置项'), value: search_key, onChange: e => {
                            set_search_key(e.target.value);
                        }, onSearch: async () => {
                            let keys = [];
                            nodes_configs?.forEach(config => {
                                const { category, name } = config;
                                if (name.toLowerCase().includes(search_key.toLowerCase()))
                                    keys.push(category);
                            });
                            set_active_key(keys);
                        } })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, bordered: false, activeKey: active_key, onChange: key => {
                    set_active_key(key);
                } })] });
}

;// CONCATENATED MODULE: ./console/config/icons/controller.config.icon.svg
var controller_config_icon_path;
function controller_config_icon_extends() { controller_config_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return controller_config_icon_extends.apply(this, arguments); }

var SvgControllerconfigicon = function SvgControllerconfigicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", controller_config_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "controller_config_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), controller_config_icon_path || (controller_config_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M902 684.3H576.3c-7.3 0-13.4-5.9-13.5-13.2v-31.3c.1-7.3 6.1-13.3 13.5-13.2H902c7.3 0 13.3 5.9 13.4 13.2v31.3c-.1 7.3-6 13.3-13.4 13.2zm0 115.7H576.3c-7.3 0-13.4-5.9-13.5-13.2v-31.3c.1-7.3 6.1-13.3 13.5-13.2H902c7.3 0 13.3 5.9 13.4 13.2v31.2c-.1 7.3-6 13.3-13.4 13.3zm0 115.7H576.3c-7.3 0-13.4-5.9-13.5-13.2v-31.3c.1-7.3 6.1-13.3 13.5-13.2H902c7.3 0 13.3 5.9 13.4 13.2v31.2c-.1 7.4-6 13.2-13.4 13.3zM504 621.4v58.7c-94.9 0-172.1-76-172.1-169.4S409.1 341.3 504 341.3c94.9 0 172.1 76 172.1 169.4 0 19.8-3.4 39.4-10.3 57.9h-66.2c11-17.3 16.8-37.4 16.8-57.9 0-60.9-50.5-110.5-112.5-110.5-61.9 0-112.4 49.6-112.4 110.5.1 61.1 50.5 110.7 112.5 110.7zm-14.2 235.4c3.7-.1 7.3 1.4 10.1 4 2.6 2.6 4.2 6.3 4.2 10v30.8c-.1 7.7-6.4 14-14.2 14h-56.1c-26.7.3-49-20.6-50.4-47.2l-8.2-59.4c-24.6-10.3-47.8-23.4-69.2-39.2l-56.2 22.6c-23.9 12.1-53.1 3.7-66.8-19.3l-70.5-119.7c-13.5-22.9-6.3-52.5 16.4-66.6l48.2-36.7a295.5 295.5 0 0 1 0-78.6L129 434.8c-22.5-14-29.8-43.4-16.5-66.3l70.4-119.9c13.7-23 42.8-31.4 66.7-19.4l56.3 22.6c21.3-15.9 44.7-29 69.2-39.2l8.2-59.3c1.4-26.7 23.6-47.6 50.3-47.3h140.7c27 0 49.1 20.7 50.3 47.2l8.2 59.4c24.6 10.2 47.9 23.4 69.3 39.2l56.3-22.5c23.9-11.9 53-3.6 66.7 19.3l70.2 119.8c13.5 22.9 6.4 52.4-16.3 66.6l-48 36.6c3.4 26.1 3.4 52.6 0 78.6l24.3 18.5h-87.9l2.1-11.1c5.9-30.8 5.9-62.7 0-93.6l-3.2-17.4 73.4-55.9-62.8-107.1-85 35.9-13.9-11.7c-24.5-20.3-52.4-36.1-82.4-46.6l-16.9-6.1-12.7-90.3H441.9l-12.5 90.5-16.9 6.1c-30.1 10.6-58 26.4-82.5 46.7l-13.8 11.5-85.8-34.6-62.1 105.6 73.4 55.9-3.2 17.5c-2.9 15.4-4.4 31-4.5 46.7.1 15.7 1.6 31.4 4.4 46.8l3.1 17.5-73.3 55.9 63 107.1 84.9-35.9 14 11.6c24.5 20.3 52.4 36.1 82.4 46.6l16.9 6.1 12.5 90.5h47.9zm0 0"
  })));
};
/* harmony default export */ const controller_config_icon = (SvgControllerconfigicon);
;// CONCATENATED MODULE: ./console/config/icons/nodes.config.icon.svg
var nodes_config_icon_path;
function nodes_config_icon_extends() { nodes_config_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return nodes_config_icon_extends.apply(this, arguments); }

var SvgNodesconfigicon = function SvgNodesconfigicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", nodes_config_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "nodes_config_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), nodes_config_icon_path || (nodes_config_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M244.94 488.038c-36.044-.614-65.535 27.546-66.866 63.59v104.858h-34.1c-26.828-.614-49.152 20.276-49.766 47.821v139.571c.614 26.83 22.938 47.821 49.766 47.207h135.68c26.83.614 49.152-20.275 49.767-47.821V704.307c-.615-26.829-22.938-48.537-49.767-47.82H235.11v-113.46h247.706v114.074h-39.322c-26.828-.615-49.152 20.275-50.483 47.82v139.572c.615 26.829 22.938 47.82 50.483 47.206H579.79c26.829.615 49.152-20.275 49.766-47.82V704.306c-.614-26.829-22.937-48.537-49.766-47.82h-39.322v-113.46h247.706v114.074h-44.544c-26.829-.615-49.152 20.275-49.767 47.82v139.572c.615 26.829 22.938 47.82 49.767 47.206h136.294c26.829.615 49.152-20.275 49.767-47.82V704.306c-.615-26.829-22.938-48.537-50.484-47.82h-34.099V551.628c-.614-36.045-30.822-64.205-66.867-63.59h-533.3zm17 223.437c5.938 0 10.444 4.608 10.444 9.83v105.473c0 5.939-4.608 9.83-10.445 9.83H161.69c-5.939 0-10.444-4.608-10.444-9.83V721.306c0-5.94 4.608-9.83 10.445-9.83h100.25zm300.236 0c5.94 0 10.445 4.608 10.445 9.83v105.473c0 5.939-4.608 9.83-10.445 9.83H461.21c-5.94 0-10.445-4.608-10.445-9.83V721.306c0-5.94 4.608-9.83 10.445-9.83h100.966zM872.141 826.88c0 5.94-4.608 9.83-10.445 9.83h-100.25c-5.939 0-10.444-4.608-10.444-9.83V721.408c0-5.94 4.608-9.83 10.444-9.83h100.25c5.94 0 10.445 4.608 10.445 9.83V826.88zM642.048 301.875c-3.891-5.222-3.891-12.493 0-17.715l30.822-37.376-3.276-8.5-3.892-8.498c-2.662-6.554-5.222-12.493-7.884-16.384-3.892-8.5-9.216-16.384-15.77-22.938l-5.94-5.94-47.206 6.554c-7.168.615-13.721-3.89-16.384-10.444l-15.052-43.213-9.216-1.331c-23.552-5.223-47.207-5.223-70.759 0l-7.885 1.33-16.384 44.545c-2.662 5.939-8.499 9.216-15.052 9.216h-1.332l-46.49-7.885-6.553 6.554c-12.493 15.052-22.323 32.153-28.877 50.483l-3.276 7.885 30.822 37.376c3.891 4.608 3.891 11.776 0 16.998l-32.154 36.045 3.277 7.885c2.663 10.444 7.168 20.275 12.493 28.876 3.891 7.885 9.216 15.053 15.053 21.607l5.939 5.939 48.538-7.885c6.553-.614 12.492 2.663 15.052 9.216l15.77 44.544 9.216 1.331c23.552 5.223 48.538 5.223 72.09 0l7.884-1.945 16.384-45.875c2.663-5.94 8.5-9.83 15.053-9.216l47.207 7.884 6.553-5.939c12.493-14.438 21.607-30.822 28.16-49.152l3.277-7.885-30.208-36.147zm-129.024 58.368c-37.376 0-67.482-30.105-67.482-67.481 0-37.376 30.106-67.482 67.482-67.482s67.482 30.106 67.482 67.482c0 37.273-30.208 66.764-67.482 67.481zm0 0"
  })));
};
/* harmony default export */ const nodes_config_icon = (SvgNodesconfigicon);
;// CONCATENATED MODULE: ./console/config/icons/nodes.management.icon.svg
var nodes_management_icon_path;
function nodes_management_icon_extends() { nodes_management_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return nodes_management_icon_extends.apply(this, arguments); }

var SvgNodesmanagementicon = function SvgNodesmanagementicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", nodes_management_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "nodes_management_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), nodes_management_icon_path || (nodes_management_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M941.714 704H880V544H550.857V438.857h272c10.057 0 18.286-8.228 18.286-18.286V118.857c0-10.057-8.229-18.286-18.286-18.286H201.143c-10.057 0-18.286 8.229-18.286 18.286v301.714c0 10.058 8.229 18.286 18.286 18.286h272V544H144v160H82.286c-5.029 0-9.143 4.114-9.143 9.143v201.143c0 5.028 4.114 9.143 9.143 9.143h201.143c5.028 0 9.142-4.115 9.142-9.143V713.143c0-5.029-4.114-9.143-9.142-9.143h-61.715v-82.286h251.429V704h-61.714c-5.029 0-9.143 4.114-9.143 9.143v201.143c0 5.028 4.114 9.143 9.143 9.143H612.57c5.029 0 9.143-4.115 9.143-9.143V713.143c0-5.029-4.114-9.143-9.143-9.143h-61.714v-82.286h251.429V704H740.57c-5.028 0-9.142 4.114-9.142 9.143v201.143c0 5.028 4.114 9.143 9.142 9.143h201.143c5.029 0 9.143-4.115 9.143-9.143V713.143c0-5.029-4.114-9.143-9.143-9.143zM219.43 847.2a3.073 3.073 0 0 1-3.086 3.086h-67.086a3.073 3.073 0 0 1-3.086-3.086v-67.086a3.073 3.073 0 0 1 3.086-3.085h67.086a3.073 3.073 0 0 1 3.086 3.085V847.2zm329.142 0a3.073 3.073 0 0 1-3.085 3.086H478.4a3.073 3.073 0 0 1-3.086-3.086v-67.086a3.073 3.073 0 0 1 3.086-3.085h67.086a3.073 3.073 0 0 1 3.085 3.085V847.2zM256 365.714v-192h512v192H256zM877.714 847.2a3.073 3.073 0 0 1-3.085 3.086h-67.086a3.073 3.073 0 0 1-3.086-3.086v-67.086a3.073 3.073 0 0 1 3.086-3.085h67.086a3.073 3.073 0 0 1 3.085 3.085V847.2zM338.286 269.714a45.714 45.714 0 1 0 91.428 0 45.714 45.714 0 1 0-91.428 0z"
  })));
};
/* harmony default export */ const nodes_management_icon = (SvgNodesmanagementicon);
;// CONCATENATED MODULE: ./console/config/index.tsx











function Config() {
    const [tab_key, set_tab_key] = (0,external_React_.useState)('controller_config');
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tabs, { type: 'card', accessKey: tab_key, onChange: set_tab_key, items: [
            {
                key: 'controller_config',
                label: ((0,jsx_runtime.jsxs)("div", { className: 'tab-header', children: [(0,jsx_runtime.jsx)(controller_config_icon, {}), (0,i18n.t)('控制节点配置')] })),
                children: (0,jsx_runtime.jsx)(ControllerConfig, {})
            },
            {
                key: 'nodes_management',
                label: ((0,jsx_runtime.jsxs)("div", { className: 'tab-header', children: [(0,jsx_runtime.jsx)(nodes_management_icon, {}), (0,i18n.t)('集群节点管理')] })),
                children: (0,jsx_runtime.jsx)(NodesManagement, {})
            },
            {
                key: 'nodes_config',
                label: ((0,jsx_runtime.jsxs)("div", { className: 'tab-header', children: [(0,jsx_runtime.jsx)(nodes_config_icon, {}), (0,i18n.t)('集群节点配置')] })),
                children: (0,jsx_runtime.jsx)(NodesConfig, {})
            }
        ] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/index.sass
var shell = __webpack_require__(2872);
;// CONCATENATED MODULE: ./console/shell/index.sass

      
      
      
      
      
      
      
      
      

var shell_options = {};

shell_options.styleTagTransform = (styleTagTransform_default());
shell_options.setAttributes = (setAttributesWithoutAttributes_default());
shell_options.insert = insertBySelector_default().bind(null, "head");
shell_options.domAPI = (styleDomAPI_default());
shell_options.insertStyleElement = (insertStyleElement_default());

var shell_update = injectStylesIntoStyleTag_default()(shell/* default */.A, shell_options);




       /* harmony default export */ const console_shell = (shell/* default */.A && shell/* default */.A.locals ? shell/* default */.A.locals : undefined);

// EXTERNAL MODULE: external "ReactDOM"
var external_ReactDOM_ = __webpack_require__(9280);
;// CONCATENATED MODULE: ./node_modules/.pnpm/re-resizable@6.9.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/re-resizable/lib/resizer.js
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var resizer_assign = (undefined && undefined.__assign) || function () {
    resizer_assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return resizer_assign.apply(this, arguments);
};

var rowSizeBase = {
    width: '100%',
    height: '10px',
    top: '0px',
    left: '0px',
    cursor: 'row-resize',
};
var colSizeBase = {
    width: '10px',
    height: '100%',
    top: '0px',
    left: '0px',
    cursor: 'col-resize',
};
var edgeBase = {
    width: '20px',
    height: '20px',
    position: 'absolute',
};
var styles = {
    top: resizer_assign(resizer_assign({}, rowSizeBase), { top: '-5px' }),
    right: resizer_assign(resizer_assign({}, colSizeBase), { left: undefined, right: '-5px' }),
    bottom: resizer_assign(resizer_assign({}, rowSizeBase), { top: undefined, bottom: '-5px' }),
    left: resizer_assign(resizer_assign({}, colSizeBase), { left: '-5px' }),
    topRight: resizer_assign(resizer_assign({}, edgeBase), { right: '-10px', top: '-10px', cursor: 'ne-resize' }),
    bottomRight: resizer_assign(resizer_assign({}, edgeBase), { right: '-10px', bottom: '-10px', cursor: 'se-resize' }),
    bottomLeft: resizer_assign(resizer_assign({}, edgeBase), { left: '-10px', bottom: '-10px', cursor: 'sw-resize' }),
    topLeft: resizer_assign(resizer_assign({}, edgeBase), { left: '-10px', top: '-10px', cursor: 'nw-resize' }),
};
var Resizer = /** @class */ (function (_super) {
    __extends(Resizer, _super);
    function Resizer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.onMouseDown = function (e) {
            _this.props.onResizeStart(e, _this.props.direction);
        };
        _this.onTouchStart = function (e) {
            _this.props.onResizeStart(e, _this.props.direction);
        };
        return _this;
    }
    Resizer.prototype.render = function () {
        return (external_React_.createElement("div", { className: this.props.className || '', style: resizer_assign(resizer_assign({ position: 'absolute', userSelect: 'none' }, styles[this.props.direction]), (this.props.replaceStyles || {})), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children));
    };
    return Resizer;
}(external_React_.PureComponent));


;// CONCATENATED MODULE: ./node_modules/.pnpm/re-resizable@6.9.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/re-resizable/lib/index.js
var lib_extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var lib_assign = (undefined && undefined.__assign) || function () {
    lib_assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return lib_assign.apply(this, arguments);
};



var DEFAULT_SIZE = {
    width: 'auto',
    height: 'auto',
};
var clamp = function (n, min, max) { return Math.max(Math.min(n, max), min); };
var snap = function (n, size) { return Math.round(n / size) * size; };
var hasDirection = function (dir, target) {
    return new RegExp(dir, 'i').test(target);
};
// INFO: In case of window is a Proxy and does not porxy Events correctly, use isTouchEvent & isMouseEvent to distinguish event type instead of `instanceof`.
var isTouchEvent = function (event) {
    return Boolean(event.touches && event.touches.length);
};
var isMouseEvent = function (event) {
    return Boolean((event.clientX || event.clientX === 0) &&
        (event.clientY || event.clientY === 0));
};
var findClosestSnap = function (n, snapArray, snapGap) {
    if (snapGap === void 0) { snapGap = 0; }
    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);
    var gap = Math.abs(snapArray[closestGapIndex] - n);
    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;
};
var getStringSize = function (n) {
    n = n.toString();
    if (n === 'auto') {
        return n;
    }
    if (n.endsWith('px')) {
        return n;
    }
    if (n.endsWith('%')) {
        return n;
    }
    if (n.endsWith('vh')) {
        return n;
    }
    if (n.endsWith('vw')) {
        return n;
    }
    if (n.endsWith('vmax')) {
        return n;
    }
    if (n.endsWith('vmin')) {
        return n;
    }
    return n + "px";
};
var getPixelSize = function (size, parentSize, innerWidth, innerHeight) {
    if (size && typeof size === 'string') {
        if (size.endsWith('px')) {
            return Number(size.replace('px', ''));
        }
        if (size.endsWith('%')) {
            var ratio = Number(size.replace('%', '')) / 100;
            return parentSize * ratio;
        }
        if (size.endsWith('vw')) {
            var ratio = Number(size.replace('vw', '')) / 100;
            return innerWidth * ratio;
        }
        if (size.endsWith('vh')) {
            var ratio = Number(size.replace('vh', '')) / 100;
            return innerHeight * ratio;
        }
    }
    return size;
};
var calculateNewMax = function (parentSize, innerWidth, innerHeight, maxWidth, maxHeight, minWidth, minHeight) {
    maxWidth = getPixelSize(maxWidth, parentSize.width, innerWidth, innerHeight);
    maxHeight = getPixelSize(maxHeight, parentSize.height, innerWidth, innerHeight);
    minWidth = getPixelSize(minWidth, parentSize.width, innerWidth, innerHeight);
    minHeight = getPixelSize(minHeight, parentSize.height, innerWidth, innerHeight);
    return {
        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),
        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),
        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),
        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),
    };
};
/**
 * transform T | [T, T] to [T, T]
 * @param val
 * @returns
 */
var normalizeToPair = function (val) { return (Array.isArray(val) ? val : [val, val]); };
var definedProps = [
    'as',
    'ref',
    'style',
    'className',
    'grid',
    'snap',
    'bounds',
    'boundsByDirection',
    'size',
    'defaultSize',
    'minWidth',
    'minHeight',
    'maxWidth',
    'maxHeight',
    'lockAspectRatio',
    'lockAspectRatioExtraWidth',
    'lockAspectRatioExtraHeight',
    'enable',
    'handleStyles',
    'handleClasses',
    'handleWrapperStyle',
    'handleWrapperClass',
    'children',
    'onResizeStart',
    'onResize',
    'onResizeStop',
    'handleComponent',
    'scale',
    'resizeRatio',
    'snapGap',
];
// HACK: This class is used to calculate % size.
var baseClassName = '__resizable_base__';
var Resizable = /** @class */ (function (_super) {
    lib_extends(Resizable, _super);
    function Resizable(props) {
        var _this = _super.call(this, props) || this;
        _this.ratio = 1;
        _this.resizable = null;
        // For parent boundary
        _this.parentLeft = 0;
        _this.parentTop = 0;
        // For boundary
        _this.resizableLeft = 0;
        _this.resizableRight = 0;
        _this.resizableTop = 0;
        _this.resizableBottom = 0;
        // For target boundary
        _this.targetLeft = 0;
        _this.targetTop = 0;
        _this.appendBase = function () {
            if (!_this.resizable || !_this.window) {
                return null;
            }
            var parent = _this.parentNode;
            if (!parent) {
                return null;
            }
            var element = _this.window.document.createElement('div');
            element.style.width = '100%';
            element.style.height = '100%';
            element.style.position = 'absolute';
            element.style.transform = 'scale(0, 0)';
            element.style.left = '0';
            element.style.flex = '0 0 100%';
            if (element.classList) {
                element.classList.add(baseClassName);
            }
            else {
                element.className += baseClassName;
            }
            parent.appendChild(element);
            return element;
        };
        _this.removeBase = function (base) {
            var parent = _this.parentNode;
            if (!parent) {
                return;
            }
            parent.removeChild(base);
        };
        _this.ref = function (c) {
            if (c) {
                _this.resizable = c;
            }
        };
        _this.state = {
            isResizing: false,
            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'
                ? 'auto'
                : _this.propsSize && _this.propsSize.width,
            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'
                ? 'auto'
                : _this.propsSize && _this.propsSize.height,
            direction: 'right',
            original: {
                x: 0,
                y: 0,
                width: 0,
                height: 0,
            },
            backgroundStyle: {
                height: '100%',
                width: '100%',
                backgroundColor: 'rgba(0,0,0,0)',
                cursor: 'auto',
                opacity: 0,
                position: 'fixed',
                zIndex: 9999,
                top: '0',
                left: '0',
                bottom: '0',
                right: '0',
            },
            flexBasis: undefined,
        };
        _this.onResizeStart = _this.onResizeStart.bind(_this);
        _this.onMouseMove = _this.onMouseMove.bind(_this);
        _this.onMouseUp = _this.onMouseUp.bind(_this);
        return _this;
    }
    Object.defineProperty(Resizable.prototype, "parentNode", {
        get: function () {
            if (!this.resizable) {
                return null;
            }
            return this.resizable.parentNode;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "window", {
        get: function () {
            if (!this.resizable) {
                return null;
            }
            if (!this.resizable.ownerDocument) {
                return null;
            }
            return this.resizable.ownerDocument.defaultView;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "propsSize", {
        get: function () {
            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "size", {
        get: function () {
            var width = 0;
            var height = 0;
            if (this.resizable && this.window) {
                var orgWidth = this.resizable.offsetWidth;
                var orgHeight = this.resizable.offsetHeight;
                // HACK: Set position `relative` to get parent size.
                //       This is because when re-resizable set `absolute`, I can not get base width correctly.
                var orgPosition = this.resizable.style.position;
                if (orgPosition !== 'relative') {
                    this.resizable.style.position = 'relative';
                }
                // INFO: Use original width or height if set auto.
                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;
                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;
                // Restore original position
                this.resizable.style.position = orgPosition;
            }
            return { width: width, height: height };
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "sizeStyle", {
        get: function () {
            var _this = this;
            var size = this.props.size;
            var getSize = function (key) {
                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {
                    return 'auto';
                }
                if (_this.propsSize && _this.propsSize[key] && _this.propsSize[key].toString().endsWith('%')) {
                    if (_this.state[key].toString().endsWith('%')) {
                        return _this.state[key].toString();
                    }
                    var parentSize = _this.getParentSize();
                    var value = Number(_this.state[key].toString().replace('px', ''));
                    var percent = (value / parentSize[key]) * 100;
                    return percent + "%";
                }
                return getStringSize(_this.state[key]);
            };
            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing
                ? getStringSize(size.width)
                : getSize('width');
            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing
                ? getStringSize(size.height)
                : getSize('height');
            return { width: width, height: height };
        },
        enumerable: false,
        configurable: true
    });
    Resizable.prototype.getParentSize = function () {
        if (!this.parentNode) {
            if (!this.window) {
                return { width: 0, height: 0 };
            }
            return { width: this.window.innerWidth, height: this.window.innerHeight };
        }
        var base = this.appendBase();
        if (!base) {
            return { width: 0, height: 0 };
        }
        // INFO: To calculate parent width with flex layout
        var wrapChanged = false;
        var wrap = this.parentNode.style.flexWrap;
        if (wrap !== 'wrap') {
            wrapChanged = true;
            this.parentNode.style.flexWrap = 'wrap';
            // HACK: Use relative to get parent padding size
        }
        base.style.position = 'relative';
        base.style.minWidth = '100%';
        base.style.minHeight = '100%';
        var size = {
            width: base.offsetWidth,
            height: base.offsetHeight,
        };
        if (wrapChanged) {
            this.parentNode.style.flexWrap = wrap;
        }
        this.removeBase(base);
        return size;
    };
    Resizable.prototype.bindEvents = function () {
        if (this.window) {
            this.window.addEventListener('mouseup', this.onMouseUp);
            this.window.addEventListener('mousemove', this.onMouseMove);
            this.window.addEventListener('mouseleave', this.onMouseUp);
            this.window.addEventListener('touchmove', this.onMouseMove, {
                capture: true,
                passive: false,
            });
            this.window.addEventListener('touchend', this.onMouseUp);
        }
    };
    Resizable.prototype.unbindEvents = function () {
        if (this.window) {
            this.window.removeEventListener('mouseup', this.onMouseUp);
            this.window.removeEventListener('mousemove', this.onMouseMove);
            this.window.removeEventListener('mouseleave', this.onMouseUp);
            this.window.removeEventListener('touchmove', this.onMouseMove, true);
            this.window.removeEventListener('touchend', this.onMouseUp);
        }
    };
    Resizable.prototype.componentDidMount = function () {
        if (!this.resizable || !this.window) {
            return;
        }
        var computedStyle = this.window.getComputedStyle(this.resizable);
        this.setState({
            width: this.state.width || this.size.width,
            height: this.state.height || this.size.height,
            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,
        });
    };
    Resizable.prototype.componentWillUnmount = function () {
        if (this.window) {
            this.unbindEvents();
        }
    };
    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {
        var propsSize = this.propsSize && this.propsSize[kind];
        return this.state[kind] === 'auto' &&
            this.state.original[kind] === newSize &&
            (typeof propsSize === 'undefined' || propsSize === 'auto')
            ? 'auto'
            : newSize;
    };
    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {
        var boundsByDirection = this.props.boundsByDirection;
        var direction = this.state.direction;
        var widthByDirection = boundsByDirection && hasDirection('left', direction);
        var heightByDirection = boundsByDirection && hasDirection('top', direction);
        var boundWidth;
        var boundHeight;
        if (this.props.bounds === 'parent') {
            var parent_1 = this.parentNode;
            if (parent_1) {
                boundWidth = widthByDirection
                    ? this.resizableRight - this.parentLeft
                    : parent_1.offsetWidth + (this.parentLeft - this.resizableLeft);
                boundHeight = heightByDirection
                    ? this.resizableBottom - this.parentTop
                    : parent_1.offsetHeight + (this.parentTop - this.resizableTop);
            }
        }
        else if (this.props.bounds === 'window') {
            if (this.window) {
                boundWidth = widthByDirection ? this.resizableRight : this.window.innerWidth - this.resizableLeft;
                boundHeight = heightByDirection ? this.resizableBottom : this.window.innerHeight - this.resizableTop;
            }
        }
        else if (this.props.bounds) {
            boundWidth = widthByDirection
                ? this.resizableRight - this.targetLeft
                : this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);
            boundHeight = heightByDirection
                ? this.resizableBottom - this.targetTop
                : this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);
        }
        if (boundWidth && Number.isFinite(boundWidth)) {
            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;
        }
        if (boundHeight && Number.isFinite(boundHeight)) {
            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;
        }
        return { maxWidth: maxWidth, maxHeight: maxHeight };
    };
    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {
        var scale = this.props.scale || 1;
        var _a = normalizeToPair(this.props.resizeRatio || 1), resizeRatioX = _a[0], resizeRatioY = _a[1];
        var _b = this.state, direction = _b.direction, original = _b.original;
        var _c = this.props, lockAspectRatio = _c.lockAspectRatio, lockAspectRatioExtraHeight = _c.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _c.lockAspectRatioExtraWidth;
        var newWidth = original.width;
        var newHeight = original.height;
        var extraHeight = lockAspectRatioExtraHeight || 0;
        var extraWidth = lockAspectRatioExtraWidth || 0;
        if (hasDirection('right', direction)) {
            newWidth = original.width + ((clientX - original.x) * resizeRatioX) / scale;
            if (lockAspectRatio) {
                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;
            }
        }
        if (hasDirection('left', direction)) {
            newWidth = original.width - ((clientX - original.x) * resizeRatioX) / scale;
            if (lockAspectRatio) {
                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;
            }
        }
        if (hasDirection('bottom', direction)) {
            newHeight = original.height + ((clientY - original.y) * resizeRatioY) / scale;
            if (lockAspectRatio) {
                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;
            }
        }
        if (hasDirection('top', direction)) {
            newHeight = original.height - ((clientY - original.y) * resizeRatioY) / scale;
            if (lockAspectRatio) {
                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;
            }
        }
        return { newWidth: newWidth, newHeight: newHeight };
    };
    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {
        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;
        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;
        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;
        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;
        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;
        var extraHeight = lockAspectRatioExtraHeight || 0;
        var extraWidth = lockAspectRatioExtraWidth || 0;
        if (lockAspectRatio) {
            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;
            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;
            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;
            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;
            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);
            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);
            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);
            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);
            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);
            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);
        }
        else {
            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);
            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);
        }
        return { newWidth: newWidth, newHeight: newHeight };
    };
    Resizable.prototype.setBoundingClientRect = function () {
        // For parent boundary
        if (this.props.bounds === 'parent') {
            var parent_2 = this.parentNode;
            if (parent_2) {
                var parentRect = parent_2.getBoundingClientRect();
                this.parentLeft = parentRect.left;
                this.parentTop = parentRect.top;
            }
        }
        // For target(html element) boundary
        if (this.props.bounds && typeof this.props.bounds !== 'string') {
            var targetRect = this.props.bounds.getBoundingClientRect();
            this.targetLeft = targetRect.left;
            this.targetTop = targetRect.top;
        }
        // For boundary
        if (this.resizable) {
            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top, right = _a.right, bottom = _a.bottom;
            this.resizableLeft = left;
            this.resizableRight = right;
            this.resizableTop = top_1;
            this.resizableBottom = bottom;
        }
    };
    Resizable.prototype.onResizeStart = function (event, direction) {
        if (!this.resizable || !this.window) {
            return;
        }
        var clientX = 0;
        var clientY = 0;
        if (event.nativeEvent && isMouseEvent(event.nativeEvent)) {
            clientX = event.nativeEvent.clientX;
            clientY = event.nativeEvent.clientY;
        }
        else if (event.nativeEvent && isTouchEvent(event.nativeEvent)) {
            clientX = event.nativeEvent.touches[0].clientX;
            clientY = event.nativeEvent.touches[0].clientY;
        }
        if (this.props.onResizeStart) {
            if (this.resizable) {
                var startResize = this.props.onResizeStart(event, direction, this.resizable);
                if (startResize === false) {
                    return;
                }
            }
        }
        // Fix #168
        if (this.props.size) {
            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {
                this.setState({ height: this.props.size.height });
            }
            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {
                this.setState({ width: this.props.size.width });
            }
        }
        // For lockAspectRatio case
        this.ratio =
            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;
        var flexBasis;
        var computedStyle = this.window.getComputedStyle(this.resizable);
        if (computedStyle.flexBasis !== 'auto') {
            var parent_3 = this.parentNode;
            if (parent_3) {
                var dir = this.window.getComputedStyle(parent_3).flexDirection;
                this.flexDir = dir.startsWith('row') ? 'row' : 'column';
                flexBasis = computedStyle.flexBasis;
            }
        }
        // For boundary
        this.setBoundingClientRect();
        this.bindEvents();
        var state = {
            original: {
                x: clientX,
                y: clientY,
                width: this.size.width,
                height: this.size.height,
            },
            isResizing: true,
            backgroundStyle: lib_assign(lib_assign({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(event.target).cursor || 'auto' }),
            direction: direction,
            flexBasis: flexBasis,
        };
        this.setState(state);
    };
    Resizable.prototype.onMouseMove = function (event) {
        var _this = this;
        if (!this.state.isResizing || !this.resizable || !this.window) {
            return;
        }
        if (this.window.TouchEvent && isTouchEvent(event)) {
            try {
                event.preventDefault();
                event.stopPropagation();
            }
            catch (e) {
                // Ignore on fail
            }
        }
        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;
        var clientX = isTouchEvent(event) ? event.touches[0].clientX : event.clientX;
        var clientY = isTouchEvent(event) ? event.touches[0].clientY : event.clientY;
        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;
        var parentSize = this.getParentSize();
        var max = calculateNewMax(parentSize, this.window.innerWidth, this.window.innerHeight, maxWidth, maxHeight, minWidth, minHeight);
        maxWidth = max.maxWidth;
        maxHeight = max.maxHeight;
        minWidth = max.minWidth;
        minHeight = max.minHeight;
        // Calculate new size
        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;
        // Calculate max size from boundary settings
        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);
        if (this.props.snap && this.props.snap.x) {
            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);
        }
        if (this.props.snap && this.props.snap.y) {
            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);
        }
        // Calculate new size from aspect ratio
        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });
        newWidth = newSize.newWidth;
        newHeight = newSize.newHeight;
        if (this.props.grid) {
            var newGridWidth = snap(newWidth, this.props.grid[0]);
            var newGridHeight = snap(newHeight, this.props.grid[1]);
            var gap = this.props.snapGap || 0;
            var w = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;
            var h = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;
            newWidth = w;
            newHeight = h;
        }
        var delta = {
            width: newWidth - original.width,
            height: newHeight - original.height,
        };
        if (width && typeof width === 'string') {
            if (width.endsWith('%')) {
                var percent = (newWidth / parentSize.width) * 100;
                newWidth = percent + "%";
            }
            else if (width.endsWith('vw')) {
                var vw = (newWidth / this.window.innerWidth) * 100;
                newWidth = vw + "vw";
            }
            else if (width.endsWith('vh')) {
                var vh = (newWidth / this.window.innerHeight) * 100;
                newWidth = vh + "vh";
            }
        }
        if (height && typeof height === 'string') {
            if (height.endsWith('%')) {
                var percent = (newHeight / parentSize.height) * 100;
                newHeight = percent + "%";
            }
            else if (height.endsWith('vw')) {
                var vw = (newHeight / this.window.innerWidth) * 100;
                newHeight = vw + "vw";
            }
            else if (height.endsWith('vh')) {
                var vh = (newHeight / this.window.innerHeight) * 100;
                newHeight = vh + "vh";
            }
        }
        var newState = {
            width: this.createSizeForCssProperty(newWidth, 'width'),
            height: this.createSizeForCssProperty(newHeight, 'height'),
        };
        if (this.flexDir === 'row') {
            newState.flexBasis = newState.width;
        }
        else if (this.flexDir === 'column') {
            newState.flexBasis = newState.height;
        }
        var widthChanged = this.state.width !== newState.width;
        var heightChanged = this.state.height !== newState.height;
        var flexBaseChanged = this.state.flexBasis !== newState.flexBasis;
        var changed = widthChanged || heightChanged || flexBaseChanged;
        if (changed) {
            // For v18, update state sync
            (0,external_ReactDOM_.flushSync)(function () {
                _this.setState(newState);
            });
        }
        if (this.props.onResize) {
            if (changed) {
                this.props.onResize(event, direction, this.resizable, delta);
            }
        }
    };
    Resizable.prototype.onMouseUp = function (event) {
        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;
        if (!isResizing || !this.resizable) {
            return;
        }
        var delta = {
            width: this.size.width - original.width,
            height: this.size.height - original.height,
        };
        if (this.props.onResizeStop) {
            this.props.onResizeStop(event, direction, this.resizable, delta);
        }
        if (this.props.size) {
            this.setState(this.props.size);
        }
        this.unbindEvents();
        this.setState({
            isResizing: false,
            backgroundStyle: lib_assign(lib_assign({}, this.state.backgroundStyle), { cursor: 'auto' }),
        });
    };
    Resizable.prototype.updateSize = function (size) {
        this.setState({ width: size.width, height: size.height });
    };
    Resizable.prototype.renderResizer = function () {
        var _this = this;
        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;
        if (!enable) {
            return null;
        }
        var resizers = Object.keys(enable).map(function (dir) {
            if (enable[dir] !== false) {
                return (external_React_.createElement(Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));
            }
            return null;
        });
        // #93 Wrap the resize box in span (will not break 100% width/height)
        return (external_React_.createElement("div", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));
    };
    Resizable.prototype.render = function () {
        var _this = this;
        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {
            if (definedProps.indexOf(key) !== -1) {
                return acc;
            }
            acc[key] = _this.props[key];
            return acc;
        }, {});
        var style = lib_assign(lib_assign(lib_assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });
        if (this.state.flexBasis) {
            style.flexBasis = this.state.flexBasis;
        }
        var Wrapper = this.props.as || 'div';
        return (external_React_.createElement(Wrapper, lib_assign({ ref: this.ref, style: style, className: this.props.className }, extendsProps),
            this.state.isResizing && external_React_.createElement("div", { style: this.state.backgroundStyle }),
            this.props.children,
            this.renderResizer()));
    };
    Resizable.defaultProps = {
        as: 'div',
        onResizeStart: function () { },
        onResize: function () { },
        onResizeStop: function () { },
        enable: {
            top: true,
            right: true,
            bottom: true,
            left: true,
            topRight: true,
            bottomRight: true,
            bottomLeft: true,
            topLeft: true,
        },
        style: {},
        grid: [1, 1],
        lockAspectRatio: false,
        lockAspectRatioExtraWidth: 0,
        lockAspectRatioExtraHeight: 0,
        scale: 1,
        resizeRatio: 1,
        snapGap: 0,
    };
    return Resizable;
}(external_React_.PureComponent));


// EXTERNAL MODULE: ./node_modules/.pnpm/xshell@1.0.106_react-dom@18.3.1_react@18.3.1_/node_modules/xshell/chalk.browser.js
var chalk_browser = __webpack_require__(3111);
// EXTERNAL MODULE: ./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js
var classnames = __webpack_require__(7500);
var classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);
// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/components/copy/CopyIconButton.scss
var CopyIconButton = __webpack_require__(4944);
;// CONCATENATED MODULE: ./console/components/copy/CopyIconButton.scss

      
      
      
      
      
      
      
      
      

var CopyIconButton_options = {};

CopyIconButton_options.styleTagTransform = (styleTagTransform_default());
CopyIconButton_options.setAttributes = (setAttributesWithoutAttributes_default());
CopyIconButton_options.insert = insertBySelector_default().bind(null, "head");
CopyIconButton_options.domAPI = (styleDomAPI_default());
CopyIconButton_options.insertStyleElement = (insertStyleElement_default());

var CopyIconButton_update = injectStylesIntoStyleTag_default()(CopyIconButton/* default */.A, CopyIconButton_options);




       /* harmony default export */ const copy_CopyIconButton = (CopyIconButton/* default */.A && CopyIconButton/* default */.A.locals ? CopyIconButton/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/copy-to-clipboard@3.3.3/node_modules/copy-to-clipboard/index.js
var copy_to_clipboard = __webpack_require__(3042);
var copy_to_clipboard_default = /*#__PURE__*/__webpack_require__.n(copy_to_clipboard);
;// CONCATENATED MODULE: ./console/components/copy/copy.icon.svg
var copy_icon_path;
function copy_icon_extends() { copy_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return copy_icon_extends.apply(this, arguments); }

var SvgCopyicon = function SvgCopyicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", copy_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 19 21"
  }, props), copy_icon_path || (copy_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#A6A6A6",
    d: "M6.142 4.27a1.437 1.437 0 0 0-1.438 1.438v13.417a1.438 1.438 0 0 0 1.438 1.438h10.542a1.438 1.438 0 0 0 1.437-1.438V5.708a1.437 1.437 0 0 0-1.437-1.437H6.142Zm.48 1.918h9.582v12.458H6.621V6.187ZM2.311.438A1.437 1.437 0 0 0 .881 1.736l-.006.138v12.93a.958.958 0 0 0 1.91.113l.007-.112V2.354h9.58a.958.958 0 0 0 .95-.846l.008-.112a.958.958 0 0 0-.847-.952l-.112-.007H2.312Z"
  })));
};
/* harmony default export */ const copy_icon = (SvgCopyicon);
;// CONCATENATED MODULE: ./console/components/copy/copied.icon.svg
var copied_icon_path;
function copied_icon_extends() { copied_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return copied_icon_extends.apply(this, arguments); }

var SvgCopiedicon = function SvgCopiedicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", copied_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 22 18"
  }, props), copied_icon_path || (copied_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    stroke: "#3EB456",
    strokeLinecap: "round",
    strokeWidth: 3,
    d: "M2 8.76 8.75 15 20 2"
  })));
};
/* harmony default export */ const copied_icon = (SvgCopiedicon);
;// CONCATENATED MODULE: ./console/components/copy/CopyIconButton.tsx









const COPY_TOOLTIPS = [(0,i18n.t)('复制'), (0,i18n.t)('复制成功')];
function CopyIconButton_CopyIconButton(props) {
    const { onCopy: on_copy_props, text, copyOptions: copy_options, copyTooltips = COPY_TOOLTIPS, ...button_props } = props;
    const [copied, set_copied] = (0,external_React_.useState)(false);
    function onCopy() {
        copy_to_clipboard_default()(text, copy_options);
        set_copied(true);
        on_copy_props?.();
    }
    (0,external_React_.useEffect)(() => {
        if (copied) {
            const timeout = setTimeout(() => {
                set_copied(false);
            }, 2000);
            return () => { clearTimeout(timeout); };
        }
    }, [copied]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: copied ? copyTooltips[1] : copyTooltips[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { ...button_props, className: classnames_default()('copy-icon-button', button_props.className), icon: copied ? (0,jsx_runtime.jsx)(copied_icon, {}) : (0,jsx_runtime.jsx)(copy_icon, {}), onClick: onCopy }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/Editor/index.sass
var Editor = __webpack_require__(938);
;// CONCATENATED MODULE: ./console/shell/Editor/index.sass

      
      
      
      
      
      
      
      
      

var Editor_options = {};

Editor_options.styleTagTransform = (styleTagTransform_default());
Editor_options.setAttributes = (setAttributesWithoutAttributes_default());
Editor_options.insert = insertBySelector_default().bind(null, "head");
Editor_options.domAPI = (styleDomAPI_default());
Editor_options.insertStyleElement = (insertStyleElement_default());

var Editor_update = injectStylesIntoStyleTag_default()(Editor/* default */.A, Editor_options);




       /* harmony default export */ const shell_Editor = (Editor/* default */.A && Editor/* default */.A.locals ? Editor/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/_virtual/_rollupPluginBabelHelpers.js
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

  return arr2;
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}



;// CONCATENATED MODULE: ./node_modules/.pnpm/state-local@1.0.7/node_modules/state-local/lib/es/state-local.js
function state_local_defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function state_local_ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function state_local_objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      state_local_ownKeys(Object(source), true).forEach(function (key) {
        state_local_defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      state_local_ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function compose() {
  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {
    fns[_key] = arguments[_key];
  }

  return function (x) {
    return fns.reduceRight(function (y, f) {
      return f(y);
    }, x);
  };
}

function curry(fn) {
  return function curried() {
    var _this = this;

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return args.length >= fn.length ? fn.apply(this, args) : function () {
      for (var _len3 = arguments.length, nextArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        nextArgs[_key3] = arguments[_key3];
      }

      return curried.apply(_this, [].concat(args, nextArgs));
    };
  };
}

function isObject(value) {
  return {}.toString.call(value).includes('Object');
}

function isEmpty(obj) {
  return !Object.keys(obj).length;
}

function state_local_isFunction(value) {
  return typeof value === 'function';
}

function state_local_hasOwnProperty(object, property) {
  return Object.prototype.hasOwnProperty.call(object, property);
}

function validateChanges(initial, changes) {
  if (!isObject(changes)) errorHandler('changeType');
  if (Object.keys(changes).some(function (field) {
    return !state_local_hasOwnProperty(initial, field);
  })) errorHandler('changeField');
  return changes;
}

function validateSelector(selector) {
  if (!state_local_isFunction(selector)) errorHandler('selectorType');
}

function validateHandler(handler) {
  if (!(state_local_isFunction(handler) || isObject(handler))) errorHandler('handlerType');
  if (isObject(handler) && Object.values(handler).some(function (_handler) {
    return !state_local_isFunction(_handler);
  })) errorHandler('handlersType');
}

function validateInitial(initial) {
  if (!initial) errorHandler('initialIsRequired');
  if (!isObject(initial)) errorHandler('initialType');
  if (isEmpty(initial)) errorHandler('initialContent');
}

function throwError(errorMessages, type) {
  throw new Error(errorMessages[type] || errorMessages["default"]);
}

var errorMessages = {
  initialIsRequired: 'initial state is required',
  initialType: 'initial state should be an object',
  initialContent: 'initial state shouldn\'t be an empty object',
  handlerType: 'handler should be an object or a function',
  handlersType: 'all handlers should be a functions',
  selectorType: 'selector should be a function',
  changeType: 'provided value of changes should be an object',
  changeField: 'it seams you want to change a field in the state which is not specified in the "initial" state',
  "default": 'an unknown error accured in `state-local` package'
};
var errorHandler = curry(throwError)(errorMessages);
var validators = {
  changes: validateChanges,
  selector: validateSelector,
  handler: validateHandler,
  initial: validateInitial
};

function state_local_create(initial) {
  var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  validators.initial(initial);
  validators.handler(handler);
  var state = {
    current: initial
  };
  var didUpdate = curry(didStateUpdate)(state, handler);
  var update = curry(updateState)(state);
  var validate = curry(validators.changes)(initial);
  var getChanges = curry(extractChanges)(state);

  function getState() {
    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {
      return state;
    };
    validators.selector(selector);
    return selector(state.current);
  }

  function setState(causedChanges) {
    compose(didUpdate, update, validate, getChanges)(causedChanges);
  }

  return [getState, setState];
}

function extractChanges(state, causedChanges) {
  return state_local_isFunction(causedChanges) ? causedChanges(state.current) : causedChanges;
}

function updateState(state, changes) {
  state.current = state_local_objectSpread2(state_local_objectSpread2({}, state.current), changes);
  return changes;
}

function didStateUpdate(state, handler, changes) {
  state_local_isFunction(handler) ? handler(state.current) : Object.keys(changes).forEach(function (field) {
    var _handler$field;

    return (_handler$field = handler[field]) === null || _handler$field === void 0 ? void 0 : _handler$field.call(handler, state.current[field]);
  });
  return changes;
}

var index = {
  create: state_local_create
};

/* harmony default export */ const state_local = (index);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/config/index.js
var config_config = {
  paths: {
    vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs'
  }
};

/* harmony default export */ const es_config = (config_config);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/utils/curry.js
function curry_curry(fn) {
  return function curried() {
    var _this = this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return args.length >= fn.length ? fn.apply(this, args) : function () {
      for (var _len2 = arguments.length, nextArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        nextArgs[_key2] = arguments[_key2];
      }

      return curried.apply(_this, [].concat(args, nextArgs));
    };
  };
}

/* harmony default export */ const utils_curry = (curry_curry);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/utils/isObject.js
function isObject_isObject(value) {
  return {}.toString.call(value).includes('Object');
}

/* harmony default export */ const utils_isObject = (isObject_isObject);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/validators/index.js



/**
 * validates the configuration object and informs about deprecation
 * @param {Object} config - the configuration object 
 * @return {Object} config - the validated configuration object
 */

function validateConfig(config) {
  if (!config) validators_errorHandler('configIsRequired');
  if (!utils_isObject(config)) validators_errorHandler('configType');

  if (config.urls) {
    informAboutDeprecation();
    return {
      paths: {
        vs: config.urls.monacoBase
      }
    };
  }

  return config;
}
/**
 * logs deprecation message
 */


function informAboutDeprecation() {
  console.warn(validators_errorMessages.deprecation);
}

function validators_throwError(errorMessages, type) {
  throw new Error(errorMessages[type] || errorMessages["default"]);
}

var validators_errorMessages = {
  configIsRequired: 'the configuration object is required',
  configType: 'the configuration object should be an object',
  "default": 'an unknown error accured in `@monaco-editor/loader` package',
  deprecation: "Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "
};
var validators_errorHandler = utils_curry(validators_throwError)(validators_errorMessages);
var validators_validators = {
  config: validateConfig
};

/* harmony default export */ const es_validators = (validators_validators);


;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/utils/compose.js
var compose_compose = function compose() {
  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {
    fns[_key] = arguments[_key];
  }

  return function (x) {
    return fns.reduceRight(function (y, f) {
      return f(y);
    }, x);
  };
};

/* harmony default export */ const utils_compose = (compose_compose);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/utils/deepMerge.js


function merge(target, source) {
  Object.keys(source).forEach(function (key) {
    if (source[key] instanceof Object) {
      if (target[key]) {
        Object.assign(source[key], merge(target[key], source[key]));
      }
    }
  });
  return _objectSpread2(_objectSpread2({}, target), source);
}

/* harmony default export */ const deepMerge = (merge);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/utils/makeCancelable.js
// The source (has been changed) is https://github.com/facebook/react/issues/5465#issuecomment-157888325
var CANCELATION_MESSAGE = {
  type: 'cancelation',
  msg: 'operation is manually canceled'
};

function makeCancelable(promise) {
  var hasCanceled_ = false;
  var wrappedPromise = new Promise(function (resolve, reject) {
    promise.then(function (val) {
      return hasCanceled_ ? reject(CANCELATION_MESSAGE) : resolve(val);
    });
    promise["catch"](reject);
  });
  return wrappedPromise.cancel = function () {
    return hasCanceled_ = true;
  }, wrappedPromise;
}

/* harmony default export */ const utils_makeCancelable = (makeCancelable);


;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/loader/index.js








/** the local state of the module */

var _state$create = state_local.create({
  config: es_config,
  isInitialized: false,
  resolve: null,
  reject: null,
  monaco: null
}),
    _state$create2 = _slicedToArray(_state$create, 2),
    getState = _state$create2[0],
    setState = _state$create2[1];
/**
 * set the loader configuration
 * @param {Object} config - the configuration object
 */


function loader_config(globalConfig) {
  var _validators$config = es_validators.config(globalConfig),
      monaco = _validators$config.monaco,
      config = _objectWithoutProperties(_validators$config, ["monaco"]);

  setState(function (state) {
    return {
      config: deepMerge(state.config, config),
      monaco: monaco
    };
  });
}
/**
 * handles the initialization of the monaco-editor
 * @return {Promise} - returns an instance of monaco (with a cancelable promise)
 */


function init() {
  var state = getState(function (_ref) {
    var monaco = _ref.monaco,
        isInitialized = _ref.isInitialized,
        resolve = _ref.resolve;
    return {
      monaco: monaco,
      isInitialized: isInitialized,
      resolve: resolve
    };
  });

  if (!state.isInitialized) {
    setState({
      isInitialized: true
    });

    if (state.monaco) {
      state.resolve(state.monaco);
      return utils_makeCancelable(wrapperPromise);
    }

    if (window.monaco && window.monaco.editor) {
      storeMonacoInstance(window.monaco);
      state.resolve(window.monaco);
      return utils_makeCancelable(wrapperPromise);
    }

    utils_compose(injectScripts, getMonacoLoaderScript)(configureLoader);
  }

  return utils_makeCancelable(wrapperPromise);
}
/**
 * injects provided scripts into the document.body
 * @param {Object} script - an HTML script element
 * @return {Object} - the injected HTML script element
 */


function injectScripts(script) {
  return document.body.appendChild(script);
}
/**
 * creates an HTML script element with/without provided src
 * @param {string} [src] - the source path of the script
 * @return {Object} - the created HTML script element
 */


function createScript(src) {
  var script = document.createElement('script');
  return src && (script.src = src), script;
}
/**
 * creates an HTML script element with the monaco loader src
 * @return {Object} - the created HTML script element
 */


function getMonacoLoaderScript(configureLoader) {
  var state = getState(function (_ref2) {
    var config = _ref2.config,
        reject = _ref2.reject;
    return {
      config: config,
      reject: reject
    };
  });
  var loaderScript = createScript("".concat(state.config.paths.vs, "/loader.js"));

  loaderScript.onload = function () {
    return configureLoader();
  };

  loaderScript.onerror = state.reject;
  return loaderScript;
}
/**
 * configures the monaco loader
 */


function configureLoader() {
  var state = getState(function (_ref3) {
    var config = _ref3.config,
        resolve = _ref3.resolve,
        reject = _ref3.reject;
    return {
      config: config,
      resolve: resolve,
      reject: reject
    };
  });
  var require = window.require;

  require.config(state.config);

  require(['vs/editor/editor.main'], function (monaco) {
    storeMonacoInstance(monaco);
    state.resolve(monaco);
  }, function (error) {
    state.reject(error);
  });
}
/**
 * store monaco instance in local state
 */


function storeMonacoInstance(monaco) {
  if (!getState().monaco) {
    setState({
      monaco: monaco
    });
  }
}
/**
 * internal helper function
 * extracts stored monaco instance
 * @return {Object|null} - the monaco instance
 */


function __getMonacoInstance() {
  return getState(function (_ref4) {
    var monaco = _ref4.monaco;
    return monaco;
  });
}

var wrapperPromise = new Promise(function (resolve, reject) {
  return setState({
    resolve: resolve,
    reject: reject
  });
});
var loader = {
  config: loader_config,
  init: init,
  __getMonacoInstance: __getMonacoInstance
};

/* harmony default export */ const es_loader = (loader);

;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+loader@1.4.0_monaco-editor@0.48.0/node_modules/@monaco-editor/loader/lib/es/index.js



;// CONCATENATED MODULE: ./node_modules/.pnpm/@monaco-editor+react@4.6.0_monaco-editor@0.48.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@monaco-editor/react/dist/index.mjs
var le={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},v=le;var ae={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Y=ae;function Me({children:e}){return external_React_.createElement("div",{style:Y.container},e)}var Z=Me;var $=Z;function Ee({width:e,height:r,isEditorReady:n,loading:t,_ref:a,className:m,wrapperProps:E}){return external_React_.createElement("section",{style:{...v.wrapper,width:e,height:r},...E},!n&&external_React_.createElement($,null,t),external_React_.createElement("div",{ref:a,style:{...v.fullWidth,...!n&&v.hide},className:m}))}var ee=Ee;var H=(0,external_React_.memo)(ee);function Ce(e){(0,external_React_.useEffect)(e,[])}var k=Ce;function he(e,r,n=!0){let t=(0,external_React_.useRef)(!0);(0,external_React_.useEffect)(t.current||!n?()=>{t.current=!1}:e,r)}var l=he;function D(){}function h(e,r,n,t){return De(e,t)||be(e,r,n,t)}function De(e,r){return e.editor.getModel(te(e,r))}function be(e,r,n,t){return e.editor.createModel(r,n,t?te(e,t):void 0)}function te(e,r){return e.Uri.parse(r)}function Oe({original:e,modified:r,language:n,originalLanguage:t,modifiedLanguage:a,originalModelPath:m,modifiedModelPath:E,keepCurrentOriginalModel:g=!1,keepCurrentModifiedModel:N=!1,theme:x="light",loading:P="Loading...",options:y={},height:V="100%",width:z="100%",className:F,wrapperProps:j={},beforeMount:A=D,onMount:q=D}){let[M,O]=(0,external_React_.useState)(!1),[T,s]=(0,external_React_.useState)(!0),u=(0,external_React_.useRef)(null),c=(0,external_React_.useRef)(null),w=(0,external_React_.useRef)(null),d=(0,external_React_.useRef)(q),o=(0,external_React_.useRef)(A),b=(0,external_React_.useRef)(!1);k(()=>{let i=es_loader.init();return i.then(f=>(c.current=f)&&s(!1)).catch(f=>f?.type!=="cancelation"&&console.error("Monaco initialization: error:",f)),()=>u.current?I():i.cancel()}),l(()=>{if(u.current&&c.current){let i=u.current.getOriginalEditor(),f=h(c.current,e||"",t||n||"text",m||"");f!==i.getModel()&&i.setModel(f)}},[m],M),l(()=>{if(u.current&&c.current){let i=u.current.getModifiedEditor(),f=h(c.current,r||"",a||n||"text",E||"");f!==i.getModel()&&i.setModel(f)}},[E],M),l(()=>{let i=u.current.getModifiedEditor();i.getOption(c.current.editor.EditorOption.readOnly)?i.setValue(r||""):r!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[r],M),l(()=>{u.current?.getModel()?.original.setValue(e||"")},[e],M),l(()=>{let{original:i,modified:f}=u.current.getModel();c.current.editor.setModelLanguage(i,t||n||"text"),c.current.editor.setModelLanguage(f,a||n||"text")},[n,t,a],M),l(()=>{c.current?.editor.setTheme(x)},[x],M),l(()=>{u.current?.updateOptions(y)},[y],M);let L=(0,external_React_.useCallback)(()=>{if(!c.current)return;o.current(c.current);let i=h(c.current,e||"",t||n||"text",m||""),f=h(c.current,r||"",a||n||"text",E||"");u.current?.setModel({original:i,modified:f})},[n,r,a,e,t,m,E]),U=(0,external_React_.useCallback)(()=>{!b.current&&w.current&&(u.current=c.current.editor.createDiffEditor(w.current,{automaticLayout:!0,...y}),L(),c.current?.editor.setTheme(x),O(!0),b.current=!0)},[y,x,L]);(0,external_React_.useEffect)(()=>{M&&d.current(u.current,c.current)},[M]),(0,external_React_.useEffect)(()=>{!T&&!M&&U()},[T,M,U]);function I(){let i=u.current?.getModel();g||i?.original?.dispose(),N||i?.modified?.dispose(),u.current?.dispose()}return external_React_.createElement(H,{width:z,height:V,isEditorReady:M,loading:P,_ref:w,className:F,wrapperProps:j})}var ie=Oe;var we=(0,external_React_.memo)(ie);function Pe(){let[e,r]=(0,external_React_.useState)(es_loader.__getMonacoInstance());return k(()=>{let n;return e||(n=es_loader.init(),n.then(t=>{r(t)})),()=>n?.cancel()}),e}var Le=Pe;function He(e){let r=(0,external_React_.useRef)();return (0,external_React_.useEffect)(()=>{r.current=e},[e]),r.current}var se=He;var _=new Map;function Ve({defaultValue:e,defaultLanguage:r,defaultPath:n,value:t,language:a,path:m,theme:E="light",line:g,loading:N="Loading...",options:x={},overrideServices:P={},saveViewState:y=!0,keepCurrentModel:V=!1,width:z="100%",height:F="100%",className:j,wrapperProps:A={},beforeMount:q=D,onMount:M=D,onChange:O,onValidate:T=D}){let[s,u]=(0,external_React_.useState)(!1),[c,w]=(0,external_React_.useState)(!0),d=(0,external_React_.useRef)(null),o=(0,external_React_.useRef)(null),b=(0,external_React_.useRef)(null),L=(0,external_React_.useRef)(M),U=(0,external_React_.useRef)(q),I=(0,external_React_.useRef)(),i=(0,external_React_.useRef)(t),f=se(m),Q=(0,external_React_.useRef)(!1),B=(0,external_React_.useRef)(!1);k(()=>{let p=es_loader.init();return p.then(R=>(d.current=R)&&w(!1)).catch(R=>R?.type!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>o.current?pe():p.cancel()}),l(()=>{let p=h(d.current,e||t||"",r||a||"",m||n||"");p!==o.current?.getModel()&&(y&&_.set(f,o.current?.saveViewState()),o.current?.setModel(p),y&&o.current?.restoreViewState(_.get(m)))},[m],s),l(()=>{o.current?.updateOptions(x)},[x],s),l(()=>{!o.current||t===void 0||(o.current.getOption(d.current.editor.EditorOption.readOnly)?o.current.setValue(t):t!==o.current.getValue()&&(B.current=!0,o.current.executeEdits("",[{range:o.current.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),o.current.pushUndoStop(),B.current=!1))},[t],s),l(()=>{let p=o.current?.getModel();p&&a&&d.current?.editor.setModelLanguage(p,a)},[a],s),l(()=>{g!==void 0&&o.current?.revealLine(g)},[g],s),l(()=>{d.current?.editor.setTheme(E)},[E],s);let X=(0,external_React_.useCallback)(()=>{if(!(!b.current||!d.current)&&!Q.current){U.current(d.current);let p=m||n,R=h(d.current,t||e||"",r||a||"",p||"");o.current=d.current?.editor.create(b.current,{model:R,automaticLayout:!0,...x},P),y&&o.current.restoreViewState(_.get(p)),d.current.editor.setTheme(E),g!==void 0&&o.current.revealLine(g),u(!0),Q.current=!0}},[e,r,n,t,a,m,x,P,y,E,g]);(0,external_React_.useEffect)(()=>{s&&L.current(o.current,d.current)},[s]),(0,external_React_.useEffect)(()=>{!c&&!s&&X()},[c,s,X]),i.current=t,(0,external_React_.useEffect)(()=>{s&&O&&(I.current?.dispose(),I.current=o.current?.onDidChangeModelContent(p=>{B.current||O(o.current.getValue(),p)}))},[s,O]),(0,external_React_.useEffect)(()=>{if(s){let p=d.current.editor.onDidChangeMarkers(R=>{let G=o.current.getModel()?.uri;if(G&&R.find(J=>J.path===G.path)){let J=d.current.editor.getModelMarkers({resource:G});T?.(J)}});return()=>{p?.dispose()}}return()=>{}},[s,T]);function pe(){I.current?.dispose(),V?y&&_.set(m,o.current.saveViewState()):o.current.getModel()?.dispose(),o.current.dispose()}return external_React_.createElement(H,{width:z,height:F,isEditorReady:s,loading:N,_ref:b,className:j,wrapperProps:A})}var fe=Ve;var de=(0,external_React_.memo)(fe);var Ft=(/* unused pure expression or super */ null && (de));
//# sourceMappingURL=index.mjs.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/react/default-settings.js
const DEFAULT_SETTINGS = {
    minimap: {
        enabled: false,
    },
    fontFamily: "MyFont, Menlo, 'Ubuntu Mono', Consolas, 'Dejavu Sans Mono', 'Noto Sans Mono', PingFangSC, 'Microsoft YaHei', monospace",
    insertSpaces: true,
    codeLensFontFamily: "MyFont, Menlo, 'Ubuntu Mono', Consolas, 'Dejavu Sans Mono', 'Noto Sans Mono', PingFangSC, 'Microsoft YaHei', monospace",
    folding: true,
    largeFileOptimizations: true,
    matchBrackets: 'always',
    smoothScrolling: false,
    suggest: {
        insertMode: 'replace',
        snippetsPreventQuickSuggestions: false,
    },
    wordBasedSuggestions: 'allDocuments',
    mouseWheelZoom: true,
    guides: {
        indentation: false,
        bracketPairs: false,
        highlightActiveIndentation: false,
    },
    detectIndentation: true,
    tabSize: 4,
    codeLens: true,
    roundedSelection: false,
    wordWrap: 'on',
    scrollBeyondLastLine: false,
    scrollbar: {
        vertical: 'visible',
    },
    find: {
        loop: true,
        seedSearchStringFromSelection: 'selection',
    },
    acceptSuggestionOnCommitCharacter: false,
    mouseWheelScrollSensitivity: 2,
    dragAndDrop: false,
    renderControlCharacters: true,
    lineNumbers: 'on',
    showFoldingControls: 'mouseover',
    foldingStrategy: 'indentation',
    accessibilitySupport: 'off',
    autoIndent: 'advanced',
    snippetSuggestions: 'none',
    renderLineHighlight: 'none',
    trimAutoWhitespace: false,
    hideCursorInOverviewRuler: true,
    renderWhitespace: 'none',
    overviewRulerBorder: true,
    gotoLocation: {
        multipleDeclarations: 'peek',
        multipleTypeDefinitions: 'peek',
        multipleDefinitions: 'peek',
    },
    foldingHighlight: false,
    unfoldOnClickAfterEndOfLine: true,
    inlayHints: {
        enabled: 'off',
    },
    acceptSuggestionOnEnter: 'off',
    quickSuggestions: {
        other: true,
        comments: true,
        strings: true,
    },
};
//# sourceMappingURL=default-settings.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/react/use-is-unmounted.js

const useIsUnmounted = () => {
    const ref = (0,external_React_.useRef)(false);
    (0,external_React_.useEffect)(() => {
        return () => {
            ref.current = true;
        };
    }, []);
    return ref;
};
/* harmony default export */ const use_is_unmounted = (useIsUnmounted);
//# sourceMappingURL=use-is-unmounted.js.map
// EXTERNAL MODULE: ./node_modules/.pnpm/vscode-textmate@9.0.0/node_modules/vscode-textmate/release/main.js
var main = __webpack_require__(8167);
// EXTERNAL MODULE: ./node_modules/.pnpm/vscode-oniguruma@2.0.1/node_modules/vscode-oniguruma/release/main.js
var release_main = __webpack_require__(7097);
;// CONCATENATED MODULE: ./node_modules/.pnpm/dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1_/node_modules/dolphindb/language.js
const sql_keywords = [
    // 不要单独算关键字比较好
    // 'column',
    // 'table',
    // 'database',
    'select',
    'exec',
    'update',
    'insert',
    'insert into',
    'create table',
    'create database',
    'alter table',
    // alter table ... add column_name datatype
    'add',
    'rename',
    'to',
    'drop',
    'drop table',
    'drop database',
    'use catalog',
    'delete',
    'transaction',
    'join',
    'inner join',
    'full join',
    'full outer join',
    'left join',
    'left outer join',
    'left semi join',
    'right join',
    'right outer join',
    'left semijoin',
    'cross join',
    'context by',
    'partitioned by',
    'group by',
    'pivot by',
    'order by',
    'cgroup by',
    'partition by',
    'csort',
    'limit',
    'top',
    'into',
    'from',
    'where',
    'having',
    'with',
    'set',
    'as',
    'in',
    'or',
    'not',
    'on',
    'like',
    'values',
    'if',
    'exists',
    'distinct',
    'map',
    'between', 'and', // between ... and ...
    'is null', 'is not null',
    // case when ... then ... end
    'case', 'when', 'then', 'else', 'end',
    'union', 'union all',
    'nulls first', 'nulls last',
    'asc', 'desc',
];
const keywords = [
    'assert',
    'const',
    'mutable',
    'def',
    'defg',
    // 'map',
    'mapr',
    'timer',
    // 流程控制
    // 'if',
    // 'else',
    'do',
    'for',
    'while',
    'return',
    'continue',
    'break',
    'try',
    'catch',
    'throw',
    'go',
    // 模块
    'use',
    'module',
    // 仅 Python 有的
    'async',
    'await',
    'class',
    'del',
    'elif',
    'except',
    'finally',
    'global',
    'import',
    'is',
    'lambda',
    'nonlocal',
    'pass',
    'raise',
    'yield',
    // --- SQL
    ...sql_keywords,
    ...sql_keywords.map(keyword => keyword.toUpperCase())
].sort((l, r) => {
    const delta_len = l.length - r.length;
    if (delta_len !== 0)
        return -delta_len;
    return 0; // 否则保留原本顺序
});
const constants = [
    'DFLT',
    'NULL',
    'true',
    'false',
    'pi',
    'e',
    // --- form
    'SCALAR',
    'VECTOR',
    'PAIR',
    'MATRIX',
    'SET',
    'DICT',
    'TABLE',
    // 'CHART',
    // 'CHUNK',
    // --- type
    'VOID',
    'BOOL',
    'CHAR',
    'SHORT',
    'INT', 'INDEX',
    'LONG',
    'DATE',
    'MONTH',
    'TIME',
    'MINUTE',
    'SECOND',
    'DATETIME',
    'TIMESTAMP',
    'NANOTIME',
    'NANOTIMESTAMP',
    'FLOAT',
    'DOUBLE',
    'SYMBOL',
    'STRING',
    'UUID',
    'FUNCTIONDEF',
    'HANDLE',
    'CODE',
    'DATASOURCE',
    'RESOURCE',
    'ANY',
    // 'COMPRESS',
    'DICTIONARY',
    'DATEHOUR',
    'IPADDR',
    'INT128',
    'BLOB',
    'COMPLEX',
    'POINT',
    'DURATION',
    'OBJECT',
    'DECIMAL32',
    'DECIMAL64',
    'DECIMAL128',
    // partition type
    'SEQ',
    'RANGE',
    'HASH',
    'VALUE',
    'LIST',
    'COMPO',
    // defined
    // https://www.dolphindb.cn/cn/help/FunctionsandCommands/FunctionReferences/d/defined.html
    'VAR',
    'SHARED',
    'DEF',
    'GLOBAL',
    // 用户权限管理
    // https://www.dolphindb.cn/cn/help/200/SystemManagement/UserAccessControl.html
    // https://www.dolphindb.cn/cn/help/200/FunctionsandCommands/CommandsReferences/d/deny.html
    'TABLE_READ',
    'TABLE_WRITE',
    'TABLE_INSERT',
    'TABLE_UPDATE',
    'TABLE_DELETE',
    'DBOBJ_CREATE',
    'DBOBJ_DELETE',
    'DB_DELETE',
    'DB_INSERT',
    'DB_MANAGE',
    'DB_OWNER',
    'DB_READ',
    'DB_UPDATE',
    'DB_WRITE',
    'SCRIPT_EXEC',
    'TASK_GROUP_MEM_LIMIT',
    'TEST_EXEC',
    'VIEW_EXEC',
    'VIEW_OWNER',
    'QUERY_RESULT_MEM_LIMIT',
    // hint
    // https://www.dolphindb.cn/cn/help/200/FunctionsandCommands/FunctionReferences/s/sql.html
    'HINT_HASH',
    'HINT_SNAPSHOT',
    'HINT_KEEPORDER',
    'HINT_SEQ',
    'HINT_EXPLAIN',
    'HINT_VECTORIZED',
    // --- seek mode
    'HEAD',
    'CURRENT',
    'TAIL',
    // --- chart type
    // https://www.dolphindb.cn/cn/help/200/FunctionsandCommands/FunctionReferences/p/plot.html
    'LINE',
    'PIE',
    'COLUMN',
    'BAR',
    'AREA',
    'SCATTER',
    'HISTOGRAM',
    'KLINE',
    // --- log level
    'DEBUG',
    'INFO',
    'WARNING',
    'ERROR',
    // keep duplicates
    // https://www.dolphindb.cn/cn/help/200/FunctionsandCommands/FunctionReferences/c/createPartitionedTable.html?highlight=first
    'FIRST',
    'LAST',
    'ALL',
    // keep
    // https://www.dolphindb.cn/cn/help/200/FunctionsandCommands/FunctionReferences/i/isDuplicated.html?highlight=none
    'NONE',
    'HASH_PTN',
    // 仅 Python 有的
    'True',
    'False',
    'None',
];
function get_tm_language(python = false) {
    return {
        $schema: 'https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json',
        name: python ? 'DolphinDB Python' : 'DolphinDB',
        scopeName: python ? 'source.dolphindb-python' : 'source.dolphindb',
        patterns: [
            {
                match: '\\.\\.\\.',
                name: 'invalid.ellipsis.dolphindb'
            },
            {
                include: '#keyword'
            },
            {
                include: '#literal'
            },
            {
                include: '#comment'
            },
            {
                include: '#decorator'
            },
            {
                include: '#variable'
            },
            {
                include: '#operator'
            },
            {
                include: '#method_call'
            },
            {
                include: '#function_call'
            },
            {
                include: '#property'
            },
            {
                match: ';',
                name: 'punctuation.terminator.statement.dolphindb'
            },
            {
                match: ',',
                name: 'punctuation.separator.commma.dolphindb'
            }
        ],
        repository: {
            keyword: {
                // \b: word boundary
                // (?<![.$]): boundary 不是 . 或 $
                // ?!\s*: 不是 label
                match: `\\b(?<![.$])(${keywords.join('|')})(?!(\\s*:|\\())\\b`,
                name: 'keyword.control.dolphindb'
            },
            literal: {
                patterns: [
                    { include: '#constant' },
                    { include: '#datetime' },
                    { include: '#string' },
                    { include: '#number' },
                ]
            },
            constant: {
                match: `\\b(?<![.$])(${constants.join('|')})(?!\\s*:)\\b`,
                name: 'constant.language.int.dolphindb'
            },
            decorator: {
                match: '^@testing',
                name: 'meta.decorator.dolphindb',
            },
            datetime: {
                patterns: [
                    {
                        match: '\\b[0-9]{4}[.][0-9]{2}[.][0-9]{2}[T ][0-9]{2}:[0-9]{2}:[0-9]{2}([.][0-9]{3,9})?\\b',
                        name: 'constant.numeric.datetime.datetime.dolphindb',
                    },
                    {
                        match: '\\b[0-9]{4}\\.[0-9]{2}M\\b',
                        name: 'constant.numeric.datetime.month.dolphindb',
                    },
                    {
                        match: '\\b[0-9]{4}\\.[0-9]{2}\\.[0-9]{2}\\b',
                        name: 'constant.numeric.datetime.date.dolphindb',
                    },
                    {
                        match: '\\b[0-9]{2}:[0-9]{2}:[0-9]{2}([.][0-9]{3,9})?\\b',
                        name: 'constant.numeric.datetime.time.dolphindb',
                    },
                    {
                        match: '\\b[0-9]{2}:[0-9]{2}m\\b',
                        name: 'constant.numeric.datetime.minute.dolphindb',
                    },
                ]
            },
            string: {
                patterns: [
                    {
                        include: '#string_single_quoted'
                    },
                    {
                        include: '#string_double_quoted'
                    },
                    {
                        begin: "'''",
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.string.begin.dolphindb'
                            }
                        },
                        end: "'''",
                        endCaptures: {
                            0: {
                                name: 'punctuation.definition.string.end.dolphindb'
                            }
                        },
                        name: 'string.quoted.single.heredoc.dolphindb',
                        patterns: [
                            {
                                captures: {
                                    1: {
                                        name: 'punctuation.definition.escape.backslash.dolphindb'
                                    }
                                },
                                match: '(\\\\).',
                                name: 'constant.character.escape.backslash.dolphindb'
                            }
                        ]
                    },
                    {
                        begin: '"""',
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.string.begin.dolphindb'
                            }
                        },
                        end: '"""',
                        endCaptures: {
                            0: {
                                name: 'punctuation.definition.string.end.dolphindb'
                            }
                        },
                        name: 'string.quoted.double.heredoc.dolphindb',
                        patterns: [
                            {
                                captures: {
                                    1: {
                                        name: 'punctuation.definition.escape.backslash.dolphindb'
                                    }
                                },
                                match: '(\\\\).',
                                name: 'constant.character.escape.backslash.dolphindb'
                            },
                            {
                                include: '#interpolated_dolphindb'
                            }
                        ]
                    },
                    {
                        match: '`[\\w\\.]*',
                        name: 'string.quoted.other.dolphindb'
                    }
                ]
            },
            number: {
                patterns: [
                    {
                        match: '\\b[01]+[bB]\\b',
                        name: 'constant.numeric.binary.dolphindb'
                    },
                    {
                        // 97c
                        match: '\\b[0-9]+([clhsmyM]|ms)\\b',
                        name: 'constant.numeric.dolphindb'
                    },
                    {
                        // 1.2f, 1f
                        match: '\\b[0-9]+(\\.[0-9]+)?f\\b',
                        name: 'constant.numeric.dolphindb'
                    },
                    {
                        match: '(?x)\n' +
                            '(?:\n' +
                            '  (?:\\b[0-9]+(\\.)[0-9]+[eE][+-]?[0-9]+\\b)| # 1.1E+3\n' +
                            '  (?:\\b[0-9]+(\\.)[eE][+-]?[0-9]+\\b)|       # 1.E+3\n' +
                            '  (?:\\b(\\.)[0-9]+[eE][+-]?[0-9]+\\b)|       # .1E+3\n' +
                            '  (?:\\b[0-9]+[eE][+-]?[0-9]+\\b)|            # 1E+3\n' +
                            '  (?:\\b[0-9]+(\\.)[0-9]+\\b)|                # 1.1\n' +
                            '  (?:\\b[0-9]+(?=\\.{2,3}))|                  # 1 followed by a slice\n' +
                            '  (?:\\b[0-9]+(\\.)\\b)|                      # 1.\n' +
                            '  (?:\\b(\\.)[0-9]+\\b)|                      # .1\n' +
                            '  (?:\\b[0-9]+\\b(?!\\.))                     # 1\n' +
                            ')\n',
                        captures: {
                            0: {
                                name: 'constant.numeric.decimal.dolphindb'
                            },
                            1: {
                                name: 'punctuation.separator.decimal.period.dolphindb'
                            },
                            2: {
                                name: 'punctuation.separator.decimal.period.dolphindb'
                            },
                            3: {
                                name: 'punctuation.separator.decimal.period.dolphindb'
                            },
                            4: {
                                name: 'punctuation.separator.decimal.period.dolphindb'
                            },
                            5: {
                                name: 'punctuation.separator.decimal.period.dolphindb'
                            },
                            6: {
                                name: 'punctuation.separator.decimal.period.dolphindb'
                            }
                        }
                    },
                ]
            },
            string_single_quoted: {
                patterns: [
                    {
                        begin: "'",
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.string.begin.dolphindb'
                            }
                        },
                        end: "'",
                        endCaptures: {
                            0: {
                                name: 'punctuation.definition.string.end.dolphindb'
                            }
                        },
                        name: 'string.quoted.single.dolphindb',
                        patterns: [
                            {
                                captures: {
                                    1: {
                                        name: 'punctuation.definition.escape.backslash.dolphindb'
                                    }
                                },
                                match: '(\\\\)(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)',
                                name: 'constant.character.escape.backslash.dolphindb'
                            }
                        ]
                    }
                ]
            },
            string_double_quoted: {
                patterns: [
                    {
                        begin: '"',
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.string.begin.dolphindb'
                            }
                        },
                        end: '"',
                        endCaptures: {
                            0: {
                                name: 'punctuation.definition.string.end.dolphindb'
                            }
                        },
                        name: 'string.quoted.double.dolphindb',
                        patterns: [
                            {
                                captures: {
                                    1: {
                                        name: 'punctuation.definition.escape.backslash.dolphindb'
                                    }
                                },
                                match: '(\\\\)(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)',
                                name: 'constant.character.escape.backslash.dolphindb'
                            },
                            {
                                include: '#interpolated_dolphindb'
                            }
                        ]
                    }
                ]
            },
            function_call: {
                patterns: [
                    {
                        begin: '(@)?(\\w*!?)\\s*(?=\\()',
                        beginCaptures: {
                            1: { name: 'variable.other.readwrite.instance.dolphindb' },
                            2: { patterns: [{ include: '#function_name' }] }
                        },
                        end: '(?<=\\))',
                        name: 'meta.function-call.dolphindb',
                        patterns: [{ include: '#arguments' }]
                    }
                ]
            },
            method_call: {
                patterns: [
                    {
                        begin: '(?:(\\.)|(::))\\s*(\\w*!?)(?=\\()',
                        beginCaptures: {
                            1: { name: 'punctuation.separator.method.period.dolphindb' },
                            2: { name: 'keyword.operator.prototype.dolphindb' },
                            3: { patterns: [{ include: '#function_name' }] }
                        },
                        end: '(?<=\\))',
                        name: 'meta.method-call.dolphindb',
                        patterns: [{ include: '#arguments' }]
                    }
                ]
            },
            function_name: {
                patterns: [
                    {
                        match: '[^\\d\\W]\\w*!?',
                        name: 'entity.name.function.dolphindb'
                    },
                    {
                        match: '\\d[\\w]*',
                        name: 'invalid.illegal.identifier.dolphindb'
                    }
                ]
            },
            function_params: {
                patterns: [
                    {
                        begin: '\\(',
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.parameters.begin.bracket.round.dolphindb'
                            }
                        },
                        end: '\\)',
                        endCaptures: {
                            0: {
                                name: 'punctuation.definition.parameters.end.bracket.round.dolphindb'
                            }
                        },
                        name: 'meta.parameters.dolphindb',
                        patterns: [
                            {
                                include: '#variable'
                            },
                            {
                                match: '(@(?:[a-zA-Z_$][\\w$]*)?)(\\.\\.\\.)?',
                                captures: {
                                    1: {
                                        name: 'variable.parameter.function.readwrite.instance.dolphindb'
                                    },
                                    2: {
                                        name: 'keyword.operator.splat.dolphindb'
                                    }
                                }
                            },
                            {
                                include: '$self'
                            }
                        ]
                    }
                ]
            },
            comment: {
                patterns: python ? [
                    {
                        begin: '#',
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.comment.dolphindb'
                            }
                        },
                        end: '$',
                        name: 'comment.line.number-sign.dolphindb'
                    }
                ] : [
                    {
                        begin: '/\\*',
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.comment.dolphindb'
                            }
                        },
                        end: '\\*/',
                        endCaptures: {
                            0: {
                                name: 'punctuation.definition.comment.dolphindb'
                            }
                        },
                        name: 'comment.block.dolphindb'
                    },
                    {
                        begin: '//',
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.comment.dolphindb'
                            }
                        },
                        end: '$',
                        name: 'comment.line.number-sign.dolphindb'
                    },
                ]
            },
            arguments: {
                patterns: [
                    {
                        begin: '\\(',
                        beginCaptures: {
                            0: {
                                name: 'punctuation.definition.arguments.begin.bracket.round.dolphindb'
                            }
                        },
                        end: '\\)',
                        endCaptures: {
                            0: {
                                name: 'punctuation.definition.arguments.end.bracket.round.dolphindb'
                            }
                        },
                        name: 'meta.arguments.dolphindb',
                        patterns: [
                            {
                                include: '$self'
                            },
                            {
                                include: '#literal'
                            },
                            {
                                include: '#variable'
                            }
                        ]
                    }
                ]
            },
            variable: {
                patterns: [
                    {
                        match: '(@)([a-zA-Z_\\$]\\w*)?',
                        name: 'variable.other.readwrite.instance.dolphindb'
                    }
                ]
            },
            interpolated_dolphindb: {
                patterns: [
                    {
                        begin: '\\#\\{',
                        captures: {
                            0: {
                                name: 'punctuation.section.embedded.dolphindb'
                            }
                        },
                        end: '\\}',
                        name: 'source.dolphindb.embedded.source',
                        patterns: [
                            {
                                include: '$self'
                            }
                        ]
                    }
                ]
            },
            operator: {
                patterns: [
                    {
                        match: '<<|>>',
                        name: 'keyword.operator.bitwise.shift.dolphindb'
                    },
                    {
                        match: '!=|<=|>=|==|>|<',
                        name: 'keyword.operator.comparison.dolphindb'
                    },
                    {
                        match: '<-|->',
                        name: 'keyword.operator.join.dolphindb'
                    },
                    {
                        match: '&&|!|\\|\\|',
                        name: 'keyword.operator.logical.dolphindb'
                    },
                    {
                        match: '&|\\||\\^',
                        name: 'keyword.operator.bitwise.dolphindb'
                    },
                    {
                        match: '\\.\\.',
                        name: 'keyword.operator.splat.dolphindb'
                    },
                    {
                        match: '\\?',
                        name: 'keyword.operator.existential.dolphindb'
                    },
                    {
                        match: '/|<-|%|\\*|/|-|\\$|\\+',
                        name: 'keyword.operator.dolphindb'
                    },
                    {
                        match: '([a-zA-Z$_][\\w$]*)?\\s*(=|:(?!:))(?![>=])',
                        captures: {
                            1: {
                                name: 'variable.assignment.dolphindb'
                            },
                            2: {
                                name: 'keyword.operator.assignment.dolphindb'
                            }
                        }
                    }
                ]
            },
            property: {
                patterns: [
                    {
                        match: '(?:(\\.)|(::))\\s*([A-Z][A-Z0-9_$]*\\b\\$*)(?=\\s*\\??(\\.\\s*[a-zA-Z_$]\\w*|::))',
                        captures: {
                            1: {
                                name: 'punctuation.separator.property.period.dolphindb'
                            },
                            2: {
                                name: 'keyword.operator.prototype.dolphindb'
                            },
                            3: {
                                name: 'constant.other.object.property.dolphindb'
                            }
                        }
                    },
                    {
                        match: '(?:(\\.)|(::))\\s*(\\$*[a-zA-Z_$][\\w$]*)(?=\\s*\\??(\\.\\s*[a-zA-Z_$]\\w*|::))',
                        captures: {
                            1: {
                                name: 'punctuation.separator.property.period.dolphindb'
                            },
                            2: {
                                name: 'keyword.operator.prototype.dolphindb'
                            },
                            3: {
                                name: 'variable.other.object.property.dolphindb'
                            }
                        }
                    },
                    {
                        match: '(?:(\\.)|(::))\\s*([A-Z][A-Z0-9_$]*\\b\\$*)',
                        captures: {
                            1: {
                                name: 'punctuation.separator.property.period.dolphindb'
                            },
                            2: {
                                name: 'keyword.operator.prototype.dolphindb'
                            },
                            3: {
                                name: 'constant.other.property.dolphindb'
                            }
                        }
                    },
                    {
                        match: '(?:(\\.)|(::))\\s*(\\$*[a-zA-Z_$][\\w$]*)',
                        captures: {
                            1: {
                                name: 'punctuation.separator.property.period.dolphindb'
                            },
                            2: {
                                name: 'keyword.operator.prototype.dolphindb'
                            },
                            3: {
                                name: 'variable.other.property.dolphindb'
                            }
                        }
                    },
                    {
                        match: '(?:(\\.)|(::))\\s*([0-9][\\w$]*)',
                        captures: {
                            1: {
                                name: 'punctuation.separator.property.period.dolphindb'
                            },
                            2: {
                                name: 'keyword.operator.prototype.dolphindb'
                            },
                            3: {
                                name: 'invalid.illegal.identifier.dolphindb'
                            }
                        }
                    }
                ]
            }
        }
    };
}
const tm_language = get_tm_language(false);
const tm_language_python = get_tm_language(true);
//# sourceMappingURL=language.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/constant.js
const LANGUAGE_ID = 'dolphindb';
//# sourceMappingURL=constant.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/theme/dark.js
const theme_dark = {
    name: 'dolphindb.dark',
    settings: [
        {
            settings: {
                foreground: '#d4d4d4',
                background: '#1e1e1e',
            },
        },
        // --- from dark_vs.json
        {
            scope: ['meta.embedded', 'source.groovy.embedded', 'string meta.image.inline.markdown'],
            settings: { foreground: '#D4D4D4' },
        },
        { scope: 'emphasis', settings: { fontStyle: 'italic' } },
        { scope: 'strong', settings: { fontStyle: 'bold' } },
        { scope: 'header', settings: { foreground: '#000080' } },
        { scope: 'comment', settings: { foreground: '#6A9955' } },
        { scope: 'constant.language', settings: { foreground: '#569cd6' } },
        {
            scope: [
                'constant.numeric',
                'variable.other.enummember',
                'keyword.operator.plus.exponent',
                'keyword.operator.minus.exponent',
            ],
            settings: { foreground: '#b5cea8' },
        },
        { scope: 'constant.regexp', settings: { foreground: '#646695' } },
        { scope: 'entity.name.tag', settings: { foreground: '#569cd6' } },
        { scope: 'entity.name.tag.css', settings: { foreground: '#d7ba7d' } },
        { scope: 'entity.other.attribute-name', settings: { foreground: '#9cdcfe' } },
        {
            scope: [
                'entity.other.attribute-name.class.css',
                'entity.other.attribute-name.class.mixin.css',
                'entity.other.attribute-name.id.css',
                'entity.other.attribute-name.parent-selector.css',
                'entity.other.attribute-name.pseudo-class.css',
                'entity.other.attribute-name.pseudo-element.css',
                'source.css.less entity.other.attribute-name.id',
                'entity.other.attribute-name.scss',
            ],
            settings: { foreground: '#d7ba7d' },
        },
        { scope: 'invalid', settings: { foreground: '#f44747' } },
        { scope: 'markup.underline', settings: { fontStyle: 'underline' } },
        { scope: 'markup.bold', settings: { fontStyle: 'bold', foreground: '#569cd6' } },
        { scope: 'markup.heading', settings: { fontStyle: 'bold', foreground: '#569cd6' } },
        { scope: 'markup.italic', settings: { fontStyle: 'italic' } },
        { scope: 'markup.strikethrough', settings: { fontStyle: 'strikethrough' } },
        { scope: 'markup.inserted', settings: { foreground: '#b5cea8' } },
        { scope: 'markup.deleted', settings: { foreground: '#ce9178' } },
        { scope: 'markup.changed', settings: { foreground: '#569cd6' } },
        { scope: 'punctuation.definition.quote.begin.markdown', settings: { foreground: '#6A9955' } },
        { scope: 'punctuation.definition.list.begin.markdown', settings: { foreground: '#6796e6' } },
        { scope: 'markup.inline.raw', settings: { foreground: '#ce9178' } },
        { name: 'brackets of XML/HTML tags', scope: 'punctuation.definition.tag', settings: { foreground: '#808080' } },
        { scope: ['meta.preprocessor', 'entity.name.function.preprocessor'], settings: { foreground: '#569cd6' } },
        { scope: 'meta.preprocessor.string', settings: { foreground: '#ce9178' } },
        { scope: 'meta.preprocessor.numeric', settings: { foreground: '#b5cea8' } },
        { scope: 'meta.structure.dictionary.key.python', settings: { foreground: '#9cdcfe' } },
        { scope: 'meta.diff.header', settings: { foreground: '#569cd6' } },
        { scope: 'storage', settings: { foreground: '#569cd6' } },
        { scope: 'storage.type', settings: { foreground: '#569cd6' } },
        { scope: ['storage.modifier', 'keyword.operator.noexcept'], settings: { foreground: '#569cd6' } },
        { scope: ['string', 'meta.embedded.assembly'], settings: { foreground: '#ce9178' } },
        { scope: 'string.tag', settings: { foreground: '#ce9178' } },
        { scope: 'string.value', settings: { foreground: '#ce9178' } },
        { scope: 'string.regexp', settings: { foreground: '#d16969' } },
        {
            name: 'String interpolation',
            scope: [
                'punctuation.definition.template-expression.begin',
                'punctuation.definition.template-expression.end',
                'punctuation.section.embedded',
            ],
            settings: { foreground: '#569cd6' },
        },
        {
            name: 'Reset JavaScript string interpolation expression',
            scope: ['meta.template.expression'],
            settings: { foreground: '#d4d4d4' },
        },
        {
            scope: [
                'support.type.vendored.property-name',
                'support.type.property-name',
                'variable.css',
                'variable.scss',
                'variable.other.less',
                'source.coffee.embedded',
            ],
            settings: { foreground: '#9cdcfe' },
        },
        { scope: 'keyword', settings: { foreground: '#569cd6' } },
        { scope: 'keyword.control', settings: { foreground: '#569cd6' } },
        { scope: 'keyword.operator', settings: { foreground: '#d4d4d4' } },
        {
            scope: [
                'keyword.operator.new',
                'keyword.operator.expression',
                'keyword.operator.cast',
                'keyword.operator.sizeof',
                'keyword.operator.alignof',
                'keyword.operator.typeid',
                'keyword.operator.alignas',
                'keyword.operator.instanceof',
                'keyword.operator.logical.python',
                'keyword.operator.wordlike',
            ],
            settings: { foreground: '#569cd6' },
        },
        { scope: 'keyword.other.unit', settings: { foreground: '#b5cea8' } },
        {
            scope: ['punctuation.section.embedded.begin.php', 'punctuation.section.embedded.end.php'],
            settings: { foreground: '#569cd6' },
        },
        { scope: 'support.function.git-rebase', settings: { foreground: '#9cdcfe' } },
        { scope: 'constant.sha.git-rebase', settings: { foreground: '#b5cea8' } },
        {
            name: 'coloring of the Java import and package identifiers',
            scope: ['storage.modifier.import.java', 'variable.language.wildcard.java', 'storage.modifier.package.java'],
            settings: { foreground: '#d4d4d4' },
        },
        { name: 'this.self', scope: 'variable.language', settings: { foreground: '#569cd6' } },
        // --- from dark_plus.json
        {
            name: 'Function declarations',
            scope: [
                'entity.name.function',
                'support.function',
                'support.constant.handlebars',
                'source.powershell variable.other.member',
                'entity.name.operator.custom-literal',
            ],
            settings: { foreground: '#DCDCAA' },
        },
        {
            name: 'Types declaration and references',
            scope: [
                'support.class',
                'support.type',
                'entity.name.type',
                'entity.name.namespace',
                'entity.other.attribute',
                'entity.name.scope-resolution',
                'entity.name.class',
                'storage.type.numeric.go',
                'storage.type.byte.go',
                'storage.type.boolean.go',
                'storage.type.string.go',
                'storage.type.uintptr.go',
                'storage.type.error.go',
                'storage.type.rune.go',
                'storage.type.cs',
                'storage.type.generic.cs',
                'storage.type.modifier.cs',
                'storage.type.variable.cs',
                'storage.type.annotation.java',
                'storage.type.generic.java',
                'storage.type.java',
                'storage.type.object.array.java',
                'storage.type.primitive.array.java',
                'storage.type.primitive.java',
                'storage.type.token.java',
                'storage.type.groovy',
                'storage.type.annotation.groovy',
                'storage.type.parameters.groovy',
                'storage.type.generic.groovy',
                'storage.type.object.array.groovy',
                'storage.type.primitive.array.groovy',
                'storage.type.primitive.groovy',
            ],
            settings: { foreground: '#4EC9B0' },
        },
        {
            name: 'Types declaration and references, TS grammar specific',
            scope: [
                'meta.type.cast.expr',
                'meta.type.new.expr',
                'support.constant.math',
                'support.constant.dom',
                'support.constant.json',
                'entity.other.inherited-class',
            ],
            settings: { foreground: '#4EC9B0' },
        },
        {
            name: 'Control flow / Special keywords',
            scope: [
                'keyword.control',
                'source.cpp keyword.operator.new',
                'keyword.operator.delete',
                'keyword.other.using',
                'keyword.other.operator',
                'entity.name.operator',
            ],
            settings: { foreground: '#C586C0' },
        },
        {
            name: 'Variable and parameter name',
            scope: [
                'variable',
                'meta.definition.variable.name',
                'support.variable',
                'entity.name.variable',
                'constant.other.placeholder',
            ],
            settings: { foreground: '#9CDCFE' },
        },
        {
            name: 'Constants and enums',
            scope: ['variable.other.constant', 'variable.other.enummember'],
            settings: { foreground: '#4FC1FF' },
        },
        {
            name: 'Object keys, TS grammar specific',
            scope: ['meta.object-literal.key'],
            settings: { foreground: '#9CDCFE' },
        },
        {
            name: 'CSS property value',
            scope: [
                'support.constant.property-value',
                'support.constant.font-name',
                'support.constant.media-type',
                'support.constant.media',
                'constant.other.color.rgb-value',
                'constant.other.rgb-value',
                'support.constant.color',
            ],
            settings: { foreground: '#CE9178' },
        },
        {
            name: 'Regular expression groups',
            scope: [
                'punctuation.definition.group.regexp',
                'punctuation.definition.group.assertion.regexp',
                'punctuation.definition.character-class.regexp',
                'punctuation.character.set.begin.regexp',
                'punctuation.character.set.end.regexp',
                'keyword.operator.negation.regexp',
                'support.other.parenthesis.regexp',
            ],
            settings: { foreground: '#CE9178' },
        },
        {
            scope: [
                'constant.character.character-class.regexp',
                'constant.other.character-class.set.regexp',
                'constant.other.character-class.regexp',
                'constant.character.set.regexp',
            ],
            settings: { foreground: '#d16969' },
        },
        { scope: ['keyword.operator.or.regexp', 'keyword.control.anchor.regexp'], settings: { foreground: '#DCDCAA' } },
        { scope: 'keyword.operator.quantifier.regexp', settings: { foreground: '#d7ba7d' } },
        { scope: 'constant.character', settings: { foreground: '#569cd6' } },
        { scope: 'constant.character.escape', settings: { foreground: '#d7ba7d' } },
        { scope: 'entity.name.label', settings: { foreground: '#C8C8C8' } },
    ],
};
//# sourceMappingURL=dark.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/theme/light.js
// Theme data derived from:
// https://github.com/microsoft/vscode/raw/a716714a88891cad69c0753fb95923870df295f5/extensions/theme-defaults/themes/dark_plus.json
// This satisfies the contract of IRawTheme as defined in vscode-textmate.
const theme_light = {
    name: 'dolphindb.light',
    settings: [
        {
            settings: {
                foreground: '#000000',
                background: '#ffffff',
            },
        },
        {
            scope: ['meta.embedded', 'source.groovy.embedded'],
            settings: {
                foreground: '#000000ff',
            },
        },
        {
            scope: 'emphasis',
            settings: {
                fontStyle: 'italic',
            },
        },
        {
            scope: 'strong',
            settings: {
                fontStyle: 'bold',
            },
        },
        {
            scope: 'meta.diff.header',
            settings: {
                foreground: '#000080',
            },
        },
        {
            scope: 'comment',
            settings: {
                foreground: '#000000',
            },
        },
        {
            scope: 'constant.language',
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: [
                'constant.numeric',
                'variable.other.enummember',
                'keyword.operator.plus.exponent',
                'keyword.operator.minus.exponent',
            ],
            settings: {
                foreground: '#ff0000',
            },
        },
        {
            scope: 'constant.regexp',
            settings: {
                foreground: '#811f3f',
            },
        },
        {
            name: 'css tags in selectors, xml tags',
            scope: 'entity.name.tag',
            settings: {
                foreground: '#800000',
            },
        },
        {
            scope: 'entity.name.selector',
            settings: {
                foreground: '#800000',
            },
        },
        {
            scope: 'entity.other.attribute-name',
            settings: {
                foreground: '#ff0000',
            },
        },
        {
            scope: [
                'entity.other.attribute-name.class.css',
                'entity.other.attribute-name.class.mixin.css',
                'entity.other.attribute-name.id.css',
                'entity.other.attribute-name.parent-selector.css',
                'entity.other.attribute-name.pseudo-class.css',
                'entity.other.attribute-name.pseudo-element.css',
                'source.css.less entity.other.attribute-name.id',
                'entity.other.attribute-name.scss',
            ],
            settings: {
                foreground: '#800000',
            },
        },
        {
            scope: 'invalid',
            settings: {
                foreground: '#cd3131',
            },
        },
        {
            scope: 'markup.underline',
            settings: {
                fontStyle: 'underline',
            },
        },
        {
            scope: 'markup.bold',
            settings: {
                fontStyle: 'bold',
                foreground: '#000080',
            },
        },
        {
            scope: 'markup.heading',
            settings: {
                fontStyle: 'bold',
                foreground: '#800000',
            },
        },
        {
            scope: 'markup.italic',
            settings: {
                fontStyle: 'italic',
            },
        },
        {
            scope: 'markup.strikethrough',
            settings: {
                fontStyle: 'strikethrough',
            },
        },
        {
            scope: 'markup.inserted',
            settings: {
                foreground: '#098658',
            },
        },
        {
            scope: 'markup.deleted',
            settings: {
                foreground: '#a31515',
            },
        },
        {
            scope: 'markup.changed',
            settings: {
                foreground: '#0451a5',
            },
        },
        {
            scope: ['punctuation.definition.quote.begin.markdown', 'punctuation.definition.list.begin.markdown'],
            settings: {
                foreground: '#0451a5',
            },
        },
        {
            scope: 'markup.inline.raw',
            settings: {
                foreground: '#800000',
            },
        },
        {
            name: 'brackets of XML/HTML tags',
            scope: 'punctuation.definition.tag',
            settings: {
                foreground: '#800000',
            },
        },
        {
            scope: ['meta.preprocessor', 'entity.name.function.preprocessor'],
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: 'meta.preprocessor.string',
            settings: {
                foreground: '#a31515',
            },
        },
        {
            scope: 'meta.preprocessor.numeric',
            settings: {
                foreground: '#098658',
            },
        },
        {
            scope: 'meta.structure.dictionary.key.python',
            settings: {
                foreground: '#0451a5',
            },
        },
        {
            scope: 'storage',
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: 'storage.type',
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: ['storage.modifier', 'keyword.operator.noexcept'],
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: ['string', 'meta.embedded.assembly'],
            settings: {
                foreground: '#a31515',
            },
        },
        {
            scope: [
                'string.comment.buffered.block.pug',
                'string.quoted.pug',
                'string.interpolated.pug',
                'string.unquoted.plain.in.yaml',
                'string.unquoted.plain.out.yaml',
                'string.unquoted.block.yaml',
                'string.quoted.single.yaml',
                'string.quoted.double.xml',
                'string.quoted.single.xml',
                'string.unquoted.cdata.xml',
                'string.quoted.double.html',
                'string.quoted.single.html',
                'string.unquoted.html',
                'string.quoted.single.handlebars',
                'string.quoted.double.handlebars',
            ],
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: 'string.regexp',
            settings: {
                foreground: '#811f3f',
            },
        },
        {
            name: 'String interpolation',
            scope: [
                'punctuation.definition.template-expression.begin',
                'punctuation.definition.template-expression.end',
                'punctuation.section.embedded',
            ],
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            name: 'Reset JavaScript string interpolation expression',
            scope: ['meta.template.expression'],
            settings: {
                foreground: '#000000',
            },
        },
        {
            scope: [
                'support.constant.property-value',
                'support.constant.font-name',
                'support.constant.media-type',
                'support.constant.media',
                'constant.other.color.rgb-value',
                'constant.other.rgb-value',
                'support.constant.color',
            ],
            settings: {
                foreground: '#0451a5',
            },
        },
        {
            scope: [
                'support.type.vendored.property-name',
                'support.type.property-name',
                'variable.css',
                'variable.scss',
                'variable.other.less',
                'source.coffee.embedded',
            ],
            settings: {
                foreground: '#ff0000',
            },
        },
        {
            scope: ['support.type.property-name.json'],
            settings: {
                foreground: '#0451a5',
            },
        },
        {
            scope: 'keyword',
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: 'keyword.control',
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: 'keyword.operator',
            settings: {
                foreground: '#000000',
            },
        },
        {
            scope: [
                'keyword.operator.new',
                'keyword.operator.expression',
                'keyword.operator.cast',
                'keyword.operator.sizeof',
                'keyword.operator.alignof',
                'keyword.operator.typeid',
                'keyword.operator.alignas',
                'keyword.operator.instanceof',
                'keyword.operator.logical.python',
                'keyword.operator.wordlike',
            ],
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: 'keyword.other.unit',
            settings: {
                foreground: '#098658',
            },
        },
        {
            scope: ['punctuation.section.embedded.begin.php', 'punctuation.section.embedded.end.php'],
            settings: {
                foreground: '#800000',
            },
        },
        {
            scope: 'support.function.git-rebase',
            settings: {
                foreground: '#0451a5',
            },
        },
        {
            scope: 'constant.sha.git-rebase',
            settings: {
                foreground: '#098658',
            },
        },
        {
            name: 'coloring of the Java import and package identifiers',
            scope: ['storage.modifier.import.java', 'variable.language.wildcard.java', 'storage.modifier.package.java'],
            settings: {
                foreground: '#000000',
            },
        },
        {
            name: 'this.self',
            scope: 'variable.language',
            settings: {
                foreground: '#0000ff',
            },
        },
        // adds rules to the light vs rules
        {
            name: 'Function declarations',
            scope: [
                'entity.name.function',
                'support.function',
                'support.constant.handlebars',
                'source.powershell variable.other.member',
                'entity.name.operator.custom-literal', // See https://en.cppreference.com/w/cpp/language/user_literal
            ],
            settings: {
                foreground: '#795E26',
            },
        },
        {
            name: 'Types declaration and references',
            scope: [
                'support.class',
                'support.type',
                'entity.name.type',
                'entity.name.namespace',
                'entity.other.attribute',
                'entity.name.scope-resolution',
                'entity.name.class',
                'storage.type.numeric.go',
                'storage.type.byte.go',
                'storage.type.boolean.go',
                'storage.type.string.go',
                'storage.type.uintptr.go',
                'storage.type.error.go',
                'storage.type.rune.go',
                'storage.type.cs',
                'storage.type.generic.cs',
                'storage.type.modifier.cs',
                'storage.type.variable.cs',
                'storage.type.annotation.java',
                'storage.type.generic.java',
                'storage.type.java',
                'storage.type.object.array.java',
                'storage.type.primitive.array.java',
                'storage.type.primitive.java',
                'storage.type.token.java',
                'storage.type.groovy',
                'storage.type.annotation.groovy',
                'storage.type.parameters.groovy',
                'storage.type.generic.groovy',
                'storage.type.object.array.groovy',
                'storage.type.primitive.array.groovy',
                'storage.type.primitive.groovy',
            ],
            settings: {
                foreground: '#0f96be',
            },
        },
        {
            name: 'Types declaration and references, TS grammar specific',
            scope: [
                'meta.type.cast.expr',
                'meta.type.new.expr',
                'support.constant.math',
                'support.constant.dom',
                'support.constant.json',
                'entity.other.inherited-class',
            ],
            settings: {
                foreground: '#267f99',
            },
        },
        {
            name: 'Control flow / Special keywords',
            scope: [
                'keyword.control',
                'source.cpp keyword.operator.new',
                'source.cpp keyword.operator.delete',
                'keyword.other.using',
                'keyword.other.operator',
                'entity.name.operator',
            ],
            settings: {
                foreground: '#AF00DB',
            },
        },
        {
            name: 'Variable and parameter name',
            scope: [
                'variable',
                'meta.definition.variable.name',
                'support.variable',
                'entity.name.variable',
                'constant.other.placeholder', // placeholders in strings
            ],
            settings: {
                foreground: '#000000',
            },
        },
        {
            name: 'Constants and enums',
            scope: ['variable.other.constant', 'variable.other.enummember'],
            settings: {
                foreground: '#0070C1',
            },
        },
        {
            name: 'Object keys, TS grammar specific',
            scope: ['meta.object-literal.key'],
            settings: {
                foreground: '#001080',
            },
        },
        {
            name: 'CSS property value',
            scope: [
                'support.constant.property-value',
                'support.constant.font-name',
                'support.constant.media-type',
                'support.constant.media',
                'constant.other.color.rgb-value',
                'constant.other.rgb-value',
                'support.constant.color',
            ],
            settings: {
                foreground: '#0451a5',
            },
        },
        {
            name: 'Regular expression groups',
            scope: [
                'punctuation.definition.group.regexp',
                'punctuation.definition.group.assertion.regexp',
                'punctuation.definition.character-class.regexp',
                'punctuation.character.set.begin.regexp',
                'punctuation.character.set.end.regexp',
                'keyword.operator.negation.regexp',
                'support.other.parenthesis.regexp',
            ],
            settings: {
                foreground: '#d16969',
            },
        },
        {
            scope: [
                'constant.character.character-class.regexp',
                'constant.other.character-class.set.regexp',
                'constant.other.character-class.regexp',
                'constant.character.set.regexp',
            ],
            settings: {
                foreground: '#811f3f',
            },
        },
        {
            scope: 'keyword.operator.quantifier.regexp',
            settings: {
                foreground: '#000000',
            },
        },
        {
            scope: ['keyword.operator.or.regexp', 'keyword.control.anchor.regexp'],
            settings: {
                foreground: '#EE0000',
            },
        },
        {
            scope: 'constant.character',
            settings: {
                foreground: '#0000ff',
            },
        },
        {
            scope: 'constant.character.escape',
            settings: {
                foreground: '#EE0000',
            },
        },
        {
            scope: 'entity.name.label',
            settings: {
                foreground: '#000000',
            },
        },
        { scope: 'keyword.operator', settings: { foreground: '#f00' } },
        { scope: 'keyword.operator.instanceof', settings: { foreground: '#f00' } },
        { scope: 'keyword.operator.logical', settings: { foreground: '#f00' } },
        { scope: 'keyword.operator.logical.python', settings: { foreground: '#f00' } },
        // { "scope": "keyword.control", "settings": { "foreground": "#bc00eb" } }
        // { "scope": "support.type.property-name", "settings": { "foreground": "#0451a5" } },
        { scope: 'support.type.property-name', settings: { foreground: '#000000' } },
        // { "scope": "variable.other", "settings": { "foreground": "#000000", "fontStyle": ""  } },
        // { "scope": "variable.parameter", "settings": { "foreground": "#000000", "fontStyle": ""  } },
        { scope: 'variable', settings: { foreground: '#000000', fontStyle: '' } },
        // { "scope": "variable.other.property", "settings": { "foreground": "#0115AF" } },
        { scope: 'variable.other.constant', settings: { foreground: '#000000' } },
        { scope: 'keyword.operator.expression.typeof.js', settings: { foreground: '#f00' } },
        { scope: 'storage.type', settings: { foreground: '#0000ee' } }, // const
        { scope: 'storage.modifier', settings: { foreground: '#0000ee' } },
        { scope: 'constant.language', settings: { foreground: '#0000ee' } },
        { scope: 'constant.numeric', settings: { foreground: '#00a000' } }, // number
        { scope: 'variable.language.this', settings: { foreground: '#267f99' } },
        { scope: 'string.quoted.docstring.multi.python', settings: { foreground: '#000000' } },
        { scope: 'punctuation.separator.delimiter.c', settings: { foreground: '#f00' } },
        { scope: 'punctuation.separator.pointer-access.c', settings: { foreground: '#f00' } },
        { scope: 'entity.name.tag.pug', settings: { foreground: '#f00' } },
        { scope: 'entity.other.attribute-name.id.pug', settings: { foreground: '#722dd2' } },
        { scope: 'entity.other.attribute-name.class.pug', settings: { foreground: '#267f99' } },
        { scope: 'entity.other.attribute-name.tag.pug', settings: { foreground: '#8e5e1a' } },
        { scope: 'entity.name.tag', settings: { foreground: '#000000', fontStyle: 'bold' } },
        { scope: 'punctuation.definition.tag', settings: { foreground: '#000000', fontStyle: 'bold' } },
        // function: bold
        { scope: 'entity.name.function', settings: { foreground: '#000000', fontStyle: 'bold' } },
        { scope: 'support.function', settings: { foreground: '#000000', fontStyle: 'bold' } },
        { scope: 'constant.language.module.http', settings: { foreground: '#00f' } },
        { scope: 'constant.language.directive.module', settings: { foreground: '#00f' } },
        { scope: 'constant.language.directive.module.main', settings: { foreground: '#f00', fontStyle: 'bold' } },
        { scope: 'meta.decorator.dolphindb', settings: { foreground: '#aa6f00' } },
        { scope: 'punctuation.definition.string.begin.json.comments', settings: { foreground: '#111' } },
        { scope: 'punctuation.definition.string.end.json.comments', settings: { foreground: '#111' } },
        { scope: 'punctuation.support.type.property-name.begin.json.comments', settings: { foreground: '#111' } },
        { scope: 'punctuation.support.type.property-name.end.json.comments', settings: { foreground: '#111' } },
    ],
};
//# sourceMappingURL=light.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/tokenizer.js






const SCOPE_NAME = 'source.dolphindb';
const registry = new main.Registry({
    onigLib: Promise.resolve({ createOnigScanner: release_main.createOnigScanner, createOnigString: release_main.createOnigString }),
    async loadGrammar(scopeName) {
        if (scopeName !== SCOPE_NAME)
            return null;
        return tm_language;
    },
});
class TokensProviderCache {
    registry;
    scopeNameToGrammar = new Map();
    constructor(registry) {
        this.registry = registry;
    }
    async createEncodedTokensProvider(scopeName, encodedLanguageId) {
        const grammar = await this.getGrammar(scopeName, encodedLanguageId);
        return {
            getInitialState() {
                return main.INITIAL;
            },
            tokenizeEncoded(line, state) {
                const tokenizeLineResult2 = grammar.tokenizeLine2(line, state);
                const { tokens, ruleStack: endState } = tokenizeLineResult2;
                return { tokens, endState };
            },
        };
    }
    async getGrammar(scopeName, encodedLanguageId) {
        const grammar = this.scopeNameToGrammar.get(scopeName);
        if (grammar)
            return grammar;
        // We use loadGrammarWithConfiguration() rather than loadGrammar() because
        // we discovered that if the numeric LanguageId is not specified, then it
        // does not get encoded in the TokenMetadata.
        //
        // Failure to do so means that the LanguageId cannot be read back later,
        // which can cause other Monaco features, such as "Toggle Line Comment",
        // to fail.
        const promise = this.registry.loadGrammarWithConfiguration(scopeName, encodedLanguageId, {}).then((grammar) => {
            if (grammar)
                return grammar;
            else
                throw Error(`failed to load grammar for ${scopeName}`);
        });
        this.scopeNameToGrammar.set(scopeName, promise);
        return promise;
    }
}
function setColorMap(monaco, theme) {
    // https://github.com/microsoft/monaco-editor/issues/2239#issuecomment-800868449
    const rawTheme = typeof theme === 'string' ? (theme === 'light' ? theme_light : theme_dark) : theme;
    registry.setTheme(rawTheme);
    const css_colors = registry.getColorMap();
    monaco.languages.setColorMap(css_colors);
}
async function registerTokenizer(languages) {
    languages.setLanguageConfiguration(LANGUAGE_ID, {
        comments: {
            // symbol used for single line comment. Remove this entry if your language does not support line comments
            lineComment: '//',
            // symbols used for start and end a block comment. Remove this entry if your language does not support block comments
            blockComment: ['/*', '*/'],
        },
        // symbols used as brackets
        brackets: [
            ['{', '}'],
            ['[', ']'],
            ['(', ')'],
        ],
        // symbols that are auto closed when typing
        autoClosingPairs: [
            { open: '{', close: '}' },
            { open: '[', close: ']' },
            { open: '(', close: ')' },
            { open: '"', close: '"', notIn: ['string'] },
            { open: "'", close: "'", notIn: ['string'] },
            { open: '/**', close: ' */', notIn: ['string'] },
            { open: '/*', close: ' */', notIn: ['string'] },
        ],
        // symbols that that can be used to surround a selection
        surroundingPairs: [
            { open: '{', close: '}' },
            { open: '[', close: ']' },
            { open: '(', close: ')' },
            { open: '"', close: '"' },
            { open: "'", close: "'" },
            { open: '<', close: '>' },
        ],
        folding: {
            markers: {
                start: new RegExp('^\\s*//\\s*#?region\\b'),
                end: new RegExp('^\\s*//\\s*#?endregion\\b'),
            },
        },
        wordPattern: new RegExp('(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\\'\\"\\,\\.\\<\\>\\/\\?\\s]+)'),
        indentationRules: {
            increaseIndentPattern: new RegExp('^((?!\\/\\/).)*(\\{[^}"\'`]*|\\([^)"\'`]*|\\[[^\\]"\'`]*)$'),
            decreaseIndentPattern: new RegExp('^((?!.*?\\/\\*).*\\*/)?\\s*[\\}\\]].*$'),
        },
    });
    const encodedLanguageId = languages.getEncodedLanguageId(LANGUAGE_ID);
    const tokenProvider = await new TokensProviderCache(registry).createEncodedTokensProvider(SCOPE_NAME, encodedLanguageId);
    languages.setTokensProvider(LANGUAGE_ID, tokenProvider);
}
//# sourceMappingURL=tokenizer.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/docs.js


const constants_lower = constants.map((constant) => constant.toLowerCase());
let docs = {};
let docs_language;
let funcs = [];
let funcs_lower = [];
/** 最大搜索行数 */
const MAX_MATCH_LINES = 30;
// 栈 token 匹配表
const PAIR_TOKEN_MAP = {
    ')': '(',
    '}': '{',
    ']': '[',
};
const PAIR_END_TOKENS = new Set(Object.values(PAIR_TOKEN_MAP));
const FUNC_FPS = {
    command: 'FunctionsandCommands/CommandsReferences/',
    function: 'FunctionsandCommands/FunctionReferences/',
    template: 'Functionalprogramming/TemplateFunctions/',
};
// 需要在 web/build.ts 中引入对应的 basic-languages/ 下面的文件
const code_languages = new Set([
    'dolphindb',
    'dolphindb-python',
    'python',
    'javascript',
    'typescript',
    'css',
    'html',
    'cpp',
    'sql',
    'scss',
    'shell',
]);
function getFunctionMonacoMarkdownString(keyword, language) {
    const func_doc = docs[keyword] || docs[keyword + '!'];
    if (!func_doc)
        return;
    const { title, type } = func_doc;
    let str = 
    // 标题
    `#### ${title}\n` +
        // 旧文档链接
        'https://' +
        (language === 'zh' ? 'docs.dolphindb.cn/zh/help/' : 'dolphindb.com/help200/') +
        // 新文档链接
        // `https://docs.dolphindb.cn/${language === 'zh' ? 'zh' : 'en'}/` +
        FUNC_FPS[type] +
        (type !== 'template' ? `${title[0]}/` : '') +
        title +
        '.html\n';
    for (const para of func_doc.children) {
        // 加入段
        str += `#### ${para.title}\n`;
        for (const x of para.children) {
            const code_language = x.language?.trim();
            if (x.type === 'text' && para.type !== 'example')
                // 对于参数段落，以 markdown 插入
                str += x.value.join('\n') + '\n';
            // x.type === 'code' || para.type === 'example'
            else
                str +=
                    '```' +
                        (code_languages.has(code_language) ? code_language : '') +
                        '\n' +
                        x.value.join('\n') +
                        '\n' +
                        '```\n';
        }
        str += '\n';
    }
    return {
        isTrusted: true,
        value: str,
    };
}
/** 利用当前光标找出函数参数开始位置及函数名, 若找不到返回 -1 */
function find_func_start(document, position) {
    const func_name_regex = /[a-z|A-Z|0-9|!|_]/;
    const text = document.getValueInRange({
        startLineNumber: Math.max(position.lineNumber - MAX_MATCH_LINES, 0),
        startColumn: 0,
        endLineNumber: position.lineNumber,
        endColumn: position.column,
    });
    let stack_depth = 0;
    let param_search_pos = -1;
    for (let i = text.length; i >= 0; i--) {
        const char = text[i];
        // 遇到右括号，入栈，增加一层括号语境深度
        if (char === ')') {
            stack_depth++;
            continue;
        }
        // 遇到左括号，出栈，退出一层括号语境深度
        else if (char === '(') {
            stack_depth--;
            continue;
        }
        // 栈深度小于0，且遇到合法函数名字符，跳出括号语境，搜索结束：参数搜索开始位置
        if (func_name_regex.test(char) && stack_depth < 0) {
            param_search_pos = i;
            break;
        }
    }
    // 找不到参数搜索开始位置，返回null
    if (param_search_pos === -1)
        return { param_search_pos: -1, func_name: '' };
    // 往前找函数名
    let func_name_end = -1;
    let func_name_start = 0;
    for (let i = param_search_pos; i >= 0; i--) {
        const char = text[i];
        // 空字符跳过
        if (func_name_end === -1 && char === ' ')
            continue;
        // 合法函数名字字符，继续往前找
        if (func_name_regex.test(char)) {
            // 标记函数名字末尾位置
            if (func_name_end === -1)
                func_name_end = i;
            continue;
        }
        // 不合法函数名字符，标记函数名字开头位置
        func_name_start = i + 1;
        break;
    }
    // 找不到函数名
    if (func_name_end === -1)
        return { param_search_pos: -1, func_name: '' };
    return {
        param_search_pos: param_search_pos + 1,
        func_name: text.slice(func_name_start, func_name_end + 1),
    };
}
/** 根据函数参数开始位置分析参数语义，提取出当前参数索引 */
function find_active_param_index(document, position, start) {
    const text = document.getValueInRange({
        startLineNumber: Math.max(position.lineNumber - MAX_MATCH_LINES, 0),
        startColumn: 0,
        endLineNumber: position.lineNumber,
        endColumn: position.column,
    });
    let index = 0;
    const stack = [];
    // 分隔符，此处为逗号
    const seperator = ',';
    let ncommas = 0;
    // 搜索
    for (let i = start; i < text.length; i++) {
        const char = text[i];
        // 空字符跳过
        if (/\s/.test(char))
            continue;
        // 字符串内除引号全部忽略
        if (stack[stack.length - 1] === '"' || stack[stack.length - 1] === "'") {
            // 遇到相同引号，出栈
            if ((stack[stack.length - 1] === '"' && char === '"') || (stack[stack.length - 1] === "'" && char === "'"))
                stack.pop();
            continue;
        }
        // 开括号入栈
        if (PAIR_END_TOKENS.has(char) || char === '"' || char === "'") {
            stack.push(char);
            continue;
        }
        else if (char in PAIR_TOKEN_MAP)
            if (stack[stack.length - 1] === PAIR_TOKEN_MAP[char]) {
                // 括号匹配，出栈，括号不匹配，返回null
                stack.pop();
                continue;
            } // 括号不匹配，返回-1
            else
                return -1;
        // 栈深度为1 且为左小括号：当前语境
        if (stack.length === 1 && stack[0] === '(')
            if (char === seperator)
                // 遇到逗号，若之前有合法参数，计入逗号
                ncommas++;
        // 根据逗号数量判断高亮参数索引值
        index = ncommas;
    }
    const func_start_text = text.slice(0, start);
    /** 匹配当前函数名的正则, 并捕获该函数名 */
    const match = /[a-zA-Z_\u4e00-\u9fa5][\w\u4e00-\u9fa5]*!?$/.exec(func_start_text);
    return match && func_start_text[start - 1 /* 去掉括号 */ - match[0].length] === '.' ? index + 1 : index;
}
/** 根据函数名提取出相应的文件对象，提取出函数 signature 和参数 */
function get_signature_and_params(func_name) {
    const para = docs[func_name]?.children.filter((para) => para.type === 'grammer')[0];
    if (!para)
        return null;
    // 找出语法内容块的第一个非空行
    const funcLine = para.children[0].value.filter((line) => line.trim() !== '')[0].trim();
    const matched = funcLine.match(/[a-zA-z0-9!]+\((.*)\)/);
    if (!matched)
        return null;
    const signature = matched[0];
    const params = matched[1].split(',').map((s) => s.trim());
    return { signature, params };
}
let docsReference;
async function loadDocs(docsValue, language) {
    docs_language = language;
    if (docsReference === docsValue) {
        return;
    }
    switch (typeof docsValue) {
        case 'string':
            docs = await fetch(docsValue).then((res) => res.json());
            break;
        case 'function':
            docs = await docsValue();
            break;
        case 'object':
            docs = await docsValue;
            break;
        default:
            docs = {};
            break;
    }
    funcs = Object.keys(docs);
    funcs_lower = funcs.map((func) => func.toLowerCase());
}
function registerDocsRelatedLanguageProviders(monaco) {
    const { languages } = monaco;
    const { CompletionItemKind } = languages;
    languages.registerCompletionItemProvider(LANGUAGE_ID, {
        provideCompletionItems(doc, pos, ctx, canceller) {
            if (canceller.isCancellationRequested)
                return;
            const keyword = doc.getWordAtPosition(pos)?.word ?? '';
            let fns;
            let _constants;
            if (keyword.length === 1) {
                const c = keyword[0].toLowerCase();
                fns = funcs.filter((func, i) => funcs_lower[i].startsWith(c));
                _constants = constants.filter((constant, i) => constants_lower[i].startsWith(c));
            }
            else {
                const keyword_lower = keyword.toLowerCase();
                fns = funcs.filter((func, i) => {
                    const func_lower = funcs_lower[i];
                    let j = 0;
                    for (const c of keyword_lower) {
                        j = func_lower.indexOf(c, j) + 1;
                        if (!j)
                            // 找不到则 j === 0
                            return false;
                    }
                    return true;
                });
                _constants = constants.filter((constant, i) => {
                    const constant_lower = constants_lower[i];
                    let j = 0;
                    for (const c of keyword_lower) {
                        j = constant_lower.indexOf(c, j) + 1;
                        if (!j)
                            // 找不到则 j === 0
                            return false;
                    }
                    return true;
                });
            }
            return {
                suggestions: [
                    ...keywords
                        .filter((kw) => kw.startsWith(keyword))
                        .map((kw) => ({
                        label: kw,
                        insertText: kw,
                        kind: CompletionItemKind.Keyword,
                    })),
                    ..._constants.map((constant) => ({
                        label: constant,
                        insertText: constant,
                        kind: CompletionItemKind.Constant,
                    })),
                    ...fns.map((fn) => ({
                        label: fn,
                        insertText: fn,
                        kind: CompletionItemKind.Function,
                    })),
                ],
            };
        },
        resolveCompletionItem(item, _canceller) {
            item.documentation = getFunctionMonacoMarkdownString(item.label, docs_language);
            return item;
        },
    });
    languages.registerHoverProvider(LANGUAGE_ID, {
        provideHover(doc, pos, _canceller) {
            const word = doc.getWordAtPosition(pos);
            if (!word)
                return;
            const md = getFunctionMonacoMarkdownString(word.word, docs_language);
            if (!md)
                return;
            return {
                contents: [md],
            };
        },
    });
    languages.registerSignatureHelpProvider(LANGUAGE_ID, {
        signatureHelpTriggerCharacters: ['(', ','],
        provideSignatureHelp(doc, pos, canceller, _ctx) {
            if (canceller.isCancellationRequested)
                return;
            const { func_name, param_search_pos } = find_func_start(doc, pos);
            if (param_search_pos === -1)
                return;
            const index = find_active_param_index(doc, pos, param_search_pos);
            if (index === -1)
                return;
            const signature_and_params = get_signature_and_params(func_name);
            if (!signature_and_params)
                return;
            const { signature, params } = signature_and_params;
            return {
                // eslint-disable-next-line @typescript-eslint/no-empty-function
                dispose() { },
                value: {
                    activeParameter: index > params.length - 1 ? params.length - 1 : index,
                    signatures: [
                        {
                            label: signature,
                            documentation: getFunctionMonacoMarkdownString(func_name, docs_language),
                            parameters: params.map((param) => ({
                                label: param,
                            })),
                        },
                    ],
                    activeSignature: 0,
                },
            };
        },
    });
}
//# sourceMappingURL=docs.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/index.js



async function registerDolphinDBLanguage(monaco, options) {
    const { languages } = monaco;
    languages.register({ id: LANGUAGE_ID });
    const loadDocsPromise = loadDocs(options.docs, options.language).catch((err) => {
        console.error('[monaco-dolphindb] Load docs assets failed, please check your option');
        console.error(err);
    });
    await registerTokenizer(languages);
    setColorMap(monaco, options?.theme ?? 'light');
    registerDocsRelatedLanguageProviders(monaco);
    await loadDocsPromise;
}
//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/react/shared.js






let monacoInitialized = false;
let initMonacoPromise = null;
function useInitDolphinDBMonaco(options) {
    const { beforeMonacoInit, onMonacoInit, onMonacoInitFailed, dolphinDBLanguageOptions } = options;
    const isUnmountedRef = use_is_unmounted();
    function setInitMonacoPromiseThenAndCatch(p) {
        p.then((monaco) => {
            if (!isUnmountedRef.current) {
                onMonacoInit?.(monaco);
            }
        })
            .catch((err) => {
            onMonacoInitFailed?.(err);
        })
            .finally(() => {
            initMonacoPromise = null;
        });
    }
    // 已完成初始化
    if (monacoInitialized) {
        return;
    }
    // 正在初始化
    if (initMonacoPromise) {
        setInitMonacoPromiseThenAndCatch(initMonacoPromise);
        return;
    }
    // 未初始化
    initMonacoPromise = (async () => {
        await beforeMonacoInit?.();
        const monaco = await es_loader.init();
        await registerDolphinDBLanguage(monaco, dolphinDBLanguageOptions);
        await document.fonts.ready;
        monacoInitialized = true;
        return monaco;
    })();
    setInitMonacoPromiseThenAndCatch(initMonacoPromise);
}
/**
 * update editor on options change
 */
function useDolphinDBMonacoOptions(options) {
    const { theme, docs, language } = options;
    const monaco = Le();
    (0,external_React_.useEffect)(() => {
        if (monaco) {
            setColorMap(monaco, theme ?? 'light');
        }
    }, [monaco, theme]);
    (0,external_React_.useEffect)(() => {
        loadDocs(docs, language);
    }, [docs, language]);
}
//# sourceMappingURL=shared.js.map
;// CONCATENATED MODULE: ./node_modules/.pnpm/monaco-dolphindb@0.0.20_dolphindb@3.0.30_react-dom@18.3.1_react@18.3.1___monaco-editor@0.48.0_pwgwihyk6guzjmaw3ziaeqz4wy/node_modules/monaco-dolphindb/dist/react/editor.js




function MonacoDolphinDBEditor({ onMonacoInit, beforeMonacoInit, onMonacoInitFailed, onMount, options, dolphinDBLanguageOptions, ...restProps }) {
    useInitDolphinDBMonaco({
        beforeMonacoInit,
        onMonacoInit,
        onMonacoInitFailed,
        dolphinDBLanguageOptions,
    });
    useDolphinDBMonacoOptions(dolphinDBLanguageOptions);
    return ((0,jsx_runtime.jsx)(de, { defaultLanguage: "dolphindb", language: "dolphindb", options: {
            ...DEFAULT_SETTINGS,
            ...options,
        }, onMount: (editor, monaco) => {
            try {
                // 使 suggest details 始终保持显示
                // https://github.com/microsoft/monaco-editor/issues/3216
                // monaco@0.35.0 采用 minify 过的代码，在不使用 esm bundle 的情况下，无法直接访问 suggestWidget 的属性
                // 我们采用一种暴力的方法，直接访问 suggestWidget 的私有属性
                // 可以从 esm 包中找到原函数 (monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestWidget.js)
                // 文件内搜索 `_setDetailsVisible` 可以搜 "expandSuggestionDocs" 这个字段
                // 然后对比 dev 包中的代码 (monaco-editor/dev/vs/editor/editor.main.js)
                // 也搜索 "expandSuggestionDocs" 这个字段，找到 `_setDetailsVisible` minify 之后的函数名（现在是 X），写在下面
                // edit: 0.37.0 版本又改回来了，直接调用 _setDetailsVisible 就可以了
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                editor.getContribution('editor.contrib.suggestController').widget.value._setDetailsVisible(true);
            }
            catch (err) {
                console.warn('[monaco-dolphindb/react] Failed to set suggest details visible', err);
            }
            onMount?.(editor, monaco);
        }, ...restProps }));
}
//# sourceMappingURL=editor.js.map
;// CONCATENATED MODULE: ./console/shell/Editor/index.tsx








// 在 React DevTool 中显示的组件名字
de.displayName = 'MonacoEditor';
es_loader.config({
    paths: {
        // vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.34.0/min/vs'
        // 必须是　vs, 否则 /vs/base/common/worker/simpleWorker.nls.js 路径找不到实际文件
        vs: './vs'
    },
    ...i18n/* language */.BH === 'zh' ? {
        'vs/nls': {
            availableLanguages: {
                '*': 'zh-cn'
            }
        }
    } : {},
});
function Editor_Editor({ readonly, default_value, value, minimap = false, enter_completion, on_mount, on_change, options, theme = 'light' }) {
    const monaco_options = (0,external_React_.useMemo)(() => ({
        fontSize: 16,
        minimap: { enabled: minimap },
        fixedOverflowWidgets: true,
        acceptSuggestionOnEnter: enter_completion ? 'on' : 'off',
        ...readonly ? {
            readOnly: true,
            domReadOnly: true,
        } : {},
        ...options,
    }), [minimap, enter_completion, readonly, options]);
    return (0,jsx_runtime.jsx)(MonacoDolphinDBEditor, { dolphinDBLanguageOptions: {
            docs: `docs.${i18n/* language */.BH === 'zh' ? 'zh' : 'en'}.json`,
            language: i18n/* language */.BH === 'zh' ? 'zh' : 'en',
            theme
        }, wrapperProps: { className: `monaco-editor-container ${theme}` }, value: value, theme: theme === 'light' ? 'vs' : 'vs-dark', defaultValue: default_value, loading: (0,jsx_runtime.jsx)("div", { className: 'editor-loading', children: (0,i18n.t)('正在加载代码编辑器...') }), beforeMonacoInit: async () => (0,release_main.loadWASM)(await fetch('./vendors/vscode-oniguruma/release/onig.wasm')), onMonacoInitFailed: error => { model/* model */.ge.show_error({ error }); }, options: monaco_options, onMount: on_mount, onChange: on_change });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/CreateTableModal.scss
var CreateTableModal = __webpack_require__(4819);
;// CONCATENATED MODULE: ./console/shell/CreateTableModal.scss

      
      
      
      
      
      
      
      
      

var CreateTableModal_options = {};

CreateTableModal_options.styleTagTransform = (styleTagTransform_default());
CreateTableModal_options.setAttributes = (setAttributesWithoutAttributes_default());
CreateTableModal_options.insert = insertBySelector_default().bind(null, "head");
CreateTableModal_options.domAPI = (styleDomAPI_default());
CreateTableModal_options.insertStyleElement = (insertStyleElement_default());

var CreateTableModal_update = injectStylesIntoStyleTag_default()(CreateTableModal/* default */.A, CreateTableModal_options);




       /* harmony default export */ const shell_CreateTableModal = (CreateTableModal/* default */.A && CreateTableModal/* default */.A.locals ? CreateTableModal/* default */.A.locals : undefined);

;// CONCATENATED MODULE: external ["./pre-bundle/formily.js","Core"]
var formily_js_Core_x = (y) => {
	var x = {}; __webpack_require__.d(x, y); return x
} 
var formily_js_Core_y = (x) => (() => (x))
const formily_js_Core_namespaceObject = formily_js_Core_x({ ["createForm"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.Core.createForm) });
;// CONCATENATED MODULE: external ["./pre-bundle/formily.js","AntdV5"]
var formily_js_AntdV5_x = (y) => {
	var x = {}; __webpack_require__.d(x, y); return x
} 
var formily_js_AntdV5_y = (x) => (() => (x))
const formily_js_AntdV5_namespaceObject = formily_js_AntdV5_x({ ["ArrayTable"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.ArrayTable), ["Checkbox"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.Checkbox), ["Form"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.Form), ["FormButtonGroup"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.FormButtonGroup), ["FormItem"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.FormItem), ["Input"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.Input), ["NumberPicker"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.NumberPicker), ["PreviewText"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.PreviewText), ["Select"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.Select), ["Space"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.Space), ["Submit"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.AntdV5.Submit) });
;// CONCATENATED MODULE: ./console/constants/column-data-types.ts
/** 数据表的列数据类型 */
const DDB_COLUMN_DATA_TYPES = [
    'BOOL',
    'CHAR',
    'SHORT',
    'INT',
    'LONG',
    'DATE',
    'MONTH',
    'TIME',
    'MINUTE',
    'SECOND',
    'DATETIME',
    'TIMESTAMP',
    'NANOTIME',
    'NANOTIMESTAMP',
    'FLOAT',
    'DOUBLE',
    'SYMBOL',
    'STRING',
    'UUID',
    'DATEHOUR',
    'IPADDR',
    'INT128',
    'BLOB',
    'COMPLEX',
    'POINT',
    'DECIMAL32',
    'DECIMAL64',
    'DECIMAL128',
];
const SUPPORT_ARRAY_VECTOR_TYPES = [
    'BOOL',
    'CHAR',
    'SHORT',
    'INT',
    'LONG',
    'DATE',
    'MONTH',
    'TIME',
    'MINUTE',
    'SECOND',
    'DATETIME',
    'TIMESTAMP',
    'NANOTIME',
    'NANOTIMESTAMP',
    'DATEHOUR',
    'FLOAT',
    'DOUBLE',
    'IPADDR',
    'UUID',
    'INT128',
    'DECIMAL32',
    'DECIMAL64',
    'DECIMAL128',
];
/** 支持排序的列类型 */
const SUPPORT_SORT_COLUMN_TYPES = [
    'CHAR',
    'SHORT',
    'INT',
    'LONG',
    'DATE',
    'MONTH',
    'TIME',
    'MINUTE',
    'SECOND',
    'DATETIME',
    'TIMESTAMP',
    'NANOTIME',
    'NANOTIMESTAMP',
    'STRING',
    'SYMBOL',
    'DECIMAL32',
    'DECIMAL64',
    'DECIMAL128',
];

;// CONCATENATED MODULE: ./console/utils/ddb-data-types.ts
function isDDBTemporalType(type) {
    return [
        'DATE',
        'MONTH',
        'TIME',
        'MINUTE',
        'SECOND',
        'DATETIME',
        'TIMESTAMP',
        'NANOTIME',
        'NANOTIMESTAMP'
    ].includes(type);
}
function isDDBDecimalType(type) {
    return [
        'DECIMAL32',
        'DECIMAL64',
        'DECIMAL128',
    ].includes(type);
}
function generateDDBDataTypeLiteral({ type, scale = 0, arrayVector }) {
    let typeLiteral = isDDBDecimalType(type) ? `${type}(${scale})` : type;
    if (arrayVector)
        typeLiteral = `${typeLiteral}[]`;
    return typeLiteral;
}

;// CONCATENATED MODULE: ./console/utils/hooks/use-steps.ts

function useSteps(initial_step, steps) {
    const [current, set_current] = (0,external_React_.useState)(initial_step);
    const [context_map, set_context_map] = (0,external_React_.useState)({});
    function prev() {
        const current_index = steps.indexOf(current);
        if (current_index <= 0)
            return;
        const step = steps[current_index - 1];
        set_context_map({
            ...context_map,
            // delete current step context value
            [current]: undefined,
        });
        set_current(step);
    }
    function next(context_value) {
        const currentIndex = steps.indexOf(current);
        if (currentIndex >= steps.length - 1)
            return;
        set_context_map({
            ...context_map,
            [current]: context_value,
        });
        set_current(steps[currentIndex + 1]);
    }
    function reset() {
        set_current(initial_step);
        set_context_map({});
    }
    return {
        current,
        context_map,
        prev,
        next,
        reset,
    };
}

;// CONCATENATED MODULE: ./console/utils/hooks/use-async-effect.ts


function isAsyncGenerator(val) {
    return (0,external_.isFunction)(val[Symbol.asyncIterator]);
}
/** 支持异步函数的 `useEffect`，文档参考：
    https://ahooks.gitee.io/zh-CN/hooks/use-async-effect
    @param effect
    @param deps  */
function useAsyncEffect(effect, deps) {
    (0,external_React_.useEffect)(() => {
        const e = effect();
        let cancelled = false;
        async function execute() {
            if (isAsyncGenerator(e))
                while (true) {
                    const result = await e.next();
                    if (result.done || cancelled)
                        break;
                }
            else
                await e;
        }
        execute();
        return () => {
            cancelled = true;
        };
    }, deps);
}

;// CONCATENATED MODULE: ./console/utils/decimal.ts
function getDecimalScaleRange(decimalType) {
    switch (decimalType) {
        case 'DECIMAL32':
            return [0, 9];
        case 'DECIMAL64':
            return [0, 18];
        case 'DECIMAL128':
            return [0, 38];
        default:
            return null;
    }
}
function isAvailableDecimalScale(decimalType, scale) {
    const range = getDecimalScaleRange(decimalType);
    if (range)
        return scale >= range[0] && scale <= range[1];
    return false;
}
// decimal 规定精度之后 type 会跟精度变化，需要解析出类型和精度
function convertDecimalType(type) {
    const type_id = type & 0xffff;
    const scale = (type & (~0x80000000)) >> 16;
    return [type_id, scale];
}

;// CONCATENATED MODULE: external ["./pre-bundle/formily.js","React"]
var formily_js_React_x = (y) => {
	var x = {}; __webpack_require__.d(x, y); return x
} 
var formily_js_React_y = (x) => (() => (x))
const formily_js_React_namespaceObject = formily_js_React_x({ ["createSchemaField"]: () => (__WEBPACK_EXTERNAL_MODULE__pre_bundle_formily_js_c677e2eb__.React.createSchemaField) });
;// CONCATENATED MODULE: ./console/components/formily/SchemaField/index.tsx


/** 包含了所有常用组件的 SchemaField */
const SchemaField = (0,formily_js_React_namespaceObject.createSchemaField)({
    components: {
        FormItem: formily_js_AntdV5_namespaceObject.FormItem,
        Input: formily_js_AntdV5_namespaceObject.Input,
        Select: formily_js_AntdV5_namespaceObject.Select,
        Checkbox: formily_js_AntdV5_namespaceObject.Checkbox,
        NumberPicker: formily_js_AntdV5_namespaceObject.NumberPicker,
        ArrayTable: formily_js_AntdV5_namespaceObject.ArrayTable,
        Space: formily_js_AntdV5_namespaceObject.Space,
        PreviewText: formily_js_AntdV5_namespaceObject.PreviewText,
    },
});

;// CONCATENATED MODULE: ./console/components/formily/DDBTypeSelector/index.tsx








const TSDB_ONLY_TYPES = [
    'BLOB',
];
const ADD_COLUMN_EXCLUED_TYPES = [
    'DATEHOUR',
];
/** DDB 数据类型选择组件，包含了联动和校验逻辑，使用时需要在 SchemaField 上设置 scope
    @example
    ```
    <SchemaField scope={{
       ...DDBTypeSelectorSchemaFields.ScopeValues
    }}>
    ```
    @returns  */
function DDBTypeSelectorSchemaFields(props) {
    const { isTSDBEngine, isAddColumn, scaleField, typeField } = props;
    const support_decimal = model/* model */.ge.v2 || model/* model */.ge.v3;
    const dataTypesOptions = (0,external_React_.useMemo)(() => DDB_COLUMN_DATA_TYPES.map(type => ({
        label: type,
        value: type,
    }))
        .filter(({ value }) => {
        let can_use_type = true;
        if (isAddColumn)
            can_use_type &&= !ADD_COLUMN_EXCLUED_TYPES.includes(value);
        if (!isTSDBEngine)
            can_use_type &&= !TSDB_ONLY_TYPES.includes(value);
        if (!support_decimal)
            can_use_type &&= !isDDBDecimalType(value);
        return can_use_type;
    }), [isTSDBEngine]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(SchemaField.String, { name: 'type', title: (0,i18n.t)('类型'), "x-decorator": 'FormItem', "x-component": 'Select', "x-component-props": {
                    placeholder: (0,i18n.t)('选择类型'),
                    showSearch: true,
                    popupMatchSelectWidth: false,
                    ...(typeField?.['x-component-props'] ?? {})
                }, enum: dataTypesOptions, required: true, "x-validator": {
                    required: true,
                    message: (0,i18n.t)('请选择该列的类型')
                }, ...typeField }, 'type'), (0,jsx_runtime.jsx)(SchemaField.Number, { name: 'scale', title: (0,i18n.t)('小数位数'), "x-decorator": 'FormItem', "x-component": 'NumberPicker', required: true, "x-validator": [{
                        required: true,
                        message: (0,i18n.t)('请输入小数位数')
                    }, {
                        validator: (value, rule, context, render) => {
                            const type = context.field.query('.type').value();
                            return isAvailableDecimalScale(type, value) ? null : (0,i18n.t)('小数位数超出限制');
                        }
                    }], "x-reactions": [{
                        dependencies: {
                            type: '.type'
                        },
                        fulfill: {
                            state: {
                                visible: '{{ DDBTypeSelector.isDDBDecimalType($deps.type) }}',
                            },
                            schema: {
                                'x-component-props': {
                                    placeholder: "{{ DDBTypeSelector.isDDBDecimalType($deps.type) ? DDBTypeSelector.getDecimalScaleRange($deps.type).join('~') : '' }}"
                                }
                            }
                        },
                    }], ...scaleField }, 'scale'), (0,jsx_runtime.jsx)(SchemaField.Boolean, { name: 'arrayVector', title: 'Array Vector', "x-decorator": 'FormItem', "x-component": 'Checkbox', "x-reactions": [field => {
                        const type = field.query('.type').value();
                        field.setState({
                            visible: isTSDBEngine && SUPPORT_ARRAY_VECTOR_TYPES.includes(type)
                        });
                    }] }, 'arrayVector')] });
}
DDBTypeSelectorSchemaFields.ScopeValues = {
    DDBTypeSelector: {
        isDDBDecimalType: isDDBDecimalType,
        getDecimalScaleRange: getDecimalScaleRange,
    }
};

;// CONCATENATED MODULE: ./console/components/formily/index.ts



;// CONCATENATED MODULE: ./console/constants/partition-type.ts
var PartitionTypeName;
(function (PartitionTypeName) {
    PartitionTypeName["SEQ"] = "SEQ";
    PartitionTypeName["RANGE"] = "RANGE";
    PartitionTypeName["HASH"] = "HASH";
    PartitionTypeName["VALUE"] = "VALUE";
    PartitionTypeName["LIST"] = "LIST";
    PartitionTypeName["COMPO"] = "COMPO";
})(PartitionTypeName || (PartitionTypeName = {}));

;// CONCATENATED MODULE: ./console/shell/CreateTableModal.tsx



















// Table（维度表）不支持 partitionColumns
var TableTypes;
(function (TableTypes) {
    TableTypes["Table"] = "Table";
    TableTypes["PartitionedTable"] = "PartitionedTable";
})(TableTypes || (TableTypes = {}));
var KeepDuplicatesValues;
(function (KeepDuplicatesValues) {
    KeepDuplicatesValues["ALL"] = "ALL";
    KeepDuplicatesValues["LAST"] = "LAST";
    KeepDuplicatesValues["FIRST"] = "FIRST";
})(KeepDuplicatesValues || (KeepDuplicatesValues = {}));
var CreateTableStepsEnum;
(function (CreateTableStepsEnum) {
    CreateTableStepsEnum["FillForm"] = "fill-form";
    CreateTableStepsEnum["PreviewCode"] = "preview-code";
    CreateTableStepsEnum["ExecuteResult"] = "execute-result";
})(CreateTableStepsEnum || (CreateTableStepsEnum = {}));
const PropsContext = external_React_default().createContext({});
const StepsContext = external_React_default().createContext({});
const escapeColumnName = (name) => `_${JSON.stringify(name)}`;
// ================ 建表代码预览 ================
function CreateTableModalPreviewCode() {
    const steps = (0,external_React_.useContext)(StepsContext);
    const { schema } = (0,external_React_.useContext)(PropsContext);
    // 1.30 没有 engineType
    const engineType = schema.engineType?.value;
    const isTSDB = engineType === 'TSDB';
    const code = (0,external_React_.useMemo)(() => {
        const form_values = steps.context_map[CreateTableStepsEnum.FillForm];
        const columns = form_values.columns
            .map(column => {
            const str = `${column.name} ${generateDDBDataTypeLiteral(column)}`;
            const comment = column.comment ? `comment=${JSON.stringify(column.comment)}` : '';
            const compress = column.compress ? `compress="${column.compress}"` : '';
            const options = [comment, compress].filter(Boolean).join(', ');
            return str + (options ? `[${options}]` : '');
        })
            // indent and comma join
            .map(line => `    ${line}`)
            .join(',\n');
        const partition = (form_values.type === TableTypes.PartitionedTable && form_values.partitionColumns?.length) ?
            `partitioned by ${form_values.partitionColumns.map(escapeColumnName).join(', ')}`
            : null;
        const sorts = isTSDB && form_values.sortColumns?.length ?
            `sortColumns=[${form_values.sortColumns.map(column => `"${column}"`).join(', ')}]`
            : null;
        const keepDuplicates = isTSDB && form_values.keepDuplicates ?
            `keepDuplicates=${form_values.keepDuplicates}`
            : null;
        const generatedCode = `create table "${form_values.dbPath}"."${form_values.tableName}" (\n` +
            `${columns}\n` +
            ')\n' +
            `${[partition, sorts, keepDuplicates].filter(Boolean).join(',\n')}`;
        return generatedCode;
    }, [steps.context_map[CreateTableStepsEnum.FillForm], isTSDB]);
    return (0,jsx_runtime.jsxs)("div", { className: 'create-table-preview-code', children: [(0,jsx_runtime.jsxs)("div", { className: 'create-table-preview-code-editor', children: [(0,jsx_runtime.jsx)(Editor_Editor, { value: code, readonly: true, options: {
                            padding: { top: 8 },
                            overviewRulerBorder: false
                        } }), (0,jsx_runtime.jsx)(CopyIconButton_CopyIconButton, { type: 'link', text: code, className: 'create-table-preview-code-copy' })] }), (0,jsx_runtime.jsxs)("div", { className: 'create-table-preview-code-action', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: steps.prev, children: (0,i18n.t)('上一步') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: () => { steps.next(code); }, children: (0,i18n.t)('执行') })] })] });
}
// ================ 建表执行效果 ================
function CreateTableModalExecuteResult() {
    const steps = (0,external_React_.useContext)(StepsContext);
    const modal = esm.useModal();
    const { ddb } = model/* model */.ge.use(['ddb']);
    const [loading, set_loading] = (0,external_React_.useState)(false);
    const [error, set_error] = (0,external_React_.useState)(null);
    useAsyncEffect(async () => {
        const code = steps.context_map[CreateTableStepsEnum.PreviewCode];
        set_loading(true);
        try {
            await ddb.eval(code);
        }
        catch (error) {
            set_error(error);
        }
        finally {
            set_loading(false);
        }
    }, []);
    if (loading)
        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { icon: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { spinning: true, size: 'large' }), title: (0,i18n.t)('建表中...') });
    if (error)
        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { status: 'error', title: (0,i18n.t)('创建失败'), subTitle: error.message, className: 'create-table-result__error', extra: [
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: steps.prev, children: (0,i18n.t)('上一步') }, 'prev'),
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: modal.hide, children: (0,i18n.t)('取消') }, 'cancel'),
            ] });
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { status: 'success', title: (0,i18n.t)('创建成功'), extra: [
            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: () => {
                    modal.resolve();
                    modal.hide();
                }, children: (0,i18n.t)('完成') }, 'complete'),
        ] });
}
// ================ 建表表单 ================
const DDB_COLUMN_COMPRESS_METHODS_SELECT_OPTIONS = [
    {
        label: (0,i18n.t)('默认'),
        value: '',
    },
    {
        label: 'LZ4',
        value: 'lz4',
    },
    {
        label: 'Delta',
        value: 'delta',
    },
];
const COLUMNS_REACTION_FULLFILL_EXPRESSION = '{{ $deps.columns?.filter(col => col.name).map(column => ({ label: column.name, value: column.name })) || []  }}';
function getPartitionSchemeDescription({ schema, typeName, columnType }) {
    let schemaType = '';
    if (columnType)
        schemaType = browser/* DdbType */.Z2[columnType].toUpperCase();
    else
        switch (typeName) {
            case PartitionTypeName.LIST:
                // 列表分区参数是 any vector，为了获取正确的数据类型（类型是唯一的），需要多取一层
                schemaType = browser/* DdbType */.Z2[schema.value[0].type].toUpperCase();
                break;
            case PartitionTypeName.SEQ:
                // 顺序分区没有确定的数据类型，只取数量作为描述
                schemaType = schema.value.toString();
                break;
            case PartitionTypeName.HASH:
                // FIXME: HASH 分区服务器返回有误，没有返回数据类型，只返回了分区数量，无法正确展示，待服务器修复
                schemaType = schema.value.toString();
                break;
            default:
                // RANGE(TYPE), VALUE(TYPE)
                schemaType = browser/* DdbType */.Z2[schema.type].toUpperCase();
                break;
        }
    return `${typeName}(${schemaType})`;
}
function CreateTableModalFillForm() {
    const steps = (0,external_React_.useContext)(StepsContext);
    const { database, schema } = (0,external_React_.useContext)(PropsContext);
    const partitionList = (0,external_React_.useMemo)(() => {
        const partitions = [];
        if (Array.isArray(schema.partitionTypeName.value))
            partitions.push(...schema.partitionTypeName.value.map((typeName, index) => ({
                typeName,
                schema: schema.partitionSchema.value[index],
                columnType: schema.partitionColumnType?.value?.[index],
            })));
        else
            partitions.push({
                typeName: schema.partitionTypeName.value,
                schema: schema.partitionSchema,
                columnType: schema.partitionColumnType?.value,
            });
        return partitions;
    }, [schema]);
    const configurablePartitions = (0,external_React_.useMemo)(
    // SEQ 顺序分区不配置方案，需要排除
    () => partitionList.filter(({ typeName }) => typeName !== PartitionTypeName.SEQ), [partitionList]);
    const engineType = schema.engineType?.value;
    const isTSDB = engineType === 'TSDB';
    // restore form value from steps context
    const form = (0,external_React_.useMemo)(() => (0,formily_js_Core_namespaceObject.createForm)({
        initialValues: {
            dbPath: database.path.slice(0, -1),
            ...steps.context_map[CreateTableStepsEnum.FillForm],
        },
    }), []);
    const onSubmit = (0,external_React_.useCallback)(async (formValues) => {
        console.log(formValues);
        steps.next(formValues);
    }, []);
    return (0,jsx_runtime.jsxs)(formily_js_AntdV5_namespaceObject.Form, { labelWrap: true, labelCol: 4, form: form, className: 'create-table-form', onAutoSubmit: onSubmit, onAutoSubmitFailed: feedbacks => {
            if (feedbacks instanceof Error)
                throw feedbacks;
        }, children: [(0,jsx_runtime.jsxs)(SchemaField, { scope: { ...DDBTypeSelectorSchemaFields.ScopeValues, engineType }, children: [(0,jsx_runtime.jsx)(SchemaField.String, { name: 'dbPath', title: (0,i18n.t)('数据库路径'), "x-decorator": 'FormItem', "x-component": 'Input', "x-component-props": {
                            disabled: true,
                        } }), (0,jsx_runtime.jsx)(SchemaField.String, { required: true, name: 'type', title: (0,i18n.t)('表类型'), "x-decorator": 'FormItem', "x-component": 'Select', default: TableTypes.PartitionedTable, enum: [
                            {
                                label: (0,i18n.t)('分布式表'),
                                value: TableTypes.PartitionedTable,
                            },
                            {
                                label: (0,i18n.t)('维度表'),
                                value: TableTypes.Table,
                            },
                        ] }), (0,jsx_runtime.jsx)(SchemaField.String, { required: true, name: 'tableName', title: (0,i18n.t)('表名'), "x-decorator": 'FormItem', "x-component": 'Input', "x-validator": [
                            {
                                triggerType: 'onBlur',
                                validator(value, rule) {
                                    return database.children.find(child => child.name === value)
                                        ? rule.message
                                        : null;
                                },
                                message: (0,i18n.t)('已存在相同名称的表'),
                            },
                        ] }), (0,jsx_runtime.jsxs)(SchemaField.Array, { required: true, name: 'columns', title: (0,i18n.t)('数据列'), "x-decorator": 'FormItem', "x-component": 'ArrayTable', "x-component-props": {
                            className: 'create-table-form-columns-table',
                            pagination: {
                                pageSize: 10,
                            },
                        }, children: [(0,jsx_runtime.jsxs)(SchemaField.Object, { children: [(0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Column', "x-component-props": { width: 30, align: 'center' }, children: (0,jsx_runtime.jsx)(SchemaField.Void, { "x-decorator": 'FormItem', "x-component": 'ArrayTable.SortHandle' }) }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Column', "x-component-props": { title: (0,i18n.t)('列名'), width: 100 }, children: (0,jsx_runtime.jsx)(SchemaField.String, { name: 'name', required: true, "x-decorator": 'FormItem', "x-component": 'Input', "x-reactions": (field) => {
                                                const hasSameColumn = field
                                                    .query('columns')
                                                    .value()
                                                    .filter(column => column.name === field.value).length >= 2;
                                                field.setState({
                                                    selfErrors: field.value && hasSameColumn
                                                        ? [(0,i18n.t)('已存在相同名称的列')]
                                                        : null,
                                                });
                                            } }) }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Column', "x-component-props": {
                                            title: (0,i18n.t)('数据类型'),
                                            width: 120,
                                        }, children: (0,jsx_runtime.jsx)(DDBTypeSelectorSchemaFields, { isTSDBEngine: isTSDB, typeField: {
                                                title: null,
                                            }, scaleField: {
                                                ['x-decorator-props']: {
                                                    className: 'create-table-form-columns-table-scale',
                                                },
                                            } }) }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Column', "x-component-props": { title: (0,i18n.t)('备注'), width: 150 }, children: (0,jsx_runtime.jsx)(SchemaField.String, { name: 'comment', "x-decorator": 'FormItem', "x-component": 'Input' }) }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Column', "x-component-props": {
                                            title: (0,i18n.t)('压缩算法'),
                                            width: 80,
                                        }, children: (0,jsx_runtime.jsx)(SchemaField.String, { name: 'compress', "x-decorator": 'FormItem', "x-component": 'Select', default: '', enum: DDB_COLUMN_COMPRESS_METHODS_SELECT_OPTIONS }) }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Column', "x-component-props": {
                                            title: (0,i18n.t)('操作'),
                                            dataIndex: 'operations',
                                            width: 80,
                                            fixed: 'right',
                                        }, children: (0,jsx_runtime.jsxs)(SchemaField.Void, { "x-component": 'FormItem', children: [(0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Remove' }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.MoveDown' }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.MoveUp' })] }) })] }), (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'ArrayTable.Addition', title: (0,i18n.t)('添加列') })] }), (0,jsx_runtime.jsx)(SchemaField.Void, { name: 'partitionColumns', title: (0,i18n.t)('分区列'), description: configurablePartitions.length > 0 ? (0,i18n.t)('请根据分区方案顺序选择分区列') : undefined, "x-decorator": 'FormItem', "x-decorator-props": { asterisk: true }, "x-reactions": [
                            {
                                dependencies: {
                                    type: 'type',
                                },
                                fulfill: {
                                    state: {
                                        hidden: `{{ $deps.type === "${TableTypes.Table}" }}`,
                                    },
                                },
                            },
                        ], children: configurablePartitions.length > 0
                            ? configurablePartitions.map((partition, index) => (0,jsx_runtime.jsx)(SchemaField.String, { required: true, name: `partitionColumns[${index}]`, title: getPartitionSchemeDescription(partition), "x-decorator": 'FormItem', "x-decorator-props": {
                                    asterisk: false,
                                    labelCol: 5,
                                    labelAlign: 'left',
                                }, "x-component": 'Select', "x-reactions": [
                                    {
                                        dependencies: {
                                            columns: 'columns',
                                        },
                                        fulfill: {
                                            schema: {
                                                enum: COLUMNS_REACTION_FULLFILL_EXPRESSION,
                                            },
                                            state: {
                                                value: '{{ $deps.columns.some(depCol => depCol.name === $self.value) ? $self.value : null }}',
                                            },
                                        },
                                    },
                                    {
                                        dependencies: {
                                            type: 'type',
                                        },
                                        fulfill: {
                                            state: {
                                                display: `{{ $deps.type === "${TableTypes.Table}" ? "none" : "visible" }}`,
                                            },
                                        },
                                    }
                                ] }, index))
                            : (0,jsx_runtime.jsx)(SchemaField.Void, { "x-component": 'p', "x-component-props": {
                                    className: 'no-partition-scheme',
                                    children: (0,i18n.t)('该数据库没有需要配置的分区列'),
                                } }) }), (0,jsx_runtime.jsx)(SchemaField.Array, { name: 'sortColumns', title: (0,i18n.t)('排序列'), "x-decorator": 'FormItem', "x-component": 'Select', "x-component-props": { mode: 'multiple' }, "x-display": isTSDB ? 'visible' : 'none', "x-reactions": [
                            {
                                dependencies: {
                                    columns: 'columns',
                                },
                                fulfill: {
                                    schema: {
                                        enum: COLUMNS_REACTION_FULLFILL_EXPRESSION,
                                    },
                                    state: {
                                        value: '{{ $self.value?.filter(col => $deps.columns.some(depCol => depCol.name === col)) || []  }}',
                                    },
                                },
                            },
                            (field) => {
                                const columnsMap = (0,external_.mapKeys)(field.query('columns').value(), column => column.name);
                                const sortColumns = field.value;
                                if (!sortColumns)
                                    return;
                                const unsupportSortColumns = sortColumns.filter(column => {
                                    const sortColumn = columnsMap[column];
                                    return !SUPPORT_SORT_COLUMN_TYPES.includes(sortColumn.type);
                                });
                                if (unsupportSortColumns.length) {
                                    field.setState({
                                        selfErrors: [
                                            (0,i18n.t)('列 {{columns}} 不支持排序', {
                                                columns: unsupportSortColumns.join(', '),
                                            }),
                                        ],
                                    });
                                    return;
                                }
                                if (sortColumns.length > 1) {
                                    const lastColumnName = sortColumns[sortColumns.length - 1];
                                    const lastColumn = columnsMap[lastColumnName];
                                    const indexesColumns = sortColumns.slice(0, -1);
                                    const unsupportIndexesColumns = indexesColumns.filter(column => {
                                        return [
                                            'TIME',
                                            'TIMESTAMP',
                                            'NANOTIME',
                                            'NANOTIMESTAMP',
                                        ].includes(columnsMap[column].type);
                                    });
                                    if (isDDBTemporalType(lastColumn.type) &&
                                        unsupportIndexesColumns.length) {
                                        field.setState({
                                            selfErrors: [
                                                (0,i18n.t)('索引列 {{columns}} 不能为 TIME, TIMESTAMP, NANOTIME, NANOTIMESTAMP 类型', {
                                                    columns: unsupportIndexesColumns.join(', '),
                                                }),
                                            ],
                                        });
                                        return;
                                    }
                                }
                                field.setState({
                                    selfErrors: null,
                                });
                            },
                        ] }), (0,jsx_runtime.jsx)(SchemaField.String, { required: true, name: 'keepDuplicates', title: (0,i18n.t)('重复值处理方式'), "x-decorator": 'FormItem', "x-component": 'Select', "x-display": isTSDB ? 'visible' : 'none', default: KeepDuplicatesValues.ALL, enum: [
                            {
                                label: (0,i18n.t)('保留全部'),
                                value: KeepDuplicatesValues.ALL,
                            },
                            {
                                label: (0,i18n.t)('保留最后一项'),
                                value: KeepDuplicatesValues.LAST,
                            },
                            {
                                label: (0,i18n.t)('保留第一项'),
                                value: KeepDuplicatesValues.FIRST,
                            },
                        ] })] }), (0,jsx_runtime.jsx)(formily_js_AntdV5_namespaceObject.FormButtonGroup, { align: 'right', children: (0,jsx_runtime.jsx)(formily_js_AntdV5_namespaceObject.Submit, { type: 'primary', children: (0,i18n.t)('下一步') }) })] });
}
// ================ 建表弹框 ================
const CreateTableSteps = [
    CreateTableStepsEnum.FillForm,
    CreateTableStepsEnum.PreviewCode,
    CreateTableStepsEnum.ExecuteResult,
];
const CreateTableModal_CreateTableModal = esm.create(props => {
    const modal = esm.useModal();
    const steps = useSteps(CreateTableStepsEnum.FillForm, CreateTableSteps);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { width: 1000, open: modal.visible, onCancel: modal.hide, maskClosable: false, title: (0,i18n.t)('创建数据表'), afterClose: modal.remove, footer: null, children: (0,jsx_runtime.jsx)(PropsContext.Provider, { value: props, children: (0,jsx_runtime.jsxs)(StepsContext.Provider, { value: steps, children: [steps.current === CreateTableStepsEnum.FillForm && ((0,jsx_runtime.jsx)(CreateTableModalFillForm, {})), steps.current === CreateTableStepsEnum.PreviewCode && ((0,jsx_runtime.jsx)(CreateTableModalPreviewCode, {})), steps.current === CreateTableStepsEnum.ExecuteResult && ((0,jsx_runtime.jsx)(CreateTableModalExecuteResult, {}))] }) }) });
});

;// CONCATENATED MODULE: ./console/shell/AddColumnModal.tsx











const AddColumnModal = esm.create(({ node }) => {
    const modal = esm.useModal();
    const form = (0,external_React_.useMemo)(() => (0,formily_js_Core_namespaceObject.createForm)(), []);
    const engineType = node.table.db.schema.to_dict().engineType?.value;
    const isTSDB = engineType === 'TSDB';
    async function onSubmit(formValues) {
        const { table } = node;
        await model_shell.define_add_column();
        // 调用该函数时，数据库路径不能以 / 结尾
        await model/* model */.ge.ddb.call('add_column', [
            table.db.path.slice(0, -1),
            table.name,
            formValues.column,
            generateDDBDataTypeLiteral(formValues)
        ]);
        model/* model */.ge.message.success((0,i18n.t)('添加成功'));
        node.children = null;
        table.schema = null;
        await node.load_children();
        model_shell.set({ dbs: [...model_shell.dbs] });
        modal.resolve();
        modal.hide();
    }
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: modal.visible, onCancel: modal.hide, afterClose: modal.remove, title: (0,i18n.t)('添加列'), footer: null, children: (0,jsx_runtime.jsxs)(formily_js_AntdV5_namespaceObject.Form, { className: 'add-column-modal-form', labelCol: 6, form: form, onAutoSubmit: onSubmit, onAutoSubmitFailed: feedbacks => {
                if (feedbacks instanceof Error)
                    throw feedbacks;
            }, children: [(0,jsx_runtime.jsxs)(SchemaField, { scope: {
                        ...DDBTypeSelectorSchemaFields.ScopeValues
                    }, children: [(0,jsx_runtime.jsx)(SchemaField.String, { name: 'column', title: (0,i18n.t)('列名'), "x-decorator": 'FormItem', "x-component": 'Input', "x-component-props": {
                                placeholder: (0,i18n.t)('输入列名，支持包含特殊字符')
                            }, required: true, "x-validator": {
                                required: true,
                                message: (0,i18n.t)('请输入列名')
                            } }), (0,jsx_runtime.jsx)(DDBTypeSelectorSchemaFields, { isTSDBEngine: isTSDB, isAddColumn: true })] }), (0,jsx_runtime.jsxs)(formily_js_AntdV5_namespaceObject.FormButtonGroup, { align: 'right', children: [(0,jsx_runtime.jsx)(formily_js_AntdV5_namespaceObject.Submit, { type: 'primary', children: (0,i18n.t)('确定') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { htmlType: 'button', onClick: modal.hide, children: (0,i18n.t)('取消') })] })] }) });
});

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/AccessModal.sass
var AccessModal = __webpack_require__(1263);
;// CONCATENATED MODULE: ./console/shell/AccessModal.sass

      
      
      
      
      
      
      
      
      

var AccessModal_options = {};

AccessModal_options.styleTagTransform = (styleTagTransform_default());
AccessModal_options.setAttributes = (setAttributesWithoutAttributes_default());
AccessModal_options.insert = insertBySelector_default().bind(null, "head");
AccessModal_options.domAPI = (styleDomAPI_default());
AccessModal_options.insertStyleElement = (insertStyleElement_default());

var AccessModal_update = injectStylesIntoStyleTag_default()(AccessModal/* default */.A, AccessModal_options);




       /* harmony default export */ const shell_AccessModal = (AccessModal/* default */.A && AccessModal/* default */.A.locals ? AccessModal/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/shell/AccessModal.tsx








const cols = [
    {
        title: (0,i18n.t)('权限'),
        dataIndex: 'type',
        key: 'type',
        width: 200
    },
    {
        title: (0,i18n.t)('用户'),
        dataIndex: 'users',
        key: 'users',
    },
];
const AccessModal_AccessModal = esm.create(({ database }) => {
    const modal = esm.useModal();
    const [db_rows, set_db_rows] = (0,external_React_.useState)([]);
    model_shell.use(['get_access_defined']);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (!model_shell.get_access_defined)
                await model_shell.define_get_user_grant();
            let rows = [];
            const access = (await (model/* model */.ge.ddb.call('getUserGrant', [database.key.slice(0, -1)], { urgent: true }))).to_rows();
            for (let ac of access) {
                const { userId, AccessAction } = ac;
                let row = rows.find(row => row.type === AccessAction);
                if (!row) {
                    row = {
                        key: AccessAction,
                        type: AccessAction,
                        users: []
                    };
                    rows.push(row);
                }
                row.users.push(userId);
            }
            set_db_rows(rows);
        })();
    }, [model_shell.get_access_defined]);
    const items = [
        {
            key: database.key,
            label: `数据库 ${database.key}`,
            children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { columns: cols, dataSource: db_rows.map(row => ({ ...row, users: row.users.join(',') })), pagination: false })
        },
        ...database.children.map(tb => ({
            key: tb.key,
            label: `数据表 ${tb.key}`,
            children: (0,jsx_runtime.jsx)(TableAccess, { tb: tb.key.slice(0, -1) })
        }))
    ];
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'access-table', width: 1000, open: modal.visible, onCancel: modal.hide, maskClosable: false, title: (0,i18n.t)('查看数据库 {{db_name}} 用户权限', { db_name: database.key }), afterClose: modal.remove, footer: null, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, defaultActiveKey: [database.key] }) });
});
function TableAccess({ tb }) {
    const [tb_rows, set_tb_rows] = (0,external_React_.useState)([]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            let rows = [];
            const access = (await (model/* model */.ge.ddb.call('getUserGrant', [tb], { urgent: true }))).to_rows();
            for (let ac of access) {
                const { userId, AccessAction } = ac;
                let row = rows.find(row => row.type === AccessAction);
                if (!row) {
                    row = {
                        key: AccessAction,
                        type: AccessAction,
                        users: []
                    };
                    rows.push(row);
                }
                row.users.push(userId);
            }
            set_tb_rows(rows);
        })();
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { columns: cols, dataSource: tb_rows.map(row => ({ ...row, users: row.users.join(',') })), pagination: false });
}

;// CONCATENATED MODULE: ./console/shell/icons/database.icon.svg
var database_icon_path;
function database_icon_extends() { database_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return database_icon_extends.apply(this, arguments); }

var SvgDatabaseicon = function SvgDatabaseicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", database_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 12 14"
  }, props), database_icon_path || (database_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    fillRule: "evenodd",
    d: "M3.383 10.226a.65.65 0 1 0 0 1.3.65.65 0 0 0 0-1.3Zm0-3.467a.65.65 0 1 0 0 1.3.65.65 0 0 0 0-1.3ZM9 .692H3c-1.657 0-3 1.165-3 2.6v7.8c0 1.436 1.343 2.6 3 2.6h6c1.657 0 3-1.164 3-2.6v-7.8c0-1.435-1.343-2.6-3-2.6Zm2 10.955c0 .353-.124.537-.44.853-.389.39-1.162.39-1.56.39H3c-1 0-1.5-.39-1.5-.39S1 12 1 11.647V9.36c.453.242 1.471.37 2 .373h6c.529-.002 1.547-.131 2-.373v2.288Zm0-4.485C11 8 10.781 8.25 10.5 8.5s-1.163.397-1.56.397h-6.5c-.44 0-.696-.153-.94-.397C1.121 8.121 1 8 1 7.162V5.459c.453.242 1.471.37 2 .373h6c.529-.002 1.547-.131 2-.373v1.703ZM9 5H3c-1 0-2-.408-2-1.708 0-1.292 1-1.6 2-1.6h6c1.06 0 2 .308 2 1.6C11 4.5 10 5 9 5Z",
    clipRule: "evenodd"
  })));
};
/* harmony default export */ const database_icon = (SvgDatabaseicon);
;// CONCATENATED MODULE: ./console/shell/icons/create-database.icon.svg
var create_database_icon_path, create_database_icon_path2;
function create_database_icon_extends() { create_database_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return create_database_icon_extends.apply(this, arguments); }

var SvgCreateDatabaseicon = function SvgCreateDatabaseicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", create_database_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 16 16",
    width: "1em",
    height: "1em"
  }, props), create_database_icon_path || (create_database_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fillRule: "evenodd",
    d: "M7.302 1.782h-.117l-.233.002c-.447.01-.893.053-1.337.13l-.21.039-.208.044-.104.025-.204.052c-1.715.47-2.916 1.475-2.962 2.796l-.001.078v8.312l.001.077c.048 1.4 1.392 2.444 3.27 2.874l.207.045.211.04a9.196 9.196 0 0 0 1.57.131c.546 0 1.074-.045 1.57-.132l.211-.04.208-.044.103-.024.204-.053c.651-.178 1.228-.434 1.696-.754l-.066.001c-.479 0-.922-.216-1.285-.583l-.15.053c-.175.06-.361.113-.555.161l-.197.045-.202.041c-.139.026-.279.049-.418.068l-.217.026-.22.02-.224.015a8.538 8.538 0 0 1-.916 0l-.224-.015-.22-.02-.216-.026a7.984 7.984 0 0 1-.419-.068l-.202-.04-.196-.046a6.87 6.87 0 0 1-.556-.162l-.174-.06a5.009 5.009 0 0 1-.693-.317l-.133-.077c-.56-.342-.891-.747-.891-1.136v-2.54c.58.521 1.415.913 2.394 1.137l.207.045.211.04a9.196 9.196 0 0 0 1.57.13c.546 0 1.074-.045 1.57-.13l.144-.028c.03-.46.13-.89.283-1.271l-.061.015-.197.045-.202.041c-.14.026-.279.049-.419.067l-.216.027-.22.02-.224.015a8.538 8.538 0 0 1-.916 0l-.224-.015-.22-.02-.216-.027a7.878 7.878 0 0 1-.419-.067l-.202-.04-.197-.046a6.87 6.87 0 0 1-.556-.162l-.173-.061a5.008 5.008 0 0 1-.693-.316l-.134-.078c-.56-.341-.89-.746-.89-1.135V6.761c.58.522 1.415.913 2.394 1.138l.207.044.21.04.215.034c.434.064.888.098 1.356.098.546 0 1.073-.046 1.57-.132l.211-.04.207-.044.146-.035c.917-.23 1.697-.607 2.249-1.103v2.145l-.002.045a.756.756 0 0 1-.027.155c.335.093.643.294.905.575V4.948l-.001-.078c-.046-1.321-1.247-2.326-2.962-2.796l-.204-.052-.103-.025-.208-.045-.21-.04-.2-.031a9.244 9.244 0 0 0-1.254-.099ZM7.07 2.97l.115-.001h.155c.102.003.203.006.303.012l.224.015.22.02.216.027.142.02c.093.014.185.03.277.047l.202.04.197.046.144.037c.138.037.275.079.412.125l.173.061.126.048c.192.076.381.166.567.268l.134.078.071.044c.517.332.82.719.82 1.09 0 .39-.331.795-.891 1.136l-.134.078-.105.056c-.179.093-.376.18-.588.26l-.173.061-.134.044c-.14.044-.28.083-.422.117l-.197.046-.202.04-.138.025c-.092.016-.185.03-.28.043l-.217.026-.22.02-.224.016-.15.007c-.256.009-.51.006-.766-.007L6.503 6.9l-.22-.02-.216-.027-.142-.02a8.117 8.117 0 0 1-.277-.047l-.202-.041-.196-.046-.144-.036a6.86 6.86 0 0 1-.412-.125l-.173-.061-.126-.049a4.8 4.8 0 0 1-.568-.267l-.133-.078-.072-.045c-.516-.332-.82-.718-.82-1.09 0-.389.332-.794.892-1.135l.133-.078.105-.057c.18-.093.376-.18.588-.259l.174-.062.133-.043c.14-.044.281-.083.423-.118l.196-.045.203-.04.137-.025c.092-.016.186-.03.28-.043l.217-.026.22-.02.224-.016.17-.007.173-.004Z",
    clipRule: "evenodd"
  })), create_database_icon_path2 || (create_database_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fillRule: "evenodd",
    d: "M14.058 10.827a3.146 3.146 0 0 0-.88-1.106 3.073 3.073 0 0 0-2.032-.671 3.08 3.08 0 0 0-1.978.821 3.17 3.17 0 0 0-.866 1.36 3.218 3.218 0 0 0-.091 1.616c.108.538.351 1.038.707 1.451a3.106 3.106 0 0 0 2.342 1.083c1.719 0 3.111-1.417 3.111-3.166 0-.481-.106-.956-.313-1.388Zm-.465 1.238a.484.484 0 0 1 0 .678.468.468 0 0 1-.333.141H11.73v1.556c0 .127-.05.25-.138.34a.467.467 0 0 1-.77-.156.486.486 0 0 1-.035-.184v-1.556H9.26a.465.465 0 0 1-.34-.138.48.48 0 0 1-.14-.342.488.488 0 0 1 .14-.342.471.471 0 0 1 .34-.138h1.528v-1.556a.487.487 0 0 1 .29-.45.465.465 0 0 1 .518.106.481.481 0 0 1 .135.344v1.556h1.529c.125 0 .245.051.333.14Z",
    clipRule: "evenodd"
  })));
};
/* harmony default export */ const create_database_icon = (SvgCreateDatabaseicon);
;// CONCATENATED MODULE: ./console/shell/icons/database-group.icon.svg
var database_group_icon_path, database_group_icon_path2, database_group_icon_path3, _path4;
function database_group_icon_extends() { database_group_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return database_group_icon_extends.apply(this, arguments); }

var SvgDatabaseGroupicon = function SvgDatabaseGroupicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", database_group_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 15 15"
  }, props), database_group_icon_path || (database_group_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    stroke: "#3760F0",
    strokeWidth: 0.2,
    d: "M10.104 5.938h.084c.298.002.597.02.894.052l.142.017.15.02.148.024.074.013.145.028c1.223.247 2.08.776 2.112 1.471l.001.041v4.375c0 .716-.866 1.26-2.113 1.513l-.145.027-.074.013-.148.024-.15.02c-.354.046-.73.07-1.12.07-.39 0-.765-.024-1.12-.07l-.15-.02-.147-.024c-1.34-.226-2.298-.776-2.332-1.512V7.564c.033-.696.89-1.225 2.112-1.472l.146-.028.074-.013.147-.023.15-.021c.317-.04.635-.063.954-.068l.166-.002Zm1.418 5.303-.148.023-.15.02c-.354.046-.73.07-1.12.07-.39 0-.765-.024-1.12-.07l-.15-.02-.147-.023c-.699-.118-1.294-.325-1.708-.6v1.338c0 .205.236.418.636.598l.095.04c.147.06.312.117.494.167l.124.032c.125.031.258.06.396.085l.14.024.144.021c.098.014.197.026.299.036l.154.014.157.01.16.008c.217.009.435.009.653 0l.16-.007.157-.011.154-.014a7.58 7.58 0 0 0 .298-.035l.144-.022.14-.024c.139-.025.271-.053.397-.085l.123-.032c.182-.05.348-.106.495-.167l.095-.04c.384-.173.617-.377.634-.574l.001-.024v-1.337c-.414.274-1.009.48-1.707.599Zm1.707-2.683c-.393.261-.95.46-1.603.581l-.104.018-.148.024-.15.02a8.924 8.924 0 0 1-2.086.018l-.154-.018-.15-.02-.148-.024c-.698-.118-1.293-.324-1.707-.598v1.129c0 .204.236.417.635.597l.096.04c.147.061.312.117.494.167l.123.032c.126.032.259.06.397.085l.14.024.144.022c.098.013.197.025.299.035l.154.014.157.01.16.009c.217.008.435.008.653 0l.16-.008.156-.011.155-.014a7.58 7.58 0 0 0 .298-.035l.144-.022.14-.024a6.13 6.13 0 0 0 .397-.085l.123-.032c.182-.05.348-.106.494-.166l.096-.041c.384-.173.617-.376.634-.574l.001-.024V8.559Zm-3.125-1.995h-.082l-.123.002-.121.004-.16.008-.157.01-.154.014a7.276 7.276 0 0 0-.2.023l-.098.013-.145.021-.14.024c-.104.019-.204.04-.301.062l-.095.023-.124.033a4.532 4.532 0 0 0-.42.136l-.074.03-.095.04c-.4.18-.636.394-.636.598 0 .196.216.4.585.574l.05.024.096.04c.122.05.258.098.405.141l.09.026.123.032c.094.024.192.045.293.066l.103.019.14.024.144.021c.065.01.131.018.198.025l.101.01.154.015.157.01.16.008c.181.008.363.009.545.004l.108-.004.16-.008.157-.01.154-.014c.068-.007.134-.014.2-.023l.098-.013.144-.021.14-.024c.104-.019.205-.04.302-.062l.095-.023.123-.032c.152-.042.292-.088.42-.137l.075-.03.095-.04c.4-.18.635-.393.635-.598 0-.196-.216-.399-.584-.574l-.051-.023-.095-.041a4.141 4.141 0 0 0-.405-.141l-.09-.025-.123-.033a6.083 6.083 0 0 0-.294-.065l-.102-.02-.141-.024-.144-.021a7.543 7.543 0 0 0-.197-.025l-.101-.01-.154-.014-.157-.011-.16-.008a8.19 8.19 0 0 0-.217-.006h-.11Z"
  })), database_group_icon_path2 || (database_group_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    fillRule: "evenodd",
    d: "M3.716 3.769h2.216c.316 0 .475.154.475.462 0 .307-.159.461-.475.461H3.716c-.316 0-.474-.154-.474-.461 0-.308.158-.462.474-.462Z",
    clipRule: "evenodd"
  })), database_group_icon_path3 || (database_group_icon_path3 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    fillRule: "evenodd",
    d: "M7.102 2.139a.316.316 0 0 0-.29-.192H2.265a.317.317 0 0 0-.317.316v9.474a.315.315 0 0 0 .317.316H7V13H2.266A1.267 1.267 0 0 1 1 11.737V2.263A1.261 1.261 0 0 1 2.266 1H6.81c.507 0 .965.3 1.164.766l.538 1.253c.05.116.165.191.291.191h3.59a1.267 1.267 0 0 1 1.265 1.264V7h-.95V4.474a.316.316 0 0 0-.316-.316H8.804c-.506 0-.964-.301-1.164-.766L7.102 2.14Z",
    clipRule: "evenodd"
  })), _path4 || (_path4 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M6.811 1.947v.05-.05Zm.291.192.046-.02-.046.02Zm-5.06-.1.035.036-.035-.035Zm0 9.921-.035.035.035-.035ZM7 12.053h.05v-.05H7v.05ZM7 13v.05h.05V13H7Zm-5.63-.37.036-.035-.035.035Zm0-11.26.036.035-.035-.035ZM6.812 1v.05V1Zm1.164.766.046-.02-.046.02Zm.538 1.253-.046.02.046-.02Zm4.776.561.035-.035-.035.035Zm.37 3.42v.05h.05V7h-.05Zm-.95 0h-.05v.05h.05V7Zm-.092-2.75.035-.035-.035.035Zm-3.813-.092v-.05.05ZM7.64 3.392l-.045.02.045-.02Zm-.829-1.395c.107 0 .203.064.245.161l.092-.039a.366.366 0 0 0-.337-.222v.1Zm-4.545 0H6.81v-.1H2.266v.1Zm-.189.078a.267.267 0 0 1 .189-.078v-.1a.367.367 0 0 0-.26.107l.071.071ZM2 2.263c0-.07.029-.138.078-.188l-.07-.07a.366.366 0 0 0-.108.258H2Zm0 9.474V2.263h-.1v9.474H2Zm.078.188A.266.266 0 0 1 2 11.737h-.1c0 .097.04.19.108.258l.07-.07Zm.189.078a.267.267 0 0 1-.189-.078l-.07.07a.367.367 0 0 0 .259.108v-.1Zm4.734 0H2.266v.1H7v-.1Zm.05.997v-.947h-.1V13h.1Zm-4.784.05H7v-.1H2.266v.1Zm-.93-.385c.246.247.58.385.93.385v-.1c-.323 0-.632-.128-.86-.355l-.07.07Zm-.386-.928c0 .348.139.682.385.928l.071-.07a1.212 1.212 0 0 1-.356-.858h-.1Zm0-9.474v9.474h.1V2.263h-.1Zm.385-.928c-.246.246-.385.58-.385.928h.1c0-.322.128-.63.356-.858l-.07-.07Zm.93-.385c-.348 0-.683.138-.93.385l.071.07c.228-.227.537-.355.86-.355v-.1Zm4.546 0H2.266v.1H6.81v-.1Zm1.21.796A1.316 1.316 0 0 0 6.811.95v.1c.487 0 .927.289 1.118.735l.092-.04Zm.538 1.253-.538-1.253-.092.04.538 1.253.092-.04Zm.245.161A.266.266 0 0 1 8.56 3l-.092.039c.058.134.19.221.337.221v-.1Zm3.59 0h-3.59v.1h3.59v-.1Zm.93.385a1.318 1.318 0 0 0-.93-.385v.1c.322 0 .631.128.86.356l.07-.07Zm.385.929c0-.349-.138-.683-.385-.929l-.07.07c.227.228.355.537.355.859h.1Zm0 2.526V4.474h-.1V7h.1Zm-1 .05h.95v-.1h-.95v.1Zm-.05-2.576V7h.1V4.474h-.1Zm-.077-.188c.05.05.078.117.078.188h.1a.366.366 0 0 0-.107-.259l-.071.07Zm-.189-.078c.071 0 .139.028.189.078l.07-.071a.367.367 0 0 0-.259-.107v.1Zm-3.589 0h3.59v-.1h-3.59v.1Zm-1.21-.796c.208.483.684.796 1.21.796v-.1c-.486 0-.926-.29-1.118-.735l-.091.04Zm-.538-1.254.539 1.254.091-.04-.538-1.253-.092.04Z"
  })));
};
/* harmony default export */ const database_group_icon = (SvgDatabaseGroupicon);
;// CONCATENATED MODULE: ./console/shell/icons/column.icon.svg
var column_icon_rect, column_icon_path;
function column_icon_extends() { column_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return column_icon_extends.apply(this, arguments); }

var SvgColumnicon = function SvgColumnicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", column_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 7 16"
  }, props), column_icon_rect || (column_icon_rect = /*#__PURE__*/external_React_.createElement("rect", {
    width: 6,
    height: 15,
    x: 0.5,
    y: 0.5,
    fill: "#fff",
    stroke: "#3760F0",
    rx: 0.5
  })), column_icon_path || (column_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    stroke: "#3760F0",
    d: "M1 5.5h5M1 10.5h5"
  })));
};
/* harmony default export */ const column_icon = (SvgColumnicon);
;// CONCATENATED MODULE: ./console/shell/icons/add-column.icon.svg
var add_column_icon_path, add_column_icon_path2, add_column_icon_path3;
function add_column_icon_extends() { add_column_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return add_column_icon_extends.apply(this, arguments); }

var SvgAddColumnicon = function SvgAddColumnicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", add_column_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    "data-name": "\\u56FE\\u5C42 1",
    viewBox: "0 0 11.56 16",
    width: "1em",
    height: "1em"
  }, props), add_column_icon_path || (add_column_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "none",
    stroke: "#444",
    strokeLinecap: "round",
    d: "M.5 5.5h7M.5 10.5h6"
  })), add_column_icon_path2 || (add_column_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fillRule: "evenodd",
    d: "M11.56 12.28A3.28 3.28 0 1 1 8.28 9a3.28 3.28 0 0 1 3.28 3.28Zm-5.62 0a.47.47 0 0 1 .47-.47h1.4v-1.4a.47.47 0 0 1 .94 0v1.4h1.41a.47.47 0 0 1 0 .94H8.75v1.41a.47.47 0 0 1-.94 0v-1.41h-1.4a.47.47 0 0 1-.47-.47Z"
  })), add_column_icon_path3 || (add_column_icon_path3 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "none",
    stroke: "#444",
    strokeLinecap: "round",
    d: "M7.5 9V1.5a1 1 0 0 0-1-1h-5a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6"
  })));
};
/* harmony default export */ const add_column_icon = (SvgAddColumnicon);
;// CONCATENATED MODULE: ./console/shell/icons/create-table.icon.svg
var create_table_icon_defs, create_table_icon_path;
function create_table_icon_extends() { create_table_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return create_table_icon_extends.apply(this, arguments); }

var SvgCreateTableicon = function SvgCreateTableicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", create_table_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    id: "create-table_icon_svg__\\u56FE\\u5C42_1",
    "data-name": "\\u56FE\\u5C42 1",
    viewBox: "0 0 12.5 12.5",
    width: "1em",
    height: "1em"
  }, props), create_table_icon_defs || (create_table_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("style", null, ".create-table_icon_svg__cls-3{fill:none;stroke:currentColor}"))), /*#__PURE__*/external_React_.createElement("path", {
    d: "M13 10a3 3 0 1 1-3-3 3 3 0 0 1 3 3Zm-5.14 0a.43.43 0 0 1 .43-.43h1.28V8.29a.43.43 0 1 1 .86 0v1.28h1.28a.43.43 0 0 1 0 .86h-1.28v1.28a.43.43 0 0 1-.86 0v-1.28H8.29a.43.43 0 0 1-.43-.43Z",
    style: {
      fill: "currentColor",
      fillRule: "evenodd"
    },
    transform: "translate(-.5 -.5)"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M12 8.33V2.5A1.5 1.5 0 0 0 10.5 1h-8A1.5 1.5 0 0 0 1 2.5v8A1.5 1.5 0 0 0 2.5 12h5.38",
    style: {
      strokeLinecap: "round",
      fill: "none",
      stroke: "currentColor"
    },
    transform: "translate(-.5 -.5)"
  }), create_table_icon_path || (create_table_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M.5 4h11M4 .5v11",
    className: "create-table_icon_svg__cls-3"
  })));
};
/* harmony default export */ const create_table_icon = (SvgCreateTableicon);
;// CONCATENATED MODULE: ./console/shell/icons/access.icon.svg
var icons_access_icon_path;
function icons_access_icon_extends() { icons_access_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return icons_access_icon_extends.apply(this, arguments); }

var access_icon_SvgAccessicon = function SvgAccessicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", icons_access_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "access_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), icons_access_icon_path || (icons_access_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M703.6 670.2a4.1 4.1 0 0 0 4.8.2 158.9 158.9 0 0 1 68.6-27.2 2 2 0 0 0 1.1-3.5 388.8 388.8 0 0 0-121.4-79.3A261.6 261.6 0 0 0 774 342c0-144.7-117.3-262-262-262S250 197.3 250 342a261.7 261.7 0 0 0 117.4 218.5c-140 57.4-239.3 195.4-239.3 355.5v25.5a4 4 0 0 0 4 4h64a4 4 0 0 0 4-4V916a307.1 307.1 0 0 1 24.6-120.9 315.1 315.1 0 0 1 166.4-166.5 308 308 0 0 1 121-24.6 311.1 311.1 0 0 1 191.5 66.2zM512 532a189.8 189.8 0 1 1 134.4-55.6A189.1 189.1 0 0 1 512 532zm446.7 228.3-65.1-65 48.1-48.1a4.2 4.2 0 0 0 0-5.7l-39.6-39.6a3.8 3.8 0 0 0-2.8-1.1 3.9 3.9 0 0 0-2.9 1.1L748.9 749.5a112 112 0 1 0 45.2 45.2l54.2-54.2 65.1 65.1a3.8 3.8 0 0 0 2.8 1.1 4.1 4.1 0 0 0 2.9-1.1l39.6-39.6a4.2 4.2 0 0 0 0-5.7zM729.5 881.9a47.8 47.8 0 0 1-67.8 0 48 48 0 0 1 0-67.8 47.9 47.9 0 0 1 67.8 67.8z"
  })));
};
/* harmony default export */ const icons_access_icon = (access_icon_SvgAccessicon);
;// CONCATENATED MODULE: ./console/shell/icons/partitions.icon.svg
var partitions_icon_path;
function partitions_icon_extends() { partitions_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return partitions_icon_extends.apply(this, arguments); }

var SvgPartitionsicon = function SvgPartitionsicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", partitions_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 16 16"
  }, props), partitions_icon_path || (partitions_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M9.763 1h2v2h-2V1Zm0 6.001h2v2.001h-2V6.999m0 6.001h2v2h-2v-2.003M3.765 7.498V13.5a1 1 0 0 0 1 1h4v.5a1 1 0 0 0 1 1h1.998a1 1 0 0 0 1-1v-2.002a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.5h-4v-5h4v.5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.497h-4V2.5h4V3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.5H4.766a1 1 0 0 0-1 1v5-.002Z"
  })));
};
/* harmony default export */ const partitions_icon = (SvgPartitionsicon);
;// CONCATENATED MODULE: ./console/shell/icons/schema.icon.svg
var schema_icon_path;
function schema_icon_extends() { schema_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return schema_icon_extends.apply(this, arguments); }

var SvgSchemaicon = function SvgSchemaicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", schema_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 14 13"
  }, props), schema_icon_path || (schema_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M.62 3.54h12.821a.492.492 0 0 0 .212-.039.532.532 0 0 0 .182-.127.597.597 0 0 0 .122-.195.645.645 0 0 0 .043-.232V.583a.645.645 0 0 0-.045-.23.594.594 0 0 0-.123-.191.531.531 0 0 0-.18-.124.491.491 0 0 0-.21-.038H.62a.513.513 0 0 0-.38.174.625.625 0 0 0-.157.419v2.364c0 .157.057.307.157.418.101.111.238.174.38.174m.532-2.364H12.91v1.18H1.152v-1.18ZM.585 6.789h5.891v.621c0 .157.057.308.158.419.1.11.237.173.38.173a.513.513 0 0 0 .379-.173.625.625 0 0 0 .157-.419v-.63h5.8a.49.49 0 0 0 .22-.03.529.529 0 0 0 .19-.123.595.595 0 0 0 .13-.198.646.646 0 0 0 0-.478.595.595 0 0 0-.13-.199.529.529 0 0 0-.19-.124.49.49 0 0 0-.22-.028h-5.8V5.04a.625.625 0 0 0-.157-.418.513.513 0 0 0-.38-.174.513.513 0 0 0-.38.174.625.625 0 0 0-.157.418V5.6H.586a.49.49 0 0 0-.22.028.528.528 0 0 0-.191.124.594.594 0 0 0-.13.199.645.645 0 0 0 .13.676c.055.055.12.098.19.124a.49.49 0 0 0 .22.028m2.67 2.08H.612c-.07 0-.14.014-.205.044a.531.531 0 0 0-.174.127.594.594 0 0 0-.117.19.64.64 0 0 0-.04.227v2.956c-.001.078.012.155.04.228a.6.6 0 0 0 .115.194c.05.055.11.1.175.13.065.03.135.045.206.045h2.645a.513.513 0 0 0 .377-.175c.1-.111.155-.261.155-.417V9.447a.62.62 0 0 0-.156-.416.508.508 0 0 0-.376-.172Zm-.536 2.952H1.144v-1.772h1.575v1.772Zm5.634-2.952H5.708c-.07 0-.14.014-.205.044a.531.531 0 0 0-.174.127.594.594 0 0 0-.116.19.64.64 0 0 0-.041.227v2.956c0 .078.013.155.04.228a.6.6 0 0 0 .115.194c.05.055.11.1.175.13.065.03.136.045.206.045h2.645a.513.513 0 0 0 .38-.174.625.625 0 0 0 .157-.418V9.447a.64.64 0 0 0-.041-.226.594.594 0 0 0-.117-.191.531.531 0 0 0-.174-.127.489.489 0 0 0-.205-.044Zm-.537 2.952h-1.57v-1.772h1.57v1.772Zm5.634-2.952h-2.644a.512.512 0 0 0-.378.172c-.101.11-.158.26-.16.416v2.956a.63.63 0 0 0 .158.42c.1.112.237.176.38.177h2.644a.492.492 0 0 0 .21-.041.535.535 0 0 0 .18-.13.598.598 0 0 0 .12-.195.647.647 0 0 0 .04-.231V9.447a.639.639 0 0 0-.158-.417.531.531 0 0 0-.174-.127.489.489 0 0 0-.205-.044m-.532 2.952h-1.589v-1.772h1.576l.013 1.772Z"
  })));
};
/* harmony default export */ const schema_icon = (SvgSchemaicon);
;// CONCATENATED MODULE: ./console/shell/icons/partition-file.icon.svg
var partition_file_icon_path;
function partition_file_icon_extends() { partition_file_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return partition_file_icon_extends.apply(this, arguments); }

var SvgPartitionFileicon = function SvgPartitionFileicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", partition_file_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 16 16"
  }, props), partition_file_icon_path || (partition_file_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "m8.5 1.38 5.004 2.89a1 1 0 0 1 .5.866v5.778a1 1 0 0 1-.5.866L8.5 14.67a1 1 0 0 1-1 0l-5.004-2.89a1 1 0 0 1-.5-.866V5.136a1 1 0 0 1 .5-.866L7.5 1.38a1 1 0 0 1 1 0ZM2.746 5.41v5.505a.25.25 0 0 0 .125.217l4.754 2.744v-5.65L2.745 5.41Zm10.508-.005L8.375 8.22v5.654l4.754-2.744a.25.25 0 0 0 .125-.217v-5.51ZM7.875 2.03l-4.74 2.737 4.86 2.807 4.866-2.81L8.125 2.03a.25.25 0 0 0-.25 0Z"
  })));
};
/* harmony default export */ const partition_file_icon = (SvgPartitionFileicon);
;// CONCATENATED MODULE: ./console/shell/icons/column-root.icon.svg
var column_root_icon_rect, column_root_icon_path, _rect2, column_root_icon_path2;
function column_root_icon_extends() { column_root_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return column_root_icon_extends.apply(this, arguments); }

var SvgColumnRooticon = function SvgColumnRooticon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", column_root_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 10 19"
  }, props), column_root_icon_rect || (column_root_icon_rect = /*#__PURE__*/external_React_.createElement("rect", {
    width: 6,
    height: 16,
    x: 3.5,
    y: 0.5,
    fill: "#fff",
    stroke: "#3760F0",
    rx: 0.5
  })), column_root_icon_path || (column_root_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    stroke: "#3760F0",
    d: "M4 5.875h5M4 11.188h5"
  })), _rect2 || (_rect2 = /*#__PURE__*/external_React_.createElement("rect", {
    width: 6,
    height: 15,
    x: 0.5,
    y: 3.5,
    fill: "#fff",
    stroke: "#3760F0",
    rx: 0.5
  })), column_root_icon_path2 || (column_root_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    stroke: "#3760F0",
    d: "M1 8.5h5M1 13.5h5"
  })));
};
/* harmony default export */ const column_root_icon = (SvgColumnRooticon);
;// CONCATENATED MODULE: ./console/shell/icons/partition-directory.icon.svg
var partition_directory_icon_path, partition_directory_icon_path2, partition_directory_icon_path3;
function partition_directory_icon_extends() { partition_directory_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return partition_directory_icon_extends.apply(this, arguments); }

var SvgPartitionDirectoryicon = function SvgPartitionDirectoryicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", partition_directory_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 14 14"
  }, props), partition_directory_icon_path || (partition_directory_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    fillRule: "evenodd",
    d: "M6.811 1.947c.127 0 .241.076.291.192l.538 1.253c.2.465.658.766 1.164.766h3.59a.317.317 0 0 1 .316.316v7.263a.315.315 0 0 1-.317.316H2.266a.317.317 0 0 1-.317-.316V2.263a.316.316 0 0 1 .317-.316H6.81Zm0-.947H2.266A1.267 1.267 0 0 0 1 2.263v9.474A1.262 1.262 0 0 0 2.266 13h10.127a1.267 1.267 0 0 0 1.266-1.263V4.474a1.262 1.262 0 0 0-1.266-1.264H8.804a.316.316 0 0 1-.29-.19l-.539-1.254A1.266 1.266 0 0 0 6.811 1Z",
    clipRule: "evenodd"
  })), partition_directory_icon_path2 || (partition_directory_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "m7.102 2.139.046-.02-.046.02Zm.538 1.253-.045.02.045-.02Zm1.164.766v-.05.05Zm3.813.092.035-.035-.035.035Zm0 7.71.035.036-.035-.036Zm-10.575 0-.035.035.035-.035ZM6.812 1v.05V1Zm-5.441.37.035.035-.035-.035Zm0 11.26.035-.035-.035.035Zm11.918 0 .035.035-.035-.035Zm0-9.05.035-.035-.035.035Zm-4.776-.56-.046.019.046-.02Zm-.538-1.254.046-.02-.046.02Zm-1.164.231c.107 0 .203.064.245.161l.092-.039a.366.366 0 0 0-.337-.222v.1Zm.245.161.539 1.254.091-.04-.538-1.253-.092.04Zm.539 1.254c.207.483.683.796 1.21.796v-.1c-.487 0-.927-.29-1.119-.735l-.091.04Zm1.21.796h3.588v-.1H8.804v.1Zm3.588 0c.071 0 .139.028.189.078l.07-.071a.367.367 0 0 0-.259-.107v.1Zm.189.078c.05.05.078.117.078.188h.1a.366.366 0 0 0-.107-.259l-.071.07Zm.078.188v7.263h.1V4.474h-.1Zm0 7.263c0 .07-.028.138-.078.188l.07.07a.365.365 0 0 0 .108-.258h-.1Zm-.078.188a.267.267 0 0 1-.189.078v.1c.098 0 .19-.039.26-.107l-.071-.071Zm-.189.078H2.266v.1h10.127v-.1Zm-10.127 0a.267.267 0 0 1-.189-.078l-.07.07a.367.367 0 0 0 .259.108v-.1Zm-.189-.078A.266.266 0 0 1 2 11.737h-.1c0 .097.04.19.108.258l.07-.07ZM2 11.737V2.263h-.1v9.474H2Zm0-9.474c0-.07.029-.138.078-.188l-.07-.07a.366.366 0 0 0-.108.258H2Zm.078-.188a.267.267 0 0 1 .189-.078v-.1a.367.367 0 0 0-.26.107l.071.071Zm.189-.078H6.81v-.1H2.266v.1ZM6.81.95H2.266v.1H6.81v-.1Zm-4.545 0c-.35 0-.684.138-.93.385l.07.07c.228-.227.537-.355.86-.355v-.1Zm-.93.385c-.247.246-.386.58-.386.928h.1c0-.322.128-.63.356-.858l-.07-.07Zm-.386.928v9.474h.1V2.263h-.1Zm0 9.474c0 .348.139.682.385.928l.071-.07a1.212 1.212 0 0 1-.356-.858h-.1Zm.385.928c.247.247.582.385.93.385v-.1c-.322 0-.63-.128-.859-.355l-.07.07Zm.93.385h10.128v-.1H2.266v.1Zm10.128 0c.35 0 .684-.138.93-.385l-.07-.07a1.217 1.217 0 0 1-.86.355v.1Zm.93-.385c.248-.246.386-.58.386-.928h-.1c0 .322-.128.63-.356.858l.07.07Zm.386-.928V4.474h-.1v7.263h.1Zm0-7.263c0-.349-.138-.683-.385-.929l-.07.07c.227.228.355.537.355.859h.1Zm-.385-.929a1.318 1.318 0 0 0-.93-.385v.1c.322 0 .631.128.86.356l.07-.07Zm-.93-.385h-3.59v.1h3.59v-.1Zm-3.59 0A.266.266 0 0 1 8.56 3l-.092.039c.058.134.19.221.337.221v-.1ZM8.56 3l-.538-1.254-.092.04.538 1.253.092-.04Zm-.538-1.254A1.316 1.316 0 0 0 6.811.95v.1c.487 0 .927.289 1.118.735l.092-.04Z"
  })), partition_directory_icon_path3 || (partition_directory_icon_path3 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    fillRule: "evenodd",
    d: "M3.716 3.769h2.216c.316 0 .475.154.475.462 0 .307-.159.461-.475.461H3.716c-.316 0-.474-.154-.474-.461 0-.308.158-.462.474-.462Z",
    clipRule: "evenodd"
  })));
};
/* harmony default export */ const partition_directory_icon = (SvgPartitionDirectoryicon);
;// CONCATENATED MODULE: ./console/shell/icons/table.icon.svg
var table_icon_defs, table_icon_g;
function table_icon_extends() { table_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return table_icon_extends.apply(this, arguments); }

var SvgTableicon = function SvgTableicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", table_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: "1em",
    height: "1em",
    viewBox: "0 0 13 13"
  }, props), table_icon_defs || (table_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("path", {
    id: "table_icon_svg__a",
    d: "M0 0h12v12H0z"
  }))), table_icon_g || (table_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd",
    transform: "translate(.486 .2)"
  }, /*#__PURE__*/external_React_.createElement("mask", {
    id: "table_icon_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/external_React_.createElement("use", {
    xlinkHref: "#table_icon_svg__a"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M10.286 12H1.714C.768 12 0 11.14 0 10.08V1.92C0 .86.768 0 1.714 0h8.572C11.232 0 12 .86 12 1.92v8.16c0 1.06-.768 1.92-1.714 1.92ZM3.4 4.41H.964v5.67c0 .459.33.833.738.84h1.7V4.41Zm7.634.004h-6.67v6.506h5.92c.41 0 .743-.368.75-.826v-5.68ZM3.401 1.079H1.714c-.409 0-.742.368-.75.826v1.65H3.4V1.079Zm6.897 0H4.366v2.475h6.67V1.92c0-.458-.329-.832-.738-.84V1.08Z",
    mask: "url(#table_icon_svg__b)"
  }))));
};
/* harmony default export */ const table_icon = (SvgTableicon);
;// CONCATENATED MODULE: ./console/shell/icons/query-guide.icon.svg
var query_guide_icon_path;
function query_guide_icon_extends() { query_guide_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return query_guide_icon_extends.apply(this, arguments); }

var SvgQueryGuideicon = function SvgQueryGuideicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", query_guide_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    className: "query-guide_icon_svg__icon",
    viewBox: "0 0 1024 1024"
  }, props), query_guide_icon_path || (query_guide_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    d: "M713.143 283.429V228.57c0-5.028-4.114-9.142-9.143-9.142H265.143c-5.029 0-9.143 4.114-9.143 9.142v54.858c0 5.028 4.114 9.142 9.143 9.142H704c5.029 0 9.143-4.114 9.143-9.142zM265.143 384c-5.029 0-9.143 4.114-9.143 9.143V448c0 5.029 4.114 9.143 9.143 9.143h210.286c5.028 0 9.142-4.114 9.142-9.143v-54.857c0-5.029-4.114-9.143-9.142-9.143H265.143zm164.571 516.571H164.571V96h640v393.143c0 5.028 4.115 9.143 9.143 9.143h64c5.029 0 9.143-4.115 9.143-9.143V50.286c0-20.229-16.343-36.572-36.571-36.572H118.857c-20.228 0-36.571 16.343-36.571 36.572v896c0 20.228 16.343 36.571 36.571 36.571h310.857c5.029 0 9.143-4.114 9.143-9.143v-64c0-5.028-4.114-9.143-9.143-9.143zm509.372 58.858L832.457 852.8c25.486-33.714 40.686-75.771 40.686-121.371 0-111.086-90.057-201.143-201.143-201.143s-201.143 90.057-201.143 201.143S560.914 932.57 672 932.57c40.914 0 78.857-12.228 110.629-33.142l108.228 108.228c1.829 1.829 4.114 2.629 6.4 2.629s4.686-.915 6.4-2.629l35.429-35.428a9.029 9.029 0 0 0 0-12.8zM672 859.429c-70.743 0-128-57.258-128-128s57.257-128 128-128 128 57.257 128 128-57.257 128-128 128z"
  })));
};
/* harmony default export */ const query_guide_icon = (SvgQueryGuideicon);
// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/shell/QueryGuide/index.scss
var QueryGuide = __webpack_require__(7210);
;// CONCATENATED MODULE: ./console/shell/QueryGuide/index.scss

      
      
      
      
      
      
      
      
      

var QueryGuide_options = {};

QueryGuide_options.styleTagTransform = (styleTagTransform_default());
QueryGuide_options.setAttributes = (setAttributesWithoutAttributes_default());
QueryGuide_options.insert = insertBySelector_default().bind(null, "head");
QueryGuide_options.domAPI = (styleDomAPI_default());
QueryGuide_options.insertStyleElement = (insertStyleElement_default());

var QueryGuide_update = injectStylesIntoStyleTag_default()(QueryGuide/* default */.A, QueryGuide_options);




       /* harmony default export */ const shell_QueryGuide = (QueryGuide/* default */.A && QueryGuide/* default */.A.locals ? QueryGuide/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/shell/QueryGuide/type.ts
var QueryGuideType;
(function (QueryGuideType) {
    QueryGuideType[QueryGuideType["QUERY_GUIDE"] = 0] = "QUERY_GUIDE";
    QueryGuideType[QueryGuideType["SQL"] = 1] = "SQL";
})(QueryGuideType || (QueryGuideType = {}));
var ExportStatus;
(function (ExportStatus) {
    ExportStatus[ExportStatus["LOADING"] = 0] = "LOADING";
    ExportStatus[ExportStatus["SUCCESS"] = 1] = "SUCCESS";
    ExportStatus[ExportStatus["FAILED"] = -1] = "FAILED";
})(ExportStatus || (ExportStatus = {}));
const ENUM_TYPES = ['STRING', 'INT', 'SYMBOL', 'CHAR', 'BOOL'];

// EXTERNAL MODULE: ./console/dashboard/utils.ts
var utils = __webpack_require__(7608);
;// CONCATENATED MODULE: ./console/guide/utils.ts


async function request(func, params) {
    const res = await model/* model */.ge.ddb.call(func, [JSON.stringify(params)]);
    return (0,utils/* safe_json_parse */.bu)(res?.value);
}
function check_tb_valid(name) {
    // 表名不能以数字，. / *这些字符开头，不能有空格
    if (['.', '*', '/'].includes(name[0]) || /^[0-9]/.test(name) || name.includes(' '))
        return false;
    return true;
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/components/ReadonlyEditor/index.scss
var ReadonlyEditor = __webpack_require__(2822);
;// CONCATENATED MODULE: ./console/components/ReadonlyEditor/index.scss

      
      
      
      
      
      
      
      
      

var ReadonlyEditor_options = {};

ReadonlyEditor_options.styleTagTransform = (styleTagTransform_default());
ReadonlyEditor_options.setAttributes = (setAttributesWithoutAttributes_default());
ReadonlyEditor_options.insert = insertBySelector_default().bind(null, "head");
ReadonlyEditor_options.domAPI = (styleDomAPI_default());
ReadonlyEditor_options.insertStyleElement = (insertStyleElement_default());

var ReadonlyEditor_update = injectStylesIntoStyleTag_default()(ReadonlyEditor/* default */.A, ReadonlyEditor_options);




       /* harmony default export */ const components_ReadonlyEditor = (ReadonlyEditor/* default */.A && ReadonlyEditor/* default */.A.locals ? ReadonlyEditor/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/components/ReadonlyEditor/index.tsx









function ReadonlyEditor_ReadonlyEditor(props) {
    const { code, className } = props;
    const copy_code = (0,external_React_.useCallback)(() => {
        copy_to_clipboard_default()(code);
        external_antd_namespaceObject.message.success((0,i18n.t)('复制成功'));
    }, [code]);
    return (0,jsx_runtime.jsxs)("div", { className: classnames_default()('readonly-editor', { [className]: true }), children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('复制代码'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'copy-btn', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CopyOutlined, {}), onClick: copy_code }) }), (0,jsx_runtime.jsx)(Editor_Editor, { value: code, readonly: true })] });
}

;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/index.js
var es_utils_isObject = function (value) {
  return value !== null && typeof value === 'object';
};
var utils_isFunction = function (value) {
  return typeof value === 'function';
};
var isString = function (value) {
  return typeof value === 'string';
};
var isBoolean = function (value) {
  return typeof value === 'boolean';
};
var isNumber = function (value) {
  return typeof value === 'number';
};
var isUndef = function (value) {
  return typeof value === 'undefined';
};
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/isDev.js
var isDev =  false || "production" === 'test';
/* harmony default export */ const utils_isDev = (isDev);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useMount/index.js



var useMount = function (fn) {
  if (utils_isDev) {
    if (!utils_isFunction(fn)) {
      console.error("useMount: parameter `fn` expected to be a function, but got \"".concat(typeof fn, "\"."));
    }
  }
  (0,external_React_.useEffect)(function () {
    fn === null || fn === void 0 ? void 0 : fn();
  }, []);
};
/* harmony default export */ const es_useMount = (useMount);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useLatest/index.js

function useLatest(value) {
  var ref = (0,external_React_.useRef)(value);
  ref.current = value;
  return ref;
}
/* harmony default export */ const es_useLatest = (useLatest);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useUnmount/index.js




var useUnmount = function (fn) {
  if (utils_isDev) {
    if (!utils_isFunction(fn)) {
      console.error("useUnmount expected parameter is a function, got ".concat(typeof fn));
    }
  }
  var fnRef = es_useLatest(fn);
  (0,external_React_.useEffect)(function () {
    return function () {
      fnRef.current();
    };
  }, []);
};
/* harmony default export */ const es_useUnmount = (useUnmount);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/createUpdateEffect/index.js

var createUpdateEffect = function (hook) {
  return function (effect, deps) {
    var isMounted = (0,external_React_.useRef)(false);
    // for react-refresh
    hook(function () {
      return function () {
        isMounted.current = false;
      };
    }, []);
    hook(function () {
      if (!isMounted.current) {
        isMounted.current = true;
      } else {
        return effect();
      }
    }, deps);
  };
};
/* harmony default export */ const es_createUpdateEffect = ((/* unused pure expression or super */ null && (createUpdateEffect)));
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useUpdateEffect/index.js


/* harmony default export */ const useUpdateEffect = (createUpdateEffect(external_React_.useEffect));
// EXTERNAL MODULE: ./node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs
var tslib_es6 = __webpack_require__(5285);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useUpdate/index.js


var useUpdate = function () {
  var _a = (0,tslib_es6.__read)((0,external_React_.useState)({}), 2),
    setState = _a[1];
  return (0,external_React_.useCallback)(function () {
    return setState({});
  }, []);
};
/* harmony default export */ const es_useUpdate = (useUpdate);
;// CONCATENATED MODULE: ./console/components/formily/FormDependcies/index.tsx



function InternalFormWatch(props) {
    const { name, onChange, onMount, onUnmount, form, preserve } = props;
    const value = external_antd_namespaceObject.Form.useWatch(name, {
        form,
        preserve
    });
    es_useMount(() => {
        onMount?.(value);
    });
    es_useUnmount(() => {
        onUnmount?.();
    });
    useUpdateEffect(() => {
        onChange?.(value);
    }, [value]);
    return null;
}
function FormDependencies({ dependencies, form: propForm, children }) {
    const contextForm = external_antd_namespaceObject.Form.useFormInstance();
    const form = propForm || contextForm;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [dependencies.map(dep => (0,jsx_runtime.jsx)(InternalFormWatch, { name: dep, form: form, onChange: es_useUpdate() }, Array.isArray(dep) ? dep.join('.') : dep)), children(form.getFieldsValue(dependencies), form)] });
}

;// CONCATENATED MODULE: ./console/components/StringDatePicker/index.tsx




function StringDatePicker(props) {
    // 使用 submitFormat 是因为 ddb 内时间格式固定将年月日以 . 连接，但是实际在组件内展示的标准时间格式是以 - 连接，所以提交表单的格式与展示格式不一致
    const { onChange, value, submitFormat = 'YYYY.MM.DD', submitSuffix, format, ...others } = props;
    const on_date_change = (0,external_React_.useCallback)((value) => {
        if (!value) {
            onChange(null);
            return;
        }
        if (submitSuffix)
            onChange(value.format(submitFormat) + submitSuffix);
        else
            onChange(value.format(submitFormat));
    }, [submitSuffix]);
    const val = (0,external_React_.useMemo)(() => {
        if (!value || !external_dayjs_default()(value, format).isValid())
            return null;
        let time = value;
        if (submitSuffix)
            time = submitSuffix ? time.replace(submitSuffix, '') : time;
        return external_dayjs_default()(time, format);
    }, [value, format]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.DatePicker, { format: format, picker: 'date', ...others, onChange: on_date_change, value: val });
}

;// CONCATENATED MODULE: ./console/components/StringTimePicker.tsx




function StringTimePicker(props) {
    const { format = 'HH:mm:ss', onChange, value, submitSuffix, ...others } = props;
    const on_value_change = (0,external_React_.useCallback)((value, time) => {
        if (!value) {
            onChange(null);
            return;
        }
        if (submitSuffix)
            onChange(time + submitSuffix);
        else
            onChange(time);
    }, [submitSuffix]);
    const val = (0,external_React_.useMemo)(() => {
        if (!value || !external_dayjs_default()(value, format).isValid())
            return null;
        let time = submitSuffix ? value.replace(submitSuffix, '') : value;
        return time ? external_dayjs_default()(value, format) : null;
    }, [submitSuffix, value, format]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.TimePicker, { value: val, ...others, format: format, onChange: on_value_change });
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/constant.ts

const LIKE = 7;
const NOT_LIKE = 8;
const IN = 9;
const NOT_IN = 10;
const VALID_DATA_TYPES = ['BOOL', 'SHORT', 'INT', 'LONG', 'DATE', 'MONTH', 'TIME', 'MINUTE', 'SECOND', 'DATETIME',
    'TIMESTAMP', 'NANOTIME', 'NANOTIMESTAMP', 'FLOAT', 'DOUBLE', 'SYMBOL', 'STRING', 'DECIMAL32', 'DECIMAL64', 'DECIMAL128', 'DATEHOUR'];
const TIME_TYPES = ['DATE', 'MONTH', 'TIME', 'MINUTE', 'SECOND', 'DATETIME',
    'TIMESTAMP', 'NANOTIME', 'NANOTIMESTAMP', 'DATEHOUR'];
const STRING_TYPES = ['STRING', 'SYMBOL'];
const VALUE_OPERATIONS = [
    {
        label: (0,i18n.t)('等于 (=)'),
        value: 1
    },
    {
        label: (0,i18n.t)('不等于 (!=)'),
        value: 2
    },
    {
        label: (0,i18n.t)('大于 (>)'),
        value: 3
    },
    {
        label: (0,i18n.t)('小于 (<)'),
        value: 4
    },
    {
        label: (0,i18n.t)('大于等于 (>=)'),
        value: 5
    },
    {
        label: (0,i18n.t)('小于等于 (<=)'),
        value: 6
    },
];
const STRING_OPERATIONS = [
    {
        label: (0,i18n.t)('等于 (=)'),
        value: 1
    },
    {
        label: (0,i18n.t)('不等于 (!=)'),
        value: 2
    },
    {
        label: (0,i18n.t)('匹配 (like)'),
        value: LIKE
    },
    {
        label: (0,i18n.t)('不匹配 (not like)'),
        value: NOT_LIKE
    },
    {
        label: (0,i18n.t)('包含 (in)'),
        value: IN
    },
    {
        label: (0,i18n.t)('不包含 (not in)'),
        value: NOT_IN
    }
];
const OTHER_OPERATIONS = [
    {
        label: (0,i18n.t)('等于 (=)'),
        value: 1
    },
    {
        label: (0,i18n.t)('不等于 (!=)'),
        value: 2
    },
];
const VALUE_TYPES = ['INT', 'SHORT', 'DOUBLE', 'FLOAT', 'LONG'];

;// CONCATENATED MODULE: ./console/shell/QueryGuide/guide.dos
const guide_namespaceObject = "def dbms_executeQuery(input_json){\n    code = input_json.parseExpr().eval()[\"code\"]\n    temp = code.parseExpr().eval()\n    n = size temp\n    n = min([n,500000])\n    csvContent = generateTextFromTable(temp, 0, n, 0,',',true)\n    csvContent = concat(csvContent, \"\")\n    res = dict([\"csvContent\"], [csvContent])\n    res = toStdJson(res)\n    return res\n}\n\ndef dbms_generateQuery(input_json){\n    input = strReplace(input_json, \"\\n\", \"\")\n    input_dict = input.parseExpr().eval()\n    dbName = input_dict[\"dbName\"]\n    tbName = input_dict[\"tbName\"]\n    queryCols = concat(input_dict['queryCols'], \", \")\n    opt_map = dict([1,2,3,4,5,6,7,8,9,10], \n        [\"=\",\"!=\", \">\", \"<\",\">=\",\"<=\", \"LIKE\", \"NOT LIKE\", \"IN\", \"NOT IN\"])\n    temp_list = []\n    for(tempCondition in input_dict[\"partitionColQuerys\"]){\n        value = string(tempCondition[\"value\"])\n        value = strReplace(value, \"\\\\\", '\\\\\\\\')\n        value = strReplace(value, \"\\\"\", '\\\\\\\"')\n        if (tempCondition[\"dataType\"] in `STRING`SYMBOL){\n            if (tempCondition[\"opt\"] in [9, 10]){\n                temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + ' [\"' + concat(value, '\",\"')  + '\"]'\n            } else{\n                temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + ' \"' + value + '\"'\n            }\n        } else if (tempCondition[\"dataType\"] == `CHAR){\n            temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + \" '\" + value + \"' \"\n        } else if (tempCondition[\"dataType\"] == `BLOB){\n            temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + ' blob(\"' + tempCondition[\"value\"] + '\")'\n        } else if (tempCondition[\"dataType\"] in `TIME`TIMESTAMP) {\n            temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" \" + tempCondition[\"value\"] + \".000\"\n        } else if (tempCondition[\"dataType\"] in `NANOTIME`NANOTIMESTAMP){\n            temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" \" + tempCondition[\"value\"] + \".000000000\"\n        } else if (tempCondition[\"dataType\"] == `DATEHOUR){\n            temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" datehour(\\\"\" + tempCondition[\"value\"] + \"\\\")\"\n        } else{\n            temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" \" + value\n        }\n        temp_list.append!(temp_con)\n    }\n    partitionCol = concat(temp_list, \" AND \")\n    tempCond = \"\"\n    for(tempConditions in input_dict[\"querys\"]){\n        temp_list = []\n        tempCond += \" OR \"\n        for(tempCondition in tempConditions){\n            value = string(tempCondition[\"value\"])\n            value = strReplace(value, \"\\\\\", '\\\\\\\\')\n            value = strReplace(value, \"\\\"\", '\\\\\\\"') \n            if (tempCondition[\"dataType\"] in `STRING`SYMBOL){\n                if (tempCondition[\"opt\"] in [9, 10]){\n                    temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + ' [\"' + concat(value, '\",\"')  + '\"]'\n                }else{\n                    temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + ' \"' + value + '\"'\n                }\n            } else if (tempCondition[\"dataType\"] == `CHAR){\n                    temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + \" '\" + value + \"' \"\n            } else if (tempCondition[\"dataType\"] == `BLOB){\n                temp_con = tempCondition[\"col\"] + ' ' +  opt_map[tempCondition[\"opt\"]] + ' blob(\"' + tempCondition[\"value\"] + '\")'\n            } else if (tempCondition[\"dataType\"] in `TIME`TIMESTAMP) {\n                temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" \" + tempCondition[\"value\"] + \".000\"\n            } else if (tempCondition[\"dataType\"] in `NANOTIME`NANOTIMESTAMP){\n                temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" \" + tempCondition[\"value\"] + \".000000000\"\n            } else if (tempCondition[\"dataType\"] == `DATEHOUR){\n                temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" datehour(\\\"\" + tempCondition[\"value\"] + \"\\\")\"\n            } else{\n                temp_con = tempCondition[\"col\"] + \" \" +  opt_map[tempCondition[\"opt\"]] + \" \" + value\n            }\n            temp_list.append!(temp_con)\n        }\n        tempCond = tempCond + \"(\" + concat(temp_list, \" AND \")  + \")\" \n    }\n    n2 = strlen(tempCond)\n    n1 = strlen(partitionCol)\n    if (n1 == 0 and n2 == 0){\n        sqlQuery = \"SELECT \\n\" + queryCols + \"\\nFROM \\n\" + 'loadTable(\"' + dbName + '\", \"' + tbName + '\")'\n    } else{\n        sqlQuery = \"SELECT \\n\" + queryCols + \"\\nFROM \\n\" + 'loadTable(\"' + dbName + '\", \"' + tbName + '\")' + \"\\nWHERE\\n\" \n    }\n    if (n2 != 0){\n        tempCond = substr(tempCond, 4)\n        tempCond = \"(\" + tempCond + \")\"\n    }\n    if (n1 != 0){\n        sqlQuery += partitionCol\n        if(n2 != 0){\n        sqlQuery += \" AND \"\n        }\n    }\n    sqlQuery += tempCond\n    code = dict([\"code\"], [sqlQuery])\n    code = toStdJson(code)\n    return code\n}\n\n\ndef dbms_executeQueryByPage(input_json){\n    try{\n        codePos = strFind(input_json,'\"page\"')\n        code = input_json[11:codePos-2]\n        rest = \"{\" + input_json[codePos:]\n        input_dict = rest.parseExpr().eval()\n        isTable = false\n        if (strFind(code, \"()\") >= 0 or strFind(code, \"table\") >= 0){\n            temp = code.parseExpr().eval()\n            isTable = true\n        }\n        if(isTable){\n            code = 'SELECT * FROM ' + code\n        }     \n        page = input_dict[\"page\"]\n        pageSize = input_dict[\"pageSize\"]\n        total = input_dict[\"total\"]\n        if (total == null){\n            query = code + ' LIMIT 20000000'\n            total = query.parseExpr().eval()\n            total = size(total)\n            total = int(total)    \n        }\n        limitcondition = \" LIMIT \" + (page-1)*pageSize + \", \" + pageSize\n        code = code + limitcondition\n        res = code.parseExpr().eval()\n        if(type(res) != 27){\n            throw \"This is not a table\"\n        }\n        return total, res        \n    } catch(ex){\n        return ex[0] + \":\" + ex[1]\n    }\n}\n\n\n\ndef dbms_generateEnumerate(input_json){\n    input_dict = input_json.parseExpr().eval()\n    dbName = input_dict[\"dbName\"]\n    tbName = input_dict[\"tbName\"]\n    col = input_dict[\"col\"]\n    query =  \"EXEC \" + col + ' FROM ( SELECT ' + col + ' FROM loadTable(\"' + dbName + '\", \"' + tbName +  '\") LIMIT 100000)' + ' GROUP BY ' + col;\n    enumList = query.parseExpr().eval()\n    newEnumList = array(STRING, 0)\n    if (type(enumList) in [4, 17, 18]){\n        rawenumList = string(enumList)\n        for(i in 1..size(enumList) ){\n            if(enumList[i-1] != null and enumList[i-1] != \"\")\n            newEnumList.append!(strReplace(enumList[i-1], \"\\\"\", '\\\\\\\"')) \n        }\n    } \n    if (size(enumList) == 0){\n        res = '{\"enumList\":[]}'  \n    } else{\n        res = '{\"enumList\":[\"' + concat(newEnumList, '\",\"') + '\"]}'  \n    }\n    return res\n}\n\n";
;// CONCATENATED MODULE: ./console/shell/QueryGuide/model.ts



class GuideQueryModel extends react_object_model/* Model */.K {
    code;
    query_values;
    query_guide_defined = false;
    async define_query_guide() {
        if (this.query_guide_defined)
            return;
        await model/* model */.ge.ddb.eval(guide_namespaceObject);
        this.set({ query_guide_defined: true });
    }
}
let guide_query_model = new GuideQueryModel();

;// CONCATENATED MODULE: ./console/shell/QueryGuide/components/ColSelectTransfer.tsx





function ColSelectTransfer(props) {
    const { cols, value = [], onChange } = props;
    const options = (0,external_React_.useMemo)(() => cols.map(item => ({ title: item.name, key: item.name })), [cols]);
    const on_value_change = (0,external_React_.useCallback)((keys) => {
        onChange(keys);
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Transfer, { titles: [
            (0,jsx_runtime.jsxs)("div", { className: 'transfer-list-title', children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.MinusCircleOutlined, { className: 'not-selected-icon' }), (0,i18n.t)('非查询列')] }),
            (0,jsx_runtime.jsxs)("div", { className: 'transfer-list-title', children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.CheckCircleOutlined, { className: 'selected-icon' }), (0,i18n.t)('查询列')] })
        ], className: 'col-select-transfer', showSearch: true, onChange: on_value_change, targetKeys: value ?? [], render: item => item.title, dataSource: options, operations: [(0,i18n.t)('增加查询列'), (0,i18n.t)('删除查询列')] });
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/utils.ts


function transform_query(query) {
    return query.map(item => {
        const { name, data_type } = (0,utils/* safe_json_parse */.bu)(item.col);
        return {
            ...item,
            col: name,
            dataType: data_type
        };
    });
}
async function query_enums(params) {
    const col_name = (0,utils/* safe_json_parse */.bu)(params.col)?.name;
    if (!col_name)
        return [];
    const res = await request('dbms_generateEnumerate', {
        ...params,
        col: col_name
    });
    if (!res)
        return [];
    else
        return res.enumList.map(item => ({ label: item, value: item }));
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/components/EnumAutoComplete.tsx





function EnumAutoComplete(props) {
    const { table, database, col, options: custom_options, ...others } = props;
    const [options, set_options] = (0,external_React_.useState)(custom_options);
    const get_options = (0,external_React_.useCallback)(async () => {
        const opt = await query_enums({ dbName: database, tbName: table, col });
        set_options(opt);
    }, [database, table, col]);
    (0,external_React_.useEffect)(() => {
        if (!custom_options?.length)
            get_options();
    }, [col, database, table]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.AutoComplete, { placeholder: (0,i18n.t)('请输入对比值'), allowClear: true, filterOption: true, options: options, ...others });
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/components/EnumSelect.tsx





function EnumSelect(props) {
    const { table, database, col, ...others } = props;
    const [options, set_options] = (0,external_React_.useState)([]);
    const get_options = (0,external_React_.useCallback)(async () => {
        const opt = await query_enums({ dbName: database, tbName: table, col });
        set_options(opt);
    }, [database, table, col]);
    (0,external_React_.useEffect)(() => {
        get_options();
    }, [database, table, col]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { ...others, showSearch: true, mode: 'tags', options: options, placeholder: (0,i18n.t)('请输入对比值') });
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/components/QueryForm.tsx




















const TIME_COMPONENT = {
    DATE: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: 'YYYY.MM.DD', format: 'YYYY-MM-DD', allowClear: true }),
    MONTH: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: 'YYYY.MM', format: 'YYYY-MM', submitSuffix: 'M', allowClear: true }),
    DATETIME: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: 'YYYY.MM.DD HH:mm:ss', format: 'YYYY-MM-DD HH:mm:ss', showTime: true, allowClear: true }),
    TIMESTAMP: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: 'YYYY.MM.DD HH:mm:ss', format: 'YYYY-MM-DD HH:mm:ss', showTime: true, allowClear: true }),
    NANOTIMESTAMP: (0,jsx_runtime.jsx)(StringDatePicker, { showTime: true, submitFormat: 'YYYY.MM.DD HH:mm:ss', format: 'YYYY-MM-DD HH:mm:ss', allowClear: true }),
    DATEHOUR: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: 'YYYY.MM.DD HH', format: 'YYYY-MM-DD HH', showTime: true }),
    TIME: (0,jsx_runtime.jsx)(StringTimePicker, { format: 'HH:mm:ss', allowClear: true }),
    MINUTE: (0,jsx_runtime.jsx)(StringTimePicker, { format: 'HH:mm', submitSuffix: 'm', allowClear: true }),
    SECOND: (0,jsx_runtime.jsx)(StringTimePicker, { format: 'HH:mm:ss', allowClear: true }),
    NANOTIME: (0,jsx_runtime.jsx)(StringTimePicker, { format: 'HH:mm:ss', allowClear: true }),
};
function QueryCard(props) {
    const { name, name_path, cols, className, title, table, database } = props;
    const form = external_antd_namespaceObject.Form.useFormInstance();
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: name, initialValue: [{}], children: (fields, { add, remove }) => {
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Card, { className: className, size: 'small', title: title, children: fields.map(field => (0,jsx_runtime.jsxs)("div", { children: [field.name !== 0 && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Text, { className: 'condition-tip', type: 'secondary', children: (0,i18n.t)('且满足') }), (0,jsx_runtime.jsxs)("div", { className: 'query-item', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col'], rules: [{ required: true, message: (0,i18n.t)('请选择列名') }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { showSearch: true, options: cols
                                            .map(item => ({
                                            label: (0,jsx_runtime.jsxs)("div", { className: 'col-select-label', children: [(0,jsx_runtime.jsx)("span", { className: 'table-name', children: item.name }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'processing', bordered: false, children: item.data_type })] }),
                                            value: JSON.stringify(item),
                                            disabled: (!VALID_DATA_TYPES.includes(item.data_type) && !item.data_type.includes('DECIMAL')) || item.data_type.includes('[]')
                                        })), placeholder: (0,i18n.t)('请选择列名') }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'col')], children: value => {
                                        const val = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'col')) ?? '{}';
                                        const { data_type } = (0,utils/* safe_json_parse */.bu)(val ?? '{}');
                                        let opt_options = [];
                                        // 数值类型时间类型运算符
                                        if ([...VALUE_TYPES, ...TIME_TYPES].includes(data_type) || data_type?.includes('DECIMAL'))
                                            opt_options = VALUE_OPERATIONS;
                                        // string symbol类型运算符
                                        else if (STRING_TYPES.includes(data_type))
                                            opt_options = STRING_OPERATIONS;
                                        // 其他运算符
                                        else
                                            opt_options = OTHER_OPERATIONS;
                                        opt_options = opt_options.map(item => {
                                            if ([LIKE, NOT_LIKE].includes(item.value))
                                                return {
                                                    value: item.value,
                                                    label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [item.label, (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { overlayClassName: 'operator-help-tooltip', placement: 'right', title: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('输入对比值时须带有通配符 “%”。“%” 表示任意 0 个或者多个字符，可匹配任意类型和长度的字符。使用时请注意区分大小写。以下为使用示例：'), (0,jsx_runtime.jsxs)("ul", { children: [(0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('688%（匹配以 “688” 开头的字符串，能够匹配例如 “688101.SH”、”688101”的字符串）') }), (0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('%SZ%（匹配包含 “SZ” 的字符串， 能够匹配例如 “300951.SZ”、 “SZ.300951”的字符串）') }), (0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('%6（匹配以 “6” 结尾的字符串，能够匹配例如 “abcd6” 的字符串）') })] })] }), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'operator-help-icon' }) })] })
                                                };
                                            else if ([IN, NOT_IN].includes(item.value))
                                                return {
                                                    ...item,
                                                    label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [item.label, (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { overlayClassName: 'operator-help-tooltip', placement: 'right', title: (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsxs)("ul", { children: [(0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('在对比值的下拉框中选择一个或多个枚举值。注意，下拉框中仅展示部分枚举值，且存在响应延时。') }), (0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('请手动输入未显示的枚举值，单击回车键以完成操作。') })] }) }), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'operator-help-icon' }) })] })
                                                };
                                            else
                                                return item;
                                        });
                                        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'opt'], rules: [{ required: true, message: (0,i18n.t)('请选择运算符') }], shouldUpdate: (prev, cur) => {
                                                // 列名更改的时候重置运算符 
                                                const prev_col = (0,external_.get)(prev, (0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'col')) ?? '{}';
                                                const cur_col = (0,external_.get)(cur, (0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'col')) ?? '{}';
                                                const get_data_type = col => JSON.parse(col)?.data_type;
                                                const prev_data_type = get_data_type(prev_col);
                                                const cur_data_type = get_data_type(cur_col);
                                                if (prev_data_type && cur_data_type && prev_data_type !== cur_data_type) {
                                                    form.setFieldValue((0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'opt'), undefined);
                                                    return true;
                                                }
                                                else
                                                    return false;
                                            }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: opt_options, placeholder: (0,i18n.t)('请选择运算符') }) });
                                    } }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'col'), (0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'opt')], children: value => {
                                        const item = name_path ? value?.[name_path]?.[name]?.[field.name] : value?.[name]?.[field.name];
                                        const { col, opt } = item;
                                        const { data_type } = (0,utils/* safe_json_parse */.bu)(col ?? '{}');
                                        let component = null;
                                        // 数值类型
                                        if ((VALUE_TYPES.includes(data_type) && !ENUM_TYPES.includes(data_type)) || data_type?.includes('DECIMAL'))
                                            component = (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { placeholder: (0,i18n.t)('请输入对比值') });
                                        // 时间类型
                                        else if (TIME_TYPES.includes(data_type))
                                            component = TIME_COMPONENT[data_type];
                                        else 
                                        // 其余情况跟运算符相关
                                        // 包含跟不包含运算符，为选择器
                                        if (opt && [IN, NOT_IN].includes(opt))
                                            component = (0,jsx_runtime.jsx)(EnumSelect, { table: table, database: database, col: col });
                                        else if (opt && [LIKE, NOT_LIKE].includes(opt))
                                            component = (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入对比值') });
                                        // 枚举类型，且不为 like not like
                                        else
                                            component = (0,jsx_runtime.jsx)(EnumAutoComplete, { table: table, database: database, col: col, options: data_type === 'BOOL' ? [{ value: 'true', label: 'true' }, { value: 'false', label: 'false' }] : [] });
                                        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { shouldUpdate: (prev, cur) => {
                                                // 列名更改的时候重置值
                                                const prev_col = (0,external_.get)(prev, (0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'col')) ?? '{}';
                                                const cur_col = (0,external_.get)(cur, (0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'col')) ?? '{}';
                                                const get_data_type = col => JSON.parse(col)?.data_type;
                                                const prev_data_type = get_data_type(prev_col);
                                                const cur_data_type = get_data_type(cur_col);
                                                if (cur_data_type && prev_data_type && prev_data_type !== cur_data_type) {
                                                    form.setFieldValue((0,utils/* concat_name_path */.pG)(name_path, name, field.name, 'value'), undefined);
                                                    return true;
                                                }
                                                else
                                                    return false;
                                            }, name: [field.name, 'value'], rules: [{ required: true, message: (0,i18n.t)('请输入对比值') }], children: component });
                                    } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('增加且条件项'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, { className: 'add-icon', onClick: () => { add(); } }) }), fields.length > 1 && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('删除该条件项'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.MinusCircleOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } }) })] }, field.name)] }, field.name)) });
        } });
}
function QueryForm(props) {
    const { database, table, form } = props;
    const [cols, set_cols] = (0,external_React_.useState)([]);
    const [partition_cols, set_partition_cols] = (0,external_React_.useState)([]);
    const page_id = (0,external_React_.useId)();
    const { query_values } = guide_query_model.use(['query_values']);
    const { isLoading } = useSWR(['get_table_schema', table, database, page_id], async () => {
        await model_shell.define_load_table_schema();
        const { value } = await model/* model */.ge.ddb.call('load_table_schema', [database, table], model/* model */.ge.node_type === model/* NodeType */.Z6.controller ? { node: model/* model */.ge.datanode.name, func_type: browser/* DdbFunctionType */.T5.UserDefinedFunc } : {});
        return value;
    }, {
        onSuccess: value => {
            const col_idx = value[0].value.findIndex(item => item === 'colDefs');
            const partition_idx = value[0].value.findIndex(item => item === 'partitionColumnName');
            if ((0,external_.isNumber)(col_idx)) {
                const cols = value[1]?.value?.[col_idx]?.value[0].value;
                const data_types = value[1]?.value?.[col_idx]?.value[1].value;
                set_cols(cols.map((item, index) => ({ name: item, data_type: data_types[index] })));
            }
            if ((0,external_.isNumber)(partition_idx)) {
                const partition_col = value[1]?.value?.[partition_idx]?.value;
                if (Array.isArray(partition_col))
                    set_partition_cols(partition_col);
                else if (partition_col)
                    set_partition_cols([partition_col]);
            }
        }
    });
    (0,external_React_.useEffect)(() => {
        form.setFieldsValue(query_values);
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { spinning: isLoading, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { autoComplete: 'off', form: form, onValuesChange: (_, values) => { guide_query_model.set({ query_values: values }); }, children: [(0,jsx_runtime.jsx)("h3", { className: 'query-col-title', children: (0,i18n.t)('筛选查询列') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'queryCols', rules: [{ required: true, message: (0,i18n.t)('查询列不可为空，请重新筛选！') }], children: (0,jsx_runtime.jsx)(ColSelectTransfer, { cols: cols }) }), (0,jsx_runtime.jsx)("h3", { children: (0,i18n.t)('添加查询条件') }), (0,jsx_runtime.jsxs)("div", { className: 'query-conditions-wrapper', children: [!!partition_cols?.length && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)("h4", { children: [(0,i18n.t)('分区列查询条件'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('必填项，仅支持【且满足】，与”其他查询条件”亦为【且满足】关系。'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'help-icon' }) })] }), (0,jsx_runtime.jsx)(QueryCard, { table: table, database: database, cols: cols.filter(item => partition_cols.includes(item.name)) ?? [], name: 'partitionColQuerys', name_path: null })] }), !!partition_cols?.length && (0,jsx_runtime.jsx)("h4", { children: (0,i18n.t)('其他查询条件') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'querys', initialValue: [], children: (fields, { add, remove }) => {
                                return (0,jsx_runtime.jsxs)("div", { className: 'querys-wrapper', children: [fields.map(field => (0,jsx_runtime.jsxs)("div", { children: [field.name !== 0 && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Text, { className: 'condition-tip', type: 'secondary', children: (0,i18n.t)('或满足') }), (0,jsx_runtime.jsxs)("div", { className: 'query-block', children: [(0,jsx_runtime.jsx)(QueryCard, { table: table, database: database, className: 'query-content', cols: cols.filter(item => !partition_cols.includes(item.name)) ?? [], name: field.name, name_path: 'querys' }, field.name), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('删除该条件块'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } }) })] })] }, field.name)), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: () => { add([{}]); }, type: 'dashed', block: true, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), className: 'add-query-block-btn', children: (0,i18n.t)('新增条件块') })] });
                            } })] })] }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/obj.sass
var obj = __webpack_require__(7076);
;// CONCATENATED MODULE: ./console/obj.sass

      
      
      
      
      
      
      
      
      

var obj_options = {};

obj_options.styleTagTransform = (styleTagTransform_default());
obj_options.setAttributes = (setAttributesWithoutAttributes_default());
obj_options.insert = insertBySelector_default().bind(null, "head");
obj_options.domAPI = (styleDomAPI_default());
obj_options.insertStyleElement = (insertStyleElement_default());

var obj_update = injectStylesIntoStyleTag_default()(obj/* default */.A, obj_options);




       /* harmony default export */ const console_obj = (obj/* default */.A && obj/* default */.A.locals ? obj/* default */.A.locals : undefined);

;// CONCATENATED MODULE: external "Plots"
const external_Plots_namespaceObject = globalThis["Plots"];
;// CONCATENATED MODULE: ./console/link.icon.svg
var link_icon_g;
function link_icon_extends() { link_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return link_icon_extends.apply(this, arguments); }

var SvgLinkicon = function SvgLinkicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", link_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 16 16"
  }, props), link_icon_g || (link_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "currentColor"
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "m8 3 1.793 1.793L6 8.586 7.414 10l3.793-3.793L13 8V3z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M11 11H5V5h2V3H3v10h10V9h-2z"
  }))));
};
/* harmony default export */ const link_icon = (SvgLinkicon);
;// CONCATENATED MODULE: ./console/obj.tsx











const max_strlen = 10000;
const page_sizes = [1, 2, 3, 5, 10, 15, 20, 25, 30, 40, 50, 75, 100, 150, 200, 300, 400, 500, 750, 1000, 5000, 10000, 100000];
const views = {
    [browser/* DdbForm */.Dm.vector]: Vector,
    [browser/* DdbForm */.Dm.set]: Vector,
    [browser/* DdbForm */.Dm.table]: Table,
    [browser/* DdbForm */.Dm.matrix]: Matrix,
    [browser/* DdbForm */.Dm.chart]: Chart,
    [browser/* DdbForm */.Dm.dict]: Dict,
};
const UpSelect = Object.assign(props => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { ...props, size: 'small', placement: 'topLeft', listHeight: 128 }), { Option: external_antd_namespaceObject.Select.Option });
function truncate(str) {
    return str.length >= max_strlen ? str.slice(0, max_strlen - 2) + '···' : str;
}
function Obj({ obj, objref, ctx = 'webview', remote, ddb, options, }) {
    const info = obj || objref;
    const View = views[info.form] || Default;
    return (0,jsx_runtime.jsx)(View, { obj: obj, objref: objref, ctx: ctx, remote: remote, ddb: ddb, options: options });
}
/** 对应 ddb.ext 中的 DdbVar, 是从 objs(true) 中获取到的变量信息 */
class DdbObjRef {
    static size_limit = 10240n;
    node;
    // --- by objs(true)
    name;
    form;
    type;
    rows;
    cols;
    bytes;
    shared;
    extra;
    /** this.bytes <= DdbVar.size_limit */
    obj;
    constructor(data) {
        Object.assign(this, data);
    }
}
async function open_obj({ obj, objref, remote, ddb, options, }) {
    let win = window.open('./window.html', new Date().toString(), 'left=100,top=100,width=1000,height=640,popup');
    await new Promise(resolve => {
        win.resolve = resolve;
    });
    win.model.set({
        obj,
        objref,
        remote,
        ddb,
        options,
    });
}
function Default({ obj, objref, options }) {
    return (0,jsx_runtime.jsx)("div", { className: 'default-obj', children: (obj || objref).toString(options) });
}
function Dict({ obj, objref, remote, ddb, ctx, options, }) {
    const render = (0,external_React_.useState)({})[1];
    const _obj = obj || objref.obj;
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (_obj)
                return;
            const { node, name } = objref;
            console.log('dict.fetch:', name);
            objref.obj = ddb ?
                await ddb.eval(name)
                :
                    browser/* DdbObj */.mt.parse(...await remote.call('eval', [node, name]));
            render({});
        })();
    }, [obj, objref]);
    if (!_obj)
        return null;
    return (0,jsx_runtime.jsxs)("div", { className: 'dict', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Tree, { treeData: build_tree_data(_obj, { remote, ddb, ctx, options }), defaultExpandAll: true, focusable: false, blockNode: true, showLine: true, motion: null }, (0,utils_browser/* genid */.GW)()), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar', children: (0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [_obj.rows, " ", (0,i18n.t)('个键'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: (0,i18n.t)('的词典') })] }) })] });
}
function build_tree_data(obj, { remote, ctx, ddb, options }) {
    const dict_key = obj.value[0];
    const dict_value = obj.value[1];
    return (0,utils_browser/* seq */.O6)(dict_key.rows, i => {
        let key = (0,browser/* formati */.F2)(dict_key, i, options);
        let valueobj = dict_value.value[i];
        // if (valueobj instanceof DdbObj)
        // valueobj 可能来自不同 window
        if (valueobj && Object.getPrototypeOf(valueobj)?.constructor.name === 'DdbObj')
            if (valueobj.form === browser/* DdbForm */.Dm.dict)
                return {
                    title: `${key}: `,
                    key: (0,utils_browser/* genid */.GW)(),
                    children: build_tree_data(valueobj, { remote, ctx, ddb })
                };
            else if (valueobj.form === browser/* DdbForm */.Dm.scalar)
                return {
                    title: `${key}: ${(0,browser/* format */.GP)(valueobj.type, valueobj.value, valueobj.le, { ...options, quote: true, nullstr: true })}`,
                    key: (0,utils_browser/* genid */.GW)()
                };
            else {
                const View = views[valueobj.form] || Default;
                return {
                    title: `${key}:`,
                    key: (0,utils_browser/* genid */.GW)(),
                    children: [
                        {
                            title: (0,jsx_runtime.jsx)(View, { obj: valueobj, ctx: ctx, ddb: ddb, remote: remote, options: options }),
                            key: (0,utils_browser/* genid */.GW)()
                        }
                    ]
                };
            }
        else
            return {
                title: `${key}: ${truncate((0,browser/* formati */.F2)(dict_value, i, options))}`,
                key: (0,utils_browser/* genid */.GW)()
            };
    });
}
function Vector({ obj, objref, ctx, remote, ddb, options, }) {
    const info = obj || objref;
    const { type } = info;
    const typestr = (64 <= type && type < 128 ? `${browser/* DdbType */.Z2[type - 64]}[]` : browser/* DdbType */.Z2[type]) || String(type);
    const ncols = Math.min(10, info.rows);
    const [page_size, set_page_size] = (0,external_React_.useState)((ctx === 'page' || ctx === 'window') ? 200 : 100);
    const nrows = info.rows === 0 ?
        0
        :
            Math.min(Math.ceil(info.rows / ncols), Math.ceil(page_size / ncols));
    const [page_index, set_page_index] = (0,external_React_.useState)(0);
    const render = (0,external_React_.useState)({})[1];
    (0,external_React_.useEffect)(() => {
        set_page_index(0);
    }, [obj, objref]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (obj ||
                info.form === browser/* DdbForm */.Dm.set && objref.obj)
                return;
            const { node, name, rows, form } = objref;
            const offset = page_size * page_index;
            if (
            // 允许在 rows 为 0 时拉一次变量获取 obj 用来显示类型
            rows === 0 && offset === 0 ||
                offset < rows) {
                const script = (form === browser/* DdbForm */.Dm.set || rows === 0) ?
                    name
                    :
                        `${name}[${offset}..${Math.min(offset + page_size, rows) - 1}]`;
                console.log(`${browser/* DdbForm */.Dm[form]}.fetch:`, script);
                objref.obj = ddb ?
                    await ddb.eval(script)
                    :
                        browser/* DdbObj */.mt.parse(...await remote.call('eval', [node, script]));
                render({});
            }
        })();
    }, [obj, objref, page_index, page_size]);
    // 当 obj 为空的时候，我们需要等待其在 useEffect 中重新拉取, 因此先返回 null
    if (!(obj || objref.obj))
        return null;
    if (!info.rows)
        return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (obj || objref.obj).toString(options) });
    return (0,jsx_runtime.jsxs)("div", { className: 'vector', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { dataSource: (0,utils_browser/* seq */.O6)(nrows), rowKey: x => x, bordered: true, pagination: false, columns: [
                    {
                        title: '',
                        key: 'index',
                        className: 'row-head',
                        fixed: 'left',
                        render(value, row, index) {
                            return page_size * page_index + index * ncols;
                        }
                    },
                    ...(0,utils_browser/* seq */.O6)(ncols, index => new VectorColumn({
                        obj,
                        objref,
                        index,
                        form: info.form,
                        ncols,
                        page_index,
                        page_size,
                        options,
                    }))
                ] }), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), (0,jsx_runtime.jsxs)("div", { className: 'bottom-bar', children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [info.rows, " ", (0,i18n.t)('个元素'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: info.form === browser/* DdbForm */.Dm.set ?
                                    (0,i18n.t)('的 {{type}} 集合', { type: typestr })
                                    :
                                        (0,i18n.t)('的 {{type}} 向量', { type: typestr }) }), info.name && (0,jsx_runtime.jsx)("span", { className: 'name', children: info.name })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'pagination', total: info.rows, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 200, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: (0,i18n.t)('在新窗口中打开'), component: link_icon, onClick: async () => {
                                await open_obj({ obj, objref, remote, ddb, options });
                            } }) })] })] });
}
class VectorColumn {
    index;
    form;
    obj;
    objref;
    ncols;
    page_index;
    page_size;
    title;
    key;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.title = String(this.index);
        this.key = this.index;
    }
    render = (value, row, index) => {
        const obj = this.obj || this.objref.obj;
        if (!obj)
            return null;
        // 在 obj 中的 index
        const index_ = (this.obj || this.form === browser/* DdbForm */.Dm.set ? this.page_size * this.page_index : 0) + // 之前页的 items 数量
            this.ncols * index + // 之前行的 items 数量
            this.index;
        return index_ < obj.rows ?
            truncate((0,browser/* formati */.F2)(obj, index_, this.options))
            :
                null;
    };
}
function StreamingCell({ window: { objs }, icol, irow, options }) {
    // 在 objs 中从后往前查找 index 所属的 segment, 这样能更快找到（最新的记录都在最后面）
    // 最坏复杂度 O(page.size)，整个表格的渲染复杂度 page.size^2 * ncols
    let _rows = 0;
    for (let i = objs.length - 1; i >= 0; i--) {
        const segment = objs[i];
        const { rows } = segment.value[0]; // 当前 segment 所包含的 rows
        if (irow < _rows + rows) { // irow 位于这个 segment 中
            const col = segment.value[icol];
            return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,browser/* formati */.F2)(col, col.rows - 1 - (irow - _rows), options) });
        }
        _rows += rows;
    }
    return null;
}
function Table({ obj, objref, ctx, remote, ddb, options, show_bottom_bar = true, ...others }) {
    const info = obj || objref;
    const ncols = info.cols;
    const [page_size, set_page_size] = (0,external_React_.useState)((ctx === 'page' || ctx === 'window') ? 20 : 10);
    const nrows = Math.min(page_size, info.rows);
    const [page_index, set_page_index] = (0,external_React_.useState)(0);
    const render = use_rerender();
    (0,external_React_.useEffect)(() => {
        set_page_index(0);
    }, [obj, objref]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (obj)
                return;
            const { node, name, rows } = objref;
            const offset = page_size * page_index;
            if (
            // 允许在 rows 为 0 时拉一次空的 table[0:0] 获取 obj 用来显示列名
            rows === 0 && offset === 0 ||
                offset < rows) {
                const script = `${name}[${offset}:${Math.min(offset + page_size, rows)}]`;
                console.log('table.fetch:', script);
                if (ddb)
                    objref.obj = await ddb.eval(script);
                else
                    objref.obj = browser/* DdbObj */.mt.parse(...await remote.call('eval', [node, script]));
                render();
            }
        })();
    }, [obj, objref, page_index, page_size]);
    return (0,jsx_runtime.jsxs)("div", { className: 'table', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { dataSource: (0,utils_browser/* seq */.O6)(nrows), rowKey: x => x, bordered: true, pagination: false, columns: [
                    {
                        title: '',
                        key: 'index',
                        className: 'row-head',
                        fixed: 'left',
                        render: irow => page_size * page_index + irow
                    },
                    ...(0,utils_browser/* seq */.O6)(ncols, index => new TableColumn({
                        obj,
                        objref,
                        index,
                        page_index,
                        page_size,
                        options,
                    }))
                ], ...others }), show_bottom_bar && (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), show_bottom_bar && (0,jsx_runtime.jsxs)("div", { className: 'bottom-bar', children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [info.rows ? `${info.rows} ${(0,i18n.t)('行')} ` : ' ', info.cols, " ", (0,i18n.t)('列'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: (0,i18n.t)('的表格') }), info.name && (0,jsx_runtime.jsx)("span", { className: 'name', children: info.name })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'pagination', total: info.rows, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 50, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: (0,i18n.t)('在新窗口中打开'), component: link_icon, onClick: async () => {
                                await open_obj({ obj, objref, remote, ddb, options });
                            } }) })] })] });
}
function StreamingTable({ url, table: _table, username, password, ctx, options, on_error, }) {
    let rsddb = (0,external_React_.useRef)();
    let rddbapi = (0,external_React_.useRef)();
    let rauto_append = (0,external_React_.useRef)(false);
    let rappended = (0,external_React_.useRef)(0);
    let rreceived = (0,external_React_.useRef)(0);
    let rmessage = (0,external_React_.useRef)(null);
    const default_rate = 0;
    /** 刷新率 (ms): 0 实时更新, -1 暂停, > 0 刷新间隔 */
    let rrate = (0,external_React_.useRef)(default_rate);
    function set_rate(rate = default_rate) {
        rrate.current = rate;
        rerender({});
    }
    let rlast = (0,external_React_.useRef)(0);
    /** 订阅的流表 */
    let [table, set_table] = (0,external_React_.useState)(_table || new URLSearchParams(location.search).get('streaming-table') || 'prices');
    let [, rerender] = (0,external_React_.useState)({});
    const [page_size, set_page_size] = (0,external_React_.useState)((ctx === 'page' || ctx === 'window') ? 20 : 10);
    const [page_index, set_page_index] = (0,external_React_.useState)(0);
    // 有可能会资源泄露，sddb 在 unmount 时还没有，后面才被赋值
    (0,external_React_.useEffect)(() => () => {
        rsddb.current?.disconnect();
        rddbapi.current?.disconnect();
    }, []);
    (0,external_React_.useEffect)(() => {
        if (!rauto_append.current)
            return;
        let stopped = false;
        (async () => {
            for (; rauto_append.current && !stopped;) {
                await append_data();
                await (0,utils_browser/* delay */.cb)(1000);
            }
            console.log('自动更新已停止');
        })();
        return () => {
            stopped = true;
        };
    }, [rauto_append.current]);
    const StreamingTableActions = (0,external_React_.useCallback)(() => {
        const label_span = 3;
        const wrapper_span = 24 - label_span;
        return (0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { className: 'form', name: '\u6D41\u8868\u914D\u7F6E\u8868\u5355', labelCol: { span: label_span }, wrapperCol: { span: wrapper_span }, initialValues: { table: table }, autoComplete: 'off', onFinish: async ({ table, column, expression }) => {
                        set_table(table);
                        try {
                            rddbapi.current?.disconnect();
                            rsddb.current?.disconnect();
                            rmessage.current = null;
                            rappended.current = 0;
                            rreceived.current = 0;
                            (async () => {
                                try {
                                    let apiddb = rddbapi.current = new browser/* DDB */.ZY(url);
                                    if (table === 'prices')
                                        await apiddb.eval('try {\n' +
                                            "    if (!defined('prices', SHARED)) {\n" +
                                            '        share(\n' +
                                            '            streamTable(\n' +
                                            '                10000:0,\n' +
                                            "                ['time', 'stock', 'price'],\n" +
                                            '                [TIMESTAMP, SYMBOL, DOUBLE]\n' +
                                            '            ),\n' +
                                            "            'prices'\n" +
                                            '        )\n' +
                                            "        setStreamTableFilterColumn(objByName('prices'), 'stock')\n" +
                                            "        print('prices 流表创建成功')\n" +
                                            '    } else\n' +
                                            "        print('prices 流表已存在')\n" +
                                            '} catch (error) {\n' +
                                            "    print('prices 流表创建失败')\n" +
                                            '    print(error)\n' +
                                            '}\n');
                                    let sddb = rsddb.current = new browser/* DDB */.ZY(url, {
                                        autologin: Boolean(username),
                                        username,
                                        password,
                                        streaming: {
                                            table,
                                            filters: {
                                                ...column ? { column: await apiddb.eval(column) } : {},
                                                expression: expression
                                            },
                                            handler(message) {
                                                const { error } = message;
                                                if (error) {
                                                    on_error?.(error);
                                                    throw error;
                                                }
                                                const time = new Date().getTime();
                                                rreceived.current += message.data.data.length;
                                                // 冻结或者未到更新时间
                                                if (rrate.current === -1 || time - rlast.current < rrate.current)
                                                    return;
                                                rmessage.current = message;
                                                rlast.current = time;
                                                rerender({});
                                            }
                                        }
                                    });
                                    // 开始订阅
                                    await sddb.connect();
                                    rerender({});
                                }
                                catch (error) {
                                    on_error?.(error);
                                    throw error;
                                }
                            })();
                        }
                        catch (error) {
                            on_error?.(error);
                            throw error;
                        }
                    }, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: '\u6D41\u8868\u540D\u79F0', name: 'table', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: 'prices' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: '\u5217\u8FC7\u6EE4', name: 'column', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: "['MSFT']" }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: '\u8868\u8FBE\u5F0F\u8FC7\u6EE4', name: 'expression', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: 'price > 190' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { wrapperCol: { offset: label_span, span: wrapper_span }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'subscribe-button', type: 'primary', htmlType: 'submit', children: "\u5F00\u59CB\u8BA2\u9605" }) })] }), table === 'prices' && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: async () => {
                                    rlast.current = 0;
                                    await append_data();
                                }, children: "\u5411\u6D41\u8868\u4E2D\u6DFB\u52A0\u4E09\u6761\u6570\u636E" }) }), (0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: async () => {
                                    rlast.current = 0;
                                    await append_data(1);
                                }, children: "\u5411\u6D41\u8868\u4E2D\u6DFB\u52A0\u4E00\u6761\u6570\u636E" }) }), (0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 2000 * 5;
                                    await rddbapi.current.eval('n = 2000\n' +
                                        '\n' +
                                        'for (i in 0..4)\n' +
                                        '    append!(\n' +
                                        '        prices,\n' +
                                        '        table([\n' +
                                        '            (now() + 0..(n-1)) as time,\n' +
                                        "            take(['MSFT', 'FUTU'], n) as stock,\n" +
                                        '            (0..(n-1) \\ 10) as price\n' +
                                        '        ])\n' +
                                        '    )\n');
                                }, children: "\u6D4B\u8BD5\u63D2\u5165 2000 \u6761\u6570\u636E 5 \u6B21" }) }), (0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 1_0000 * 10;
                                    await rddbapi.current.eval('n = 10000\n' +
                                        '\n' +
                                        'for (i in 0..9)\n' +
                                        '    append!(\n' +
                                        '        prices,\n' +
                                        '        table([\n' +
                                        '            (now() + 0..(n-1)) as time,\n' +
                                        "            take(['MSFT', 'FUTU'], n) as stock,\n" +
                                        '            (0..(n-1) \\ 10) as price\n' +
                                        '        ])\n' +
                                        '    )\n');
                                }, children: "\u6D4B\u8BD5\u63D2\u5165 1_0000 \u6761\u6570\u636E 10 \u6B21" }) }), (0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 10_0000 * 10;
                                    await rddbapi.current.eval('n = 100000\n' +
                                        '\n' +
                                        'for (i in 0..9)\n' +
                                        '    append!(\n' +
                                        '        prices,\n' +
                                        '        table([\n' +
                                        '            (now() + 0..(n-1)) as time,\n' +
                                        "            take(['MSFT', 'FUTU'], n) as stock,\n" +
                                        '            (0..(n-1) \\ 10) as price\n' +
                                        '        ])\n' +
                                        '    )\n');
                                }, children: "\u6D4B\u8BD5\u63D2\u5165 10_0000 \u6761\u6570\u636E 10 \u6B21" }) }), (0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: async () => {
                                    rlast.current = 0;
                                    rappended.current += 2000;
                                    await rddbapi.current.eval('n = 2000\n' +
                                        'for (i in 0..(n-1))\n' +
                                        "    insert into prices values (now(), 'MSFT', rand(100, 1)[0])\n");
                                }, children: "\u6D4B\u8BD5\u6DFB\u52A0\u4E00\u6761\u6570\u636E 2000 \u6B21" }) }), (0,jsx_runtime.jsxs)("div", { children: ["\u5E94\u6DFB\u52A0\u884C\u6570: ", rappended.current] }), (0,jsx_runtime.jsxs)("div", { children: ["\u5B9E\u9645\u7684\u884C\u6570: ", rreceived.current] }), (0,jsx_runtime.jsx)("div", { children: "\u4E0A\u9762\u4E24\u4E2A\u5E94\u8BE5\u76F8\u7B49" }), (0,jsx_runtime.jsxs)("div", { children: ["\u81EA\u52A8\u6DFB\u52A0\u6570\u636E: ", (0,jsx_runtime.jsx)(external_antd_namespaceObject.Switch, { onChange: checked => {
                                        rauto_append.current = checked;
                                        rerender({});
                                    } })] })] }), (0,jsx_runtime.jsx)("div", { children: "\u63A5\u6536\u5230\u63A8\u9001\u7684 message \u4E4B\u540E\uFF0C\u624D\u4F1A\u5728\u4E0B\u9762\u663E\u793A\u51FA\u8868\u683C" })] });
    }, [table]);
    if (!rsddb.current || !rddbapi.current || !rmessage.current)
        return (0,jsx_runtime.jsx)("div", { className: 'streaming-table', children: (0,jsx_runtime.jsx)(StreamingTableActions, {}) });
    const { current: message } = rmessage;
    const cols = (0,utils_browser/* seq */.O6)(message.data.columns.length, index => new StreamingTableColumn({
        rmessage,
        index,
        page_size,
        page_index,
        options,
    }));
    async function append_data(n = 3) {
        rappended.current += n;
        try {
            await rddbapi.current.eval(n === 3 ?
                'append!(\n' +
                    '    prices,\n' +
                    '    table([\n' +
                    '        [now(), timestamp(now() + 10), timestamp(now() + 20)] as time,\n' +
                    "        ['MSFT', 'FUTU', 'MSFT'] as stock,\n" +
                    '        [1.0, 2.0, 3.0] as price\n' +
                    '    ])\n' +
                    ')\n'
                :
                    'append!(\n' +
                        '    prices,\n' +
                        '    table([\n' +
                        '        [now()] as time,\n' +
                        "        ['MSFT'] as stock,\n" +
                        '        [1.0] as price\n' +
                        '    ])\n' +
                        ')\n');
        }
        catch (error) {
            on_error?.(error);
            throw error;
        }
    }
    return (0,jsx_runtime.jsxs)("div", { className: 'streaming-table', children: [(0,jsx_runtime.jsx)(StreamingTableActions, {}), (0,jsx_runtime.jsx)("div", { className: 'table', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { dataSource: (0,utils_browser/* seq */.O6)(page_size), rowKey: x => x, bordered: true, pagination: false, columns: [
                        {
                            title: '',
                            key: 'index',
                            className: 'row-head',
                            fixed: 'left',
                            render: irow => page_size * page_index + irow
                        },
                        ...cols
                    ] }) }), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), (0,jsx_runtime.jsxs)("div", { className: 'bottom-bar', children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [rreceived.current, " ", (0,i18n.t)('行'), " ", cols.length, " ", (0,i18n.t)('列'), message.window.offset > 0 ? ` ${message.window.offset} ${(0,i18n.t)('偏移')}` : ''] }), ' ', (0,jsx_runtime.jsx)("span", { className: 'type', children: (0,i18n.t)('的流表') }), (0,jsx_runtime.jsx)("span", { className: 'name', children: table })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'pagination', total: rreceived.current, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 50, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), (0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: (0,i18n.t)('在新窗口中打开'), component: link_icon, onClick: async () => {
                                    throw new Error('未实现');
                                    // await open_obj({ obj, objref, remote, ddb })
                                } }), (0,jsx_runtime.jsx)("div", { className: 'pause-play', children: rrate.current === -1 ?
                                    (0,jsx_runtime.jsx)(external_icons_namespaceObject.CaretRightOutlined, { title: (0,i18n.t)('继续显示流表更新'), onClick: () => { set_rate(); } })
                                    :
                                        (0,jsx_runtime.jsx)(external_icons_namespaceObject.PauseOutlined, { title: (0,i18n.t)('暂停显示流表更新'), onClick: () => { set_rate(-1); } }) }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Select, { defaultValue: default_rate, onSelect: (value) => {
                                    set_rate(value);
                                }, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 0, children: (0,i18n.t)('实时') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 1000, children: "1 s" }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 2000, children: "2 s" }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 3000, children: "3 s" }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 5000, children: "5 s" }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 10 * 1000, children: "10 s" }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 30 * 1000, children: "30 s" }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select.Option, { value: 60 * 1000, children: "60 s" })] })] })] })] });
}
class StreamingTableColumn {
    /** 表格数据的第 index 列 */
    index;
    key;
    rmessage;
    col;
    page_index;
    page_size;
    title;
    align;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.key = this.index;
        const { current: { obj, data: { columns } } } = this.rmessage;
        this.col = obj.value[this.index];
        (0,utils_browser/* assert */.vA)(this.col.form === browser/* DdbForm */.Dm.vector, (0,i18n.t)('this.streaming.data 中的元素应该是 vector'));
        this.title = (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: browser/* DdbType */.Z2[this.col.type === browser/* DdbType */.Z2.symbol_extended ? browser/* DdbType */.Z2.symbol : this.col.type], children: columns[this.index] });
        this.align = TableColumn.left_align_types.has(this.col.type) ? 'left' : 'right';
    }
    render = (irow) => (0,jsx_runtime.jsx)(StreamingCell, { window: this.rmessage.current.window, irow: this.page_size * this.page_index + irow, icol: this.index, options: this.options });
}
class TableColumn {
    static left_align_types = new Set([
        browser/* DdbType */.Z2.symbol,
        browser/* DdbType */.Z2.symbol_extended,
        browser/* DdbType */.Z2.string,
        browser/* DdbType */.Z2.functiondef,
        browser/* DdbType */.Z2.handle,
        browser/* DdbType */.Z2.code,
        browser/* DdbType */.Z2.datasource,
        browser/* DdbType */.Z2.resource,
    ]);
    /** 表格数据的第 index 列 */
    index;
    obj;
    objref;
    col;
    page_index;
    page_size;
    title;
    key;
    align;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.key = this.index;
        let obj = this.obj || this.objref.obj;
        if (!obj)
            return;
        this.col = obj.value[this.index];
        this.title = (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: browser/* DdbType */.Z2[this.col.type === browser/* DdbType */.Z2.symbol_extended ? browser/* DdbType */.Z2.symbol : this.col.type], children: this.col.name });
        this.align = TableColumn.left_align_types.has(this.col.type) ? 'left' : 'right';
    }
    render = (irow) => {
        const obj = this.col;
        if (!obj)
            return null;
        const index = (this.obj ? this.page_size * this.page_index : 0) + // 之前页的 items 数量
            irow;
        return index < obj.rows ?
            truncate((0,browser/* formati */.F2)(obj, index, this.options))
            :
                null;
    };
}
function Matrix({ obj, objref, ctx, remote, ddb, options, }) {
    const info = obj || objref;
    const ncols = info.cols;
    const [page_size, set_page_size] = (0,external_React_.useState)((ctx === 'page' || ctx === 'window') ? 20 : 10);
    const nrows = Math.min(page_size, info.rows);
    const [page_index, set_page_index] = (0,external_React_.useState)(0);
    const render = (0,external_React_.useState)({})[1];
    (0,external_React_.useEffect)(() => {
        set_page_index(0);
    }, [obj, objref]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (obj)
                return;
            const { node, name, rows } = objref;
            const offset = page_size * page_index;
            if (offset >= rows)
                return;
            const script = `${name}[${offset}:${Math.min(offset + page_size, rows)},]`;
            console.log('matrix.fetch:', script);
            if (ddb)
                objref.obj = await ddb.eval(script);
            else
                objref.obj = browser/* DdbObj */.mt.parse(...await remote.call('eval', [node, script]));
            render({});
        })();
    }, [obj, objref, page_index, page_size]);
    return (0,jsx_runtime.jsxs)("div", { className: 'matrix', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { dataSource: (0,utils_browser/* seq */.O6)(nrows), rowKey: x => x, bordered: true, pagination: false, columns: [
                    {
                        title: '',
                        key: 'index',
                        className: 'row-head',
                        fixed: 'left',
                        render(irow) {
                            const i = obj ?
                                page_size * page_index + irow
                                :
                                    irow;
                            const rows = (obj || objref.obj)?.value.rows;
                            return rows ?
                                i < rows.rows ?
                                    (0,browser/* formati */.F2)(rows, i, options)
                                    :
                                        ''
                                :
                                    i;
                        }
                    },
                    ...(0,utils_browser/* seq */.O6)(ncols, index => new MatrixColumn({
                        obj,
                        objref,
                        index,
                        page_index,
                        page_size,
                        options,
                    }))
                ] }), (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), (0,jsx_runtime.jsxs)("div", { className: 'bottom-bar', children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsxs)("span", { className: 'desc', children: [info.rows, " ", (0,i18n.t)('行'), " ", info.cols, " ", (0,i18n.t)('列'), objref ? ` (${Number(objref.bytes).to_fsize_str()}) ` : ''] }), (0,jsx_runtime.jsx)("span", { className: 'type', children: (0,i18n.t)('的矩阵') }), info.name && (0,jsx_runtime.jsx)("span", { className: 'name', children: info.name })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'pagination', total: info.rows, current: page_index + 1, pageSize: page_size, pageSizeOptions: page_sizes, size: 'small', showSizeChanger: true, showQuickJumper: true, hideOnSinglePage: page_size <= 50, selectComponentClass: UpSelect, onChange: (page_index, page_size) => {
                            set_page_size(page_size);
                            set_page_index(page_index - 1);
                        } }), (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: (0,i18n.t)('在新窗口中打开'), component: link_icon, onClick: async () => {
                                await open_obj({ obj, objref, remote, ddb, options });
                            } }) })] })] });
}
class MatrixColumn {
    index;
    obj;
    objref;
    page_index;
    page_size;
    title;
    key;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.title = String(this.index);
        this.key = this.index;
        let obj = this.obj || this.objref.obj;
        if (!obj)
            return;
        const cols = obj?.value.cols;
        if (cols)
            this.title = (0,browser/* formati */.F2)(cols, this.index, this.options);
    }
    render = (irow) => {
        const obj = this.obj || this.objref.obj;
        if (!obj)
            return null;
        const irow_ = this.obj ?
            this.page_size * this.page_index + irow
            :
                irow;
        if (irow_ >= obj.rows)
            return null;
        const nitems = obj.cols * obj.rows;
        // this.index 列之前所有列的元素 + this.index 列之前分页中的列内的元素 + 当前元素下标
        const index = this.obj ?
            obj.rows * this.index + this.page_size * this.page_index + irow
            :
                obj.rows * this.index + irow;
        (0,utils_browser/* assert */.vA)(index < nitems, 'index < obj.cols * obj.rows');
        return (0,browser/* formati */.F2)(new browser/* DdbObj */.mt({
            form: browser/* DdbForm */.Dm.vector,
            type: obj.type,
            rows: nitems,
            value: obj.value.data
        }), index, this.options);
    };
}
function to_chart_data(data, datatype) {
    switch (datatype) {
        case browser/* DdbType */.Z2.int:
            return data === browser/* nulls */.vF.int32 ? null : Number(data);
        case browser/* DdbType */.Z2.short:
            return data === browser/* nulls */.vF.int16 ? null : Number(data);
        case browser/* DdbType */.Z2.float:
            return data === browser/* nulls */.vF.float32 ? null : Number(data);
        case browser/* DdbType */.Z2.double:
            return data === browser/* nulls */.vF.double ? null : Number(data);
        case browser/* DdbType */.Z2.long:
            return data === browser/* nulls */.vF.int64 ? null : Number(data);
        default:
            return Number(data);
    }
}
function Chart({ obj, objref, ctx, remote, ddb, options, }) {
    const [{ inited, charttype, data, titles, stacking, multi_y_axes, col_labels, bin_count, }, set_config] = (0,external_React_.useState)({
        inited: false,
        charttype: browser/* DdbChartType */.b8.line,
        data: [],
        titles: {},
        stacking: false,
        multi_y_axes: false,
        col_labels: [],
        bin_count: null,
        bin_start: null,
        bin_end: null,
    });
    (0,external_React_.useEffect)(() => {
        (async () => {
            const { value: { bin_count, bin_start, bin_end, titles, type: charttype, stacking, extras, data: { rows, cols, type: datatype, value: { rows: rows_, cols: cols_, data } } } } = obj ||
                (ddb ?
                    await ddb.eval(objref.name)
                    :
                        browser/* DdbObj */.mt.parse(...await remote.call('eval', [objref.node, objref.name])));
            const { multi_y_axes = false } = extras || {};
            const col_labels_ = (cols_?.value || (0,utils_browser/* seq */.O6)(cols)).map(col_label => col_label?.value?.name || col_label);
            const row_labels = (() => {
                // 没有设置 label 的话直接以序号赋值并返回
                if (!rows_)
                    return (0,utils_browser/* seq */.O6)(rows);
                else if (charttype === browser/* DdbChartType */.b8.kline || charttype === browser/* DdbChartType */.b8.scatter)
                    return rows_.value;
                else
                    // format 为 string
                    return (0,utils_browser/* seq */.O6)(rows, i => (0,browser/* formati */.F2)(rows_, i, options));
            })();
            const n = charttype === browser/* DdbChartType */.b8.line && multi_y_axes || charttype === browser/* DdbChartType */.b8.kline ? rows : rows * cols;
            let data_ = new Array(n);
            switch (charttype) {
                case browser/* DdbChartType */.b8.line:
                    if (multi_y_axes)
                        for (let j = 0; j < rows; j++) {
                            let dataobj = {};
                            dataobj.row = row_labels[j];
                            for (let i = 0; i < cols; i++) {
                                let idata = i * rows + j;
                                dataobj[col_labels_[i]] = to_chart_data(data[idata], datatype);
                            }
                            data_[j] = dataobj;
                        }
                    else
                        for (let i = 0; i < cols; i++)
                            for (let j = 0; j < rows; j++) {
                                const idata = i * rows + j;
                                data_[idata] = {
                                    row: row_labels[j],
                                    col: col_labels_[i],
                                    value: to_chart_data(data[idata], datatype)
                                };
                            }
                    break;
                case browser/* DdbChartType */.b8.kline:
                    for (let j = 0; j < rows; j++) {
                        let dataobj = {};
                        dataobj.row = row_labels[j];
                        dataobj.row_ = (0,browser/* formati */.F2)(rows_, j, options);
                        dataobj.open = to_chart_data(data[j], datatype);
                        dataobj.high = to_chart_data(data[rows + j], datatype);
                        dataobj.low = to_chart_data(data[rows * 2 + j], datatype);
                        dataobj.close = to_chart_data(data[rows * 3 + j], datatype);
                        if (cols === 5)
                            dataobj.vol = to_chart_data(data[rows * 4 + j], datatype);
                        data_[j] = dataobj;
                    }
                    break;
                default:
                    for (let i = 0; i < cols; i++)
                        for (let j = 0; j < rows; j++) {
                            const idata = i * rows + j;
                            data_[idata] = {
                                row: row_labels[j],
                                col: col_labels_[i],
                                value: to_chart_data(data[idata], datatype)
                            };
                        }
                    if (charttype === browser/* DdbChartType */.b8.histogram && bin_start && bin_end)
                        data_ = data_.filter(data => data.value >= Number(bin_start.value) && data.value <= Number(bin_end.value));
                    break;
            }
            console.log('data:', data_);
            set_config({
                inited: true,
                charttype,
                data: data_,
                titles,
                stacking,
                multi_y_axes,
                col_labels: col_labels_,
                bin_count,
                bin_start,
                bin_end,
            });
        })();
    }, [obj, objref]);
    if (!inited)
        return null;
    return (0,jsx_runtime.jsxs)("div", { className: 'chart', children: [(0,jsx_runtime.jsx)("div", { className: 'chart-title', children: titles.chart }), (() => {
                switch (charttype) {
                    case browser/* DdbChartType */.b8.line:
                        if (!multi_y_axes)
                            return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Line, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', xAxis: {
                                    title: {
                                        text: titles.x_axis
                                    }
                                }, yAxis: {
                                    title: {
                                        text: titles.y_axis
                                    }
                                }, isStack: stacking, padding: 'auto', animation: false });
                        else
                            return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.DualAxes, { className: 'chart-body', data: [data, data], xField: 'row', yField: col_labels, xAxis: {
                                    title: {
                                        text: titles.x_axis
                                    }
                                }, yAxis: {
                                    [col_labels[0]]: {
                                        title: {
                                            text: titles.y_axis
                                        }
                                    }
                                }, padding: 'auto', animation: false });
                    case browser/* DdbChartType */.b8.column:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Column, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, isGroup: true, label: {
                                position: 'middle',
                                layout: [
                                    {
                                        type: 'interval-adjust-position',
                                    },
                                    {
                                        type: 'interval-hide-overlap',
                                    },
                                    {
                                        type: 'adjust-color',
                                    },
                                ],
                            }, padding: 'auto', animation: false });
                    case browser/* DdbChartType */.b8.bar:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Bar, { className: 'chart-body', data: data, xField: 'value', yField: 'row', seriesField: 'col', xAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, isStack: stacking, isGroup: !stacking, label: {
                                position: 'middle',
                                layout: [
                                    {
                                        type: 'interval-adjust-position',
                                    },
                                    {
                                        type: 'interval-hide-overlap',
                                    },
                                    {
                                        type: 'adjust-color',
                                    },
                                ],
                            }, padding: 'auto', animation: false });
                    case browser/* DdbChartType */.b8.pie:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Pie, { className: 'chart-body', data: data, angleField: 'value', colorField: 'row', radius: 0.9, label: {
                                type: 'spider',
                                content: '{name}: {percentage}',
                            }, padding: 'auto', animation: false });
                    case browser/* DdbChartType */.b8.area:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Area, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', 
                            // @ts-ignore
                            xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, 
                            // @ts-ignore
                            stack: stacking, isStack: stacking, padding: 'auto', animation: false });
                    case browser/* DdbChartType */.b8.scatter:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Scatter, { className: 'chart-body', data: data, xField: 'row', yField: 'value', colorField: 'col', xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, padding: 'auto', animation: false });
                    case browser/* DdbChartType */.b8.histogram:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Histogram, { className: 'chart-body', data: data, binField: 'value', stackField: 'col', 
                            // 修复类型错误
                            binNumber: undefined, ...bin_count ? { binNumber: Number(bin_count.value) } : {}, xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, 
                            // 修复类型错误
                            binWidth: undefined, padding: 'auto', animation: false });
                    case browser/* DdbChartType */.b8.kline:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Stock, { className: 'chart-body', data: data, xField: 'row', yField: ['open', 'close', 'high', 'low'], xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, meta: {
                                row: {
                                    formatter: (value, index) => (0,browser/* format */.GP)(obj.value.data.value.rows.type, value, obj.le)
                                },
                                vol: {
                                    alias: (0,i18n.t)('成交量'),
                                },
                                open: {
                                    alias: (0,i18n.t)('开盘价'),
                                },
                                close: {
                                    alias: (0,i18n.t)('收盘价'),
                                },
                                high: {
                                    alias: (0,i18n.t)('最高价'),
                                },
                                low: {
                                    alias: (0,i18n.t)('最低价'),
                                },
                            }, padding: 'auto', tooltip: {
                                // @ts-ignore
                                crosshairs: {
                                    // 自定义 crosshairs line 样式
                                    line: {
                                        style: {
                                            lineWidth: 0.5,
                                            stroke: 'rgba(0,0,0,0.25)'
                                        }
                                    },
                                    text: (type, defaultContent, items) => {
                                        let textContent;
                                        if (type === 'x') {
                                            const item = items[0];
                                            textContent = item ? item.data.row_ : defaultContent;
                                        }
                                        else
                                            textContent = defaultContent.toFixed(2);
                                        return {
                                            position: type === 'y' ? 'start' : 'end',
                                            content: textContent,
                                            // 自定义 crosshairs text 样式
                                            style: {
                                                fill: '#dfdfdf'
                                            }
                                        };
                                    },
                                },
                                fields: ['open', 'close', 'high', 'low', 'vol'],
                                title: 'row_',
                            }, animation: false });
                    default:
                        return (0,jsx_runtime.jsx)(external_Plots_namespaceObject.Line, { className: 'chart-body', data: data, xField: 'row', yField: 'value', seriesField: 'col', xAxis: {
                                title: {
                                    text: titles.x_axis
                                }
                            }, yAxis: {
                                title: {
                                    text: titles.y_axis
                                }
                            }, isStack: stacking, padding: 'auto', animation: false });
                }
            })(), ctx !== 'window' && (0,jsx_runtime.jsx)("div", { className: 'bottom-bar-placeholder' }), ctx !== 'window' && (0,jsx_runtime.jsx)("div", { className: 'bottom-bar', children: (0,jsx_runtime.jsx)("div", { className: 'actions', children: (ctx === 'page' || ctx === 'embed') && (0,jsx_runtime.jsx)((external_icons_default()), { className: 'icon-link', title: (0,i18n.t)('在新窗口中打开'), component: link_icon, onClick: async () => {
                            await open_obj({ obj, objref, remote, ddb });
                        } }) }) })] });
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/components/QueryDataView.tsx






function QueryDataView(props) {
    const { code, set_total: get_total } = props;
    const [pagination, set_pagination] = (0,external_React_.useState)({ page: 1, page_size: 10 });
    const [total, set_total] = (0,external_React_.useState)();
    const [error, set_error] = (0,external_React_.useState)();
    const [loading, set_loading] = (0,external_React_.useState)(true);
    const [data, set_data] = (0,external_React_.useState)();
    const get_query_data = (0,external_React_.useCallback)(async (page, pageSize) => {
        set_loading(true);
        const { value: data } = await model/* model */.ge.ddb.eval(`dbms_executeQueryByPage('${JSON.stringify({ code, page, pageSize, total })})')`);
        if (typeof data === 'string') {
            set_error(data);
            set_total(0);
        }
        else {
            set_data(data);
            set_total(data[0].value);
        }
        set_loading(false);
    }, [code, total]);
    (0,external_React_.useEffect)(() => {
        get_total(total);
    }, [total]);
    (0,external_React_.useEffect)(() => {
        get_query_data(1, 10);
    }, [get_query_data]);
    return !loading ?
        (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: !error ?
                (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [total === 20000000 && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Text, { children: (0,i18n.t)('当前数据量已达 2000 万行的预览上限，此处仅显示部分截断数据。') }), (0,jsx_runtime.jsx)(Table, { obj: data[1], ctx: 'page', show_bottom_bar: false, pagination: {
                                total: data[0].value,
                                showTotal: total => (0,i18n.t)('共 {{total}} 条数据', { total }),
                                pageSizeOptions: [10, 20],
                                pageSize: pagination.page_size,
                                showSizeChanger: true,
                                current: pagination.page,
                                defaultCurrent: 1,
                                onChange: (page, pageSize) => {
                                    set_pagination({ page, page_size: pageSize });
                                    get_query_data(page, pageSize);
                                }
                            } })] })
                :
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Alert, { message: (0,i18n.t)('错误信息'), description: error, type: 'error', showIcon: true }) })
        :
            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { spinning: true, className: 'query-guide-spin' });
}

;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useToggle/index.js


function useToggle(defaultValue, reverseValue) {
  if (defaultValue === void 0) {
    defaultValue = false;
  }
  var _a = (0,tslib_es6.__read)((0,external_React_.useState)(defaultValue), 2),
    state = _a[0],
    setState = _a[1];
  var actions = (0,external_React_.useMemo)(function () {
    var reverseValueOrigin = reverseValue === undefined ? !defaultValue : reverseValue;
    var toggle = function () {
      return setState(function (s) {
        return s === defaultValue ? reverseValueOrigin : defaultValue;
      });
    };
    var set = function (value) {
      return setState(value);
    };
    var setLeft = function () {
      return setState(defaultValue);
    };
    var setRight = function () {
      return setState(reverseValueOrigin);
    };
    return {
      toggle: toggle,
      set: set,
      setLeft: setLeft,
      setRight: setRight
    };
    // useToggle ignore value change
    // }, [defaultValue, reverseValue]);
  }, []);
  return [state, actions];
}
/* harmony default export */ const es_useToggle = (useToggle);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useBoolean/index.js



function useBoolean(defaultValue) {
  if (defaultValue === void 0) {
    defaultValue = false;
  }
  var _a = (0,tslib_es6.__read)(es_useToggle(!!defaultValue), 2),
    state = _a[0],
    _b = _a[1],
    toggle = _b.toggle,
    set = _b.set;
  var actions = (0,external_React_.useMemo)(function () {
    var setTrue = function () {
      return set(true);
    };
    var setFalse = function () {
      return set(false);
    };
    return {
      toggle: toggle,
      set: function (v) {
        return set(!!v);
      },
      setTrue: setTrue,
      setFalse: setFalse
    };
  }, []);
  return [state, actions];
}
;// CONCATENATED MODULE: ./console/shell/QueryGuide/components/ExportFileModal.tsx








const ExportFileModal = esm.create((props) => {
    const { table, code } = props;
    const modal = useModal();
    const [form] = external_antd_namespaceObject.Form.useForm();
    const [loading, action] = useBoolean(false);
    const download = (0,external_React_.useCallback)(async () => {
        try {
            action.setTrue();
            await form.validateFields();
            const { name } = form.getFieldsValue();
            const res = await request('dbms_executeQuery', { code });
            let text = '';
            if (typeof res.csvContent === 'string')
                text = res.csvContent;
            else
                text = ((0,utils/* safe_json_parse */.bu)(new TextDecoder().decode((await request('dbms_executeQuery', { code }))))).csvContent;
            const link = document.createElement('a');
            link.href = 'data:application/vnd.ms-excel;charset=utf-8,\uFEFF' + encodeURIComponent(text);
            link.download = `${name}.csv`;
            link.click();
            link.remove();
            action.setFalse();
            modal.hide();
            external_antd_namespaceObject.message.success((0,i18n.t)('导出成功'));
        }
        catch {
            action.setFalse();
        }
    }, [code]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { title: (0,i18n.t)('导出数据'), width: 600, open: modal.visible, onOk: download, onCancel: modal.hide, afterClose: modal.remove, okButtonProps: { loading }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form, { form: form, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { rules: [{ required: true, message: (0,i18n.t)('请输入文件名') }], name: 'name', label: (0,i18n.t)('文件名'), initialValue: table, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { addonAfter: '.csv', placeholder: (0,i18n.t)('请输入文件名') }) }) }) });
});

;// CONCATENATED MODULE: ./console/shell/QueryGuide/QueryGuide.tsx












function QueryGuide_QueryGuide(props) {
    const { table, database, set_footer } = props;
    const [current_step, set_current_step] = (0,external_React_.useState)(0);
    const [code, set_code] = (0,external_React_.useState)('');
    const [total, set_total] = (0,external_React_.useState)(0);
    const [form] = external_antd_namespaceObject.Form.useForm();
    const view_map = (0,external_React_.useMemo)(() => {
        return {
            0: (0,jsx_runtime.jsx)(QueryForm, { ...props, form: form }),
            1: (0,jsx_runtime.jsx)(ReadonlyEditor_ReadonlyEditor, { code: code, className: 'query-code-view' }),
            2: (0,jsx_runtime.jsx)(QueryDataView, { set_total: set_total, code: code })
        };
    }, [code]);
    const to_next_step = (0,external_React_.useCallback)(() => {
        set_current_step(current_step + 1);
    }, [current_step]);
    const back = (0,external_React_.useCallback)(() => {
        set_current_step(current_step - 1);
    }, [current_step]);
    const get_query_code = (0,external_React_.useCallback)(async () => {
        try {
            const values = await form.validateFields();
            const params = {
                ...values,
                querys: values.querys?.map(transform_query),
                partitionColQuerys: transform_query(values.partitionColQuerys ?? [])
            };
            const { code } = await request('dbms_generateQuery', { ...params, dbName: database, tbName: table });
            set_code(code);
            to_next_step();
        }
        catch { }
    }, [to_next_step, database, table]);
    const primary_btn = (0,external_React_.useMemo)(() => {
        switch (current_step) {
            case 0:
                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: get_query_code, children: (0,i18n.t)('查看 SQL 语句') });
            case 1:
                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: to_next_step, children: (0,i18n.t)('预览数据') });
            case 2:
                return total === 0 || total > 500000 ?
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: total === 0 ? (0,i18n.t)('当前数据为空，暂不支持导出功能。') : (0,i18n.t)('当前数据量已达 50 万行，暂不支持导出功能。'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', disabled: true, onClick: async () => esm.show(ExportFileModal, { code, table }), children: (0,i18n.t)('导出数据') }) })
                    : (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: async () => esm.show(ExportFileModal, { code, table }), children: (0,i18n.t)('导出数据') });
        }
    }, [get_query_code, code, table, to_next_step, total]);
    (0,external_React_.useEffect)(() => {
        set_footer((0,jsx_runtime.jsx)("div", { className: 'btn-wrapper', children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Space, { children: [current_step === 0 &&
                        (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: () => {
                                guide_query_model.set({ query_values: undefined });
                                form.resetFields();
                            }, children: (0,i18n.t)('重置条件') }), current_step > 0 && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: back, children: (0,i18n.t)('返回修改') }), primary_btn] }) }));
    }, [primary_btn, current_step, back]);
    return view_map[current_step];
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/SqlEditGuide.tsx










function SqlEditGuide(props) {
    const { table, database, set_footer } = props;
    const [current_step, set_current_step] = (0,external_React_.useState)(0);
    const [total, set_total] = (0,external_React_.useState)(0);
    const [code, set_code] = (0,external_React_.useState)(guide_query_model.use(['code']).code ?? `SELECT * FROM loadTable("${database}", "${table}")`);
    const view_map = (0,external_React_.useMemo)(() => {
        return {
            0: (0,jsx_runtime.jsx)("div", { className: 'query-code-editor', children: (0,jsx_runtime.jsx)(Editor_Editor, { enter_completion: true, default_value: code, theme: 'light', on_change: code => {
                        set_code(code);
                        guide_query_model.set({ code });
                    } }) }),
            1: (0,jsx_runtime.jsx)(QueryDataView, { code: code, set_total: set_total }),
        };
    }, [code]);
    const to_next_step = (0,external_React_.useCallback)(() => {
        set_current_step(current_step + 1);
    }, [current_step]);
    const back = (0,external_React_.useCallback)(() => {
        set_current_step(current_step - 1);
    }, [current_step]);
    const on_preview_data = (0,external_React_.useCallback)(() => {
        if (!code)
            external_antd_namespaceObject.message.error((0,i18n.t)('请编辑代码'));
        else
            to_next_step();
    }, [code]);
    const primary_btn = (0,external_React_.useMemo)(() => {
        switch (current_step) {
            case 0:
                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: on_preview_data, children: (0,i18n.t)('预览数据') });
            case 1:
                return total === 0 || total > 500000
                    ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: total === 0 ? (0,i18n.t)('当前数据为空，暂不支持导出功能。') : (0,i18n.t)('当前数据量已达 50 万行，暂不支持导出功能。'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', disabled: true, onClick: async () => esm.show(ExportFileModal, { code, table }), children: (0,i18n.t)('导出数据') }) })
                    : (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: async () => esm.show(ExportFileModal, { code, table }), children: (0,i18n.t)('导出数据') });
        }
    }, [to_next_step, code, table, total]);
    (0,external_React_.useEffect)(() => {
        set_footer((0,jsx_runtime.jsx)("div", { className: 'btn-wrapper', children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Space, { children: [current_step > 0 && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: back, children: (0,i18n.t)('返回修改') }), primary_btn] }) }));
    }, [back, primary_btn]);
    return view_map[current_step];
}

;// CONCATENATED MODULE: ./console/shell/QueryGuide/index.tsx










const components = {
    [QueryGuideType.QUERY_GUIDE]: QueryGuide_QueryGuide,
    [QueryGuideType.SQL]: SqlEditGuide
};
const QueryGuideModal = esm.create((props) => {
    const { table, database } = props;
    const modal = useModal();
    const [footer, set_footer] = (0,external_React_.useState)(null);
    const [type, set_type] = (0,external_React_.useState)(QueryGuideType.QUERY_GUIDE);
    (0,external_React_.useEffect)(() => {
        guide_query_model.define_query_guide();
    }, []);
    const change_type = (0,external_React_.useCallback)(value => {
        set_type(value);
    }, []);
    const Component = (0,external_React_.useMemo)(() => components[type], [type]);
    const on_cancel = (0,external_React_.useCallback)(async () => {
        guide_query_model.set({ code: undefined, query_values: undefined });
        modal.hide();
    }, []);
    return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Modal, { maskClosable: false, destroyOnClose: true, footer: footer, title: database + '/' + table, width: 1000, className: 'query-guide-modal', open: modal.visible, onCancel: on_cancel, afterClose: modal.remove, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Segmented, { className: 'guide-segmented', value: type, onChange: change_type, options: [
                        { label: (0,i18n.t)('向导查询'), value: QueryGuideType.QUERY_GUIDE },
                        { label: (0,i18n.t)('脚本查询'), value: QueryGuideType.SQL }
                    ] }), (0,jsx_runtime.jsx)(Component, { set_footer: set_footer, ...props })] }) });
});

;// CONCATENATED MODULE: ./console/shell/Databases.tsx
































var TableKind;
(function (TableKind) {
    /** 维度表 */
    TableKind[TableKind["Table"] = 0] = "Table";
    TableKind[TableKind["PartitionedTable"] = 1] = "PartitionedTable";
})(TableKind || (TableKind = {}));
function Databases() {
    const { dbs } = model_shell.use(['dbs']);
    const { node, logined, node_type } = model/* model */.ge.use(['node', 'logined', 'node_type']);
    const [db_height, set_db_height] = (0,external_React_.useState)(256);
    const [expanded_keys, set_expanded_keys] = (0,external_React_.useState)([]);
    const [loaded_keys, set_loaded_keys] = (0,external_React_.useState)([]);
    const previous_clicked_node = (0,external_React_.useRef)();
    const enable_create_db = [model/* NodeType */.Z6.data, model/* NodeType */.Z6.single].includes(node_type);
    const [refresh_spin, set_refresh_spin] = (0,external_React_.useState)(false);
    model_shell.refresh_db = (0,external_React_.useCallback)(async () => {
        try {
            set_refresh_spin(true);
            const promise = (0,utils_browser/* delay */.cb)(1000);
            await model_shell.load_dbs();
            set_expanded_keys([]);
            set_loaded_keys([]);
            await promise;
        }
        catch (error) {
            model/* model */.ge.show_error({ error });
            throw error;
        }
        finally {
            set_refresh_spin(false);
        }
    }, []);
    return (0,jsx_runtime.jsx)(Resizable, { className: 'treeview-resizable-split1', enable: {
            top: false,
            right: false,
            bottom: true,
            left: false,
            topRight: false,
            bottomRight: false,
            bottomLeft: false,
            topLeft: false
        }, minHeight: '22px', handleStyles: { bottom: { height: 20, bottom: -10 } }, handleClasses: { bottom: 'resizable-handle' }, 
        // 这个 Resizable 包括 TitleBar 和 TreeContent, TitleBar 占 27px 高度
        defaultSize: { height: 256 + 27, width: '100%' }, onResizeStop: (event, direction, elementRef, delta) => {
            set_db_height(db_height + delta.height);
        }, children: (0,jsx_runtime.jsx)("div", { className: 'panel', children: (0,jsx_runtime.jsxs)("div", { className: 'database-panel', children: [(0,jsx_runtime.jsxs)("div", { className: 'type', children: [(0,i18n.t)('数据库'), (0,jsx_runtime.jsxs)("span", { className: 'extra', children: [(0,jsx_runtime.jsx)("span", { onClick: () => {
                                            if (enable_create_db)
                                                model_shell.set({ create_database_modal_visible: true });
                                        }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: enable_create_db ? (0,i18n.t)('创建数据库') : (0,i18n.t)('仅支持单机节点和数据节点创建数据库'), color: 'grey', children: (0,jsx_runtime.jsx)((external_icons_default()), { className: classnames_default()('create-database-icon', { disabled: !enable_create_db }), disabled: !enable_create_db, component: create_database_icon }) }) }), (0,jsx_runtime.jsx)("span", { onClick: model_shell.refresh_db, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('刷新'), color: 'grey', children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SyncOutlined, { spin: refresh_spin }) }) }), (0,jsx_runtime.jsx)("span", { onClick: () => { set_expanded_keys([]); }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('全部折叠'), color: 'grey', children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.MinusSquareOutlined, {}) }) })] })] }), (logined || dbs?.length) ?
                        (model/* model */.ge.has_data_and_computing_nodes_alive() || node.mode === model/* NodeType */.Z6.single) ?
                            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tree, { className: 'database-tree', showIcon: true, focusable: false, blockNode: true, showLine: true, 
                                // 启用虚拟滚动
                                height: db_height, treeData: dbs, loadedKeys: loaded_keys, loadData: async (node) => {
                                    try {
                                        switch (node.type) {
                                            case 'column-root':
                                            case 'partition-root':
                                            case 'partition-directory':
                                            case 'table':
                                                await node.self.load_children();
                                                model_shell.set({ dbs: [...dbs] });
                                                break;
                                        }
                                    }
                                    catch (error) {
                                        model/* model */.ge.show_error({ error });
                                        // 这里不往上扔错误，避免 rc-tree 自动重试造成多个错误弹窗
                                    }
                                }, onLoad: keys => { set_loaded_keys(keys); }, expandedKeys: expanded_keys, onExpand: keys => { set_expanded_keys(keys); }, onClick: async (event, { self: node, type }) => {
                                    const previous = previous_clicked_node.current;
                                    if (previous && previous.key !== node.key && previous.type === 'table')
                                        previous.peeked = false;
                                    switch (type) {
                                        case 'database-group':
                                        case 'partition-root':
                                        case 'column-root':
                                        case 'partition-directory': {
                                            // 切换展开状态
                                            let found = false;
                                            let keys_ = [];
                                            for (const key of expanded_keys)
                                                if (key === node.key)
                                                    found = true;
                                                else
                                                    keys_.push(key);
                                            if (!found)
                                                keys_.push(node.key);
                                            set_expanded_keys(keys_);
                                            break;
                                        }
                                        case 'database': {
                                            // 切换展开状态
                                            let found = false;
                                            let keys_ = [];
                                            for (const key of expanded_keys)
                                                if (key === node.key)
                                                    found = true;
                                                else
                                                    keys_.push(key);
                                            if (!found) {
                                                keys_.push(node.key);
                                                // 显示 schema
                                                await node.inspect();
                                            }
                                            set_expanded_keys(keys_);
                                            break;
                                        }
                                        case 'partition-file':
                                        case 'schema':
                                            await node.inspect();
                                            break;
                                        case 'table': {
                                            // 一个 Table 有两种属性 expanded + peeked，共四种状态。以下代码完成4种状态的流转
                                            let expanded = false;
                                            const { peeked } = node;
                                            let keys_ = [];
                                            for (const key of expanded_keys)
                                                if (key === node.key)
                                                    expanded = true;
                                                else
                                                    keys_.push(key);
                                            if (expanded !== peeked)
                                                keys_.push(node.key);
                                            set_expanded_keys(keys_);
                                            await node.inspect();
                                            node.peeked = true;
                                            break;
                                        }
                                    }
                                    previous_clicked_node.current = node;
                                } })
                            :
                                (0,jsx_runtime.jsxs)("div", { className: 'start-node-to-view', children: [(0,jsx_runtime.jsx)("span", { children: (0,i18n.t)('没有正在运行的数据节点和计算节点') }), (0,jsx_runtime.jsx)("a", { onClick: () => { model/* model */.ge.set({ view: model/* model */.ge.dev || model/* model */.ge.test ? 'overview' : 'overview-old' }); }, children: (0,i18n.t)('去启动节点') })] })
                        :
                            (0,jsx_runtime.jsxs)("div", { className: 'login-to-view', children: [(0,jsx_runtime.jsx)("span", { children: (0,i18n.t)('登录后查看') }), (0,jsx_runtime.jsx)("a", { onClick: () => { model/* model */.ge.goto_login(); }, children: (0,i18n.t)('去登录') })] }), (0,jsx_runtime.jsx)(SetColumnComment, {}), (0,jsx_runtime.jsx)(CreateDatabase, {}), (0,jsx_runtime.jsx)(ConfirmCommand, {})] }) }) });
}
function SetColumnComment() {
    const { current_node, set_column_comment_modal_visible } = model_shell.use(['current_node', 'set_column_comment_modal_visible']);
    const [form] = external_antd_namespaceObject.Form.useForm();
    (0,external_React_.useEffect)(() => {
        if (current_node?.type === 'column')
            form.setFieldsValue({ comment: current_node.comment });
    }, [current_node]);
    if (!current_node)
        return;
    let { name, root } = current_node;
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'db-modal', open: set_column_comment_modal_visible, onCancel: () => { model_shell.set({ set_column_comment_modal_visible: false }); }, title: (0,i18n.t)('设置注释'), children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { labelWrap: true, name: 'edit-comment', onFinish: async ({ comment }) => {
                await model_shell.define_set_column_comment();
                await model/* model */.ge.ddb.call('set_column_comment', [
                    root.table.db.path.slice(0, -1),
                    root.table.name,
                    name,
                    comment
                ]);
                model/* model */.ge.message.success((0,i18n.t)('设置注释成功'));
                root.children = null;
                root.table.schema = null;
                await root.load_children();
                model_shell.set({ dbs: [...model_shell.dbs] });
                form.resetFields();
                model_shell.set({ set_column_comment_modal_visible: false });
            }, labelCol: { span: 4 }, wrapperCol: { span: 20 }, className: 'db-modal-form', form: form, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('注释'), name: 'comment', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form.Item, { className: 'db-modal-content-button-group', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', htmlType: 'submit', children: (0,i18n.t)('确定') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { htmlType: 'button', onClick: () => {
                                form.resetFields();
                                model_shell.set({ set_column_comment_modal_visible: false });
                            }, children: (0,i18n.t)('取消') })] })] }) });
}
function ConfirmCommand() {
    const { generated_command, confirm_command_modal_visible } = model_shell.use(['generated_command', 'confirm_command_modal_visible']);
    const [form] = external_antd_namespaceObject.Form.useForm();
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'db-modal', width: '960px', open: confirm_command_modal_visible, onCancel: () => { model_shell.set({ confirm_command_modal_visible: false }); }, title: (0,i18n.t)('脚本预览'), children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { labelWrap: true, name: 'confirm-command', onFinish: async () => {
                console.log((0,i18n.t)('创建数据库的脚本:'));
                console.log(generated_command);
                await model/* model */.ge.ddb.eval(generated_command);
                model/* model */.ge.message.success((0,i18n.t)('创建数据库成功'));
                await model_shell.load_dbs();
                model_shell.set({ dbs: [...model_shell.dbs] });
                form.resetFields();
                model_shell.set({ confirm_command_modal_visible: false });
            }, labelCol: { span: 0 }, wrapperCol: { span: 24 }, className: 'db-modal-form', form: form, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { children: (0,jsx_runtime.jsxs)("div", { className: 'confirm-command-code-editor', children: [(0,jsx_runtime.jsx)(Editor_Editor, { value: generated_command, readonly: true, options: {
                                    padding: { top: 8 },
                                    overviewRulerBorder: false,
                                } }), (0,jsx_runtime.jsx)(CopyIconButton_CopyIconButton, { type: 'link', text: generated_command, className: 'confirm-command-code-copy' })] }) }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form.Item, { className: 'db-modal-content-button-group', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', htmlType: 'submit', children: (0,i18n.t)('执行') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { htmlType: 'button', onClick: () => {
                                model_shell.set({ confirm_command_modal_visible: false, create_database_modal_visible: true });
                            }, children: (0,i18n.t)('上一步') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { htmlType: 'button', onClick: () => {
                                form.resetFields();
                                model_shell.set({ confirm_command_modal_visible: false });
                            }, children: (0,i18n.t)('取消') })] })] }) });
}
function CreateDatabase() {
    const { create_database_modal_visible, create_database_partition_count } = model_shell.use(['create_database_modal_visible', 'create_database_partition_count']);
    const { node_type, node, v2, v3 } = model/* model */.ge.use(['node_type', 'node', 'v2', 'v3']);
    const [form] = external_antd_namespaceObject.Form.useForm();
    // We just assume this is always turned on in dolphindb.cfg
    const enableChunkGranularityConfig = true;
    const shouldRunOnCurrNode = node_type === model/* NodeType */.Z6.data || node_type === model/* NodeType */.Z6.single;
    let runOnNode = node.name;
    // @TODO: not supported until we have support for running SQL statements inside anonymous function
    // if (!shouldRunOnCurrNode)
    //     runOnNode = datanode.name
    // fix forget to pass form prop warning
    // https://github.com/ant-design/ant-design/issues/21543#issuecomment-1183205379
    // 不进行清空操作，则返回上一步时保存填写内容
    // useEffect(() => {
    //     if (create_database_modal_visible)
    //         form.setFieldValue('partitions', [ ])
    // }, [create_database_modal_visible])
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'db-modal show-required', width: '960px', open: create_database_modal_visible, onCancel: () => { model_shell.set({ create_database_modal_visible: false }); }, title: (0,jsx_runtime.jsxs)("div", { children: [(0,i18n.t)('创建数据库'), (0,jsx_runtime.jsx)("a", { className: 'db-modal-link', target: '_blank', href: i18n/* language */.BH === 'zh'
                        ? 'https://docs.dolphindb.cn/zh/funcs/d/database.html'
                        : 'https://docs.dolphindb.com/en/Functions/d/database.html', children: (0,i18n.t)('参考教程') })] }), children: shouldRunOnCurrNode &&
            (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { className: 'db-modal-form', name: 'create-database', labelWrap: true, labelCol: { span: 6 }, wrapperCol: { span: 20 }, form: form, onFinish: async (table) => {
                    // database(directory, [partitionType], [partitionScheme], [locations], [engine=’OLAP’], [atomic=’TRANS’], [chunkGranularity=’TABLE’])
                    const partitionCount = Number(table.partitionCount);
                    if (Number.isNaN(partitionCount) || partitionCount < 1 || partitionCount > 3) {
                        model/* model */.ge.message.error((0,i18n.t)('分区层级必须在1-3之间'));
                        return;
                    }
                    let createDBScript;
                    /* // disabled for now. generate SQL commands instead
                    if (partitionCount <= 1) {
                        // for single partition scheme, we can create database directly in one line
                        createDBScript = `database(directory="dfs://${table.dbPath}", partitionType=${table.firstPartitionType}, partitionScheme=${table.firstPartitionScheme}, `
                        
                        if (table.partitionLocation)
                            createDBScript += `locations=${table.partitionLocation}, `
                        
                        createDBScript += `engine="${table.storageEngine}", atomic="${table.atomicLevel}"`
                        
                        if (enableChunkGranularityConfig)
                            createDBScript += `, chunkGranularity="${table.chunkGranularity}"`
                        
                        createDBScript += ');'
                    } else {
                        // for multiple partition scheme, we need to create multiple databases and then combine them into one,
                        // using the COMPO partition scheme
                        const scripts: string[] = []
                        
                        for (let i = 0; i < partitionCount; i++) {
                            const prefix = (['first', 'second', 'third'] as const)[i]
                            const type = table[`${prefix}PartitionType`]
                            const args = table[`${prefix}PartitionScheme`] || ''
                            
                            // we should not provide dbPath because these are all sub-databases that will be composed later
                            scripts.push(`db${i} = database(, partitionType=${type}, partitionScheme=${args});`)
                        }
                        
                        scripts[scripts.length - 1] += '\n'
                        
                        // instead, we provide dbPath here
                        let createCompoDBScript = `database(directory="dfs://${table.dbPath}", partitionType=COMPO, partitionScheme=[${
                            scripts.map((_, i) => `db${i}`).join(', ')
                        }], `
                        
                        if (table.partitionLocation)
                            createCompoDBScript += `locations=${table.partitionLocation}, `
                        
                        createCompoDBScript += `engine="${table.storageEngine}", atomic="${table.atomicLevel}"`
                        
                        if (enableChunkGranularityConfig)
                            createCompoDBScript += `, chunkGranularity="${table.chunkGranularity}"`
                        
                        createCompoDBScript += ');'
                        
                        scripts.push(createCompoDBScript)
                        
                        createDBScript = scripts.join('\n')
                    }
                    */
                    // create database directory partitioned by partitionType(partitionScheme),[partitionType(partitionScheme),partitionType(partitionScheme)],
                    // [engine='OLAP'], [atomic='TRANS'], [chunkGranularity='TABLE']
                    // we can see that table.partitionLocation is not supported by the above grammar.
                    // NOTE: `partitioned by paritionType(partitionScheme), ...paritionType(partitionScheme)` must be placed in one line, or
                    // the parser will complain about syntax error.
                    createDBScript = `create database "dfs://${table.dbPath}"\npartitioned by `;
                    for (let i = 0; i < partitionCount; i++) {
                        const { type, scheme } = table.partitions[i];
                        createDBScript += `${type}(${scheme}), `;
                    }
                    createDBScript += `\nengine='${table.storageEngine}',\n`;
                    createDBScript += `atomic='${table.atomicLevel}'`;
                    if (enableChunkGranularityConfig)
                        createDBScript += `,\nchunkGranularity='${table.chunkGranularity}'`;
                    // 等后端支持
                    // if (!shouldRunOnCurrNode)
                    //     createDBScript = `rpc("${runOnNode}", def () {\n\n${createDBScript}\n\n});`
                    model_shell.set({
                        generated_command: createDBScript + '\n',
                        create_database_modal_visible: false,
                        confirm_command_modal_visible: true
                    });
                }, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('数据库路径 (directory)'), name: 'dbPath', required: true, rules: [{
                                required: true,
                                validator: async (_, val) => {
                                    if (!val)
                                        throw new TypeError((0,i18n.t)('数据库路径不能为空'));
                                    if (val.includes('"'))
                                        throw new TypeError((0,i18n.t)('数据库路径不能包含双引号'));
                                }
                            }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { addonBefore: 'dfs://', placeholder: (0,i18n.t)('请输入数据库路径') }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('分区层级'), name: 'partitionCount', required: true, initialValue: create_database_partition_count, rules: [{
                                required: true,
                                validator: async (_, val) => {
                                    if (val < 1 || val > 3)
                                        throw new TypeError((0,i18n.t)('分区层级必须在1-3之间'));
                                }
                            }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { placeholder: '1', onChange: (e) => {
                                const level = parseInt(e, 10);
                                if (level < 1 || level > 3 || !level)
                                    return;
                                model_shell.set({ create_database_partition_count: level });
                                if (level < 3)
                                    for (let i = level; i < 3; i++)
                                        form.resetFields([['partitions', i, 'type'], ['partitions', i, 'scheme']]);
                            } }) }), Array.from(new Array(create_database_partition_count), (_, i) => {
                        const i18nIndex = [(0,i18n.t)('一级'), (0,i18n.t)('二级'), (0,i18n.t)('三级')][i];
                        return (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('{{i18nIndex}}分区类型 (partitionType)', { i18nIndex }), name: ['partitions', i, 'type'], required: true, rules: [{
                                            required: true,
                                            validator: async (_, val) => {
                                                if (!val)
                                                    throw new TypeError((0,i18n.t)('分区类型不能为空'));
                                            }
                                        }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { placeholder: (0,i18n.t)('请选择{{i18nIndex}}分区类型', { i18nIndex }), options: [
                                            {
                                                label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('顺序分区。分区方案格式为：整型标量，表示分区的数量。'), children: (0,i18n.t)('顺序分区') + ' (SEQ)' }),
                                                value: 'SEQ',
                                            },
                                            {
                                                label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('范围分区。分区方案格式为：向量，向量的任意两个相邻元素定义分区的范围。'), children: (0,i18n.t)('范围分区') + ' (RANGE)' }),
                                                value: 'RANGE',
                                            },
                                            {
                                                label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('哈希分区。分区方案格式为：元组，第一个元素是分区列的数据类型，第二个元素是分区的数量。'), children: (0,i18n.t)('哈希分区') + ' (HASH)' }),
                                                value: 'HASH',
                                            },
                                            {
                                                label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('值分区。分区方案格式为：向量，向量的每个元素定义了一个分区。'), children: (0,i18n.t)('值分区') + ' (VALUE)' }),
                                                value: 'VALUE',
                                            },
                                            {
                                                label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('列表分区。分区方案格式为：嵌套向量，外层向量的每个元素定义了一个分区。'), children: (0,i18n.t)('列表分区') + ' (LIST)' }),
                                                value: 'LIST',
                                            },
                                        ] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('{{i18nIndex}}分区方案 (partitionScheme)', { i18nIndex }), name: ['partitions', i, 'scheme'], required: true, rules: [{
                                            required: true,
                                            message: (0,i18n.t)('分区方案不能为空')
                                        }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入{{i18nIndex}}分区方案', { i18nIndex }) }) })] }, 'create-db-' + i);
                    }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('存储引擎 (engine)'), name: 'storageEngine', required: true, initialValue: 'OLAP', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { placeholder: (0,i18n.t)('请选择存储引擎'), options: [
                                {
                                    label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('OLAP 引擎。OLAP 数据表的每个列存储为一个文件，数据以追加的方式存储到相应的列文件中，因此，数据写入的顺序决定了它们的存储顺序。'), children: " OLAP " }),
                                    value: 'OLAP',
                                },
                                (v2 || v3) && {
                                    label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('TSDB 引擎。采用经典的 LSMT 模型，引入了排序列以提升在用户查询某个或少数几个设备（股票）在特定时间段数据的场景下的查询性能。'), children: " TSDB " }),
                                    value: 'TSDB',
                                }
                            ].filter(Boolean) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('写入事务原子性 (atomic)'), name: 'atomicLevel', required: true, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { placeholder: (0,i18n.t)('请选择写入事务原子性'), options: [
                                {
                                    label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('写入事务的原子性层级为事务，即一个事务写入多个分区时，若某个分区被其他写入事务锁定而出现写入冲突，则该事务的写入全部失败。因此，该设置下，不允许并发写入同一个分区。'), children: (0,i18n.t)('事务级原子性') + ' (TRANS)' }),
                                    value: 'TRANS',
                                },
                                {
                                    label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('写入事务的原子性层级为分区。若一个事务写入多个分区时，某分区被其它写入事务锁定而出现冲突，系统会完成其他分区的写入，同时对之前发生冲突的分区不断尝试写入，尝试数分钟后仍冲突才放弃。此设置下，允许并发写入同一个分区，但由于不能完全保证事务的原子性，可能出现部分分区写入成功而部分分区写入失败的情况。同时由于采用了重试机制，写入速度可能较慢。'), children: (0,i18n.t)('分区级原子性') + ' (CHUNK)' }),
                                    value: 'CHUNK',
                                }
                            ] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('分区粒度 (chunkGranularity)'), name: 'chunkGranularity', required: true, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { placeholder: (0,i18n.t)('请选择分区粒度'), options: [
                                {
                                    label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('表级分区，设置后支持同时写入同一分区的不同表。'), children: (0,i18n.t)('表级分区') + ' (TABLE)' }),
                                    value: 'TABLE'
                                },
                                {
                                    label: (0,jsx_runtime.jsx)("span", { title: (0,i18n.t)('数据库级分区，设置后只支持同时写入不同分区。'), children: (0,i18n.t)('数据库级分区') + ' (DATABASE)' }),
                                    value: 'DATABASE'
                                }
                            ] }) }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form.Item, { className: 'db-modal-content-button-group', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', htmlType: 'submit', children: (0,i18n.t)('预览') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { htmlType: 'button', onClick: () => {
                                    form.resetFields();
                                    form.setFieldValue('partitions', []);
                                    form.setFieldValue('partitionCount', 1);
                                    model_shell.set({ create_database_partition_count: 1 });
                                }, children: (0,i18n.t)('清空') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { htmlType: 'button', onClick: () => {
                                    model_shell.set({ create_database_modal_visible: false });
                                }, children: (0,i18n.t)('取消') })] })] }) });
}
class DatabaseGroup {
    type = 'database-group';
    self;
    /** 一定以 . 结尾 */
    key;
    title;
    className = 'database-group';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: database_group_icon });
    isLeaf = false;
    children = [];
    constructor(key) {
        this.self = this;
        this.key = key;
        this.title = key.slice('dfs://'.length, -1).split('.').at(-1);
    }
}
class Database {
    type = 'database';
    self;
    key;
    /** 以 dfs:// 开头，以 / 结尾 */
    path;
    title;
    className = 'db';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: database_icon });
    isLeaf = false;
    /** tables */
    children = [];
    schema;
    constructor(path) {
        this.self = this;
        (0,utils_browser/* assert */.vA)(path.startsWith('dfs://'), (0,i18n.t)('数据库路径应该以 dfs:// 开头'));
        this.key = this.path = path;
        // 仅单节点和数据节点可以创建表
        const enable_create_table = [model/* NodeType */.Z6.single, model/* NodeType */.Z6.data].includes(model/* model */.ge.node_type);
        const onclick_create_table = enable_create_table ?
            async (event) => {
                event.stopPropagation();
                const schema = (await this.get_schema()).to_dict();
                await esm.show(CreateTableModal_CreateTableModal, { database: this, schema });
                await model_shell.load_dbs();
                await model_shell.refresh_db();
            }
            :
                event => {
                    event.stopPropagation();
                };
        this.title = (0,jsx_runtime.jsxs)("div", { className: 'database-title', children: [(0,jsx_runtime.jsx)("span", { title: path.slice(0, -1), children: path.slice('dfs://'.length, -1).split('.').at(-1) }), (0,jsx_runtime.jsxs)("div", { className: 'database-actions', children: [model/* model */.ge.admin &&
                            model/* model */.ge.node_type !== model/* NodeType */.Z6.computing &&
                            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('查看用户权限'), color: 'grey', destroyTooltipOnHide: true, children: (0,jsx_runtime.jsx)((external_icons_default()), { component: icons_access_icon, onClick: async (event) => {
                                        event.stopPropagation();
                                        await esm.show(AccessModal_AccessModal, { database: this });
                                    } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: enable_create_table ? (0,i18n.t)('创建数据表') : (0,i18n.t)('仅支持单机节点和数据节点创建数据表'), color: 'grey', destroyTooltipOnHide: true, children: (0,jsx_runtime.jsx)((external_icons_default()), { disabled: !enable_create_table, className: enable_create_table ? '' : 'disabled', component: create_table_icon, onClick: onclick_create_table }) })] })] });
    }
    async get_schema() {
        if (!this.schema) {
            await model_shell.define_load_database_schema();
            this.schema = await model/* model */.ge.ddb.call('load_database_schema', 
            // 调用该函数时，数据库路径不能以 / 结尾
            [this.path.slice(0, -1)], model/* model */.ge.node_type === model/* NodeType */.Z6.controller ? { node: model/* model */.ge.datanode.name, func_type: browser/* DdbFunctionType */.T5.UserDefinedFunc } : {});
        }
        return this.schema;
    }
    async inspect() {
        model_shell.set({
            result: {
                type: 'object',
                data: await this.get_schema()
            }
        });
    }
}
class Databases_Table {
    type = 'table';
    kind;
    self;
    /** 以 / 结尾 */
    key;
    /** 以 dfs:// 开头，以 / 结尾 */
    path;
    name;
    title;
    className = 'table';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: table_icon });
    isLeaf = false;
    peeked = false;
    db;
    children;
    obj;
    schema;
    constructor(db, path) {
        this.self = this;
        this.db = db;
        this.key = this.path = path;
        this.name = path.slice(db.path.length, -1);
        const enable_create_query = [model/* NodeType */.Z6.computing, model/* NodeType */.Z6.single, model/* NodeType */.Z6.data].includes(model/* model */.ge.node_type);
        const create_query = e => {
            e.stopPropagation();
            if (enable_create_query)
                esm.show(QueryGuideModal, { database: this.db.path.slice(0, -1), table: this.name });
            else
                return;
        };
        this.title = (0,jsx_runtime.jsxs)("div", { className: 'table-title', children: [(0,jsx_runtime.jsxs)("span", { children: [" ", path.slice(db.path.length, -1), " "] }), (0,jsx_runtime.jsx)("div", { className: 'table-actions', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: enable_create_query ? (0,i18n.t)('新建查询') : (0,i18n.t)('仅单机节点、数据节点和计算节点支持新建查询'), color: 'grey', children: (0,jsx_runtime.jsx)((external_icons_default()), { disabled: !enable_create_query, className: enable_create_query ? '' : 'disabled', component: query_guide_icon, onClick: create_query }) }) })] });
    }
    async inspect() {
        await model_shell.define_peek_table();
        let obj = await model/* model */.ge.ddb.call('peek_table', [this.db.path.slice(0, -1), this.name], model/* model */.ge.node_type === model/* NodeType */.Z6.controller ? { node: model/* model */.ge.datanode.name, func_type: browser/* DdbFunctionType */.T5.UserDefinedFunc } : {});
        obj.name = `${this.name} (${(0,i18n.t)('前 100 行')})`;
        model_shell.set({ result: { type: 'object', data: obj } });
    }
    async get_schema() {
        if (!this.schema) {
            await model_shell.define_load_table_schema();
            this.schema = await model/* model */.ge.ddb.call(
            // 这个函数在 define_load_schema 中已定义
            'load_table_schema', 
            // 调用该函数时，数据库路径不能以 / 结尾
            [this.db.path.slice(0, -1), this.name], model/* model */.ge.node_type === model/* NodeType */.Z6.controller ? { node: model/* model */.ge.datanode.name, func_type: browser/* DdbFunctionType */.T5.UserDefinedFunc } : {});
        }
        return this.schema;
    }
    async load_children() {
        if (!this.children && !this.kind) {
            this.kind = Number((await this.get_schema())
                .to_dict().partitionColumnIndex.value) < 0 ?
                TableKind.Table
                :
                    TableKind.PartitionedTable;
            this.children = [
                new Schema(this),
                new ColumnRoot(this),
                ...(this.kind === TableKind.Table ? [] : [new PartitionRoot(this)])
            ];
        }
    }
}
class Schema {
    type = 'schema';
    self;
    key;
    title = (0,i18n.t)('结构');
    className = 'schema';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { className: 'schema-icon-color', component: schema_icon });
    isLeaf = true;
    table;
    constructor(table) {
        this.self = this;
        this.table = table;
        this.key = `${table.key}schema`;
    }
    async inspect() {
        model_shell.set({
            result: {
                type: 'object',
                data: await this.table.get_schema()
            }
        });
    }
}
class Column {
    type = 'column';
    self;
    key;
    title;
    className = 'column';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: column_icon });
    isLeaf = true;
    root;
    comment;
    extra;
    name;
    typeInt;
    typeString;
    constructor(root, { comment, extra, name, typeInt, typeString }) {
        this.self = this;
        this.root = root;
        this.key = `${root.table.path}${name}`;
        this.comment = comment;
        this.extra = extra;
        this.name = name;
        this.typeInt = typeInt;
        this.typeString = typeString;
        this.title = (0,jsx_runtime.jsxs)("div", { className: 'column-title', children: [(0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)("span", { className: 'column-name', children: name }), ": ", typeString.toLowerCase(), " ", comment] }), (0,jsx_runtime.jsx)("div", { className: 'edit-comment-button', onClick: event => {
                        model_shell.set({ current_node: this, set_column_comment_modal_visible: true });
                        event.stopPropagation();
                    }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('设置注释'), color: 'grey', children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.EditOutlined, {}) }) })] });
    }
}
class PartitionDirectory {
    type = 'partition-directory';
    self;
    key;
    /** 以 dfs:// 开头，以 / 结尾，如 dfs://A.compo/pt/20170807/0_50/ */
    path;
    name;
    title;
    className = 'partition-directory';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: partition_directory_icon });
    isLeaf = false;
    root;
    parent;
    children;
    chunks;
    constructor(root, parent, path) {
        this.self = this;
        this.parent = parent;
        this.root = root;
        this.path = path;
        // key 需要带上表路径避免重复
        const { table } = root;
        this.key = table.path + path.slice(table.db.path.length);
        // 找到除了最后一个 / 之外的前一个斜杠的位置，开始截取
        this.title = this.name = path.slice(path.lastIndexOf('/', path.length - 2) + 1, -1);
    }
    async load_children() {
        if (!this.children)
            this.children = await model_shell.load_partitions(this.root, this);
    }
}
class PartitionFile {
    type = 'partition-file';
    self;
    key;
    /** 以 dfs:// 开头，不以 / 结尾，如 dfs://A.compo/pt2/20170807/0_50/3xeU */
    path;
    name;
    title;
    className = 'partition-file';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: partition_file_icon });
    isLeaf = true;
    root;
    parent;
    /** 类似 7fd1b1bd-ebf8-f789-764d-8ad76ce38194 这样的 chunk id */
    chunk;
    /** chunk 所在的集群中的节点 alias */
    site_node;
    constructor(root, parent, path, chunk, site_node, name) {
        this.self = this;
        this.parent = parent;
        this.root = root;
        this.path = path;
        // key 需要带上表路径避免重复
        const { table } = root;
        this.key = table.path + path.slice(table.db.path.length);
        this.chunk = chunk;
        // 找到最后一个 / 的位置，从后面开始截取
        this.title = this.name = name || (0,i18n.t)('分区数据');
        this.site_node = site_node;
    }
    async inspect() {
        const { table } = this.root;
        const { db } = table;
        // readTabletChunk(chunkId, dbUrl, chunkPath, tableName, offset, length, [cid=-1])
        // readTabletChunk('cb0a78f4-5a44-e388-c040-9e53cbc041b7', 'dfs://SH_TSDB_entrust', '/SH_TSDB_entrust/20210104/Key0/6Ny', `entrust, 0, 50)
        // 从 site_node 对应的节点读取 chunk
        let obj = await model/* model */.ge.ddb.call('readTabletChunk', [this.chunk, db.path.slice(0, -1), this.path.slice('dfs:/'.length), table.name, new browser/* DdbInt */.yZ(0), new browser/* DdbInt */.yZ(100)], this.site_node !== model/* model */.ge.node_alias ? { node: this.site_node, func_type: browser/* DdbFunctionType */.T5.SystemFunc } : {});
        obj.name = `${this.path.slice(db.path.length, this.path.lastIndexOf('/'))} ${(0,i18n.t)('分区的数据')} (${(0,i18n.t)('前 100 行')})`;
        model_shell.set({ result: { type: 'object', data: obj } });
    }
}
class ColumnRoot {
    type = 'column-root';
    self;
    key;
    title;
    className = 'category';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: column_root_icon });
    isLeaf = false;
    table;
    obj;
    children;
    constructor(table) {
        this.self = this;
        this.table = table;
        this.key = `${table.path}${this.type}/`;
        this.title = (0,jsx_runtime.jsxs)("div", { className: 'column-root-title', children: [(0,i18n.t)('列'), (0,jsx_runtime.jsx)("div", { className: 'add-column-button', onClick: async (event) => {
                        event.stopPropagation();
                        await this.table.db.get_schema();
                        esm.show(AddColumnModal, { node: this });
                    }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('添加列'), color: 'grey', children: (0,jsx_runtime.jsx)((external_icons_default()), { component: add_column_icon }) }) })] });
    }
    async load_children() {
        if (!this.children) {
            const schema_coldefs = (await this.table.get_schema()).to_dict()
                .colDefs
                .to_rows();
            this.children = schema_coldefs.map(col => new Column(this, col));
        }
    }
}
class PartitionRoot {
    type = 'partition-root';
    self;
    key;
    path;
    title = (0,i18n.t)('分区');
    className = 'category';
    icon = (0,jsx_runtime.jsx)((external_icons_default()), { component: partitions_icon });
    isLeaf = false;
    table;
    root;
    children;
    constructor(table) {
        this.self = this;
        this.root = this;
        this.table = table;
        this.key = `${table.path}${this.type}/`;
        this.path = table.db.path;
    }
    async load_children() {
        if (!this.children) {
            const table_names_set = new Set(this.table.db.children.map(({ name }) => name));
            this.children = (await model_shell.load_partitions(this, this)).filter(({ name }) => 
            // 可能会误伤 __表名 这样的分区，原因是不知道表是不是维度表，只能排除所有表
            !(name.startsWith('__') && table_names_set.has(name.slice(2))));
        }
    }
}

;// CONCATENATED MODULE: ./console/shell/icons/variable.icon.svg
var variable_icon_path;
function variable_icon_extends() { variable_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return variable_icon_extends.apply(this, arguments); }

var SvgVariableicon = function SvgVariableicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", variable_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 17 11"
  }, props), variable_icon_path || (variable_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    fillRule: "nonzero",
    d: "M1.214 1.222h2.429V0H.607L0 .611v9.778L.607 11h3.036V9.778H1.214V1.222ZM16.393 0h-3.036v1.222h2.429v8.556h-2.429V11h3.036l.607-.611V.61L16.393 0Zm-3.327 3.141.291.526v3.067l-.364.55L7.529 9.73H6.97L3.934 7.896l-.291-.526V4.314l.364-.562 5.464-2.444h.559l3.036 1.833ZM4.857 6.98l1.822 1.1V6.453l-1.822-1.1V6.98Zm.704-2.628 1.761 1.063 4.117-1.833-1.761-1.063L5.56 4.35ZM7.93 8.226l4.25-1.907V4.608L7.93 6.502v1.724Z"
  })));
};
/* harmony default export */ const variable_icon = (SvgVariableicon);
;// CONCATENATED MODULE: ./console/shell/icons/scalar.icon.svg
var scalar_icon_defs, scalar_icon_g;
function scalar_icon_extends() { scalar_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return scalar_icon_extends.apply(this, arguments); }

var SvgScalaricon = function SvgScalaricon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", scalar_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: "1em",
    height: "1em",
    viewBox: "0 0 13 13"
  }, props), scalar_icon_defs || (scalar_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("path", {
    id: "scalar_icon_svg__a",
    d: "M0 0h13v13H0z"
  }))), scalar_icon_g || (scalar_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/external_React_.createElement("g", null, /*#__PURE__*/external_React_.createElement("mask", {
    id: "scalar_icon_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/external_React_.createElement("use", {
    xlinkHref: "#scalar_icon_svg__a"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M4.825 4.704h-.57a.1.1 0 0 0-.094.067L3.58 6.476c-.063.175-.118.333-.167.483a9.81 9.81 0 0 0-.16-.482L2.664 4.77a.099.099 0 0 0-.094-.067h-.582a.1.1 0 0 0-.093.134l1.14 3.036a.1.1 0 0 0 .093.064h.52a.1.1 0 0 0 .093-.063l1.177-3.036a.1.1 0 0 0-.093-.135ZM7.52 7.11V5.976c0-.378-.082-.684-.245-.908-.209-.287-.543-.433-.994-.433-.384 0-.763.104-1.04.286a.1.1 0 0 0-.04.115l.125.364a.099.099 0 0 0 .148.05c.2-.13.472-.209.726-.209.38 0 .57.186.582.567-.693.01-1.197.167-1.5.468-.2.2-.302.455-.302.76a.97.97 0 0 0 .257.669c.187.198.449.302.76.302.33 0 .639-.121.86-.333l.02.176a.1.1 0 0 0 .098.088h.496a.1.1 0 0 0 .097-.117 4.157 4.157 0 0 1-.048-.71Zm-.725-.723v.429a.48.48 0 0 1-.026.144.651.651 0 0 1-.63.44c-.26 0-.415-.16-.415-.427 0-.142.044-.253.133-.34.165-.163.48-.245.938-.246Zm3.01-1.731a.68.68 0 0 0-.179-.022.94.94 0 0 0-.766.417L8.852 4.8a.1.1 0 0 0-.1-.096h-.476a.1.1 0 0 0-.1.106c.018.258.025.548.025.94v2.09a.1.1 0 0 0 .1.098h.538a.1.1 0 0 0 .1-.099V6.221c0-.087.012-.17.023-.24.07-.386.312-.627.633-.627.064 0 .113.005.164.017a.099.099 0 0 0 .121-.097v-.52a.098.098 0 0 0-.074-.097Z",
    mask: "url(#scalar_icon_svg__b)"
  }), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M11.758 13H1.24a1.244 1.244 0 0 1-1.242-1.242V1.24C-.001.557.556 0 1.24 0h10.517C12.443 0 13 .557 13 1.241v10.517c0 .685-.557 1.242-1.242 1.242ZM1.24.827a.414.414 0 0 0-.414.414v10.517c0 .228.186.414.414.414h10.517a.414.414 0 0 0 .414-.414V1.24a.414.414 0 0 0-.414-.414H1.24Z",
    mask: "url(#scalar_icon_svg__b)"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M9.137 10.4h-6.14c-.22 0-.397-.194-.397-.433 0-.24.177-.434.396-.434h6.141c.219 0 .396.194.396.434s-.177.433-.396.433Z"
  }))));
};
/* harmony default export */ const scalar_icon = (SvgScalaricon);
;// CONCATENATED MODULE: ./console/shell/icons/vector.icon.svg
var vector_icon_g;
function vector_icon_extends() { vector_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return vector_icon_extends.apply(this, arguments); }

var SvgVectoricon = function SvgVectoricon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", vector_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 15 13"
  }, props), vector_icon_g || (vector_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd",
    stroke: "#3760F0",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.2
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "M4.457.6h-3v11h3M10.457.6h3v11h-3"
  }))));
};
/* harmony default export */ const vector_icon = (SvgVectoricon);
;// CONCATENATED MODULE: ./console/shell/icons/pair.icon.svg
var pair_icon_g;
function pair_icon_extends() { pair_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return pair_icon_extends.apply(this, arguments); }

var SvgPairicon = function SvgPairicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", pair_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 14 11"
  }, props), pair_icon_g || (pair_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M1.687 9.418h4.9a.545.545 0 1 1 0 1.091H.728a.2.2 0 0 1-.2-.2V.991a.3.3 0 0 1 .3-.3h5.757a.545.545 0 0 1 0 1.09h-4.9v7.637Zm6.217 1.091H9.16V9.42H7.904a.545.545 0 1 0 0 1.09Zm1.998 0h1.584V9.42H9.902v1.09Zm2.173 0h1.187a.2.2 0 0 0 .2-.2v-.89h-1.387v1.09Zm0-3.818h1.387V5.6h-1.387v1.09Zm0 1.636h1.387v-1.09h-1.387v1.09Zm0-3.272h1.387V3.964h-1.387v1.09Zm0-1.637h1.387v-1.09h-1.387v1.09Zm0-1.636h1.387V.89a.2.2 0 0 0-.2-.2h-1.187v1.09Zm-2.173 0h1.584V.69H9.902v1.09Zm-1.998 0H9.16V.69H7.904a.545.545 0 0 0 0 1.09Z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    stroke: "#3760F0",
    strokeLinecap: "round",
    strokeWidth: 1.2,
    d: "M7.132 1.38V9.75"
  }))));
};
/* harmony default export */ const pair_icon = (SvgPairicon);
;// CONCATENATED MODULE: ./console/shell/icons/matrix.icon.svg
var matrix_icon_g;
function matrix_icon_extends() { matrix_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return matrix_icon_extends.apply(this, arguments); }

var SvgMatrixicon = function SvgMatrixicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", matrix_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 15 14"
  }, props), matrix_icon_g || (matrix_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/external_React_.createElement("g", {
    fill: "#3760F0",
    transform: "translate(4.124 3.267)"
  }, /*#__PURE__*/external_React_.createElement("circle", {
    cx: 0.667,
    cy: 0.667,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 0.667,
    cy: 3.333,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 0.667,
    cy: 6,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 3.333,
    cy: 0.667,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 3.333,
    cy: 3.333,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 3.333,
    cy: 6,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 6,
    cy: 0.667,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 6,
    cy: 3.333,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 6,
    cy: 6,
    r: 1
  })), /*#__PURE__*/external_React_.createElement("path", {
    stroke: "#3760F0",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: 1.2,
    d: "M3.457.6h-2v12h2M11.457.6h2v12h-2"
  }))));
};
/* harmony default export */ const matrix_icon = (SvgMatrixicon);
;// CONCATENATED MODULE: ./console/shell/icons/set.icon.svg
var set_icon_g;
function set_icon_extends() { set_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return set_icon_extends.apply(this, arguments); }

var SvgSeticon = function SvgSeticon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", set_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 16 12"
  }, props), set_icon_g || (set_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "#3760F0",
    fillRule: "evenodd"
  }, /*#__PURE__*/external_React_.createElement("g", {
    fillRule: "nonzero"
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "M3.8.6c-.549 0-.966.165-1.253.518-.262.318-.393.742-.393 1.284v2.143c0 .33-.072.577-.215.742-.167.165-.465.271-.883.307-.418.035-.418.989 0 1.012.418.024.716.13.883.318.143.142.215.39.215.73V9.81c0 .53.131.954.393 1.272.287.341.704.518 1.253.518h.43a.512.512 0 0 0 0-1.025H4.04c-.43 0-.644-.247-.644-.718V7.584c0-.707-.346-1.201-1.038-1.484.692-.247 1.038-.742 1.038-1.484V2.355c0-.495.214-.73.644-.73h.192A.512.512 0 0 0 4.23.6H3.8ZM11.41 1.112c0 .283.229.513.512.513h.19c.428 0 .643.235.643.73v2.261c0 .742.345 1.237 1.035 1.484-.69.283-1.035.777-1.035 1.484v2.273c0 .471-.215.718-.643.718h-.19a.512.512 0 1 0 0 1.025h.428c.536 0 .952-.177 1.25-.518.262-.318.393-.742.393-1.272V7.655c0-.342.071-.59.214-.73.167-.189.453-.295.881-.319.429-.023.429-.977 0-1.012-.428-.036-.714-.13-.869-.295-.155-.165-.226-.424-.226-.754V2.402c0-.542-.131-.966-.393-1.284C13.302.765 12.886.6 12.35.6h-.428a.512.512 0 0 0-.512.512Z"
  })), /*#__PURE__*/external_React_.createElement("g", {
    transform: "translate(4.66 5.267)"
  }, /*#__PURE__*/external_React_.createElement("circle", {
    cx: 0.75,
    cy: 0.75,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 3.417,
    cy: 0.75,
    r: 1
  }), /*#__PURE__*/external_React_.createElement("circle", {
    cx: 6.083,
    cy: 0.75,
    r: 1
  })))));
};
/* harmony default export */ const set_icon = (SvgSeticon);
;// CONCATENATED MODULE: ./console/shell/icons/dict.icon.svg
var dict_icon_path;
function dict_icon_extends() { dict_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return dict_icon_extends.apply(this, arguments); }

var SvgDicticon = function SvgDicticon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", dict_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 14 11"
  }, props), dict_icon_path || (dict_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    fillRule: "evenodd",
    d: "M3.125 2.2c0-.607.56-1.1 1.25-1.1C4.72 1.1 5 .854 5 .55 5 .246 4.72 0 4.375 0c-1.38 0-2.5.985-2.5 2.2v1.65c0 .292-.132.572-.366.778a1.342 1.342 0 0 1-.884.322.645.645 0 0 0-.541.275.493.493 0 0 0 0 .55c.111.17.318.275.541.275.331 0 .65.116.884.322.234.206.366.486.366.778V8.8c0 1.215 1.12 2.2 2.5 2.2.345 0 .625-.246.625-.55 0-.304-.28-.55-.625-.55-.332 0-.65-.116-.884-.322a1.038 1.038 0 0 1-.366-.778V7.15c-.004-.634-.318-1.235-.863-1.65.545-.415.859-1.016.863-1.65V2.2Zm10.25 2.75c-.332 0-.65-.116-.884-.322a1.038 1.038 0 0 1-.366-.778V2.2c0-1.215-1.12-2.2-2.5-2.2C9.28 0 9 .246 9 .55c0 .304.28.55.625.55.332 0 .65.116.884.322.234.206.366.486.366.778v1.65c.004.634.318 1.235.863 1.65-.545.415-.859 1.016-.863 1.65V8.8c0 .292-.132.571-.366.778a1.342 1.342 0 0 1-.884.322c-.345 0-.625.246-.625.55 0 .304.28.55.625.55 1.38 0 2.5-.985 2.5-2.2V7.15c0-.292.132-.572.366-.778.235-.206.552-.322.884-.322.223 0 .43-.105.541-.275a.493.493 0 0 0 0-.55.645.645 0 0 0-.541-.275Z"
  })));
};
/* harmony default export */ const dict_icon = (SvgDicticon);
;// CONCATENATED MODULE: ./console/shell/icons/chart.icon.svg
var chart_icon_g;
function chart_icon_extends() { chart_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return chart_icon_extends.apply(this, arguments); }

var SvgCharticon = function SvgCharticon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", chart_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    viewBox: "0 0 14 14"
  }, props), chart_icon_g || (chart_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "#3760F0",
    fillRule: "evenodd",
    stroke: "#3760F0",
    strokeWidth: 0.3
  }, /*#__PURE__*/external_React_.createElement("path", {
    d: "M3.706 8.028v2.51a.41.41 0 1 0 .82 0v-2.51a.41.41 0 0 0-.82 0ZM3.1 5.618l3.387-2.38L8.48 5.413c.031.033.067.06.107.082h.36a.437.437 0 0 0 .124-.057l3.518-2.46a.443.443 0 0 0-.451-.64l-3.28 2.271-2.002-2.271a.443.443 0 0 0-.574 0 .427.427 0 0 0-.114 0L2.59 4.797a.483.483 0 0 0 .508.82Zm3.051.688v4.232a.41.41 0 0 0 .82 0V6.306a.41.41 0 0 0-.82 0Zm4.88 0v4.232a.41.41 0 1 0 .82 0V6.306a.41.41 0 0 0-.82 0ZM8.594 8.028v2.51a.41.41 0 1 0 .82 0v-2.51a.41.41 0 1 0-.82 0Z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    d: "M13.203 12.178H3.012c-.906 0-1.192-.324-1.192-1.23V1.41a.41.41 0 0 0-.82 0v9.538c0 .653-.052 1.179.41 1.64.461.462.95.41 1.602.41h10.191a.41.41 0 0 0 0-.82Z"
  }))));
};
/* harmony default export */ const chart_icon = (SvgCharticon);
;// CONCATENATED MODULE: ./console/shell/icons/object.icon.svg
var object_icon_defs, object_icon_g;
function object_icon_extends() { object_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return object_icon_extends.apply(this, arguments); }

var SvgObjecticon = function SvgObjecticon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", object_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: "1em",
    height: "1em",
    viewBox: "0 0 13 13"
  }, props), object_icon_defs || (object_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("path", {
    id: "object_icon_svg__a",
    d: "M0 0h13v13H0z"
  }), /*#__PURE__*/external_React_.createElement("path", {
    id: "object_icon_svg__c",
    d: "M0 0h.938v.938H0z"
  }))), object_icon_g || (object_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd"
  }, /*#__PURE__*/external_React_.createElement("g", null, /*#__PURE__*/external_React_.createElement("mask", {
    id: "object_icon_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/external_React_.createElement("use", {
    xlinkHref: "#object_icon_svg__a"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M11.758 13H1.24a1.244 1.244 0 0 1-1.242-1.242V1.24C-.001.557.556 0 1.24 0h10.517C12.443 0 13 .557 13 1.241v10.517c0 .685-.557 1.242-1.242 1.242ZM1.24.827a.414.414 0 0 0-.414.414v10.517c0 .228.186.414.414.414h10.517a.414.414 0 0 0 .414-.414V1.24a.414.414 0 0 0-.414-.414H1.24Z",
    mask: "url(#object_icon_svg__b)"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M9.137 10.4h-6.14c-.22 0-.397-.194-.397-.433 0-.24.177-.434.396-.434h6.141c.219 0 .396.194.396.434s-.177.433-.396.433ZM9.497 6.415V7.93c0 .145-.021.29-.057.43-.08.319-.291.49-.592.558-.232.052-.468.06-.704.057-.033 0-.05-.01-.05-.048v-.521c0-.04.017-.047.05-.045a1.03 1.03 0 0 0 .25-.017c.264-.049.39-.207.39-.49-.001-.631-.005-1.263-.007-1.895-.002-.378-.002-.756-.005-1.134 0-.053.016-.069.066-.068.196.002.39.003.586 0 .061-.002.076.019.076.08-.002.526-.001 1.052-.001 1.578h-.002"
  }), /*#__PURE__*/external_React_.createElement("g", {
    transform: "translate(8.563 3.35)"
  }, /*#__PURE__*/external_React_.createElement("mask", {
    id: "object_icon_svg__d",
    fill: "#fff"
  }, /*#__PURE__*/external_React_.createElement("use", {
    xlinkHref: "#object_icon_svg__c"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M.458.937C.18.935-.002.74 0 .447.002.184.196 0 .468 0 .75.001.94.192.938.472a.454.454 0 0 1-.48.465",
    mask: "url(#object_icon_svg__d)"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "#3760F0",
    d: "M7.19 7.01c-.104.258-.285.384-.547.382-.226-.002-.418-.14-.501-.391-.122-.368-.12-.74.017-1.104.077-.204.227-.335.457-.348a.533.533 0 0 1 .531.295c.11.197.13.41.132.605 0 .207-.02.389-.089.561m.784-1.267c-.12-.39-.37-.68-.781-.788-.378-.1-.746-.1-1.026.24-.026.03-.057.032-.088.008-.029-.022-.025-.054-.025-.085 0-.408-.001-.815.001-1.223 0-.06-.018-.077-.077-.076a16.25 16.25 0 0 1-.613 0c-.067-.002-.084.018-.084.084.003.667.002 1.334.002 2.002 0 .667 0 1.335-.002 2.002 0 .06.013.083.079.081.17-.005.341-.001.512-.001.181 0 .181 0 .182-.184v-.007c0-.038-.005-.08.042-.096.046-.016.07.015.096.045.11.13.241.225.41.263.473.105 1.006-.063 1.276-.597.27-.536.268-1.104.096-1.668M3.963 6.949c-.15.4-.587.544-.904.296a.711.711 0 0 1-.258-.473c-.045-.295-.056-.59.032-.88.135-.442.594-.606.932-.334.153.123.224.298.256.492.019.11.024.222.023.335 0 .192-.014.383-.081.564m.79-1.095c-.11-.468-.358-.819-.796-.998a1.45 1.45 0 0 0-.77-.081c-.5.072-.87.34-1.06.84-.145.38-.151.777-.092 1.176.046.311.152.597.367.824.35.373.784.474 1.261.4.477-.074.812-.35 1.003-.813a2.11 2.11 0 0 0 .146-.833 2.004 2.004 0 0 0-.058-.515"
  }))));
};
/* harmony default export */ const object_icon = (SvgObjecticon);
;// CONCATENATED MODULE: ./console/shell/Variables.tsx




















function Variables({ shared }) {
    const { vars } = model_shell.use(['vars']);
    const [expanded_keys, set_expanded_keys] = (0,external_React_.useState)(Array(9).fill(0).map((_x, i) => String(i)));
    const vars_ = vars ? vars.filter(v => {
        return v.shared === shared;
    }) : [];
    let scalar = new TreeDataItem({ title: 'scalar', key: '0', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: scalar_icon }) });
    let vector = new TreeDataItem({ title: 'vector', key: '1', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: vector_icon }) });
    let pair = new TreeDataItem({ title: 'pair', key: '2', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: pair_icon }) });
    let matrix = new TreeDataItem({ title: 'matrix', key: '3', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: matrix_icon }) });
    let set = new TreeDataItem({ title: 'set', key: '4', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: set_icon }) });
    let dict = new TreeDataItem({ title: 'dict', key: '5', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: dict_icon }) });
    let table = new TreeDataItem({ title: 'table', key: '6', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: table_icon }) });
    let chart = new TreeDataItem({ title: 'chart', key: '7', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: chart_icon }) });
    let object = new TreeDataItem({ title: 'object', key: '8', icon: (0,jsx_runtime.jsx)((external_icons_default()), { component: object_icon }) });
    let scalars = [];
    let vectors = [];
    let pairs = [];
    let matrixs = [];
    let sets = [];
    let dicts = [];
    let tables = [];
    let charts = [];
    let objects = [];
    for (const v of vars_)
        switch (v.form) {
            case browser/* DdbForm */.Dm.scalar:
                scalars.push(new TreeDataItem({ title: v.label, key: v.name }));
                scalar.children = scalars;
                break;
            case browser/* DdbForm */.Dm.vector:
                vectors.push(new TreeDataItem({ title: v.label, key: v.name }));
                vector.children = vectors;
                break;
            case browser/* DdbForm */.Dm.pair:
                pairs.push(new TreeDataItem({ title: v.label, key: v.name }));
                pair.children = pairs;
                break;
            case browser/* DdbForm */.Dm.matrix:
                matrixs.push(new TreeDataItem({ title: v.label, key: v.name }));
                matrix.children = matrixs;
                break;
            case browser/* DdbForm */.Dm.set:
                sets.push(new TreeDataItem({ title: v.label, key: v.name }));
                set.children = sets;
                break;
            case browser/* DdbForm */.Dm.dict:
                dicts.push(new TreeDataItem({ title: v.label, key: v.name }));
                dict.children = dicts;
                break;
            case browser/* DdbForm */.Dm.table:
                tables.push(new TreeDataItem({ title: v.label, key: v.name, suffix: (0,jsx_runtime.jsx)(SuffixIcon, { name: v.name }) }));
                table.children = tables;
                break;
            case browser/* DdbForm */.Dm.chart:
                charts.push(new TreeDataItem({ title: v.label, key: v.name }));
                chart.children = charts;
                break;
            case browser/* DdbForm */.Dm.object:
                objects.push(new TreeDataItem({ title: v.label, key: v.name }));
                object.children = objects;
                break;
        }
    return (0,jsx_runtime.jsxs)("div", { className: 'panel', children: [(0,jsx_runtime.jsxs)("div", { className: 'type', children: [shared ? (0,i18n.t)('共享变量') : (0,i18n.t)('本地变量'), (0,jsx_runtime.jsx)("span", { onClick: () => { set_expanded_keys([]); }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('全部折叠'), color: 'grey', children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.MinusSquareOutlined, {}) }) })] }), (0,jsx_runtime.jsx)("div", { className: 'tree-content', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tree, { showIcon: true, defaultExpandAll: true, focusable: false, blockNode: true, showLine: true, motion: null, treeData: [scalar, object, pair, vector, set, dict, matrix, table, chart].filter(node => node.children), expandedKeys: expanded_keys, onExpand: (keys) => { set_expanded_keys(keys); }, expandAction: 'click', onClick: (event, { key }) => {
                        if (!key)
                            return;
                        const v = vars.find(node => node.name === key);
                        if (!v)
                            return;
                        if (v.form === browser/* DdbForm */.Dm.chart ||
                            v.form === browser/* DdbForm */.Dm.dict ||
                            v.form === browser/* DdbForm */.Dm.matrix ||
                            v.form === browser/* DdbForm */.Dm.set ||
                            v.form === browser/* DdbForm */.Dm.table ||
                            v.form === browser/* DdbForm */.Dm.vector)
                            model_shell.set({
                                result: v.obj ? {
                                    type: 'object',
                                    data: v.obj
                                } : {
                                    type: 'objref',
                                    data: new DdbObjRef(v)
                                }
                            });
                    } }) })] });
}
class DdbVar {
    static size_limit = 10240n;
    label;
    shared;
    type;
    name;
    form;
    rows;
    cols;
    bytes;
    tooltip;
    obj;
    options;
    constructor(data) {
        Object.assign(this, data);
        this.label = (() => {
            const tname = browser/* DdbType */.Z2[this.type];
            const type = (() => {
                switch (this.form) {
                    case browser/* DdbForm */.Dm.scalar:
                        if (this.type === browser/* DdbType */.Z2.functiondef)
                            return `<functiondef<${browser/* DdbFunctionType */.T5[this.obj.value.type]}>>`;
                        return `<${tname}>`;
                    case browser/* DdbForm */.Dm.pair:
                        return `<${tname}>`;
                    case browser/* DdbForm */.Dm.vector:
                        return `<${64 <= this.type && this.type < 128 ? `${browser/* DdbType */.Z2[this.type - 64]}[]` : tname}> ${this.rows} rows`;
                    case browser/* DdbForm */.Dm.set:
                        return `<${tname}> ${this.rows} keys`;
                    case browser/* DdbForm */.Dm.table:
                        return ` ${this.rows}r × ${this.cols}c`;
                    case browser/* DdbForm */.Dm.dict:
                        return ` ${this.rows} keys`;
                    case browser/* DdbForm */.Dm.matrix:
                        return `<${tname}> ${this.rows}r × ${this.cols}c`;
                    case browser/* DdbForm */.Dm.object:
                        return '';
                    default:
                        return ` ${browser/* DdbForm */.Dm[this.form]} ${tname}`;
                }
            })();
            const value = (() => {
                switch (this.form) {
                    case browser/* DdbForm */.Dm.scalar:
                        return ' = ' + (0,browser/* format */.GP)(this.type, this.obj.value, this.obj.le, { ...this.options, quote: true, nullstr: true });
                    // 类似 DdbObj[inspect.custom] 中 format data 的逻辑
                    case browser/* DdbForm */.Dm.pair: {
                        function format_array(items, ellipsis) {
                            const str_items = items.join(', ') + (ellipsis ? ', ...' : '');
                            return str_items.bracket('square');
                        }
                        switch (this.type) {
                            case browser/* DdbType */.Z2.uuid:
                            case browser/* DdbType */.Z2.int128:
                            case browser/* DdbType */.Z2.ipaddr: {
                                const limit = 10;
                                const value = this.obj.value;
                                const len_data = value.length / 16;
                                let items = new Array(Math.min(limit, len_data));
                                const options = { ...this.options, quote: true, nullstr: true };
                                for (let i = 0; i < items.length; i++)
                                    items[i] = (0,browser/* format */.GP)(this.type, value.subarray(16 * i, 16 * (i + 1)), this.obj.le, options);
                                return ' = ' + format_array(items, len_data > limit);
                            }
                            case browser/* DdbType */.Z2.complex:
                            case browser/* DdbType */.Z2.point: {
                                const limit = 20;
                                const value = this.obj.value;
                                const len_data = value.length / 2;
                                let items = new Array(Math.min(limit, len_data));
                                const options = { ...this.options, quote: true, nullstr: true };
                                for (let i = 0; i < items.length; i++)
                                    items[i] = (0,browser/* format */.GP)(this.type, value.subarray(2 * i, 2 * (i + 1)), this.obj.le, options);
                                return ' = ' + format_array(items, len_data > limit);
                            }
                            case browser/* DdbType */.Z2.decimal32:
                            case browser/* DdbType */.Z2.decimal64:
                            case browser/* DdbType */.Z2.decimal128: {
                                const limit = 20;
                                const value = this.obj.value;
                                const len_data = value.data.length;
                                let items = new Array(Math.min(limit, len_data));
                                const options = { ...this.options, quote: true, nullstr: true };
                                for (let i = 0; i < items.length; i++)
                                    items[i] = (0,browser/* formati */.F2)(this.obj, i, options);
                                return ' = ' + format_array(items, len_data > limit);
                            }
                            default: {
                                const limit = 50;
                                let items = new Array(Math.min(limit, this.obj.value.length));
                                const options = { ...this.options, quote: true, nullstr: true };
                                for (let i = 0; i < items.length; i++)
                                    items[i] = (0,browser/* format */.GP)(this.type, this.obj.value[i], this.obj.le, options);
                                return ' = ' + format_array(items, this.obj.value.length > limit);
                            }
                        }
                    }
                    case browser/* DdbForm */.Dm.object:
                        return '';
                    default:
                        return ` [${Number(this.bytes).to_fsize_str().replace(' ', '')}]`;
                }
            })();
            return this.name + type + value;
        })();
    }
}
class TreeDataItem {
    key;
    className;
    title;
    children;
    icon;
    tooltip;
    isLeaf;
    needLoad;
    constructor({ key, className, title, children, icon, tooltip, isLeaf, needLoad, suffix, }) {
        const name = typeof title === 'string' ? (/^([\w\u4e00-\u9fa5]+)/.exec(title)?.[1] || title) : '';
        this.title = (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: typeof title === 'string' ? ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)("div", { className: 'info', children: [(0,jsx_runtime.jsx)("span", { className: 'name', children: name }), title.slice(name.length)] }), suffix] })) : title });
        this.key = key;
        this.children = children;
        this.icon = icon || (0,jsx_runtime.jsx)((external_icons_default()), { component: variable_icon });
        this.tooltip = tooltip;
        this.isLeaf = isLeaf;
        this.needLoad = needLoad || false;
        this.className = className;
    }
}
function SuffixIcon({ name }) {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { className: 'tooltip', title: (0,i18n.t)('查看表结构'), color: 'grey', children: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'schema-icon', component: schema_icon, onClick: async (event) => {
                event.stopPropagation();
                await model_shell.define_load_table_variable_schema();
                model_shell.set({
                    result: {
                        type: 'object',
                        data: await model/* model */.ge.ddb.call('load_table_variable_schema', [name], model/* model */.ge.node_type === model/* NodeType */.Z6.controller ?
                            { node: model/* model */.ge.datanode.name, func_type: browser/* DdbFunctionType */.T5.UserDefinedFunc }
                            :
                                {})
                    }
                });
            } }) });
}

;// CONCATENATED MODULE: ./console/shell/model.ts










class ShellModel extends react_object_model/* Model */.K {
    term;
    fit_addon;
    monaco;
    editor;
    result;
    vars;
    dbs;
    options;
    executing = false;
    show_executing = false;
    unload_registered = false;
    load_table_schema_defined = false;
    load_table_variable_schema_defined = false;
    load_database_schema_defined = false;
    get_access_defined = false;
    peek_table_defined = false;
    add_column_defined = false;
    set_column_comment_defined = false;
    current_node;
    set_column_comment_modal_visible = false;
    create_database_modal_visible = false;
    create_database_partition_count = 1;
    /** 创建数据库的脚本 */
    generated_command;
    confirm_command_modal_visible = false;
    truncate_text(lines) {
        let i_first_non_empty = null;
        let i_non_empty_end = null;
        for (let i = 0; i < lines.length; i++)
            if (lines[i].trim()) {
                if (i_first_non_empty === null)
                    i_first_non_empty = i;
                i_non_empty_end = i + 1;
            }
        // 未找到非空行
        if (i_first_non_empty === null) {
            i_first_non_empty = 0;
            i_non_empty_end = 0;
        }
        const too_much = i_non_empty_end - i_first_non_empty > 3;
        let lines_ = lines.slice(i_first_non_empty, too_much ? i_first_non_empty + 2 : i_non_empty_end);
        if (too_much)
            lines_.push((0,i18n.t)('··· 共 {{total_lines}} 行 ···', { total_lines: i_non_empty_end - i_first_non_empty }));
        return lines_;
    }
    async refresh_db() {
    }
    async eval(code = this.editor.getValue()) {
        const time_start = external_dayjs_default()();
        this.term.write('\n' +
            time_start.format('HH:mm:ss.SSS') + '\n' +
            (code.trim() ?
                this.truncate_text(code.split_lines()).join_lines()
                : ''));
        this.set({ executing: true });
        try {
            // TEST
            // throw new Error('xxxxx. RefId: S00001. xxxx RefId:S00002')
            let ddbobj = await model/* model */.ge.ddb.eval(code.replaceAll('\r\n', '\n'));
            console.log('执行代码返回了:', ddbobj);
            if (model/* model */.ge.verbose)
                console.log('=>', ddbobj.toString());
            if (ddbobj.form === browser/* DdbForm */.Dm.chart ||
                ddbobj.form === browser/* DdbForm */.Dm.dict ||
                ddbobj.form === browser/* DdbForm */.Dm.matrix ||
                ddbobj.form === browser/* DdbForm */.Dm.set ||
                ddbobj.form === browser/* DdbForm */.Dm.table ||
                ddbobj.form === browser/* DdbForm */.Dm.vector)
                this.set({
                    result: {
                        type: 'object',
                        data: ddbobj
                    },
                });
            this.term.writeln((() => {
                switch (ddbobj.form) {
                    case browser/* DdbForm */.Dm.chart:
                    case browser/* DdbForm */.Dm.dict:
                    case browser/* DdbForm */.Dm.matrix:
                    case browser/* DdbForm */.Dm.set:
                    case browser/* DdbForm */.Dm.table:
                    case browser/* DdbForm */.Dm.vector:
                        return (0,chalk_browser/* blue */.z1)(ddbobj.inspect_type()) + '\n';
                    default: {
                        if (ddbobj.type === browser/* DdbType */.Z2.void)
                            return '';
                        return ddbobj.toString({ ...this.options, colors: true, nullstr: true, quote: true }) + '\n';
                    }
                }
            })() +
                `(${(0,utils_browser/* delta2str */.WA)(external_dayjs_default()().diff(time_start))})`);
        }
        catch (error) {
            let message = error.message;
            if (message.includes('RefId:'))
                message = message.replaceAll(/RefId:\s*(\w+)/g, (_, ref_id) => 
                // 暂时隐藏 S00004 及以后的错误码编号及链接，待英文文档更新后再向用户暴露
                i18n/* language */.BH === 'en' && Number(ref_id.slice(1)) >= 4
                    ? ''
                    :
                        // xterm link写法 https://stackoverflow.com/questions/64759060/how-to-create-links-in-xterm-js
                        (0,chalk_browser/* blue */.z1)(`\x1b]8;;${model/* model */.ge.get_error_code_doc_link(ref_id)}\x07RefId: ${ref_id}\x1b]8;;\x07`));
            this.term.writeln((0,chalk_browser/* red */.wv)(message));
            throw error;
        }
        finally {
            this.set({ executing: false });
        }
    }
    async update_vars() {
        let objs = await model/* model */.ge.ddb.call('objs', [true]);
        const vars_data = objs
            .to_rows()
            .map(({ name, type, form, rows, columns, bytes, shared, extra }) => ({
            name,
            type: (() => {
                const _type = type.toLowerCase();
                return _type.endsWith('[]') ? browser/* DdbType */.Z2[_type.slice(0, -2)] + 64 : browser/* DdbType */.Z2[_type];
            })(),
            form: (() => {
                const _form = form.toLowerCase();
                switch (_form) {
                    case 'dictionary':
                        return browser/* DdbForm */.Dm.dict;
                    case 'sysobj':
                        return browser/* DdbForm */.Dm.object;
                    default:
                        return browser/* DdbForm */.Dm[_form];
                }
            })(),
            rows,
            cols: columns,
            bytes,
            shared,
            extra,
            obj: undefined,
            options: this.options,
        }))
            .filter(v => v.name !== 'pnode_run' &&
            !(v.form === browser/* DdbForm */.Dm.object &&
                (v.name === 'list' || v.name === 'tuple' || v.name === 'dict' || v.name === 'set' || v.name === '_ddb')));
        let immutables = vars_data.filter(v => v.form === browser/* DdbForm */.Dm.scalar || v.form === browser/* DdbForm */.Dm.pair);
        if (immutables.length) {
            const { value: values } = await model/* model */.ge.ddb.eval(`(${immutables.map(({ name }) => name).join(', ')}, 0)${model/* model */.ge.ddb.python ? '.toddb()' : ''}`);
            for (let i = 0; i < values.length - 1; i++) {
                immutables[i].obj = values[i];
                // 此处需要用变量值的类型来替换 objs(true) 中获取的变量的类型，因为当变量类型为 string 且变量值很长时，server 返回的变量值的类型是 blob
                immutables[i].type = values[i].type;
            }
        }
        this.set({
            vars: vars_data.map(data => new DdbVar(data))
        });
    }
    save(code = this.editor.getValue()) {
        localStorage.setItem(model/* storage_keys */.Xu.code, code);
    }
    save_debounced = (0,external_.debounce)(this.save.bind(this), 500, { leading: false, trailing: true });
    async execute(default_selection) {
        const { editor } = this;
        const selection = editor.getSelection();
        const model = editor.getModel();
        if (selection.isEmpty())
            await this.eval(default_selection === 'line' ?
                model.getLineContent(selection.startLineNumber)
                :
                    model.getValue(this.monaco.editor.EndOfLinePreference.LF));
        else
            await this.eval(model.getValueInRange(selection, this.monaco.editor.EndOfLinePreference.LF));
        await this.update_vars();
    }
    async execute_(default_selection) {
        let done = false;
        const show_delay = (0,utils_browser/* delay */.cb)(500);
        (async () => {
            await show_delay;
            if (!done)
                this.set({ show_executing: true });
        })();
        try {
            await model_shell.execute(default_selection);
        }
        finally {
            done = true;
            this.set({ show_executing: false });
        }
    }
    async load_dbs() {
        await model/* model */.ge.get_cluster_perf(false);
        // 当前无数据节点和计算节点存活，且当前节点不为单机节点，则不进行数据库表获取
        if (model/* model */.ge.node.mode !== model/* NodeType */.Z6.single && !model/* model */.ge.has_data_and_computing_nodes_alive())
            return;
        // ['dfs://数据库路径(可能包含/)/表名', ...]
        // 不能直接使用 getClusterDFSDatabases, 因为新的数据库权限版本 (2.00.9) 之后，用户如果只有表的权限，调用 getClusterDFSDatabases 无法拿到该表对应的数据库
        // 但对于无数据表的数据库，仍然需要通过 getClusterDFSDatabases 来获取。因此要组合使用
        const [{ value: table_paths }, { value: db_paths }] = await Promise.all([
            model/* model */.ge.ddb.call('getClusterDFSTables'),
            // 可能因为用户没有数据库的权限报错，单独 catch 并返回空数组
            model/* model */.ge.ddb.call('getClusterDFSDatabases').catch(() => {
                console.error('load_dbs: getClusterDFSDatabases error');
                return { value: [] };
            }),
        ]);
        // const db_paths = [
        //     'dfs://db1',
        //     'dfs://g1.db1',
        //     'dfs://g1.db2',
        //     'dfs://g1./db1',
        // ...]
        // const table_paths = [
        //     'dfs://db1/tb1',
        //     'dfs://g1.db1/tb1',
        //     'dfs://g1.db1/tb.2',
        //     'dfs://g1./db1/tb2',
        //     'dfs://long.g1.sg1.ssg1.sssg1.db1/tb1',
        //     // 即使有两个连续点号，也不进行任何特殊处理。用户在界面上看到的将会有一个 group 的标题为空
        //     'dfs://double-dot..g1/db1/tb',
        //     'dfs://double-dot..g1.sg1.db1/tb',
        //     'dfs://double-dot..g1.sg2.db1/tb',
        //     'dfs://db-with-slash/db1/tb1',
        //     'dfs://group_with_slash/g1.sg1.db1/tb1'
        // ]
        // 将 db_paths 和 table_paths 合并到 merged_paths 中。db_paths 内可能存在 table_paths 中没有的 db，例如能查到无表的库
        // 需要手动为 db_paths 中的每个路径加上斜杠结尾
        const merged_paths = db_paths.map(path => `${path}/`).concat(table_paths).sort();
        // 假定所有的 table_name 值都不会以 / 结尾
        // 库和表之间以最后一个 / 隔开。表名不可能有 /
        // 全路径中可能没有组（也就是没有点号），但一定有库和表
        let hash_map = new Map();
        let root = [];
        for (const path of merged_paths) {
            // 找到数据库最后一个斜杠位置，截取前面部分的字符串作为库名
            const index_slash = path.lastIndexOf('/');
            const db_path = `${path.slice(0, index_slash)}/`;
            const table_name = path.slice(index_slash + 1);
            let parent = { children: root };
            // for 循环用来处理 database group
            for (let index = 0; index = db_path.indexOf('.', index) + 1;) {
                const group_key = path.slice(0, index);
                const group = hash_map.get(group_key);
                if (group)
                    parent = group;
                else {
                    const group = new DatabaseGroup(group_key);
                    parent.children.push(group);
                    hash_map.set(group_key, group);
                    parent = group;
                }
            }
            // 处理 database
            const db = hash_map.get(db_path);
            if (db)
                parent = db;
            else {
                const db = new Database(db_path);
                parent.children.push(db);
                hash_map.set(db_path, db);
                parent = db;
            }
            // 处理 table，如果 table_name 为空表明当前路径是 db_path 则不处理
            if (table_name) {
                const table = new Databases_Table(parent, `${path}/`);
                parent.children.push(table);
            }
        }
        // TEST: 测试多级数据库树
        // for (let i = 0;  i <100 ;  i++) {
        //     for (let j =0; j< 500; j++){
        //         const path = `dfs://${i}.${j}`
        //         const tables = [new TableEntity({name: `table_of_${i}_${j}`, ddb_path:path, labels:['sdsadfs'], column_schema:[{name:'Id', type:5}]})]
        //         dbs.set(path, new DdbEntity({ path ,tables}))
        //     }
        //  }
        this.set({ dbs: root });
    }
    /** - path: 类似 dfs://Crypto_TSDB_14/, dfs://Crypto_TSDB_14/20100101_20110101/ 的路径 */
    async load_partitions(root, node) {
        // 之前 table.load_children 时一定已经加载了 schema
        const { schema } = root.table;
        const is_database_granularity = schema.to_dict().chunkGranularity.value === 'DATABASE';
        const { rows, value: [{ value: filenames }, { value: filetypes }, /* sizes */ , { value: chunks_column }, { value: sites }] } = await model/* model */.ge.ddb.call(
        // 函数要在 controller (且是 leader) 上调用
        'getDFSDirectoryContent', [node.path.slice('dfs:/'.length)], model/* model */.ge.node.mode !== model/* NodeType */.Z6.controller ? { node: model/* model */.ge.controller_alias, func_type: browser/* DdbFunctionType */.T5.SystemFunc } : {});
        let directories = [];
        let files = [];
        for (let i = 0; i < rows; i++)
            switch (filetypes[i]) {
                case DfsFileType.directory:
                    directories.push(new PartitionDirectory(root, node, `${node.path}${filenames[i]}/`));
                    break;
                case DfsFileType.file_partition: {
                    const chunks = chunks_column[i].split(',');
                    (0,utils_browser/* assert */.vA)(chunks.length === 1, 'chunks.length === 1');
                    const chunk = chunks[0];
                    // 这里假定对应的 sites 字段一定不是空字符串
                    const site_node = sites[i].split(',')[0].split(':')[0];
                    (0,utils_browser/* assert */.vA)(site_node, (0,i18n.t)('sites 中应该有存放 chunk 所在节点的信息'));
                    const { value: tables } = await model/* model */.ge.ddb.call('getTablesByTabletChunk', [chunk], 
                    // sites 字段里面的就是 node_alias
                    site_node !== model/* model */.ge.node_alias ? { node: site_node, func_type: browser/* DdbFunctionType */.T5.SystemFunc } : {});
                    // 可能是空的数据库，里面还没有表，也没有数据
                    if (!tables.length)
                        return [];
                    if (is_database_granularity) // directory 下面的每个 partition file 代表一个分区
                        files.push(new PartitionFile(root, node, `${node.path}${filenames[i]}`, chunk, site_node, filenames[i]));
                    else if (tables[0] === node.root.table.name) {
                        (0,utils_browser/* assert */.vA)(tables.length === 1, (0,i18n.t)('getTablesByTabletChunk 应该只返回一个对应的 table'));
                        (0,utils_browser/* assert */.vA)(files.length === 0, (0,i18n.t)('应该只有一个满足条件的 PartitionFile 在 PartitionDirectory 下面'));
                        files.push(new PartitionFile(root, node, `${node.path}${filenames[i]}`, chunk, site_node));
                        i = rows; // break
                        break;
                    }
                }
            }
        // directories 和 files 中应该只有一个有值，另一个为空
        if (directories.length) {
            (0,utils_browser/* assert */.vA)(!files.length, (0,i18n.t)('directories 和 file 应该只有一个有值，另一个为空'));
            return directories;
        }
        else if (files.length) {
            (0,utils_browser/* assert */.vA)(!directories.length, (0,i18n.t)('directories 和 file 应该只有一个有值，另一个为空'));
            return files;
        }
        else
            return [];
    }
    async define_load_table_schema() {
        if (this.load_table_schema_defined)
            return;
        await model/* model */.ge.ddb.eval('def load_table_schema (db_path, tb_name) {\n' +
            '    return schema(loadTable(db_path, tb_name))\n' +
            '}\n');
        model_shell.set({ load_table_schema_defined: true });
    }
    async define_load_table_variable_schema() {
        if (this.load_table_variable_schema_defined)
            return;
        await model/* model */.ge.ddb.eval('def load_table_variable_schema (tb_name) {\n' +
            '    return schema(objByName(tb_name))\n' +
            '}\n');
        model_shell.set({ load_table_variable_schema_defined: true });
    }
    async define_load_database_schema() {
        if (this.load_database_schema_defined)
            return;
        await model/* model */.ge.ddb.eval('def load_database_schema (db_path) {\n' +
            '    return schema(database(db_path))\n' +
            '}\n');
        model_shell.set({ load_database_schema_defined: true });
    }
    async define_peek_table() {
        if (this.peek_table_defined)
            return;
        await model/* model */.ge.ddb.eval('def peek_table (db_path, tb_name) {\n' +
            '    return select top 100 * from loadTable(db_path, tb_name)\n' +
            '}\n');
        model_shell.set({ peek_table_defined: true });
    }
    async define_add_column() {
        if (this.add_column_defined)
            return;
        await model/* model */.ge.ddb.eval('def add_column (db_path, tb_name, col_name, col_type_str) {\n' +
            // addColumn 的最后一个参数不能是 'INT', 只能是 INT 或者对应的 typeInt 4
            // https://www.dolphindb.cn/cn/help/DatabaseandDistributedComputing/DatabaseOperations/AddColumns.html?highlight=addcolumn
            // https://www.dolphindb.cn/cn/help/FunctionsandCommands/CommandsReferences/a/addColumn.html
            '    addColumn(loadTable(database(db_path), tb_name), col_name, eval(parseExpr(col_type_str)) )\n' +
            '}\n');
        model_shell.set({ add_column_defined: true });
    }
    async define_set_column_comment() {
        if (this.set_column_comment_defined)
            return;
        await model/* model */.ge.ddb.eval('def set_column_comment (db_path, tb_name, col_name, col_comment) {\n' +
            // setColumnComment 的最后一个参数是动态的字典，因此用 dict 来构造
            '    setColumnComment(loadTable(database(db_path), tb_name), dict([col_name], [col_comment]))\n' +
            '}\n');
        model_shell.set({ set_column_comment_defined: true });
    }
    async define_get_user_grant() {
        if (this.get_access_defined)
            return;
        await model/* model */.ge.ddb.eval('def getUserGrant(name) {\n' +
            '    userAccessRow = getUserAccess(getUserList(),true)\n' +
            '    t = table(100:0, `userId`AccessAction, [STRING, SYMBOL])\n' +
            '    if(rows(userAccessRow)==0)return t\n' +
            '    for(action in `DB_MANAGE`DBOBJ_CREATE`DBOBJ_DELETE`DB_INSERT`DB_UPDATE`DB_DELETE`DB_READ`TABLE_READ`TABLE_INSERT`TABLE_UPDATE`TABLE_DELETE) {\n' +
            '       for(user in userAccessRow){\n' +
            '           accItems = user[action + "_allowed"].split(",").flatten()\n' +
            '           tablePath = accItems[accItems == name]\n' +
            '           tablePath.size()\n' +
            '           t.tableInsert( take(user.userId, tablePath.size()), take(action, tablePath.size()))\n' +
            '       }\n' +
            '    }\n' +
            '    return t\n' +
            '}\n');
        this.set({ get_access_defined: true });
    }
}
var DfsFileType;
(function (DfsFileType) {
    /** 分区文件夹 (NORMAL_DIR) */
    DfsFileType[DfsFileType["directory"] = 0] = "directory";
    DfsFileType[DfsFileType["PARTITION_DIRV0"] = 1] = "PARTITION_DIRV0";
    DfsFileType[DfsFileType["NORMAL_FILEV0"] = 2] = "NORMAL_FILEV0";
    DfsFileType[DfsFileType["SMALLFILE_DIR"] = 3] = "SMALLFILE_DIR";
    /** 分区文件 chunk (PARTITION_DIR) */
    DfsFileType[DfsFileType["file_partition"] = 4] = "file_partition";
    /** 如 domain, table.tbl, ... 等文件 (NORMAL_FILE) */
    DfsFileType[DfsFileType["file_normal"] = 5] = "file_normal";
})(DfsFileType || (DfsFileType = {}));
let model_shell = window.shell = new ShellModel();

;// CONCATENATED MODULE: ./console/shell/SelectSqlModal.tsx









function SelectSqlModal() {
    const { visible, open, close } = use_modal();
    let ref_selected_sql = (0,external_React_.useRef)();
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'select-sql-modal', title: (0,jsx_runtime.jsxs)("div", { className: 'title', children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.WarningFilled, { className: 'modal-warning-icon' }), (0,jsx_runtime.jsx)("span", { children: (0,i18n.t)('确认切换 SQL 标准？') })] }), open: visible, onOk: () => {
                    localStorage.setItem(model/* storage_keys */.Xu.sql, ref_selected_sql.current);
                    close();
                    location.reload();
                }, onCancel: close, children: (0,jsx_runtime.jsx)("p", { children: (0,i18n.t)('切换 SQL Standard 后，当前页面将会刷新，且内存变量会清空') }) }), (0,jsx_runtime.jsxs)("span", { className: 'setting sql', title: (0,i18n.t)('设置当前代码执行的 SQL 标准'), children: [(0,jsx_runtime.jsx)("span", { className: 'text', title: (0,i18n.t)('SQL 标准'), children: "SQL:" }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { value: browser/* SqlStandard */.IK[model/* model */.ge.sql], size: 'small', className: 'select-sql', suffixIcon: (0,jsx_runtime.jsx)((external_icons_default()), { className: 'arrow-down', component: arrow_down_icon }), onSelect: value => {
                            ref_selected_sql.current = value;
                            open();
                        }, popupMatchSelectWidth: false, options: [
                            { value: 'DolphinDB' },
                            { value: 'Oracle' },
                            { value: 'MySQL' },
                        ] })] })] });
}

;// CONCATENATED MODULE: ./console/shell/ExecuteAction.tsx






function ExecuteAction() {
    const { executing, show_executing } = model_shell.use(['executing', 'show_executing']);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('是否取消执行中的作业？'), okText: (0,i18n.t)('取消作业'), cancelText: (0,i18n.t)('不要取消'), disabled: !executing, onConfirm: async () => {
            await model/* model */.ge.ddb.cancel();
            model/* model */.ge.message.success((0,i18n.t)('取消作业指令发送成功'));
        }, children: (0,jsx_runtime.jsxs)("span", { className: 'action execute', title: executing ? (0,i18n.t)('点击可以取消当前执行中的作业') : (0,i18n.t)('执行选中代码或全部代码'), onClick: async () => {
                try {
                    // shell 上的 executing 状态才是最新的
                    if (!model_shell.executing)
                        await model_shell.execute_('all');
                }
                catch (error) {
                    // 忽略用户执行脚本的报错
                }
            }, children: [executing && show_executing ? (0,jsx_runtime.jsx)(external_icons_namespaceObject.LoadingOutlined, {}) : (0,jsx_runtime.jsx)(external_icons_namespaceObject.CaretRightOutlined, {}), (0,jsx_runtime.jsx)("span", { className: 'text', children: executing && show_executing ? (0,i18n.t)('执行中') : (0,i18n.t)('执行') })] }) });
}

;// CONCATENATED MODULE: ./console/shell/ShellEditor.tsx










function ShellEditor({ collapser }) {
    const [minimap, set_minimap] = (0,external_React_.useState)(() => localStorage.getItem(model/* storage_keys */.Xu.minimap) === '1');
    const [enter_completion, set_enter_completion] = (0,external_React_.useState)(() => localStorage.getItem(model/* storage_keys */.Xu.enter_completion) === '1');
    const [collapsed, set_collapsed] = (0,external_React_.useState)(false);
    // 标签页关闭前自动保存代码
    (0,external_React_.useEffect)(() => {
        function beforeunload(event) {
            model_shell.save();
            // event.returnValue = ''
        }
        window.addEventListener('beforeunload', beforeunload);
        return () => {
            window.removeEventListener('beforeunload', beforeunload);
        };
    }, []);
    return (0,jsx_runtime.jsxs)("div", { className: 'shell-editor', children: [(0,jsx_runtime.jsxs)("div", { className: 'toolbar', children: [(0,jsx_runtime.jsx)("div", { className: 'actions', children: (0,jsx_runtime.jsx)(ExecuteAction, {}) }), (0,jsx_runtime.jsxs)("div", { className: 'settings', children: [(0,jsx_runtime.jsxs)("span", { className: 'setting', title: (0,i18n.t)('控制是否显示缩略图'), children: [(0,jsx_runtime.jsx)("span", { className: 'text', children: (0,i18n.t)('代码地图:') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Switch, { checked: minimap, size: 'small', onChange: checked => {
                                            set_minimap(checked);
                                            localStorage.setItem(model/* storage_keys */.Xu.minimap, checked ? '1' : '0');
                                        } })] }), (0,jsx_runtime.jsxs)("span", { className: 'setting', title: (0,i18n.t)('控制除了 Tab 键以外，Enter 键是否同样可以接受建议。这能减少“插入新行”和“接受建议”命令之间的歧义。'), children: [(0,jsx_runtime.jsx)("span", { className: 'text', children: (0,i18n.t)('回车补全:') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Switch, { checked: enter_completion, size: 'small', onChange: checked => {
                                            set_enter_completion(checked);
                                            localStorage.setItem(model/* storage_keys */.Xu.enter_completion, checked ? '1' : '0');
                                        } })] }), (0,jsx_runtime.jsx)(SelectSqlModal, {})] }), (0,jsx_runtime.jsx)("div", { className: 'padding' }), (0,jsx_runtime.jsx)("div", { className: 'collapse-btn', onClick: () => {
                            set_collapsed(!collapsed);
                            collapser(collapsed);
                        }, children: collapsed ?
                            (0,jsx_runtime.jsx)(external_icons_namespaceObject.DoubleLeftOutlined, {})
                            :
                                (0,jsx_runtime.jsxs)("span", { children: [(0,i18n.t)('隐藏终端') + ' ', (0,jsx_runtime.jsx)(external_icons_namespaceObject.DoubleRightOutlined, {})] }) })] }), (0,jsx_runtime.jsx)(Editor_Editor, { minimap: minimap, enter_completion: enter_completion, on_mount: (editor, monaco) => {
                    editor.setValue(localStorage.getItem(model/* storage_keys */.Xu.code) || '');
                    async function execute(selection) {
                        if (model_shell.executing)
                            model/* model */.ge.message.warning((0,i18n.t)('当前连接正在执行作业，请等待'));
                        else
                            try {
                                await model_shell.execute_(selection);
                            }
                            catch (error) {
                                // 忽略用户执行脚本的错误
                            }
                    }
                    editor.addAction({
                        id: 'dolphindb.execute',
                        keybindings: [
                            monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyE
                        ],
                        label: (0,i18n.t)('DolphinDB: 执行当前行代码'),
                        async run() {
                            await execute('line');
                        }
                    });
                    editor.addAction({
                        id: 'dolphindb.execute_all',
                        keybindings: [
                            monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.KeyE
                        ],
                        label: (0,i18n.t)('DolphinDB: 执行代码'),
                        async run() {
                            await execute('all');
                        }
                    });
                    editor.addAction({
                        id: 'dolphindb.save',
                        keybindings: [
                            monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS
                        ],
                        label: (0,i18n.t)('DolphinDB: 保存代码'),
                        run() {
                            model_shell.save();
                        },
                    });
                    editor.addAction({
                        id: 'duplicate_line',
                        keybindings: [
                            monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyD
                        ],
                        label: (0,i18n.t)('向下复制行'),
                        async run(editor) {
                            await editor.getAction('editor.action.copyLinesDownAction').run();
                        }
                    });
                    editor.addAction({
                        id: 'delete_lines',
                        keybindings: [
                            monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyY
                        ],
                        label: (0,i18n.t)('删除行'),
                        async run(editor) {
                            await editor.getAction('editor.action.deleteLines').run();
                        }
                    });
                    model_shell.set({ editor, monaco });
                }, on_change: (value, event) => {
                    model_shell.save_debounced(value);
                } })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/xterm@5.3.0/node_modules/xterm/css/xterm.css
var xterm = __webpack_require__(5630);
;// CONCATENATED MODULE: ./node_modules/.pnpm/xterm@5.3.0/node_modules/xterm/css/xterm.css

      
      
      
      
      
      
      
      
      

var xterm_options = {};

xterm_options.styleTagTransform = (styleTagTransform_default());
xterm_options.setAttributes = (setAttributesWithoutAttributes_default());
xterm_options.insert = insertBySelector_default().bind(null, "head");
xterm_options.domAPI = (styleDomAPI_default());
xterm_options.insertStyleElement = (insertStyleElement_default());

var xterm_update = injectStylesIntoStyleTag_default()(xterm/* default */.A, xterm_options);




       /* harmony default export */ const css_xterm = (xterm/* default */.A && xterm/* default */.A.locals ? xterm/* default */.A.locals : undefined);

// EXTERNAL MODULE: external "window"
var external_window_ = __webpack_require__(9193);
// EXTERNAL MODULE: ./node_modules/.pnpm/xterm-addon-fit@0.8.0_xterm@5.3.0/node_modules/xterm-addon-fit/lib/xterm-addon-fit.js
var xterm_addon_fit = __webpack_require__(725);
// EXTERNAL MODULE: ./node_modules/.pnpm/xterm-addon-webgl@0.16.0_xterm@5.3.0/node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js
var xterm_addon_webgl = __webpack_require__(7362);
;// CONCATENATED MODULE: ./console/shell/Terminal.tsx











function Terminal() {
    const { collapsed } = model/* model */.ge.use(['collapsed']);
    const rterminal = (0,external_React_.useRef)();
    const [font_loaded, set_font_loaded] = (0,external_React_.useState)(false);
    (0,external_React_.useEffect)(() => {
        if (!font_loaded) {
            (async () => {
                await document.fonts.ready;
                console.log((0,i18n.t)('字体已全部加载'));
                set_font_loaded(true);
            })();
            return;
        }
        function printer({ type, data }) {
            if (type === 'print')
                model_shell.term.writeln(data);
        }
        const on_resize = (0,external_.debounce)(() => {
            model_shell.fit_addon?.fit();
        }, 500, { leading: false, trailing: true });
        window.addEventListener('resize', on_resize);
        (async () => {
            // --- init term
            let term = model_shell.term = new external_window_.Terminal({
                fontFamily: 'MyFont, Menlo, Ubuntu Mono, Consolas, Dejavu Sans Mono, Noto Sans Mono, PingFangSC, Microsoft YaHei, monospace',
                fontSize: 16,
                cursorStyle: 'bar',
                disableStdin: true,
                convertEol: true,
                allowProposedApi: true,
                scrollback: 100000,
                theme: {
                    background: '#ffffff',
                    foreground: '#000000',
                    cyan: '#821717',
                    yellow: '#ec7600',
                    blue: '#0070c0',
                    brightBlack: '#8e908c',
                    magenta: '#800080',
                    red: '#df0000',
                    selectionBackground: '#add6ff'
                }
            });
            term.loadAddon(model_shell.fit_addon = new xterm_addon_fit.FitAddon());
            term.attachCustomKeyEventHandler(event => {
                const is_win = navigator.platform.includes('Win');
                const is_linux = navigator.platform.includes('Linux');
                if ((is_win || is_linux) && event.ctrlKey && event.key === 'c' && term.hasSelection()) {
                    document.execCommand('copy');
                    return false;
                }
                return true;
            });
            term.open(rterminal.current);
            term.loadAddon(new xterm_addon_webgl.WebglAddon());
            model/* model */.ge.ddb.listeners.push(printer);
            // 删去这句话，首次点击会失效
            rterminal.current.children[0]?.dispatchEvent(new Event('mousedown'));
            term.writeln((0,i18n.t)('左侧编辑器使用指南:\n') +
                (0,i18n.t)('按 Tab 或 Enter 补全函数\n') +
                (0,i18n.t)('按 Ctrl + E 执行选中代码或光标所在行代码，点击 执行中 可取消作业\n') +
                (0,i18n.t)('按 Ctrl + Shift + E 执行选中代码或全部代码\n') +
                (0,i18n.t)('按 Ctrl + D 向下复制行\n') +
                (0,i18n.t)('按 Ctrl + Y 删除行\n') +
                (0,i18n.t)('按 F1 查看更多编辑器命令'));
        })();
        return () => {
            model/* model */.ge.ddb.listeners = model/* model */.ge.ddb.listeners.filter(handler => handler !== printer);
            window.removeEventListener('resize', on_resize);
        };
    }, [font_loaded]);
    (0,external_React_.useEffect)(() => {
        // wait for container ready
        (async () => {
            await (0,utils_browser/* delay */.cb)(500);
            model_shell.fit_addon?.fit();
        })();
    }, [collapsed]);
    return font_loaded ?
        (0,jsx_runtime.jsx)("div", { className: 'term', ref: rterminal })
        :
            (0,jsx_runtime.jsx)("div", { className: 'term-loading', children: (0,i18n.t)('正在加载字体...') });
}

;// CONCATENATED MODULE: ./console/shell/DataView.tsx





function DataView_DataView() {
    const { result } = model_shell.use(['result']);
    const { options } = model/* model */.ge.use(['options']);
    return (0,jsx_runtime.jsx)("div", { className: 'dataview obj-result themed embed', children: (() => {
            if (!result)
                return;
            const { type, data } = result;
            if (data.form === browser/* DdbForm */.Dm.scalar ||
                data.form === browser/* DdbForm */.Dm.pair)
                return;
            return type === 'object' ?
                (0,jsx_runtime.jsx)(Obj, { obj: data, ddb: model/* model */.ge.ddb, ctx: 'embed', options: options })
                :
                    (0,jsx_runtime.jsx)(Obj, { objref: data, ddb: model/* model */.ge.ddb, ctx: 'embed', options: options });
        })() });
}

;// CONCATENATED MODULE: ./console/shell/index.tsx








// import { Editor } from './Editor/index.js'




function Shell() {
    const { options } = model/* model */.ge.use(['options']);
    const [editor_state, set_editor_state] = (0,external_React_.useState)({
        width: '75%',
        height: '100%',
        maxWidth: '90%',
        right: true
    });
    const collapser = (0,external_React_.useCallback)(async (collapsed) => {
        set_editor_state({
            maxWidth: !collapsed ? '100%' : '92%',
            width: !collapsed ? '100%' : '75%',
            height: '100%',
            right: collapsed
        });
        await (0,utils_browser/* delay */.cb)(200);
        model_shell.fit_addon?.fit();
    }, []);
    (0,external_React_.useEffect)(() => {
        model_shell.options = options;
        model_shell.update_vars();
    }, [options]);
    (0,external_React_.useEffect)(() => {
        model_shell.load_dbs();
    }, []);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)(Resizable, { className: 'left-panels', defaultSize: { height: '100%', width: '13%' }, enable: { top: false, right: true, bottom: false, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }, onResizeStop: async () => {
                    await (0,utils_browser/* delay */.cb)(200);
                    model_shell.fit_addon?.fit();
                }, children: [(0,jsx_runtime.jsx)(Databases, {}), (0,jsx_runtime.jsxs)("div", { className: 'treeview-resizable-split2', children: [(0,jsx_runtime.jsx)("div", { className: 'treeview-resizable-split21', children: (0,jsx_runtime.jsx)(Variables, { shared: false }) }), (0,jsx_runtime.jsx)(Resizable, { className: 'treeview-resizable-split22', enable: {
                                    top: true,
                                    right: false,
                                    bottom: false,
                                    left: false,
                                    topRight: false,
                                    bottomRight: false,
                                    bottomLeft: false,
                                    topLeft: false
                                }, defaultSize: { height: '100px', width: '100%' }, minHeight: '22px', handleStyles: { bottom: { height: 20, bottom: -10 } }, handleClasses: { bottom: 'resizable-handle' }, children: (0,jsx_runtime.jsx)(Variables, { shared: true }) })] })] }), (0,jsx_runtime.jsxs)("div", { className: 'content', children: [(0,jsx_runtime.jsxs)(Resizable, { className: 'top', defaultSize: { height: '63%', width: '100%' }, enable: { top: false, right: false, bottom: true, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }, onResizeStop: async () => {
                            await (0,utils_browser/* delay */.cb)(200);
                            model_shell.fit_addon?.fit();
                        }, children: [(0,jsx_runtime.jsx)(Resizable, { className: 'editor-resizable', enable: { top: false, right: editor_state.right, bottom: false, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }, size: { height: editor_state.height, width: editor_state.width }, maxWidth: editor_state.maxWidth, handleStyles: { bottom: { height: 6, bottom: -3 } }, handleClasses: { bottom: 'resizable-handle' }, onResizeStop: async (e, direction, ref, d) => {
                                    set_editor_state(preval => ({
                                        ...preval,
                                        width: preval.width + d.width,
                                        height: preval.height + d.height
                                    }));
                                    await (0,utils_browser/* delay */.cb)(200);
                                    model_shell.fit_addon?.fit();
                                }, children: (0,jsx_runtime.jsx)(ShellEditor, { collapser: collapser }) }), (0,jsx_runtime.jsx)(Terminal, {})] }), (0,jsx_runtime.jsx)(DataView_DataView, {})] })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/test/index.sass
var test = __webpack_require__(6328);
;// CONCATENATED MODULE: ./console/test/index.sass

      
      
      
      
      
      
      
      
      

var test_options = {};

test_options.styleTagTransform = (styleTagTransform_default());
test_options.setAttributes = (setAttributesWithoutAttributes_default());
test_options.insert = insertBySelector_default().bind(null, "head");
test_options.domAPI = (styleDomAPI_default());
test_options.insertStyleElement = (insertStyleElement_default());

var test_update = injectStylesIntoStyleTag_default()(test/* default */.A, test_options);




       /* harmony default export */ const console_test = (test/* default */.A && test/* default */.A.locals ? test/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/test/index.tsx




// import { StreamingTest } from '../streaming/StreamingTest.js'
function Test() {
    const { ddb: { url, username, password } } = model/* model */.ge;
    return (0,jsx_runtime.jsx)("div", { className: 'obj-result themed page', children: (0,jsx_runtime.jsx)(StreamingTable, { ctx: 'page', url: url, username: username, password: password, on_error: error => {
                model/* model */.ge.show_error({ error });
            } }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/job.sass
var job = __webpack_require__(1038);
;// CONCATENATED MODULE: ./console/job.sass

      
      
      
      
      
      
      
      
      

var job_options = {};

job_options.styleTagTransform = (styleTagTransform_default());
job_options.setAttributes = (setAttributesWithoutAttributes_default());
job_options.insert = insertBySelector_default().bind(null, "head");
job_options.domAPI = (styleDomAPI_default());
job_options.insertStyleElement = (insertStyleElement_default());

var job_update = injectStylesIntoStyleTag_default()(job/* default */.A, job_options);




       /* harmony default export */ const console_job = (job/* default */.A && job/* default */.A.locals ? job/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/components/TableCellDetail/index.tsx




function TableCellDetail(props) {
    const { title, content, detail_text = (0,i18n.t)('详细'), max_line = 2, ...otherProps } = props;
    function detail() {
        model/* model */.ge.modal.info({
            title,
            content,
            width: '80%'
        });
    }
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Paragraph, { ...otherProps, style: { marginBottom: 0 }, ellipsis: {
            rows: max_line,
            expandable: true,
            symbol: ((0,jsx_runtime.jsx)("span", { onClick: event => {
                    event.stopPropagation();
                    detail();
                }, children: detail_text }))
        }, children: content });
}

;// CONCATENATED MODULE: ./console/job.tsx









const { Title, Text: job_Text, Link: job_Link } = external_antd_namespaceObject.Typography;
const statuses = {
    queuing: (0,i18n.t)('排队中'),
    running: (0,i18n.t)('运行中', { context: 'job.status' }),
    completed: (0,i18n.t)('已完成'),
    failed: (0,i18n.t)('出错了'),
};
const cols_width = {
    rjobs: {
        userID: 120,
        jobId: 150,
        errorMsg: 220,
        priority: 65,
        parallelism: 65,
        clientIp: 120,
        clientPort: 90
    }
};
const ellipsis_cols = {
    rjobs: ['rootJobId']
};
function Job() {
    const [refresher, set_refresher] = (0,external_React_.useState)({});
    const [cjobs, set_cjobs] = (0,external_React_.useState)();
    const [rjobs, set_rjobs] = (0,external_React_.useState)();
    const [sjobs, set_sjobs] = (0,external_React_.useState)();
    const [query, set_query] = (0,external_React_.useState)('');
    (0,external_React_.useEffect)(() => {
        get_cjobs();
        get_rjobs();
        get_sjobs();
    }, [refresher]);
    async function get_cjobs() {
        set_cjobs(await model/* model */.ge.get_console_jobs());
    }
    async function get_rjobs() {
        set_rjobs(await model/* model */.ge.get_recent_jobs());
    }
    async function get_sjobs() {
        set_sjobs(await model/* model */.ge.get_scheduled_jobs());
    }
    const pagination = {
        defaultPageSize: 5,
        pageSizeOptions: ['5', '10', '20', '50', '100'],
        size: 'small',
        showSizeChanger: true,
        showQuickJumper: true,
    };
    if (!cjobs || !rjobs || !sjobs)
        return (0,jsx_runtime.jsx)("div", { className: 'spin-container', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { size: 'large', delay: 300 }) });
    const cjob_rows = filter_job_rows(cjobs.to_rows(), query)
        .sort((l, r) => -Number(l.receiveTime - r.receiveTime));
    const cjob_cols = cjobs.to_cols();
    const gjobs = group_cjob_rows_by_rootid(cjob_rows);
    // finishedTasks 大的排在前面
    const gjob_rows = Object.values(gjobs)
        .sort((l, r) => -(l.finishedTasks - r.finishedTasks));
    const rjob_rows = filter_job_rows(set_detail_row(rjobs.to_rows().map(compute_status_info), ['errorMsg']), query).sort((l, r) => {
        if (l.status !== r.status) {
            if (l.status === 'running')
                return -1;
            if (r.status === 'running')
                return 1;
        }
        return -Number(l.receivedTime - r.receivedTime);
    });
    const sjob_rows = filter_job_rows(sjobs.to_rows(), query);
    const n_rjob_rows_uncompleted = rjob_rows.filter(job => job.status === 'queuing' || job.status === 'running').length;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'refresh', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: () => {
                            set_refresher({});
                        }, children: (0,i18n.t)('刷新') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input.Search, { className: 'search', placeholder: (0,i18n.t)('输入关键字后按回车可搜索作业'), onSearch: value => { set_query(value); } })] }), (0,jsx_runtime.jsxs)("div", { className: `cjobs themed ${!gjob_rows.length ? 'nojobs' : ''}`, style: { display: (!query || gjob_rows.length) ? 'block' : 'none' }, children: [(0,jsx_runtime.jsxs)(Title, { level: 4, className: 'title', children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Tooltip, { title: 'getConsoleJobs', children: [(0,i18n.t)('运行中作业'), " "] }), "(", gjob_rows.length, " ", (0,i18n.t)('个进行中'), ")"] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { size: 'small', columns: translate_columns(add_progress_col(append_action_col(cjob_cols.filter(col => group_cjob_columns.has(col.title)), 'stop', async (job) => {
                            await model/* model */.ge.cancel_console_job(job);
                            await get_cjobs();
                        }))), dataSource: gjob_rows, rowKey: 'rootJobId', pagination: gjob_rows.length > pagination.defaultPageSize && pagination, expandable: {
                            expandedRowRender: gjob => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { size: 'small', columns: translate_columns(cjob_cols.filter(col => expanded_cjob_columns.has(col.title))), dataSource: cjob_rows.filter(job => job.rootJobId === gjob.rootJobId), rowKey: (job) => `${job.rootJobId}.${job.node || ''}`, pagination: false })
                        } })] }), (0,jsx_runtime.jsxs)("div", { className: `rjobs themed ${!rjob_rows.length ? 'nojobs' : ''}`, style: { display: (!query || rjob_rows.length) ? 'block' : 'none' }, children: [(0,jsx_runtime.jsxs)(Title, { level: 4, className: 'title', children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Tooltip, { title: 'getRecentJobs', children: [(0,i18n.t)('已提交作业'), " "] }), "(", n_rjob_rows_uncompleted, " ", (0,i18n.t)('个进行中'), ", ", rjob_rows.length - n_rjob_rows_uncompleted, " ", (0,i18n.t)('个已完成'), ")"] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { size: 'small', columns: handle_ellipsis_col(set_col_width(translate_columns(add_status_col(append_action_col(rjobs.to_cols(), 'stop', async (job) => {
                            await model/* model */.ge.cancel_job(job);
                            await get_rjobs();
                        }))), 'rjobs'), 'rjobs'), dataSource: rjob_rows, rowKey: (job) => `${job.jobId}.${job.node || ''}`, pagination: rjob_rows.length > pagination.defaultPageSize && pagination })] }), (0,jsx_runtime.jsxs)("div", { className: `sjobs themed ${!sjob_rows.length ? 'nojobs' : ''}`, style: { display: (!query || sjob_rows.length) ? 'block' : 'none' }, children: [(0,jsx_runtime.jsxs)(Title, { level: 4, className: 'title', children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Tooltip, { title: 'getScheduledJobs', children: [(0,i18n.t)('已定时作业'), " "] }), "(", sjob_rows.length, " ", (0,i18n.t)('个已配置'), ")"] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { size: 'small', columns: translate_columns(append_action_col(fix_scols(sjobs), 'delete', async (job) => {
                            await model/* model */.ge.delete_scheduled_job(job);
                            await get_sjobs();
                        })), dataSource: sjob_rows, rowKey: (job) => `${job.jobId}.${job.node || ''}`, pagination: sjob_rows.length > pagination.defaultCurrent && pagination })] })] });
}
const group_cjob_columns = new Set(['userID', 'rootJobId', 'jobType', 'desc', 'priority', 'parallelism', 'sessionId', 'remoteIP', 'remotePort', 'totalTasks', 'finishedTasks', 'runningTask']);
const expanded_cjob_columns = new Set(['node', 'receiveTime', 'firstTaskStartTime', 'latestTaskStartTime', 'queue', 'totalTasks', 'finishedTasks', 'runningTask']);
const column_names = {
    startTime: (0,i18n.t)('开始时间'),
    endTime: (0,i18n.t)('结束时间'),
    errorMsg: (0,i18n.t)('错误信息'),
    jobId: (0,i18n.t)('作业 ID'),
    rootJobId: (0,i18n.t)('根作业 ID'),
    jobDesc: (0,i18n.t)('详情'),
    desc: (0,i18n.t)('详情'),
    jobType: (0,i18n.t)('类型', { context: 'job' }),
    priority: (0,i18n.t)('优先级'),
    parallelism: (0,i18n.t)('并行度'),
    node: (0,i18n.t)('节点'),
    userID: (0,i18n.t)('用户 ID'),
    userId: (0,i18n.t)('用户 ID'),
    receiveTime: (0,i18n.t)('收到作业时间'),
    receivedTime: (0,i18n.t)('收到作业时间'),
    sessionId: (0,i18n.t)('会话 ID'),
    remoteIP: (0,i18n.t)('客户端 IP'),
    remotePort: (0,i18n.t)('客户端端口'),
    clientIp: (0,i18n.t)('客户端 IP'),
    clientPort: (0,i18n.t)('客户端端口'),
    totalTasks: (0,i18n.t)('全部任务'),
    finishedTasks: (0,i18n.t)('已完成任务'),
    runningTask: (0,i18n.t)('正在运行的任务'),
    // --- computed (getRecentJobs),
    status: (0,i18n.t)('状态', { context: 'job' }),
    theme: (0,i18n.t)('主题'),
    // --- computed (getConsoleJobs),
    progress: (0,i18n.t)('进度'),
    startDate: (0,i18n.t)('开始日期'),
    endDate: (0,i18n.t)('结束日期'),
    frequency: (0,i18n.t)('执行频率'),
    scheduledTime: (0,i18n.t)('执行定时任务的时间'),
    days: (0,i18n.t)('执行定时任务的日期'),
    actions: (0,i18n.t)('操作', { context: 'job' }),
    firstTaskStartTime: (0,i18n.t)('首个任务开始时间'),
    latestTaskStartTime: (0,i18n.t)('最后任务开始时间'),
    queue: (0,i18n.t)('队列')
};
const detail_title = {
    errorMsg: (0,i18n.t)('错误详细信息'),
    rootJobId: (0,i18n.t)('根作业 ID')
};
function translate_columns(cols) {
    return cols.map(item => ({ ...item, title: column_names[item.title] || item.title }));
}
function set_detail_row(table, col_names) {
    return table.map(row => {
        for (let col_name of col_names)
            row[col_name] = (0,jsx_runtime.jsx)(TableCellDetail, { title: detail_title[col_name], content: row[col_name] });
        return row;
    });
}
function handle_ellipsis_col(table, table_name) {
    return table.map(row => {
        if (ellipsis_cols[table_name].includes(row.dataIndex))
            row = {
                ...row,
                render: text => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { placement: 'topLeft', title: text, children: (0,jsx_runtime.jsx)("div", { className: 'ellipsis', children: text }) })
            };
        return row;
    });
}
function group_cjob_rows_by_rootid(cjobs) {
    let gjobs = {};
    for (const job of cjobs) {
        const { rootJobId } = job;
        if (rootJobId in gjobs) {
            let gjob = gjobs[rootJobId];
            gjob.totalTasks += job.totalTasks;
            gjob.finishedTasks += job.finishedTasks;
            gjob.runningTask += job.runningTask;
        }
        else {
            let gjob = {};
            for (const col of group_cjob_columns)
                gjob[col] = job[col];
            gjobs[rootJobId] = gjob;
        }
    }
    return gjobs;
}
function fix_scols(sjobs) {
    const cols = sjobs.to_cols();
    const index = cols.findIndex(col => col.title === 'node');
    if (index === -1)
        return cols;
    return [cols[index], ...cols.slice(0, index), ...cols.slice(index + 1, cols.length)];
}
/** 设置列宽 */
function set_col_width(cols, type) {
    for (let width_key of Object.keys(cols_width[type]))
        cols.find(col => col.dataIndex === width_key).width = cols_width[type][width_key];
    return cols;
}
function append_action_col(cols, type, action) {
    cols.push({
        title: 'actions',
        render: (value, job) => {
            const disabled = job.status && job.status !== 'queuing' && job.status !== 'running';
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: type === 'stop' ? (0,i18n.t)('确认停止作业') : (0,i18n.t)('确认删除作业'), onConfirm: async () => {
                    await action(job);
                    model/* model */.ge.message.success(type === 'stop' ? (0,i18n.t)('停止作业指令发送成功') : (0,i18n.t)('删除作业成功'));
                }, children: (0,jsx_runtime.jsx)(job_Link, { title: disabled ? (0,i18n.t)('作业已完成') : '', disabled: disabled, children: type === 'stop' ? (0,i18n.t)('停止') : (0,i18n.t)('删除') }) });
        }
    });
    return cols;
}
/** 异步作业更清晰的展示作业状态（根据 receivedTime, startTime, endTime 展示），增加 status 列，放到 jobDesc 后面
    - 如果无 startTime 说明还未开始 -> 排队中 (queuing) 黑色
    - 如果有 endTime 说明已完成 -> 已完成 (completed)  绿色 success
    - 有 startTime 无 endTime -> 执行中 (running)  黄色 warning
    - 有 errorMsg -> 出错了 (error)  红色 danger */
function add_status_col(cols) {
    const i_priority = cols.findIndex(col => col.title === 'priority');
    const col_status = {
        title: 'status',
        key: 'status',
        width: i18n/* language */.BH === 'zh' ? '80px' : '100px',
        render: (value, job) => (0,jsx_runtime.jsx)(job_Text, { type: job.theme, children: statuses[job.status] || job.status })
    };
    cols.splice(i_priority, 0, col_status);
    return cols;
}
function add_progress_col(cols) {
    const i_priority = cols.findIndex(col => col.title === 'priority');
    const col_progress = {
        title: 'progress',
        key: 'progress',
        render: (value, job) => (0,jsx_runtime.jsxs)(job_Text, { type: 'warning', children: [(job.finishedTasks * 100 / job.totalTasks).toFixed(1), "\u2005%"] })
    };
    cols.splice(i_priority, 0, col_progress);
    return cols;
}
function filter_job_rows(jobs, query) {
    return jobs.filter(({ jobId, rootJobId, desc, jobDesc, status, node, userId, userID, remoteIP }) => !query ||
        jobId?.includes(query) ||
        rootJobId?.includes(query) ||
        (desc || jobDesc)?.includes(query) ||
        (status && (status.includes(query) || statuses[status]?.includes(query))) ||
        node?.includes(query) ||
        (userId || userID)?.includes(query) ||
        (remoteIP && (0,browser/* format */.GP)(browser/* DdbType */.Z2.ipaddr, remoteIP, true).includes(query)));
}
function compute_status_info(job) {
    const { startTime, endTime, errorMsg } = job;
    if (!startTime) {
        job.status = 'queuing';
        return job;
    }
    if (errorMsg) {
        job.status = 'failed';
        job.theme = 'danger';
        return job;
    }
    if (!endTime) {
        job.status = 'running';
        job.theme = 'warning';
        return job;
    }
    job.status = 'completed';
    job.theme = 'success';
    return job;
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/log.sass
var log = __webpack_require__(2751);
;// CONCATENATED MODULE: ./console/log.sass

      
      
      
      
      
      
      
      
      

var log_options = {};

log_options.styleTagTransform = (styleTagTransform_default());
log_options.setAttributes = (setAttributesWithoutAttributes_default());
log_options.insert = insertBySelector_default().bind(null, "head");
log_options.domAPI = (styleDomAPI_default());
log_options.insertStyleElement = (insertStyleElement_default());

var log_update = injectStylesIntoStyleTag_default()(log/* default */.A, log_options);




       /* harmony default export */ const console_log = (log/* default */.A && log/* default */.A.locals ? log/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/components/Unlogin.tsx




function Unlogin({ info }) {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { status: 'warning', className: 'interceptor', title: (0,i18n.t)('登录后可查看{{info}}', { info: (0,i18n.t)(info) }), extra: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: () => { model/* model */.ge.goto_login(); }, children: (0,i18n.t)('去登录') }) });
}

;// CONCATENATED MODULE: ./console/log.tsx








const default_length = 50000n;
const colors = {
    ERROR: '#cf2525',
    WARNING: '#b98317'
};
function Log() {
    const { node_alias, node_type, logined } = model/* model */.ge.use(['node_alias', 'node_type', 'logined']);
    const ref = (0,external_React_.useRef)();
    const [log_length, set_log_length] = (0,external_React_.useState)(0n);
    const [logs, set_logs] = (0,external_React_.useState)([]);
    const [index, set_index] = (0,external_React_.useState)(1);
    const [show_login_required_info, set_show_login_required_info] = (0,external_React_.useState)(false);
    (0,external_React_.useEffect)(() => {
        // 数据节点需要登录
        if (!logined && (node_type === model/* NodeType */.Z6.data || node_type === model/* NodeType */.Z6.computing))
            set_show_login_required_info(true);
        else
            init();
    }, []);
    async function init() {
        set_index(1);
        const temp = await get_log_length();
        const offset = temp > default_length ? temp - default_length : BigInt(0);
        const length = temp > default_length ? default_length : temp;
        await get_log(length, offset);
    }
    async function get_log(length, offset) {
        set_logs(await model/* model */.ge.get_server_log(offset, length));
    }
    async function get_log_length() {
        const len = await model/* model */.ge.get_server_log_length();
        set_log_length(len);
        return len;
    }
    return (0,jsx_runtime.jsxs)("div", { className: 'list themed', children: [(0,jsx_runtime.jsxs)("div", { className: 'log-title', children: [(0,jsx_runtime.jsxs)("div", { className: 'log-name', children: [node_alias, " ", (0,i18n.t)('日志'), " (", Number(log_length).to_fsize_str(), ")"] }), (0,jsx_runtime.jsx)("div", { className: 'space' }), !show_login_required_info && ((0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => {
                                await init();
                                model/* model */.ge.message.success((0,i18n.t)('日志刷新成功'));
                            }, children: (0,i18n.t)('刷新') }) }))] }), show_login_required_info ? ((0,jsx_runtime.jsx)(Unlogin, { info: '\u5F53\u524D\u8282\u70B9\u65E5\u5FD7' })) : ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("div", { className: 'log-block', ref: ref, children: logs.map((line, i) => {
                            let log_type;
                            const start = line.indexOf('<');
                            const end = line.indexOf('>', start);
                            if (start !== -1 && end !== -1)
                                log_type = line.substring(start + 1, end);
                            return (0,jsx_runtime.jsx)("div", { className: 'log-line', style: colors[log_type] ? { color: colors[log_type] } : null, children: line }, `${index}.${i}`);
                        }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'log-pagination', current: index, showQuickJumper: true, showSizeChanger: false, onChange: (page, page_size) => {
                            // 重新设置当前显示的 log
                            const t = log_length - BigInt(page) * default_length;
                            const offset = t > 0 ? t : 0n;
                            const length = t > 0 ? default_length : default_length + t;
                            get_log(length, offset);
                            set_index(page);
                            // log 滑动条滑动到顶端
                            ref.current?.scrollTo(0, 0);
                        }, pageSize: 1, total: Math.ceil(Number(log_length) / Number(default_length)) })] }))] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/computing/index.sass
var computing = __webpack_require__(9904);
;// CONCATENATED MODULE: ./console/computing/index.sass

      
      
      
      
      
      
      
      
      

var computing_options = {};

computing_options.styleTagTransform = (styleTagTransform_default());
computing_options.setAttributes = (setAttributesWithoutAttributes_default());
computing_options.insert = insertBySelector_default().bind(null, "head");
computing_options.domAPI = (styleDomAPI_default());
computing_options.insertStyleElement = (insertStyleElement_default());

var computing_update = injectStylesIntoStyleTag_default()(computing/* default */.A, computing_options);




       /* harmony default export */ const console_computing = (computing/* default */.A && computing/* default */.A.locals ? computing/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/computing/model.ts


class ComputingModel extends react_object_model/* Model */.K {
    inited = false;
    persistence_dir = '';
    streaming_stat;
    origin_streaming_engine_stat;
    persistent_table_stat;
    shared_table_stat;
    async init() {
        await this.get_persistence_dir();
        if (this.persistence_dir)
            await this.def_get_persistence_stat();
        await this.def_get_shared_table_stat();
        this.set({ inited: true });
    }
    async get_persistence_dir() {
        this.set({ persistence_dir: (await model/* model */.ge.ddb.call('getConfig', ['persistenceDir'], { urgent: true })).value });
    }
    /** 处理流计算引擎状态，给每一个引擎添加 engineType 字段，合并所有类型的引擎 */
    async get_streaming_pub_sub_stat() {
        this.set({ streaming_stat: (await model/* model */.ge.ddb.call('getStreamingStat', [], { urgent: true })).to_dict() });
    }
    async get_streaming_engine_stat() {
        this.set({ origin_streaming_engine_stat: (await model/* model */.ge.ddb.call('getStreamEngineStat', [], { urgent: true })).to_dict() });
    }
    async get_streaming_table_stat() {
        if (this.persistence_dir)
            this.set({ persistent_table_stat: await model/* model */.ge.ddb.call('get_persistence_stat', [], { urgent: true }) });
        this.set({ shared_table_stat: await model/* model */.ge.ddb.call('get_shared_table_stat', [], { urgent: true }) });
    }
    async def_get_persistence_stat() {
        await model/* model */.ge.ddb.eval('def get_persistence_stat () {\n' +
            '    persistTable = getStreamTables(1)\n' +
            '    resultColNames = ["name","lastLogSeqNum","sizeInMemory","asynWrite","totalSize","raftGroup","compress","memoryOffset","sizeOnDisk","retentionMinutes","persistenceDir","hashValue","diskOffset"]\n' +
            '    resultColTypes = ["STRING", "LONG","LONG","BOOL","LONG","INT","BOOL","LONG","LONG","LONG","STRING","INT","LONG"]\n' +
            '    result = table(1:0, resultColNames, resultColTypes)\n' +
            '    for(tbname in persistTable["name"]){\n' +
            '       try{\n' +
            '           tbStat = getPersistenceMeta(objByName(tbname))\n' +
            '           tbStat["name"] = tbname\n' +
            '           result.tableInsert(tbStat)\n' +
            '       }catch(ex){}\n' +
            '    }\n' +
            '    result = select name as tablename, loaded, columns, memoryUsed, totalSize, sizeInMemory, memoryOffset, sizeOnDisk, diskOffset, asynWrite, retentionMinutes, compress, persistenceDir, hashValue, raftGroup, lastLogSeqNum from lj(persistTable, result, `name)\n' +
            '    return result\n' +
            '}\n', { urgent: true });
    }
    async def_get_shared_table_stat() {
        await model/* model */.ge.ddb.eval('def get_shared_table_stat () {\n' +
            '    return select name as TableName, rowsInMemory as rows, columns, memoryUsed from getStreamTables(2) where shared=true\n' +
            '}\n', { urgent: true });
    }
}
let model_computing = new ComputingModel();

;// CONCATENATED MODULE: ./console/computing/icons/publish.icon.svg
var publish_icon_path, publish_icon_path2;
function publish_icon_extends() { publish_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return publish_icon_extends.apply(this, arguments); }

var SvgPublishicon = function SvgPublishicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", publish_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 13 15"
  }, props), publish_icon_path || (publish_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M11.792 9.055c-.278 0-.547.098-.762.276a1.234 1.234 0 0 0-.42.702H7.604c-.08-.054-.127-.42-.156-.67h.873a.747.747 0 0 0 1.004.188.78.78 0 0 0 .181-1.136.755.755 0 0 0-.766-.26.752.752 0 0 0-.364.214.773.773 0 0 0-.195.379h-.814c-.11-.607-.362-1.23-1.153-1.23h-2.57a.3.3 0 0 0-.214.09.31.31 0 0 0 0 .435.3.3 0 0 0 .214.09h2.57c.306 0 .446.19.536.615H3.645a.3.3 0 0 0-.214.09.31.31 0 0 0 0 .435.3.3 0 0 0 .214.09H6.84c.064.577.148 1.285.777 1.285h3.003c.008 0 .014-.003.02-.004.153.502.607.87 1.15.87.321 0 .628-.13.855-.36a1.24 1.24 0 0 0 0-1.739 1.197 1.197 0 0 0-.854-.36Zm0 1.845a.593.593 0 0 1-.428-.18.615.615 0 0 1-.176-.436.626.626 0 0 1 .177-.434.604.604 0 0 1 .427-.18.6.6 0 0 1 .427.18.62.62 0 0 1 0 .87.599.599 0 0 1-.427.18ZM3.645 6.904h4.829c.013 0 .024-.006.036-.008.065.265.215.5.427.67a1.193 1.193 0 0 0 1.595-.1 1.24 1.24 0 0 0 0-1.74 1.193 1.193 0 0 0-1.595-.1 1.23 1.23 0 0 0-.427.67c-.012-.001-.023-.007-.036-.007h-4.83a.3.3 0 0 0-.213.09.31.31 0 0 0 0 .435.3.3 0 0 0 .214.09Zm6.032-.923a.595.595 0 0 1 .428.18.615.615 0 0 1 .176.435.624.624 0 0 1-.177.435.603.603 0 0 1-.427.18.599.599 0 0 1-.427-.18.62.62 0 0 1 0-.87.599.599 0 0 1 .427-.18ZM3.645 5.73h2.57c1.022 0 1.148-.868 1.224-1.385.063-.438.102-.515.179-.515h2.818a.747.747 0 0 0 1.004.188.781.781 0 0 0 .181-1.136.755.755 0 0 0-.765-.26.753.753 0 0 0-.364.214.774.774 0 0 0-.195.379h-2.68c-.625 0-.716.625-.776 1.04-.089.61-.17.86-.625.86H3.645a.3.3 0 0 0-.214.09.31.31 0 0 0 0 .435.3.3 0 0 0 .214.09Z"
  })), publish_icon_path2 || (publish_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    fillRule: "evenodd",
    d: "M1.114.743a.371.371 0 0 0-.371.371v11.784c0 .315.368.486.61.284l3.133-2.616a1.114 1.114 0 0 1 1.428 0l3.134 2.616c.241.202.61.03.61-.284v-1.773a.371.371 0 1 1 .742 0v1.773c0 .945-1.103 1.46-1.829.855l-3.133-2.617a.371.371 0 0 0-.476 0l-3.133 2.617c-.726.606-1.829.09-1.829-.855V1.114C0 .5.499 0 1.114 0h8.172C9.9 0 10.4.499 10.4 1.114V2.6a.371.371 0 0 1-.743 0V1.114a.371.371 0 0 0-.371-.371H1.114Z",
    clipRule: "evenodd"
  })));
};
/* harmony default export */ const publish_icon = (SvgPublishicon);
;// CONCATENATED MODULE: ./console/computing/icons/engine.icon.svg
var engine_icon_path, engine_icon_path2, engine_icon_path3;
function engine_icon_extends() { engine_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return engine_icon_extends.apply(this, arguments); }

var SvgEngineicon = function SvgEngineicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", engine_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: "1em",
    height: "1em",
    fill: "none",
    viewBox: "0 0 18 18"
  }, props), engine_icon_path || (engine_icon_path = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    fillRule: "evenodd",
    d: "M6.806 14.496c-1.501.455-2.515.242-3.03-.272-.514-.514-.727-1.529-.272-3.03.443-1.46 1.467-3.152 3.002-4.688 1.536-1.535 3.228-2.56 4.688-3.002 1.501-.456 2.515-.242 3.03.272.514.514.728 1.529.272 3.03-.443 1.46-1.467 3.152-3.002 4.687-1.536 1.536-3.228 2.56-4.688 3.003Zm5.329-2.361c-3.24 3.239-7.269 4.461-9 2.73-1.731-1.731-.509-5.76 2.73-9 3.24-3.24 7.269-4.461 9-2.73 1.731 1.731.51 5.76-2.73 9Z",
    clipRule: "evenodd"
  })), engine_icon_path2 || (engine_icon_path2 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    fillRule: "evenodd",
    d: "M11.194 14.496c1.501.455 2.515.242 3.03-.272.514-.514.727-1.529.272-3.03-.443-1.46-1.467-3.152-3.003-4.688-1.535-1.535-3.227-2.56-4.687-3.002-1.501-.456-2.516-.242-3.03.272-.514.514-.728 1.529-.272 3.03.443 1.46 1.467 3.152 3.002 4.687 1.536 1.536 3.228 2.56 4.688 3.003Zm-5.329-2.361c3.24 3.239 7.269 4.461 9 2.73 1.731-1.731.509-5.76-2.73-9-3.24-3.24-7.269-4.461-9-2.73-1.731 1.731-.51 5.76 2.73 9Z",
    clipRule: "evenodd"
  })), engine_icon_path3 || (engine_icon_path3 = /*#__PURE__*/external_React_.createElement("path", {
    fill: "#000",
    fillRule: "evenodd",
    d: "M9.07 9.705a.907.907 0 1 0 0-1.814.907.907 0 0 0 0 1.814Zm0 .907a1.814 1.814 0 1 0 0-3.628 1.814 1.814 0 0 0 0 3.628Z",
    clipRule: "evenodd"
  })));
};
/* harmony default export */ const engine_icon = (SvgEngineicon);
;// CONCATENATED MODULE: ./console/computing/icons/table.icon.svg
var icons_table_icon_defs, icons_table_icon_g;
function icons_table_icon_extends() { icons_table_icon_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return icons_table_icon_extends.apply(this, arguments); }

var table_icon_SvgTableicon = function SvgTableicon(props) {
  return /*#__PURE__*/external_React_.createElement("svg", icons_table_icon_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: "1em",
    height: "1em",
    "aria-hidden": "true",
    viewBox: "0 0 13 13"
  }, props), icons_table_icon_defs || (icons_table_icon_defs = /*#__PURE__*/external_React_.createElement("defs", null, /*#__PURE__*/external_React_.createElement("path", {
    id: "table_icon_svg__a",
    d: "M0 0h12v12H0z"
  }))), icons_table_icon_g || (icons_table_icon_g = /*#__PURE__*/external_React_.createElement("g", {
    fill: "none",
    fillRule: "evenodd",
    transform: "translate(.486 .2)"
  }, /*#__PURE__*/external_React_.createElement("mask", {
    id: "table_icon_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/external_React_.createElement("use", {
    xlinkHref: "#table_icon_svg__a"
  })), /*#__PURE__*/external_React_.createElement("path", {
    fill: "currentColor",
    d: "M10.286 12H1.714C.768 12 0 11.14 0 10.08V1.92C0 .86.768 0 1.714 0h8.572C11.232 0 12 .86 12 1.92v8.16c0 1.06-.768 1.92-1.714 1.92ZM3.4 4.41H.964v5.67c0 .459.33.833.738.84h1.7V4.41Zm7.634.004h-6.67v6.506h5.92c.41 0 .743-.368.75-.826v-5.68ZM3.401 1.079H1.714c-.409 0-.742.368-.75.826v1.65H3.4V1.079Zm6.897 0H4.366v2.475h6.67V1.92c0-.458-.329-.832-.738-.84Z",
    mask: "url(#table_icon_svg__b)"
  }))));
};
/* harmony default export */ const icons_table_icon = (table_icon_SvgTableicon);
// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/computing/CEPComputing/index.scss
var CEPComputing = __webpack_require__(5955);
;// CONCATENATED MODULE: ./console/computing/CEPComputing/index.scss

      
      
      
      
      
      
      
      
      

var CEPComputing_options = {};

CEPComputing_options.styleTagTransform = (styleTagTransform_default());
CEPComputing_options.setAttributes = (setAttributesWithoutAttributes_default());
CEPComputing_options.insert = insertBySelector_default().bind(null, "head");
CEPComputing_options.domAPI = (styleDomAPI_default());
CEPComputing_options.insertStyleElement = (insertStyleElement_default());

var CEPComputing_update = injectStylesIntoStyleTag_default()(CEPComputing/* default */.A, CEPComputing_options);




       /* harmony default export */ const computing_CEPComputing = (CEPComputing/* default */.A && CEPComputing/* default */.A.locals ? CEPComputing/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/computing/CEPComputing/components/CEPEngineList.tsx





function CEPEngineList(props) {
    const { current, on_select, data = [], on_refresh } = props;
    return (0,jsx_runtime.jsxs)("div", { className: 'cep-engine-list', children: [(0,jsx_runtime.jsxs)("div", { className: 'cep-engine-list-title', children: [(0,jsx_runtime.jsx)("h3", { children: (0,i18n.t)('CEP 引擎') }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Typography.Link, { onClick: on_refresh, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.RedoOutlined, { className: 'refresh-icon' }), (0,i18n.t)('刷新')] })] }), data.map(item => (0,jsx_runtime.jsxs)("div", { className: classnames_default()('cep-engine-item', { 'cep-engine-item-active': item.name === current?.engineStat?.name }), onClick: () => { on_select(item.name); }, children: [(0,jsx_runtime.jsx)("div", { className: 'cep-engine-item-title', children: item.name }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Row, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Paragraph, { type: 'secondary', children: (0,i18n.t)('创建人：{{name}}', { name: item.user }) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Paragraph, { type: 'secondary', children: (0,i18n.t)('子引擎数：{{num}}', { num: item.numOfSubEngine }) }) })] })] }, item.name))] });
}

;// CONCATENATED MODULE: ./console/computing/CEPComputing/type.ts
var EngineDetailPage;
(function (EngineDetailPage) {
    EngineDetailPage[EngineDetailPage["INFO"] = 0] = "INFO";
    EngineDetailPage[EngineDetailPage["DATAVIEW"] = 1] = "DATAVIEW";
})(EngineDetailPage || (EngineDetailPage = {}));

;// CONCATENATED MODULE: ./console/computing/CEPComputing/api.ts


async function get_cep_engine_list() {
    const res = await model/* model */.ge.ddb.eval('getStreamEngineStat().CEPEngine');
    return res?.value ? (0,utils/* sql_formatter */.Sr)(res) : [];
}
async function get_cep_engine_detail(name) {
    const { value } = (await model/* model */.ge.ddb.eval(`toStdJson(getCEPEngineStat(${JSON.stringify(name)}))`));
    const res = (0,utils/* safe_json_parse */.bu)(value);
    return {
        ...res,
        eventSchema: res?.eventSchema?.map(item => ({
            eventValuesTypeIntList: item.fieldTypeId,
            eventType: item.eventType,
            eventField: item.eventField ? item.eventField.split(',') : [],
            eventValuesTypeStringList: item.fieldType ? item.fieldType.split(',') : [],
            eventFormIdList: item.fieldFormId,
        }))
    };
}
async function get_dataview_info(engine_name, dataview_name) {
    const dataview_info = await model/* model */.ge.ddb.call('getDataViewEngine', [engine_name, dataview_name]);
    const engine_detail = await get_cep_engine_detail(engine_name);
    const [key_col] = engine_detail?.dataViewEngines?.find(item => item.name === dataview_name)?.keyColumns?.split(' ');
    const data_view_table = dataview_info ? (0,utils/* sql_formatter */.Sr)(dataview_info) : [];
    return { table: data_view_table, key_col, keys: data_view_table.map(item => item[key_col]) };
}

;// CONCATENATED MODULE: ./console/computing/CEPComputing/components/DdbObjField.tsx







/**
 * 将控件输入的日期格式转化为 ddb 的时间格式，format 需要与 ddb 中的日期格式一致
      @param type 代表 ddb 中时间类型，如 DATEHOUR、DATETIME 等
      @returns
*/
function DdbObjDatePicker({ onChange, value, type_id, ...others }) {
    const on_value_change = (0,external_React_.useCallback)(async (_, execute_str) => {
        if (type_id === browser/* DdbType */.Z2.month)
            execute_str += 'M';
        else if (type_id === browser/* DdbType */.Z2.datehour)
            execute_str = `datehour(${JSON.stringify(execute_str)})`;
        const obj = await model/* model */.ge.ddb.eval(execute_str);
        onChange(obj);
    }, [type_id]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.DatePicker, { picker: 'date', ...others, onChange: on_value_change });
}
/** 将控件输入的时间格式转化为 ddb 的时间格式，format 需要与 ddb 中的时间格式一致 */
function DdbObjTimePicker({ onChange, type_id, value, ...others }) {
    const on_value_change = (0,external_React_.useCallback)(async (_, time_str) => {
        if (type_id === browser/* DdbType */.Z2.minute)
            time_str += 'm';
        else if (type_id === browser/* DdbType */.Z2.time)
            time_str = `time(${JSON.stringify(time_str)})`;
        const time_obj = await model/* model */.ge.ddb.eval(time_str);
        onChange(time_obj);
    }, [type_id]);
    // @ts-ignore
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.TimePicker, { ...others, format: others.format, onChange: on_value_change });
}
/** 将数值类输入转化为 ddb 的数值格式 */
function DdbObjInputNumber({ onChange, value, ...others }) {
    const on_blur = (0,external_React_.useCallback)(async (e) => {
        let val = e.target.value;
        const obj = await model/* model */.ge.ddb.eval(val);
        onChange(obj);
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { ...others, onBlur: on_blur });
}
/** 将 input 输入的值转化为 ddb 对象 */
function DdbObjInputField({ form, onChange, value, type_id, type = '', ...others }) {
    const is_vector = (0,external_React_.useMemo)(() => form === 1, [form]);
    const on_blur = (0,external_React_.useCallback)(async (e) => {
        let execute_str = e.target.value;
        if (!execute_str) {
            onChange(undefined);
            return;
        }
        switch (type_id) {
            case browser/* DdbType */.Z2.string:
                if (!is_vector)
                    execute_str = JSON.stringify(execute_str);
                break;
            case browser/* DdbType */.Z2.char:
                if (!is_vector)
                    execute_str = `'${execute_str}'`;
                break;
            case browser/* DdbType */.Z2.nanotimestamp:
            case browser/* DdbType */.Z2.nanotime:
            case browser/* DdbType */.Z2.short:
            case browser/* DdbType */.Z2.long:
            case browser/* DdbType */.Z2.double:
            case browser/* DdbType */.Z2.float:
            case browser/* DdbType */.Z2.bool:
                execute_str = `${type?.toLocaleLowerCase()}(${execute_str})`;
                break;
        }
        try {
            const obj = await model/* model */.ge.ddb.eval(execute_str);
            onChange(obj);
        }
        catch (e) {
            onChange(execute_str);
        }
    }, [type_id, is_vector]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入'), ...others, onBlur: on_blur });
}
function DecimalObjInputField(props) {
    const { onChange, type_id, type, scale } = props;
    const [value, set_value] = (0,external_React_.useState)();
    const transfer_decimal = (0,external_React_.useCallback)(async (value, precision) => {
        if (!value || !precision)
            return;
        let execute_str = '';
        switch (type_id) {
            case browser/* DdbType */.Z2.decimal32:
                execute_str = `decimal32(${value}, ${precision})`;
                break;
            case browser/* DdbType */.Z2.decimal64:
                execute_str = `decimal64(${value}, ${precision})`;
                break;
            default:
                execute_str = `decimal128(${value}, ${precision})`;
        }
        try {
            const obj = await model/* model */.ge.ddb.eval(execute_str);
            onChange(obj);
        }
        catch (e) {
            onChange(execute_str);
        }
    }, [type_id]);
    (0,external_React_.useEffect)(() => {
        transfer_decimal(value, scale);
    }, [value, scale, transfer_decimal]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('{{type}} 的值', { type }), onBlur: e => { set_value(e.target.value); } });
}
function DdbObjField({ type, type_id: server_type_id, placeholder, form, ...others }) {
    let type_id = server_type_id;
    let scale = null;
    const is_decimal = type.includes('DECIMAL');
    const is_vector = (0,external_React_.useMemo)(() => form === 1, [form]);
    if (is_decimal)
        [type_id, scale] = convertDecimalType(server_type_id);
    if (is_decimal && !is_vector)
        return (0,jsx_runtime.jsx)(DecimalObjInputField, { type: type, type_id: type_id, ...others, scale: scale });
    else if (is_vector)
        return (0,jsx_runtime.jsx)(DdbObjInputField, { form: form, placeholder: `数据类型为 ${type}[]`, type: type, type_id: type_id, ...others });
    switch (type_id) {
        case browser/* DdbType */.Z2.date:
            return (0,jsx_runtime.jsx)(DdbObjDatePicker, { placeholder: placeholder, format: 'YYYY.MM.DD', type_id: type_id, ...others });
        case browser/* DdbType */.Z2.month:
            return (0,jsx_runtime.jsx)(DdbObjDatePicker, { placeholder: placeholder, format: 'YYYY.MM', type_id: type_id, picker: 'month', ...others });
        case browser/* DdbType */.Z2.datetime:
            return (0,jsx_runtime.jsx)(DdbObjDatePicker, { placeholder: placeholder, format: 'YYYY.MM.DD HH:mm:ss', type_id: type_id, showTime: true, ...others });
        case browser/* DdbType */.Z2.timestamp:
            return (0,jsx_runtime.jsx)(DdbObjDatePicker, { placeholder: placeholder, format: 'YYYY.MM.DD HH:mm:ss.SSS', type_id: type_id, showTime: true, ...others });
        case browser/* DdbType */.Z2.datehour:
            return (0,jsx_runtime.jsx)(DdbObjDatePicker, { placeholder: placeholder, format: 'YYYY.MM.DD HH', type_id: type_id, showTime: { format: 'HH' }, ...others });
        case browser/* DdbType */.Z2.time:
            return (0,jsx_runtime.jsx)(DdbObjTimePicker, { placeholder: placeholder, format: 'HH:mm:ss.SSS', type_id: type_id, ...others });
        case browser/* DdbType */.Z2.minute:
            return (0,jsx_runtime.jsx)(DdbObjTimePicker, { placeholder: placeholder, format: 'HH:mm', type_id: type_id, ...others });
        case browser/* DdbType */.Z2.second:
            return (0,jsx_runtime.jsx)(DdbObjTimePicker, { placeholder: placeholder, format: 'HH:mm:ss', type_id: type_id, ...others });
        case browser/* DdbType */.Z2.int:
            return (0,jsx_runtime.jsx)(DdbObjInputNumber, { placeholder: placeholder, precision: 0, ...others });
        default:
            return (0,jsx_runtime.jsx)(DdbObjInputField, { placeholder: placeholder, type_id: type_id, type: type, ...others });
    }
}

;// CONCATENATED MODULE: ./console/computing/CEPComputing/components/SendEventModal.tsx









const SendEventModal = esm.create(({ on_refresh, engine_info }) => {
    const { eventSchema, engineStat: { name } } = engine_info;
    const modal = useModal();
    const [form] = external_antd_namespaceObject.Form.useForm();
    const on_send = (0,external_React_.useCallback)(async () => {
        try {
            const values = await form.validateFields();
            const params = new browser/* DdbDict */.$5(values);
            await model/* model */.ge.ddb.call('appendEvent', [name, params]);
            external_antd_namespaceObject.message.success((0,i18n.t)('发送成功'));
            on_refresh?.();
            modal.hide();
        }
        catch { }
    }, [name, eventSchema, on_refresh]);
    const event_type = external_antd_namespaceObject.Form.useWatch('eventType', form);
    const msg_item = (0,external_React_.useMemo)(() => {
        const item = eventSchema.find(item => item.eventType === event_type);
        return {
            types: item?.eventValuesTypeStringList ?? [],
            type_ids: item?.eventValuesTypeIntList ?? [],
            keys: item?.eventField ?? [],
            forms: item?.eventFormIdList ?? []
        };
    }, [event_type]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: modal.visible, onCancel: modal.hide, afterClose: modal.remove, onOk: on_send, className: 'cep-send-event-wrapper', title: (0,i18n.t)('发送事件到 {{name}} 引擎', { name }), width: 700, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { form: form, colon: false, labelCol: { span: 6 }, wrapperCol: { span: 18 }, labelAlign: 'left', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('事件类型'), name: 'eventType', rules: [{ required: true }], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { placeholder: (0,i18n.t)('请选择事件类型'), options: eventSchema.map(item => ({ label: item.eventType, value: item.eventType })) }) }), event_type && (0,jsx_runtime.jsxs)("div", { className: 'event-fields-wrapper', children: [(0,jsx_runtime.jsxs)("h4", { children: [(0,i18n.t)('事件字段'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Link, { target: '_blank', className: 'type-doc-link', href: 'https://docs.dolphindb.cn/zh/progr/data_types.html', children: (0,i18n.t)('类型说明') })] }), msg_item.keys.map((key, idx) => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: key, label: key, required: true, tooltip: msg_item.type_ids[idx] === browser/* DdbType */.Z2.point && (msg_item.forms[idx] === 0) ? '格式为 a,b，例如(1, 2)则填入1,2' : null, rules: [
                                {
                                    validator: async (_, value) => {
                                        if (!value)
                                            return Promise.reject((0,i18n.t)('请输入事件字段'));
                                        if (msg_item.types[idx].includes('DECIMAL')) {
                                            // decimal 类型的需要先转化 type，精度不同 type 也不同
                                            const [type_id] = convertDecimalType(msg_item.type_ids[idx]);
                                            if (type_id !== value?.type)
                                                return Promise.reject((0,i18n.t)('字段类型有误，请检查'));
                                        }
                                        else if (msg_item.type_ids[idx] !== value?.type || msg_item.forms[idx] !== value?.form)
                                            return Promise.reject((0,i18n.t)('字段类型有误，请检查'));
                                    }
                                }
                            ], children: (0,jsx_runtime.jsx)(DdbObjField, { type: msg_item.types[idx], form: msg_item.forms[idx], type_id: msg_item.type_ids[idx], placeholder: (0,i18n.t)('数据类型为 {{name}}', { name: msg_item.types[idx] }) }, key) }, key))] })] }) });
});

;// CONCATENATED MODULE: ./console/computing/CEPComputing/components/CEPEngineDetail.tsx














function EngineInfo({ info }) {
    const { engineStat, subEngineStat } = info ?? {};
    const info_items = (0,external_React_.useMemo)(() => [
        {
            key: (0,i18n.t)('引擎名称'),
            label: (0,i18n.t)('引擎名称'),
            children: engineStat?.name ?? '-'
        },
        {
            key: (0,i18n.t)('创建人'),
            label: (0,i18n.t)('创建人'),
            children: engineStat?.user ?? '-'
        },
        {
            key: (0,i18n.t)('状态'),
            label: (0,i18n.t)('状态'),
            children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Badge, { status: 'processing', text: (0,i18n.t)('运行中') })
        },
        {
            key: (0,i18n.t)('子引擎数'),
            label: (0,i18n.t)('子引擎数'),
            children: engineStat?.numOfSubEngine ?? '-'
        },
        {
            key: (0,i18n.t)('接收事件数'),
            label: (0,i18n.t)('接收事件数'),
            children: engineStat?.eventsReceived ?? '-'
        },
        {
            key: (0,i18n.t)('发送事件数'),
            label: (0,i18n.t)('发送事件数'),
            children: engineStat?.eventsEmitted ?? '-'
        },
        {
            key: (0,i18n.t)('事件队列最大深度'),
            label: (0,i18n.t)('事件队列最大深度'),
            children: engineStat?.queueDepth ?? '-'
        },
        {
            key: (0,i18n.t)('是否使用系统时间'),
            label: (0,i18n.t)('是否使用系统时间'),
            children: engineStat?.useSystemTime ? (0,i18n.t)('是') : (0,i18n.t)('否')
        },
        {
            key: (0,i18n.t)('队列中发送事件数'),
            label: (0,i18n.t)('队列中发送事件数'),
            children: engineStat?.eventsOnOutputQueue ?? '-'
        },
        {
            key: (0,i18n.t)('最近错误信息'),
            label: (0,i18n.t)('最近错误信息'),
            children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Paragraph, { ellipsis: { rows: 2, symbol: (0,i18n.t)('展开'), expandable: true }, children: engineStat?.lastErrorMessage ?? '-' })
        }
    ], [engineStat]);
    const cols = (0,external_React_.useMemo)(() => [
        {
            dataIndex: 'subEngineName',
            title: (0,i18n.t)('名称'),
            width: 150,
            fixed: 'left',
        },
        {
            dataIndex: 'eventsOnInputQueue',
            title: (0,i18n.t)('事件队列中待处理事件数'),
            width: 200,
        },
        {
            dataIndex: 'listeners',
            title: (0,i18n.t)('事件监听数'),
            width: 150,
        },
        {
            dataIndex: 'timers',
            title: (0,i18n.t)('计时器数'),
            width: 150,
        },
        {
            dataIndex: 'monitorNumber',
            title: (0,i18n.t)('监视器数'),
            width: 150
        },
        {
            dataIndex: 'eventsRouted',
            title: (0,i18n.t)('插入队列头事件数'),
            width: 200,
        },
        {
            dataIndex: 'eventsSent',
            title: (0,i18n.t)('插入队列尾事件数'),
            width: 150,
        },
        {
            dataIndex: 'eventsReceived',
            title: (0,i18n.t)('接收事件数'),
            width: 150,
        },
        {
            dataIndex: 'eventsConsumed',
            title: (0,i18n.t)('匹配成功事件数'),
            width: 150,
        },
        {
            dataIndex: 'lastEventTime',
            title: (0,i18n.t)('最近接收事件的时间'),
            width: 200,
        },
        {
            dataIndex: 'lastErrorTimestamp',
            title: (0,i18n.t)('最近错误时间'),
            width: 200,
        },
        {
            dataIndex: 'lastErrorMessage',
            title: (0,i18n.t)('最近错误信息'),
            width: 300,
            render: msg => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Paragraph, { ellipsis: { rows: 2, expandable: true, symbol: (0,i18n.t)('展开') }, children: msg })
        },
    ], []);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("h3", { children: (0,i18n.t)('基本信息') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions, { items: info_items, column: 6, layout: 'vertical', colon: false }), (0,jsx_runtime.jsx)("h3", { children: (0,i18n.t)('子引擎信息') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { size: 'small', className: 'sub-engine-table', tableLayout: 'fixed', columns: cols, dataSource: subEngineStat ?? [], scroll: { x: '100%' }, rowKey: 'subEngineName', pagination: {
                    defaultPageSize: 5,
                    pageSizeOptions: ['5', '10', '20'],
                    size: 'small',
                    showSizeChanger: true,
                    showQuickJumper: true,
                    hideOnSinglePage: true
                } })] });
}
function CEPEngineDetail_DataView({ info }) {
    const { ddb: { username, password } } = model/* model */.ge;
    // 缓存连接，每次选择 dataview 的时候新建连接，订阅 dataview 的流表，切换的时候关闭
    const [cep_ddb, set_cep_ddb] = (0,external_React_.useState)();
    const [loading, set_loading] = (0,external_React_.useState)(false);
    // 用于存储每个 key 对应的数据，初始化的时候或者接受到流表推送的时候更新
    const [key_data_map, set_key_data_map] = (0,external_React_.useState)({});
    // 当前选中的 key
    const [selected_key, set_selected_key] = (0,external_React_.useState)();
    // dataview 的所有 key
    const [view_keys, set_view_keys] = (0,external_React_.useState)([]);
    const [key_info, set_key_info] = (0,external_React_.useState)({
        // 与 view_keys 可能会有不同，因为做了模糊搜索
        keys: [],
        page: 1,
        page_size: 10
    });
    (0,external_React_.useEffect)(() => {
        return () => { cep_ddb?.disconnect?.(); };
    }, [cep_ddb]);
    const reset = (0,external_React_.useCallback)(() => {
        set_key_info({
            keys: [],
            page: 1,
            page_size: 10
        });
        set_key_data_map({});
        set_view_keys([]);
    }, []);
    (0,external_React_.useEffect)(() => {
        reset();
    }, [info.engineStat.name]);
    // 订阅流表
    const on_subscribe = (0,external_React_.useCallback)(async (streaming_table, key_column) => {
        // 订阅前取消上个 dataview 的订阅
        cep_ddb?.disconnect();
        const cep_streaming_ddb = new browser/* DDB */.ZY(model/* model */.ge.ddb.url, {
            autologin: !!username,
            username,
            password,
            streaming: {
                table: streaming_table,
                handler(message) {
                    if (message.error) {
                        console.error(message.error);
                        return;
                    }
                    const streaming_data = (0,utils/* stream_formatter */.aS)(message.obj, 0, message.data.columns);
                    for (let item of streaming_data)
                        set_key_data_map(data => ({ ...data, [item[key_column]]: item }));
                }
            }
        });
        await cep_streaming_ddb.connect();
        set_cep_ddb(cep_streaming_ddb);
    }, [cep_ddb, info]);
    // 选择 dataview
    const on_select = (0,external_React_.useCallback)(async (name) => {
        set_loading(true);
        const { table, keys, key_col } = await get_dataview_info(info.engineStat.name, name);
        set_view_keys(keys);
        set_key_info(val => ({ ...val, keys }));
        const key_map = {};
        for (let key of keys)
            key_map[key] = table.find(view_item => view_item[key_col] === key);
        set_key_data_map(key_map);
        const output_table_name = info.dataViewEngines.find(item => item.name === name).outputTableName;
        on_subscribe(output_table_name, key_col);
        set_loading(false);
    }, [info]);
    const on_search_key = (0,external_React_.useCallback)((e) => {
        const name = e.target.value;
        if (!name)
            set_key_info(val => ({ ...val, keys: view_keys }));
        set_key_info(val => ({ ...val, page: 1, keys: view_keys.filter(item => item.includes(name)) }));
    }, [view_keys]);
    const table_data_source = (0,external_React_.useMemo)(() => {
        if (!selected_key)
            return [];
        // 将宽表转化为窄表
        return Object.entries(key_data_map?.[selected_key] ?? {}).map(([name, value]) => ({ name, value }));
    }, [key_data_map, selected_key]);
    return (0,jsx_runtime.jsxs)("div", { className: 'data-view-info', children: [(0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { allowClear: true, className: 'data-view-select', placeholder: (0,i18n.t)('请选择数据视图'), options: info?.dataViewEngines?.map(item => ({
                            label: item.name,
                            value: item.name
                        })), onSelect: on_select, onClear: () => {
                            reset();
                            cep_ddb?.disconnect?.();
                        }, showSearch: true }), (0,jsx_runtime.jsxs)("div", { className: 'data-view-key-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { className: 'data-view-key-search-input', placeholder: (0,i18n.t)('请输入要查询的 key'), suffix: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SearchOutlined, {}), onChange: on_search_key }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { spinning: loading, children: !!key_info.keys.length ? (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [key_info.keys
                                            .slice((key_info.page - 1) * key_info.page_size, key_info.page * key_info.page_size)
                                            .map(key => (0,jsx_runtime.jsx)("div", { className: classnames_default()('data-view-key-item', { 'data-view-key-item-active': key === selected_key }), onClick: () => { set_selected_key(key); }, children: key }, key)), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { simple: true, size: 'small', onChange: (page, page_size) => { set_key_info(val => ({ ...val, page, page_size })); }, defaultCurrent: key_info.page, total: key_info.keys.length, hideOnSinglePage: true })] })
                                    : (0,jsx_runtime.jsx)(external_antd_namespaceObject.Empty, { image: external_antd_namespaceObject.Empty.PRESENTED_IMAGE_SIMPLE }) })] }), (0,jsx_runtime.jsx)("div", {})] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { size: 'small', className: 'data-view-table', dataSource: table_data_source, rowKey: 'name', columns: [
                    { title: (0,i18n.t)('名称'), dataIndex: 'name', width: 300 },
                    { title: (0,i18n.t)('值'), dataIndex: 'value' }
                ], locale: { emptyText: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Empty, { image: external_antd_namespaceObject.Empty.PRESENTED_IMAGE_SIMPLE, description: (0,i18n.t)('请选择需要观测的 key') }) }, pagination: {
                    defaultPageSize: 20,
                    pageSizeOptions: ['10', '20', '50'],
                    size: 'small',
                    showSizeChanger: true,
                    showQuickJumper: true,
                    hideOnSinglePage: true
                } })] });
}
function CEPEngineDetail(props) {
    const { engine, className, on_refresh } = props;
    const [page, set_page] = (0,external_React_.useState)(EngineDetailPage.INFO);
    const view = (0,external_React_.useMemo)(() => {
        switch (page) {
            case EngineDetailPage.DATAVIEW:
                return (0,jsx_runtime.jsx)(CEPEngineDetail_DataView, { info: engine });
            default:
                return (0,jsx_runtime.jsx)(EngineInfo, { info: engine });
        }
    }, [page, engine]);
    const on_send_event = (0,external_React_.useCallback)(async () => {
        await esm.show(SendEventModal, { engine_info: engine, on_refresh });
    }, [engine]);
    return (0,jsx_runtime.jsxs)("div", { className: `cep-engine-detail ${className}`, children: [(0,jsx_runtime.jsxs)("div", { className: 'cep-detail-header', children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Radio.Group, { value: page, onChange: e => { set_page(e.target.value); }, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Radio.Button, { value: EngineDetailPage.INFO, children: (0,i18n.t)('引擎信息') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Radio.Button, { value: EngineDetailPage.DATAVIEW, children: (0,i18n.t)('数据视图') })] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Space, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: on_send_event, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SendOutlined, {}), children: (0,i18n.t)('发送事件到引擎') }), page === EngineDetailPage.INFO && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: on_refresh, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.RedoOutlined, {}), children: (0,i18n.t)('刷新') })] })] }), view] });
}

;// CONCATENATED MODULE: ./console/computing/CEPComputing/index.tsx








function CEPComputing_CEPComputing() {
    // 当前选中的引擎名称
    const [current, set_current] = (0,external_React_.useState)();
    const [engine_list, set_engine_list] = (0,external_React_.useState)([]);
    const [loading, set_loading] = (0,external_React_.useState)(true);
    const on_select = (0,external_React_.useCallback)(async (name) => {
        const detail = await get_cep_engine_detail(name);
        set_current(detail);
    }, []);
    // 获取 cep 引擎列表及当前选中的引擎详情，初始时展示第一个 cep 引擎的详情
    const get_cep_engines = (0,external_React_.useCallback)(async () => {
        const list = await get_cep_engine_list();
        set_engine_list(list);
        if (list.length) {
            const detail = await get_cep_engine_detail(current?.engineStat?.name ?? list?.[0]?.name);
            set_current(detail);
        }
        set_loading(false);
    }, [current]);
    (0,external_React_.useEffect)(() => {
        // 获取引擎列表
        get_cep_engines();
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { spinning: loading, children: engine_list.length === 0
            ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Empty, { className: 'cep-engine-empty', image: external_antd_namespaceObject.Empty.PRESENTED_IMAGE_SIMPLE })
            : (0,jsx_runtime.jsxs)("div", { className: 'cep-computing-wrapper', children: [engine_list.length > 1 && (0,jsx_runtime.jsx)(CEPEngineList, { on_select: on_select, current: current, data: engine_list, on_refresh: get_cep_engines }), (0,jsx_runtime.jsx)(CEPEngineDetail, { className: classnames_default()({ 'cep-engine-detail-single': engine_list.length === 1 }), engine: current, on_refresh: get_cep_engines })] }) });
}

;// CONCATENATED MODULE: ./console/computing/index.tsx

















function Computing() {
    const { streaming_stat, origin_streaming_engine_stat, persistent_table_stat, shared_table_stat } = model_computing.use([
        'streaming_stat',
        'origin_streaming_engine_stat',
        'persistent_table_stat',
        'shared_table_stat'
    ]);
    const [tab_key, set_tab_key] = (0,external_React_.useState)('streaming_pub_sub_stat');
    const { logined, node_type, version } = model/* model */.ge.use(['logined', 'node_type', 'version']);
    const show_cep_engine = (0,external_React_.useMemo)(() => {
        if (!version)
            return false;
        const server_version = version + (0,external_.repeat)('.0', 4 - version.split('.').length);
        return (0,utils_browser/* vercmp */.cm)(server_version, '3.00.00.0') >= 0;
    }, [version]);
    (0,external_React_.useEffect)(() => {
        if (!logined || node_type === model/* NodeType */.Z6.controller)
            return;
        (async () => {
            if (!model_computing.inited)
                await model_computing.init();
            await model_computing.get_streaming_pub_sub_stat();
            await model_computing.get_streaming_engine_stat();
            await model_computing.get_streaming_table_stat();
        })();
    }, []);
    if (node_type === model/* NodeType */.Z6.controller)
        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { status: 'warning', className: 'interceptor', title: (0,i18n.t)('控制节点不支持流数据的发布订阅，请跳转到数据节点或计算节点查看流数据状态。') });
    if (!logined)
        return (0,jsx_runtime.jsx)(Unlogin, { info: '\u5F53\u524D\u8282\u70B9\u6D41\u8BA1\u7B97\u72B6\u6001' });
    const tab_content = {
        streaming_pub_sub_stat: {
            title: (0,i18n.t)('流计算发布订阅状态'),
            refresher: model_computing.get_streaming_pub_sub_stat
        },
        streaming_engine_stat: {
            title: (0,i18n.t)('流计算引擎状态'),
            refresher: model_computing.get_streaming_engine_stat
        },
        streaming_table_stat: {
            title: (0,i18n.t)('流数据表状态'),
            refresher: model_computing.get_streaming_table_stat
        }
    };
    if (!streaming_stat || !origin_streaming_engine_stat || !shared_table_stat)
        return (0,jsx_runtime.jsx)("div", { className: 'spin-container', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { size: 'large', delay: 300 }) });
    const streaming_engine_cols = Object.keys(leading_cols.engine).map(col_name => ({
        title: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: col_name.charAt(0).toUpperCase() + col_name.slice(1), children: (0,jsx_runtime.jsx)("span", { className: 'col-title', children: leading_cols.engine[col_name] }) }),
        dataIndex: col_name,
        render: value => (0,jsx_runtime.jsx)("span", { children: value })
    }));
    let streaming_engine_rows = [];
    for (let engineType of Object.keys(origin_streaming_engine_stat))
        for (let row of origin_streaming_engine_stat[engineType].to_rows()) {
            let new_row = {};
            // 特殊的三种引擎类型，内存使用为 memoryInUsed
            if (special_engine_type.has(engineType))
                row.memoryUsed = row.memoryInUsed;
            for (let key of Object.keys(leading_cols.engine))
                new_row[key] = row.hasOwnProperty(key) ? (typeof row[key] === 'bigint' ? Number(row[key]) : row[key]) : '--';
            for (let key of Object.keys(expanded_cols.engine[engineType] || {}))
                new_row[key] = row.hasOwnProperty(key) ? (typeof row[key] === 'bigint' ? Number(row[key]) : row[key] === null ? '' : row[key]) : '';
            new_row = { ...new_row, engineType };
            streaming_engine_rows.push(new_row);
        }
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tabs, { className: 'themed', activeKey: tab_key, type: 'card', onChange: set_tab_key, destroyInactiveTabPane: true, items: [
            {
                key: 'streaming_pub_sub_stat',
                label: ((0,jsx_runtime.jsxs)("label", { className: 'tab-header', children: [(0,jsx_runtime.jsx)("div", { className: 'tab-icon sm-font', children: (0,jsx_runtime.jsx)(publish_icon, {}) }), tab_content.streaming_pub_sub_stat.title] })),
                children: ((0,jsx_runtime.jsxs)("div", { className: 'streaming_pub_sub_stat', children: [(0,jsx_runtime.jsx)(StateTable, { type: 'subWorkers', cols: computing_set_col_width(add_details_col(render_col_title(translate_order_col(set_col_color(sort_col(streaming_stat.subWorkers.to_cols().filter(col => col.title in leading_cols.subWorkers), 'subWorkers'), 'queueDepth'), true), 'subWorkers')), 'subWorkers'), rows: handle_null(add_details_row(add_unit(computing_handle_ellipsis_col(add_key(streaming_stat.subWorkers.to_rows(), 1), 'lastErrMsg'), 'subWorkers'))), min_width: 1420, default_page_size: 10, refresher: model_computing.get_streaming_pub_sub_stat }), streaming_stat.pubConns && (0,jsx_runtime.jsx)(StateTable, { type: 'pubConns', cols: set_col_color(render_col_title(streaming_stat.pubConns.to_cols(), 'pubConns'), 'queueDepth'), rows: add_key(streaming_stat.pubConns.to_rows()), separated: false })] }))
            },
            {
                key: 'streaming_engine_stat',
                label: ((0,jsx_runtime.jsxs)("label", { className: 'tab-header', children: [(0,jsx_runtime.jsx)("div", { className: 'tab-icon', children: (0,jsx_runtime.jsx)(engine_icon, {}) }), tab_content.streaming_engine_stat.title] })),
                children: ((0,jsx_runtime.jsx)("div", { className: 'streaming-engine-stat', children: (0,jsx_runtime.jsx)(StateTable, { type: 'engine', cols: computing_set_col_width(add_details_col(translate_order_col(set_col_ellipsis(translate_format_col(streaming_engine_cols, 'memoryUsed'), 'metrics'), false)), 'engine'), rows: handle_null(add_details_row(add_unit(translate_byte_row(computing_handle_ellipsis_col(add_key(streaming_engine_rows), 'lastErrMsg'), 'memoryUsed'), 'engine'))), min_width: 1530, separated: false, default_page_size: 20, refresher: model_computing.get_streaming_engine_stat }) }))
            },
            {
                key: 'streaming_table_stat',
                label: (0,jsx_runtime.jsxs)("label", { className: 'tab-header', children: [(0,jsx_runtime.jsx)("div", { className: 'tab-icon sm-font', children: (0,jsx_runtime.jsx)(icons_table_icon, {}) }), tab_content.streaming_table_stat.title] }),
                children: ((0,jsx_runtime.jsxs)("div", { className: 'persistent-table-stat', children: [(0,jsx_runtime.jsx)(StateTable, { type: 'sharedStreamingTableStat', cols: render_col_title(translate_format_col(shared_table_stat.to_cols(), 'memoryUsed'), 'sharedStreamingTableStat'), rows: translate_byte_row(add_key(shared_table_stat.to_rows()), 'memoryUsed'), refresher: model_computing.get_streaming_table_stat }), model_computing.persistence_dir && (0,jsx_runtime.jsx)(StateTable, { type: 'persistenceMeta', cols: render_col_title(sort_col(computing_set_col_width(translate_format_col(persistent_table_stat.to_cols(), 'memoryUsed'), 'persistenceMeta'), 'persistenceMeta'), 'persistenceMeta'), rows: handle_null(translate_byte_row(computing_handle_ellipsis_col(add_key(persistent_table_stat.to_rows()), 'persistenceDir'), 'memoryUsed')), min_width: 1600, refresher: model_computing.get_streaming_table_stat }), streaming_stat.persistWorkers && ((0,jsx_runtime.jsx)(StateTable, { type: 'persistWorkers', cols: render_col_title(set_col_color(streaming_stat.persistWorkers.to_cols(), 'queueDepth'), 'persistWorkers'), rows: add_key(streaming_stat.persistWorkers.to_rows()), separated: true }))] }))
            },
            ...(show_cep_engine ? [{
                    key: 'cep_computing',
                    children: (0,jsx_runtime.jsx)(CEPComputing_CEPComputing, {}),
                    label: (0,jsx_runtime.jsxs)("label", { className: 'tab-header', children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.FormatPainterOutlined, { className: 'tab-icon sm-font' }), (0,i18n.t)('CEP 流计算引擎')] }),
                }] : [])
        ], tabBarExtraContent: tab_key === 'cep_computing'
            ? null
            : (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => {
                    await tab_content[tab_key].refresher.call(model_computing);
                    model/* model */.ge.message.success(`${tab_content[tab_key].title}${(0,i18n.t)('刷新成功')}`);
                }, children: (0,i18n.t)('刷新') }) });
}
const special_engine_type = new Set(['NarrowReactiveStreamEngine', 'ReactiveStreamEngine', 'DualOwnershipReactiveStreamEngine']);
const computing_cols_width = {
    subWorkers: {
        workerId: 70,
        topic: 240,
        queueDepth: 90,
        queueDepthLimit: 100,
        lastErrMsg: 240,
        details: 80
    },
    engine: {
        name: 120,
        engineType: 200,
        lastErrMsg: 150,
        numGroups: 80,
        metrics: 120,
        status: 100,
        details: 80
    },
    persistenceMeta: {
        tablename: 150,
        loaded: 100,
        columns: 60,
        memoryUsed: 100,
        lastLogSeqNum: 120,
        sizeInMemory: 100,
        asynWrite: 110,
        totalSize: 90,
        raftGroup: 70,
        compress: 70,
        sizeOnDisk: 100,
        retentionMinutes: 120,
        memoryOffset: 100,
        hashValue: 90,
        diskOffset: 100
    }
};
const header_text = {
    subWorkers: {
        title: (0,i18n.t)('订阅线程状态'),
        tip: (0,i18n.t)('监控订阅节点的工作线程的状态。工作线程状态信息会按照 topic 来展示。'),
        func: 'getStreamingStat().subWorkers'
    },
    pubConns: {
        title: (0,i18n.t)('发布状态'),
        tip: (0,i18n.t)('监控本地发布节点和它的所有订阅节点之间的连接状态。'),
        func: 'getStreamingStat().pubConns'
    },
    persistWorkers: {
        title: (0,i18n.t)('持久化线程状态'),
        tip: (0,i18n.t)('监控负责持久化流数据表的工作线程的状态。'),
        func: 'getStreamingStat().persistWorkers'
    },
    persistenceMeta: {
        title: (0,i18n.t)('持久化共享流表状态'),
        tip: (0,i18n.t)('监控启用了持久化的共享流数据表的元数据。'),
        func: 'getStreamTables(1)'
    },
    sharedStreamingTableStat: {
        title: (0,i18n.t)('非持久化共享流表状态'),
        tip: (0,i18n.t)('监控未启用持久化的共享流数据表的元数据。'),
        func: 'getStreamTables(2)'
    },
    engine: {
        title: (0,i18n.t)('流引擎状态'),
        tip: (0,i18n.t)('监控流计算引擎的状态。'),
        func: 'getStreamEngineStat()'
    }
};
const button_text = {
    subWorkers: {
        title: (0,i18n.t)('流数据表'),
        action: (0,i18n.t)('取消订阅')
    },
    engine: {
        title: (0,i18n.t)('引擎'),
        action: (0,i18n.t)('删除')
    },
    persistenceMeta: {
        title: (0,i18n.t)('持久化共享数据流表'),
        action: (0,i18n.t)('删除')
    },
    sharedStreamingTableStat: {
        title: (0,i18n.t)('共享数据流表'),
        action: (0,i18n.t)('删除')
    }
};
const leading_cols = {
    subWorkers: {
        workerId: (0,i18n.t)('线程 ID'),
        topic: (0,i18n.t)('订阅主题'),
        queueDepth: (0,i18n.t)('队列深度'),
        queueDepthLimit: (0,i18n.t)('队列深度上限'),
        lastErrMsg: (0,i18n.t)('最近处理失败的错误信息'),
        lastFailedTimestamp: (0,i18n.t)('最近错误时刻'),
        failedMsgCount: (0,i18n.t)('失败消息总数'),
        processedMsgCount: (0,i18n.t)('已处理消息数'),
        lastMsgId: (0,i18n.t)('最近处理消息 ID'),
        lastFailedMsgId: (0,i18n.t)('最近错误消息 ID')
    },
    pubConns: {
        client: (0,i18n.t)('订阅节点'),
        queueDepthLimit: (0,i18n.t)('发布队列深度上限'),
        queueDepth: (0,i18n.t)('发布队列深度'),
        tables: (0,i18n.t)('表名')
    },
    persistenceMeta: {
        tablename: (0,i18n.t)('表名'),
        loaded: (0,i18n.t)('加载到内存'),
        columns: (0,i18n.t)('列数'),
        memoryUsed: (0,i18n.t)('内存大小'),
        totalSize: (0,i18n.t)('总行数'),
        sizeInMemory: (0,i18n.t)('内存中行数'),
        memoryOffset: (0,i18n.t)('内存中偏移量'),
        sizeOnDisk: (0,i18n.t)('磁盘中行数'),
        diskOffset: (0,i18n.t)('磁盘中偏移量'),
        asynWrite: (0,i18n.t)('是否异步持久化'),
        retentionMinutes: (0,i18n.t)('保留时间（分钟）'),
        compress: (0,i18n.t)('是否压缩'),
        persistenceDir: (0,i18n.t)('持久化路径'),
        hashValue: (0,i18n.t)('持久化线程'),
        raftGroup: (0,i18n.t)('Raft 组'),
        lastLogSeqNum: (0,i18n.t)('Raft 日志序号')
    },
    persistWorkers: {
        workerId: (0,i18n.t)('线程 ID'),
        queueDepthLimit: (0,i18n.t)('订阅队列深度上限'),
        queueDepth: (0,i18n.t)('订阅队列深度'),
        tables: (0,i18n.t)('表名')
    },
    sharedStreamingTableStat: {
        TableName: (0,i18n.t)('表名'),
        rows: (0,i18n.t)('行数'),
        columns: (0,i18n.t)('列数'),
        memoryUsed: (0,i18n.t)('内存大小')
    },
    engine: {
        name: (0,i18n.t)('引擎名'),
        engineType: (0,i18n.t)('引擎类型'),
        lastErrMsg: (0,i18n.t)('最近错误信息'),
        memoryUsed: (0,i18n.t)('内存'),
        numGroups: (0,i18n.t)('分组数'),
        numRows: (0,i18n.t)('行数（单表）'),
        leftTableNumRows: (0,i18n.t)('行数（左表）'),
        rightTableNumRows: (0,i18n.t)('行数（右表）'),
        garbageSize: (0,i18n.t)('内存清理阈值'),
        numMetrics: (0,i18n.t)('指标数量'),
        metrics: (0,i18n.t)('指标源码'),
        user: (0,i18n.t)('用户'),
        status: (0,i18n.t)('状态')
    }
};
const expanded_cols = {
    subWorkers: {
        batchSize: '批次大小',
        throttle: '等待间隔',
        filter: '过滤列',
        msgAsTable: '消息是否为表',
        hash: '订阅 hash 值',
        persistOffset: '开启订阅偏移持久化',
        timeTrigger: '强制按时间间隔触发',
        handlerNeedMsgId: '包含消息 ID',
        raftGroup: '高可用组'
    },
    engine: {
        TimeSeriesEngine: {
            windowTime: (0,i18n.t)('窗口长度'),
            step: (0,i18n.t)('步长'),
            useSystemTime: (0,i18n.t)('是否使用系统时间'),
            snapshotDir: (0,i18n.t)('快照目录'),
            snapshotInterval: (0,i18n.t)('快照间隔'),
            snapshotMsgId: (0,i18n.t)('快照 ID'),
            snapshotTimestamp: (0,i18n.t)('快照时间戳')
        },
        CrossSectionalEngine: {
            triggeringPattern: (0,i18n.t)('触发方式'),
            triggeringInterval: (0,i18n.t)('触发间隔')
        },
        AnomalyDetectionEngine: {
            snapshotDir: (0,i18n.t)('快照目录'),
            snapshotInterval: (0,i18n.t)('快照间隔'),
            snapshotMsgId: (0,i18n.t)('快照 ID'),
            snapshotTimestamp: (0,i18n.t)('快照时间戳')
        },
        ReactiveStreamEngine: {
            snapshotDir: (0,i18n.t)('快照目录'),
            snapshotInterval: (0,i18n.t)('快照间隔'),
            snapshotMsgId: (0,i18n.t)('快照 ID'),
            snapshotTimestamp: (0,i18n.t)('快照时间戳')
        },
        SessionWindowEngine: {
            sessionGap: (0,i18n.t)('时间间隔'),
            useSystemTime: (0,i18n.t)('是否使用系统时间'),
            snapshotDir: (0,i18n.t)('快照目录'),
            snapshotInterval: (0,i18n.t)('快照间隔'),
            snapshotMsgId: (0,i18n.t)('快照 ID'),
            snapshotTimestamp: (0,i18n.t)('快照时间戳')
        },
        DailyTimeSeriesEngine: {
            windowTime: (0,i18n.t)('窗口长度'),
            step: (0,i18n.t)('步长'),
            useSystemTime: (0,i18n.t)('是否使用系统时间'),
            snapshotDir: (0,i18n.t)('快照目录'),
            snapshotInterval: (0,i18n.t)('快照间隔'),
            snapshotMsgId: (0,i18n.t)('快照 ID'),
            snapshotTimestamp: (0,i18n.t)('快照时间戳')
        },
        AsofJoinEngine: {
            useSystemTime: (0,i18n.t)('是否使用系统时间'),
            delayedTime: (0,i18n.t)('等待时间间隔')
        },
        DualOwnershipReactiveStreamEngine: {
            snapshotDir: (0,i18n.t)('快照目录'),
            snapshotInterval: (0,i18n.t)('快照间隔'),
            snapshotMsgId: (0,i18n.t)('快照 ID'),
            snapshotTimestamp: (0,i18n.t)('快照时间戳')
        },
        StreamFilter: {
            filters: (0,i18n.t)('过滤条件')
        }
    }
};
const units = {
    subWorkers: {
        batchSize: (0,i18n.t)('条'),
        throttle: (0,i18n.t)('毫秒')
    },
    engine: {
        triggeringInterval: (0,i18n.t)('毫秒')
    }
};
const computing_detail_title = {
    lastErrMsg: (0,i18n.t)('错误详细信息'),
    persistenceDir: (0,i18n.t)('持久化路径')
};
/** 省略文本内容，提供`详细`按钮，点开后弹出 modal 显示详细信息 */
function computing_handle_ellipsis_col(table, col_name) {
    return table.map(row => {
        if (col_name === 'lastErrMsg')
            row.order = row[col_name];
        // row[col_name] = <DetailInfo text={row[col_name] as string} type={col_name} />
        row[col_name] = (0,jsx_runtime.jsx)(TableCellDetail, { content: row[col_name], title: computing_detail_title[col_name] });
        return row;
    });
}
/** 增加单位 */
function add_unit(table, table_name) {
    const unit_keys = Object.keys(units[table_name]);
    return table.map(row => {
        for (let key of unit_keys)
            row[key] = `${row[key]} ${units[table_name][key]}`;
        return row;
    });
}
/** 按照主要列（leading_cols）的顺序对表格进行排序 */
function sort_col(cols, type) {
    return Object.keys(leading_cols[type]).map(col_name => cols.find(({ dataIndex }) => dataIndex === col_name));
}
/** 增加排序列，subWorker 的 lastErrMsg 和 queueDepth，engine 的 lastErrMsg 和 memoryUsed  */
function translate_order_col(cols, is_sub_workers) {
    const i_depth_col = cols.findIndex(({ dataIndex }) => dataIndex === (is_sub_workers ? 'queueDepth' : 'memoryUsed'));
    const i_last_err_msg_col = cols.findIndex(({ dataIndex }) => dataIndex === 'lastErrMsg');
    function msg_order_function(a, b) {
        return a.order && !b.order ? 1 : b.order && !a.order ? -1 : 0;
    }
    cols[i_depth_col] = {
        ...cols[i_depth_col],
        sorter: is_sub_workers
            ? (a, b) => Number(a.queueDepth) - Number(b.queueDepth)
            : (a, b) => Number(a.origin_bytes) - Number(b.origin_bytes),
        sortDirections: ['descend'],
        showSorterTooltip: false
    };
    cols[i_last_err_msg_col] = { ...cols[i_last_err_msg_col],
        sorter: msg_order_function,
        sortDirections: ['descend'],
        showSorterTooltip: false };
    return cols;
}
/** 为每一张表增加 key */
function add_key(table, key_index = 0) {
    const { title = '' } = table;
    return table.map(row => {
        return { ...row, key: title === 'pubConns' ? row.client + row.tables : Object.values(row)[key_index] };
    });
}
/** 这里需要改掉 render，原有的 render 会对数据做 format，导致抛出 NaN  */
function translate_format_col(cols, col_name) {
    return cols.map(col => {
        if (col.dataIndex === col_name)
            col.render = value => value;
        return col;
    });
}
/** 处理 byte */
function translate_byte_row(table, col_name) {
    return table.map(row => ({
        ...row,
        origin_bytes: row[col_name],
        [col_name]: row[col_name] === '--' ? row[col_name] : Number(row[col_name]).to_fsize_str()
    }));
}
/** 翻译列名，添加 tooltip */
function render_col_title(cols, table_name) {
    for (let col of cols) {
        let title = col.title;
        col.title = ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { className: 'col-title', title: title.charAt(0).toUpperCase() + title.slice(1), placement: 'bottom', children: leading_cols[table_name][title] }));
    }
    return cols;
}
/** 给 subWorkers 的 queueDepth 字段添加警告颜色 */
function set_col_color(cols, col_name) {
    let col = cols.find(({ dataIndex }) => dataIndex === col_name);
    col.render = value => {
        let color = 'green';
        if (value >= 1n && value < 10000n)
            color = 'orange';
        else if (value >= 10000n)
            color = 'red';
        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('0 为绿色，1-10000 为橙色，10000 以上为红色。'), children: (0,jsx_runtime.jsx)("span", { className: color, children: Number(value) }) });
    };
    return cols;
}
/** 设置列宽 */
function computing_set_col_width(cols, type) {
    for (let width_key of Object.keys(computing_cols_width[type])) {
        let col = cols.find(col => col.dataIndex === width_key);
        col.width = computing_cols_width[type][width_key];
    }
    return cols;
}
/** 设置单元格自动省略 */
function set_col_ellipsis(cols, col_name) {
    let col = cols.find(({ dataIndex }) => dataIndex === col_name);
    col.ellipsis = { showTitle: true };
    col.render = value => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { placement: 'topLeft', title: value, children: value });
    return cols;
}
/** 增加额外信息列 */
function add_details_col(cols) {
    return [
        ...cols,
        {
            title: (0,jsx_runtime.jsx)("span", { className: 'col-title', children: (0,i18n.t)('更多信息') }),
            dataIndex: 'details',
            render: (value) => value
        }
    ];
}
/** 增加额外信息行，点击展示更多信息 */
function add_details_row(table) {
    return table.map(row => {
        const { engineType } = row;
        const detailed_keys = Object.keys((!engineType ? expanded_cols.subWorkers : expanded_cols.engine[engineType]) || {});
        const dict = !engineType ? expanded_cols.subWorkers : expanded_cols.engine[engineType];
        const info = () => model/* model */.ge.modal.info({
            title: !engineType ? row.topic : row.name,
            className: 'computing-show-more-modal',
            content: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.List, { dataSource: detailed_keys.map(key => {
                    return `${dict[key]}: ${row[key] === -1 || row[key] === -1n || row[key] === null ? '' : row[key]}`;
                }), renderItem: item => (0,jsx_runtime.jsx)(external_antd_namespaceObject.List.Item, { children: item }), split: false }))
        });
        return { ...row, details: dict ? (0,jsx_runtime.jsx)("a", { onClick: info, children: (0,i18n.t)('点击查看') }) : '--' };
    });
}
/** 将表里的 -1 转成真正的 null,null 转为空 */
function handle_null(table) {
    return table.map(row => {
        for (let key in row)
            row[key] = row[key] === -1 || row[key] === -1n ? null : row[key];
        return row;
    });
}
/** 统一处理删除 */
async function handle_delete(type, selected, ddb, refresher, raftGroups) {
    switch (type) {
        case 'subWorkers':
            await Promise.all(selected.map(async (pub_table, idx) => {
                const pub_table_arr = pub_table.split('/');
                const [ip, port] = pub_table_arr[0].split(':');
                let script = '';
                if (raftGroups[idx])
                    script = `rpc('${model/* model */.ge.get_controller_alias()}','unsubscribeTable','${pub_table_arr[1]}', '${pub_table_arr[2] || ''}')`;
                else
                    script =
                        ip === model/* model */.ge.node.host && Number(port) === model/* model */.ge.node.port
                            ? `unsubscribeTable(,'${pub_table_arr[1]}', '${pub_table_arr[2] || ''}')`
                            : `h=xdb('${ip}',${port})\n` + `unsubscribeTable(h,'${pub_table_arr[1]}','${pub_table_arr[2] || ''}')`;
                ddb.eval(script, { urgent: true });
            }));
            model/* model */.ge.message.success((0,i18n.t)('取消订阅成功'));
            break;
        case 'persistenceMeta':
            await Promise.all(selected.map(async (streaming_table_name, idx) => ddb.call('dropStreamTable', [streaming_table_name, raftGroups[idx] ? false : true], { urgent: true })));
            model/* model */.ge.message.success((0,i18n.t)('流数据表删除成功'));
            break;
        case 'sharedStreamingTableStat':
            await Promise.all(selected.map(async (streaming_table_name) => ddb.call('dropStreamTable', [streaming_table_name, true], { urgent: true })));
            model/* model */.ge.message.success((0,i18n.t)('流数据表删除成功'));
            break;
        case 'engine':
            await Promise.all(selected.map(async (engine_name) => ddb.call('dropStreamEngine', [engine_name], { urgent: true })));
            model/* model */.ge.message.success((0,i18n.t)('引擎删除成功'));
    }
    await refresher.call(model_computing);
}
function DeleteModal({ table_name, selected, set_selected, refresher }) {
    const [input_value, set_input_value] = (0,external_React_.useState)('');
    const { visible, open, close } = use_modal();
    const { ddb } = model/* model */.ge.use(['ddb']);
    const { streaming_stat, persistent_table_stat } = model_computing.use(['streaming_stat', 'persistent_table_stat']);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'computing-delete-modal', title: (0,jsx_runtime.jsxs)("div", { className: 'delete-warning-title', children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.WarningOutlined, {}), (0,jsx_runtime.jsxs)("span", { children: [(0,i18n.t)('确认{{action}}选中的 ', { action: button_text[table_name].action }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: selected.map(name => (0,jsx_runtime.jsx)("p", { children: name }, name)), children: (0,jsx_runtime.jsx)("span", { className: 'selected-number', children: selected.length }) }), (0,i18n.t)(' 个{{item}}吗?', { item: button_text[table_name].title })] })] }), open: visible, onCancel: () => {
                    set_input_value('');
                    close();
                }, cancelButtonProps: { className: 'hidden' }, okText: button_text[table_name].action, okButtonProps: { disabled: input_value !== 'YES', className: input_value !== 'YES' ? 'disable-button' : 'normal-button' }, onOk: async () => {
                    await handle_delete(table_name, selected, ddb, refresher, table_name === 'subWorkers'
                        ? selected.map(row_name => streaming_stat.subWorkers.to_rows().find(({ topic }) => topic === row_name).raftGroup)
                        : table_name === 'persistenceMeta' ? selected.map(row_name => persistent_table_stat.to_rows().find(({ tablename }) => tablename === row_name).raftGroup) : []);
                    set_input_value('');
                    set_selected([]);
                    close();
                }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)("请输入 'YES' 以确认该操作"), value: input_value, onChange: ({ target: { value } }) => {
                        set_input_value(value);
                    } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'title-button', disabled: !selected.length, onClick: open, children: (0,i18n.t)('批量') + button_text[table_name].action })] });
}
function StateTable({ type, cols, rows, min_width, separated = true, default_page_size = 5, refresher }) {
    const [selected, set_selected] = (0,external_React_.useState)([]);
    /** 渲染表头 */
    function render_table_header(table_name, button_props) {
        return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [button_props && (0,jsx_runtime.jsx)(DeleteModal, { table_name: table_name, selected: selected, set_selected: set_selected, refresher: refresher }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: header_text[table_name].func, children: (0,jsx_runtime.jsx)("span", { className: 'table-name', children: header_text[table_name].title }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: header_text[table_name].tip, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, {}) })] });
    }
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { tableLayout: 'fixed', rowSelection: refresher
                    ? {
                        type: 'checkbox',
                        selectedRowKeys: selected,
                        onChange: (selected_keys) => {
                            set_selected(selected_keys);
                        }
                    }
                    : null, columns: cols, dataSource: rows, rowKey: row => row.key, size: 'small', title: () => render_table_header(type, refresher
                    ? {
                        selected,
                        refresher
                    }
                    : null), pagination: rows.length > default_page_size
                    ? {
                        defaultPageSize: default_page_size,
                        pageSizeOptions: ['5', '10', '20', '50', '100'],
                        size: 'small',
                        showSizeChanger: true,
                        showQuickJumper: true
                    }
                    : false, scroll: { x: min_width } }), rows.length <= default_page_size && separated && (0,jsx_runtime.jsx)("div", { className: 'separater' })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/index.sass
var dashboard = __webpack_require__(3422);
;// CONCATENATED MODULE: ./console/dashboard/index.sass

      
      
      
      
      
      
      
      
      

var dashboard_options = {};

dashboard_options.styleTagTransform = (styleTagTransform_default());
dashboard_options.setAttributes = (setAttributesWithoutAttributes_default());
dashboard_options.insert = insertBySelector_default().bind(null, "head");
dashboard_options.domAPI = (styleDomAPI_default());
dashboard_options.insertStyleElement = (insertStyleElement_default());

var dashboard_update = injectStylesIntoStyleTag_default()(dashboard/* default */.A, dashboard_options);




       /* harmony default export */ const console_dashboard = (dashboard/* default */.A && dashboard/* default */.A.locals ? dashboard/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/gridstack@10.1.2/node_modules/gridstack/dist/gridstack.css
var gridstack = __webpack_require__(4701);
;// CONCATENATED MODULE: ./node_modules/.pnpm/gridstack@10.1.2/node_modules/gridstack/dist/gridstack.css

      
      
      
      
      
      
      
      
      

var gridstack_options = {};

gridstack_options.styleTagTransform = (styleTagTransform_default());
gridstack_options.setAttributes = (setAttributesWithoutAttributes_default());
gridstack_options.insert = insertBySelector_default().bind(null, "head");
gridstack_options.domAPI = (styleDomAPI_default());
gridstack_options.insertStyleElement = (insertStyleElement_default());

var gridstack_update = injectStylesIntoStyleTag_default()(gridstack/* default */.A, gridstack_options);




       /* harmony default export */ const dist_gridstack = (gridstack/* default */.A && gridstack/* default */.A.locals ? gridstack/* default */.A.locals : undefined);

// EXTERNAL MODULE: external "echarts"
var external_echarts_ = __webpack_require__(6877);
;// CONCATENATED MODULE: ./console/dashboard/Sider.tsx





const icons = {
    [dashboard_model/* WidgetType */.xO.BAR]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.BarChartOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.LINE]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.LineChartOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.PIE]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PieChartOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.OHLC]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.BoxPlotOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.ORDER]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.HeatMapOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.TABLE]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.TableOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.TEXT]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.FileTextOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.MIX]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.FundOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.DESCRIPTIONS]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.BarsOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.EDITOR]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CodeOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.GAUGE]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CompassOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.RADAR]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.RadarChartOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.VARIABLE]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.FunctionOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.SCATTER]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DotChartOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.HEATMAP]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.WindowsOutlined, { className: 'icon' }),
    [dashboard_model/* WidgetType */.xO.COMPOSITE_GRAPH]: (0,jsx_runtime.jsx)(external_icons_namespaceObject.GoldOutlined, { className: 'icon' })
};
function Sider({ visible }) {
    const [collapsed, set_collapsed] = (0,external_React_.useState)(false);
    return (0,jsx_runtime.jsxs)("div", { className: `sider ${collapsed ? 'collapsed' : ''} ${visible ? '' : 'hidden'}`, children: [(0,jsx_runtime.jsx)("div", { className: 'graph-items', children: Object.entries(dashboard_model/* WidgetType */.xO).map(([key, value]) => (0,jsx_runtime.jsxs)("div", { className: 'dashboard-graph-item grid-stack-item', "data-type": key, "gs-w": 2, "gs-h": 3, title: (0,i18n.t)(value), children: [icons[value], (0,jsx_runtime.jsx)("span", { className: 'name', children: collapsed ? '' : (0,i18n.t)(value) })] }, key)) }), (0,jsx_runtime.jsx)("div", { className: 'collapser', onClick: () => { set_collapsed(!collapsed); }, children: collapsed ? (0,jsx_runtime.jsx)(external_icons_namespaceObject.DoubleRightOutlined, {}) : (0,jsx_runtime.jsx)(external_icons_namespaceObject.DoubleLeftOutlined, {}) })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/GraphItem/index.scss
var GraphItem = __webpack_require__(9232);
;// CONCATENATED MODULE: ./console/dashboard/GraphItem/index.scss

      
      
      
      
      
      
      
      
      

var GraphItem_options = {};

GraphItem_options.styleTagTransform = (styleTagTransform_default());
GraphItem_options.setAttributes = (setAttributesWithoutAttributes_default());
GraphItem_options.insert = insertBySelector_default().bind(null, "head");
GraphItem_options.domAPI = (styleDomAPI_default());
GraphItem_options.insertStyleElement = (insertStyleElement_default());

var GraphItem_update = injectStylesIntoStyleTag_default()(GraphItem/* default */.A, GraphItem_options);




       /* harmony default export */ const dashboard_GraphItem = (GraphItem/* default */.A && GraphItem/* default */.A.locals ? GraphItem/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/DataSource/index.sass
var DataSource = __webpack_require__(3860);
;// CONCATENATED MODULE: ./console/dashboard/DataSource/index.sass

      
      
      
      
      
      
      
      
      

var DataSource_options = {};

DataSource_options.styleTagTransform = (styleTagTransform_default());
DataSource_options.setAttributes = (setAttributesWithoutAttributes_default());
DataSource_options.insert = insertBySelector_default().bind(null, "head");
DataSource_options.domAPI = (styleDomAPI_default());
DataSource_options.insertStyleElement = (insertStyleElement_default());

var DataSource_update = injectStylesIntoStyleTag_default()(DataSource/* default */.A, DataSource_options);




       /* harmony default export */ const dashboard_DataSource = (DataSource/* default */.A && DataSource/* default */.A.locals ? DataSource/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/constant.ts


const DATA_SOURCE_TYPE_MAP = {
    [browser/* DdbForm */.Dm.table]: (0,i18n.t)('表格'),
    [browser/* DdbForm */.Dm.matrix]: (0,i18n.t)('矩阵')
};

// EXTERNAL MODULE: ./console/dashboard/DataSource/date-source.ts
var date_source = __webpack_require__(2573);
;// CONCATENATED MODULE: ./console/dashboard/DataSource/DataSourceList.tsx











function generate_tree_item(data_source, widget) {
    return {
        key: String(data_source.id),
        icon: (0,external_React_.createElement)(external_icons_namespaceObject.DatabaseOutlined),
        disabled: widget && (0,utils/* get_chart_data_type */.GR)(widget.type) !== data_source.type,
        title: (0,jsx_runtime.jsxs)("div", { className: 'data-source-tree-item', children: [data_source.name, (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'blue', bordered: false, children: DATA_SOURCE_TYPE_MAP[data_source.type] })] })
    };
}
const CreateDataSourceModal = esm.create((props) => {
    const { on_after_create } = props;
    const modal = useModal();
    const [form] = external_antd_namespaceObject.Form.useForm();
    const on_create = (0,external_React_.useCallback)(async () => {
        try {
            await form.validateFields();
        }
        catch {
            return;
        }
        const { name, type } = await form.getFieldsValue();
        const new_data_source = (0,date_source/* create_data_source */.y7)(name, type);
        on_after_create(new_data_source);
        modal.hide();
    }, [on_after_create]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { destroyOnClose: true, open: modal.visible, maskClosable: false, onCancel: modal.hide, afterClose: modal.remove, onOk: on_create, title: (0,i18n.t)('创建数据源'), children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { validateTrigger: ['onCompositionEnd'], autoComplete: 'off', form: form, labelCol: { span: 6 }, labelAlign: 'left', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('名称'), name: 'name', rules: [
                        { required: true, message: '请输入名称' },
                        {
                            validator: async (_, val) => {
                                if (val?.length > 10)
                                    return Promise.reject(new Error((0,i18n.t)('数据源名长度不能大于10')));
                                else if (date_source/* data_sources */.Az.find(data_source => data_source.name === val))
                                    return Promise.reject(new Error((0,i18n.t)('已有同名数据源，请修改')));
                                return Promise.resolve();
                            },
                        }
                    ], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入数据源的名称') }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('数据类型'), name: 'type', initialValue: browser/* DdbForm */.Dm.table, required: true, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Radio.Group, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Radio, { value: browser/* DdbForm */.Dm.table, children: DATA_SOURCE_TYPE_MAP[browser/* DdbForm */.Dm.table] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Radio, { value: browser/* DdbForm */.Dm.matrix, children: DATA_SOURCE_TYPE_MAP[browser/* DdbForm */.Dm.matrix] })] }) })] }) });
});
function DataSourceList({ widget, loading, current_data_source, no_save_flag, save_confirm, handle_save, change_current_data_source, change_current_data_source_property, on_select }) {
    // 当前 check 的 datasource
    const [checked_keys, set_checked_keys] = (0,external_React_.useState)(widget?.source_id ?? []);
    const [menu_items, set_menu_items] = (0,external_React_.useState)();
    (0,external_React_.useEffect)(() => {
        set_menu_items(date_source/* data_sources */.Az.map(item => generate_tree_item(item, widget)));
    }, [widget]);
    (0,external_React_.useEffect)(() => { on_select(checked_keys); }, [checked_keys]);
    const checkable = (0,external_React_.useMemo)(() => widget && dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH === widget.type, [widget]);
    const tree_ref = (0,external_React_.useRef)(null);
    // 监听 ctrl v事件，复制组件
    (0,external_React_.useEffect)(() => {
        async function paste_handler(event) {
            try {
                if (await (0,date_source/* paste_data_source */.$2)(event)) {
                    set_menu_items(date_source/* data_sources */.Az.map(item => generate_tree_item(item, widget)));
                    const id = date_source/* data_sources */.Az[0].id;
                    change_current_data_source(id);
                }
            }
            catch (error) {
                dashboard_model/* dashboard */.ze.message.error(error.message);
            }
        }
        window.addEventListener('paste', paste_handler);
        return () => { window.removeEventListener('paste', paste_handler); };
    }, [widget]);
    (0,external_React_.useEffect)(() => {
        tree_ref.current?.scrollTo({ key: current_data_source.id });
    }, [current_data_source]);
    function rename_data_source_handler(menu_items, select_key, old_name) {
        if (!menu_items.length)
            return;
        const tmp_menu_item = menu_items.find(menu_item => menu_item.key === select_key);
        function handler(event) {
            let new_name = event.target.value;
            try {
                (0,date_source/* rename_data_source */.GI)(select_key, new_name);
                change_current_data_source_property('name', new_name, false);
            }
            catch (error) {
                dashboard_model/* dashboard */.ze.message.error(error.message);
                new_name = old_name;
            }
            finally {
                tmp_menu_item.title = new_name;
                set_menu_items([...menu_items]);
            }
        }
        tmp_menu_item.title = ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { size: 'small', autoFocus: true, className: 'bottom-menu-rename-input', defaultValue: old_name, onBlur: handler, onPressEnter: handler }));
        set_menu_items([...menu_items]);
    }
    const on_after_create = (0,external_React_.useCallback)((new_data_source) => {
        set_menu_items([
            generate_tree_item(new_data_source, widget),
            ...menu_items
        ]);
        change_current_data_source(new_data_source.id);
    }, [menu_items, widget]);
    return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsxs)("div", { className: 'config-data-source-list', children: [(0,jsx_runtime.jsxs)("div", { className: 'data-source-list-top', children: [(0,jsx_runtime.jsxs)("div", { className: 'data-source-list-top-item', onClick: async () => {
                                if (loading)
                                    return;
                                if (no_save_flag.current && (await save_confirm()))
                                    await handle_save();
                                no_save_flag.current = false;
                                await esm.show('dashboard-create-datasource-modal', { on_after_create });
                            }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.FileOutlined, { className: 'data-source-list-top-item-icon' }), (0,i18n.t)('新建')] }), (0,jsx_runtime.jsx)(CreateDataSourceModal, { id: 'dashboard-create-datasource-modal', on_after_create: on_after_create }), (0,jsx_runtime.jsxs)("div", { className: 'data-source-list-top-item', onClick: () => {
                                if (loading)
                                    return;
                                if (current_data_source)
                                    rename_data_source_handler(menu_items, current_data_source.id, current_data_source.name);
                            }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.EditOutlined, { className: 'data-source-list-top-item-icon' }), (0,i18n.t)('重命名')] }), (0,jsx_runtime.jsxs)("div", { className: 'data-source-list-top-item', onClick: () => {
                                if (loading)
                                    return;
                                const delete_index = (0,date_source/* delete_data_source */.dg)(current_data_source.id);
                                if (delete_index >= 0) {
                                    menu_items.splice(delete_index, 1);
                                    set_menu_items([...menu_items]);
                                    no_save_flag.current = false;
                                    if (!date_source/* data_sources */.Az.length)
                                        change_current_data_source('');
                                    else {
                                        const index = delete_index === 0 ? 0 : delete_index - 1;
                                        change_current_data_source(date_source/* data_sources */.Az[index].id);
                                    }
                                }
                            }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'data-source-list-top-item-icon' }), (0,i18n.t)('删除')] }), (0,jsx_runtime.jsxs)("div", { className: 'data-source-list-top-item', onClick: async () => {
                                if (!current_data_source)
                                    return;
                                if (no_save_flag.current && (await save_confirm()))
                                    await handle_save();
                                no_save_flag.current = false;
                                (0,date_source/* copy_data_source */.fq)(current_data_source.id);
                            }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.CopyOutlined, { className: 'variable-list-top-item-icon' }), (0,i18n.t)('复制')] })] }), current_data_source && (0,jsx_runtime.jsx)("div", { className: 'data-source-list-bottom', children: date_source/* data_sources */.Az.length &&
                        (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tree, { checkable: checkable, checkedKeys: checked_keys, ref: tree_ref, showIcon: true, height: 450, blockNode: true, selectedKeys: [current_data_source.id], className: 'data-source-list-bottom-menu', onCheck: keys => { set_checked_keys(keys); }, onSelect: async (key) => {
                                // 点击树节点触发
                                if (loading)
                                    return;
                                const [selected_key] = key ?? [];
                                if (selected_key) {
                                    if (no_save_flag.current && (await save_confirm()))
                                        await handle_save();
                                    no_save_flag.current = false;
                                    change_current_data_source(String(selected_key));
                                }
                            }, treeData: menu_items }) })] }) });
}

;// CONCATENATED MODULE: ./console/utils/hooks/use-monaco-insert.ts


function use_monaco_insert(editor) {
    const monaco = Le();
    const on_monaco_insert = (0,external_React_.useCallback)((content) => {
        const position = editor?.getPosition?.();
        editor.executeEdits('', [
            {
                range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),
                text: content
            }
        ]);
        editor.setPosition({
            lineNumber: position.lineNumber,
            column: position.column + content.length
        });
        editor.focus();
    }, [editor]);
    return { on_monaco_insert };
}

;// CONCATENATED MODULE: ./console/dashboard/DataSource/DataView.tsx





function DataSource_DataView_DataView() {
    const { result } = dashboard_model/* dashboard */.ze.use(['result']);
    const { options } = model/* model */.ge.use(['options']);
    return (0,jsx_runtime.jsx)("div", { className: 'dataview obj-result embed', children: (() => {
            if (!result)
                return;
            const { data } = result;
            if (data.form === browser/* DdbForm */.Dm.scalar ||
                data.form === browser/* DdbForm */.Dm.pair)
                return;
            return (0,jsx_runtime.jsx)(Obj, { obj: data, ddb: model/* model */.ge.ddb, ctx: 'dashboard', options: options });
        })() });
}

// EXTERNAL MODULE: ./console/dashboard/Variable/variable.ts
var Variable_variable = __webpack_require__(9896);
;// CONCATENATED MODULE: ./console/dashboard/DataSource/InsertVariableBtn.tsx






function InsertVariableBtn(props) {
    const { on_insert, ...others } = props;
    const { variable_infos = [] } = Variable_variable/* variables */.Ee.use(['variable_infos']);
    const items = (0,external_React_.useMemo)(() => {
        return variable_infos.map(item => ({
            label: (0,jsx_runtime.jsx)("a", { onMouseDown: e => { e.preventDefault(); }, onClick: e => {
                    e.preventDefault();
                    try {
                        on_insert?.(`{{${item.name}}}`);
                    }
                    catch { }
                }, children: item.name }),
            key: item.id
        }));
    }, [variable_infos, on_insert]);
    return !!variable_infos?.length && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Dropdown, { trigger: ['hover'], menu: { items }, overlayClassName: 'variable-dropdown', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onMouseDown: e => { e.preventDefault(); }, ...others, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusSquareOutlined, {}), children: (0,i18n.t)('插入变量') }) });
}

;// CONCATENATED MODULE: ./console/dashboard/DataSource/SqlEditor.tsx












function SqlEditor({ loading, current_data_source, show_preview, change_current_data_source_property, change_no_save_flag, close_preview, }) {
    const { result, sql_editor } = dashboard_model/* dashboard */.ze.use(['result', 'sql_editor']);
    const { on_monaco_insert } = use_monaco_insert(sql_editor);
    (0,external_React_.useEffect)(() => {
        dashboard_model/* dashboard */.ze.sql_editor?.updateOptions({ readOnly: loading });
    }, [loading]);
    (0,external_React_.useEffect)(() => {
        if (dashboard_model/* dashboard */.ze.sql_editor)
            dashboard_model/* dashboard */.ze.sql_editor?.setValue(current_data_source.code);
        if (current_data_source.mode === (0,date_source/* get_data_source */.Qb)(current_data_source.id).mode)
            change_no_save_flag(false);
    }, [current_data_source.id]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)("div", { className: 'sqleditor', children: [(0,jsx_runtime.jsx)("div", { className: 'sqleditor-main', style: { height: (show_preview ? '40%' : '100%') }, children: (0,jsx_runtime.jsx)(Editor_Editor, { readonly: loading, enter_completion: true, on_mount: (editor, monaco) => {
                                editor?.setValue((0,date_source/* get_data_source */.Qb)(current_data_source.id).code);
                                dashboard_model/* dashboard */.ze.set({ sql_editor: editor, monaco });
                            }, on_change: () => { change_no_save_flag(true); }, theme: 'dark' }) }), show_preview &&
                        (0,jsx_runtime.jsxs)("div", { className: 'preview', children: [(0,jsx_runtime.jsxs)("div", { className: 'preview-config', children: [(0,jsx_runtime.jsx)("div", { className: 'preview-config-tag', children: (0,i18n.t)('数据预览') }), (0,jsx_runtime.jsxs)("div", { className: 'preview-config-close', onClick: close_preview, children: [(0,i18n.t)('关闭'), (0,jsx_runtime.jsx)(external_icons_namespaceObject.CloseOutlined, {})] })] }), (0,jsx_runtime.jsx)("div", { className: 'preview-main', children: result?.data
                                        ? (0,jsx_runtime.jsx)(DataSource_DataView_DataView, {})
                                        : (0,jsx_runtime.jsx)("div", { className: 'preview-main-error', children: current_data_source.error_message }) })] })] }), (0,jsx_runtime.jsxs)("div", { className: 'sqlconfig', children: [(0,jsx_runtime.jsxs)("div", { className: 'sqlconfig-left', children: [(0,jsx_runtime.jsxs)("div", { className: 'sqlconfig-left-refresh', children: [(0,i18n.t)('自动刷新') + '：', (0,jsx_runtime.jsx)(external_antd_namespaceObject.Switch, { disabled: loading, size: 'small', checked: current_data_source.auto_refresh, onChange: (checked) => {
                                            change_current_data_source_property('auto_refresh', checked);
                                        } })] }), current_data_source.auto_refresh
                                ? (0,jsx_runtime.jsxs)("div", { children: [(0,i18n.t)('间隔时间') + '：', (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { disabled: loading, size: 'small', min: 0.001, className: 'sqlconfig-left-intervals-input', value: current_data_source.interval, onChange: value => {
                                                if (value !== null)
                                                    change_current_data_source_property('interval', Math.ceil(value));
                                            } }), "s"] })
                                : (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {})] }), (0,jsx_runtime.jsx)(InsertVariableBtn, { on_insert: on_monaco_insert }), (0,jsx_runtime.jsx)("div", { className: 'sqlconfig-right', children: current_data_source.type === browser/* DdbForm */.Dm.table && (0,jsx_runtime.jsxs)("div", { children: [(0,i18n.t)('最大展示行数') + '：', (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { disabled: loading, size: 'small', min: 1, className: 'sqlconfig-right-maxline-input', value: current_data_source.max_line, onChange: value => {
                                        change_current_data_source_property('max_line', value ? Math.ceil(value) : value);
                                    } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popover, { content: ((0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('若该值为空则表示不对最大展示行数进行限制') })), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'sqlconfig-right-icon' }) })] }) })] })] });
}

;// CONCATENATED MODULE: ./console/dashboard/DataSource/StreamEditor.tsx












function StreamEditor({ loading, current_data_source, change_no_save_flag, change_current_data_source_property }) {
    const { filter_column_editor, filter_expression_editor } = dashboard_model/* dashboard */.ze.use(['filter_column_editor', 'filter_expression_editor']);
    const [stream_tables, set_stream_tables] = (0,external_React_.useState)([]);
    const [current_stream, set_current_stream] = (0,external_React_.useState)(current_data_source?.stream_table || '');
    const [stream_filter_col, set_stream_filter_col] = (0,external_React_.useState)('');
    const [cur_focus_editor, set_cur_focus_editor] = (0,external_React_.useState)();
    const { on_monaco_insert } = use_monaco_insert(cur_focus_editor);
    const tree_ref = (0,external_React_.useRef)(null);
    const ip_list_ref = (0,external_React_.useRef)([]);
    const table_list_ref = (0,external_React_.useRef)(null);
    const stream_editor_ref = (0,external_React_.useRef)();
    (0,external_React_.useEffect)(() => {
        const node = model/* model */.ge.node;
        const closest_node_host = model/* model */.ge.find_closest_node_host(node);
        const new_ip_list = [
            {
                value: closest_node_host + ':' + node.port,
                label: closest_node_host + ':' + node.port
            }
        ];
        if (node.host !== closest_node_host)
            new_ip_list.push({
                value: node.host + ':' + node.port,
                label: node.host + ':' + node.port
            });
        node.publicName.split((/,|;/)).forEach(item => {
            if (item !== closest_node_host)
                new_ip_list.push({
                    value: item + ':' + node.port,
                    label: item + ':' + node.port
                });
        });
        ip_list_ref.current = new_ip_list;
    }, []);
    (0,external_React_.useEffect)(() => {
        // 监听点击事件，获取当前激活的编辑器
        function on_click() {
            if (filter_column_editor?.hasTextFocus())
                set_cur_focus_editor(filter_column_editor);
            else if (filter_expression_editor?.hasTextFocus())
                set_cur_focus_editor(filter_expression_editor);
            else
                set_cur_focus_editor(null);
        }
        stream_editor_ref.current.addEventListener('click', on_click);
        return () => { stream_editor_ref?.current?.removeEventListener('click', on_click); };
    }, [filter_column_editor, filter_expression_editor]);
    (0,external_React_.useEffect)(() => {
        dashboard_model/* dashboard */.ze.filter_column_editor?.updateOptions({ readOnly: loading });
        dashboard_model/* dashboard */.ze.filter_expression_editor?.updateOptions({ readOnly: loading });
    }, [loading]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            // 获取数据库流表
            const table = await (0,date_source/* get_stream_tables */.Ci)();
            if (table.length) {
                const table_items = table.map(stream_table => ({
                    key: stream_table,
                    icon: (0,external_React_.createElement)(external_icons_namespaceObject.TableOutlined),
                    title: stream_table
                }));
                set_stream_tables(table_items);
                table_list_ref.current = table_items;
                if (!table.includes(current_data_source.stream_table))
                    if (current_data_source.stream_table)
                        set_current_stream(null);
                    else {
                        change_current_data_source_property('stream_table', table[0], false);
                        set_current_stream(table[0]);
                    }
                else
                    set_current_stream(current_data_source.stream_table);
            }
            if (!current_data_source.ip)
                change_current_data_source_property('ip', ip_list_ref.current[0].value, false);
            if (dashboard_model/* dashboard */.ze.filter_column_editor)
                dashboard_model/* dashboard */.ze.filter_column_editor.setValue(current_data_source.filter_column);
            if (dashboard_model/* dashboard */.ze.filter_expression_editor)
                dashboard_model/* dashboard */.ze.filter_expression_editor.setValue(current_data_source.filter_expression);
            if (current_data_source.mode === (0,date_source/* get_data_source */.Qb)(current_data_source.id).mode)
                change_no_save_flag(false);
        })();
    }, [current_data_source.id]);
    (0,external_React_.useEffect)(() => {
        tree_ref.current?.scrollTo({ key: current_data_source.stream_table });
    }, [stream_tables]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (current_data_source.stream_table) {
                set_stream_filter_col(await (0,date_source/* get_stream_filter_col */.Ak)(current_stream));
                change_current_data_source_property('cols', await (0,date_source/* get_stream_cols */.qd)(current_stream), false);
            }
        })();
    }, [current_data_source.stream_table]);
    return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)("div", { className: 'streameditor', ref: stream_editor_ref, children: table_list_ref.current?.length
                ? (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)("div", { className: 'streameditor-main', children: [(0,jsx_runtime.jsxs)("div", { className: 'streameditor-main-left', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入要搜索的流表名'), onChange: (0,external_.throttle)(event => {
                                                set_stream_tables(table_list_ref.current.filter((stream_table) => stream_table.title.indexOf(event.target.value) !== -1));
                                            }, 1000), suffix: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SearchOutlined, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tree, { ref: tree_ref, showIcon: true, height: 360, blockNode: true, selectedKeys: [current_stream], className: 'streameditor-main-left-menu', treeData: stream_tables, onSelect: async (key) => {
                                                if (!loading && key.length) {
                                                    change_current_data_source_property('stream_table', String(key[0]));
                                                    set_current_stream(String(key[0]));
                                                }
                                            } })] }), current_stream
                                    ? (0,jsx_runtime.jsxs)("div", { className: 'streameditor-main-right', children: [(0,jsx_runtime.jsxs)("div", { className: 'preview', style: { height: current_data_source.filter ? '40%' : '100%' }, children: [(0,jsx_runtime.jsx)("div", { className: 'preview-config', children: (0,jsx_runtime.jsx)("div", { className: 'preview-config-tag', children: (0,i18n.t)('列名预览（共{{length}}列）：', { length: current_data_source.cols.length }) }) }), (0,jsx_runtime.jsx)("div", { className: 'preview-main', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { columns: [
                                                                {
                                                                    title: 'Index',
                                                                    dataIndex: 'index',
                                                                },
                                                                {
                                                                    title: 'Name',
                                                                    dataIndex: 'name',
                                                                },
                                                            ], dataSource: current_data_source.cols.map((col, index) => {
                                                                return {
                                                                    key: col,
                                                                    index: index + 1,
                                                                    name: col
                                                                };
                                                            }), bordered: true, size: 'small', pagination: { pageSize: 6, position: ['bottomCenter'] } }) })] }), current_data_source.filter &&
                                                (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)("div", { className: 'streameditor-main-right-filter', children: [(0,jsx_runtime.jsxs)("div", { className: 'streameditor-main-right-filter-top', children: [(0,jsx_runtime.jsxs)("div", { className: 'streameditor-main-right-filter-top-mode', children: [(0,i18n.t)('列过滤') + '：', (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popover, { content: ((0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)("p", { children: (0,i18n.t)('值过滤、范围过滤、哈希过滤') }) })), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'streameditor-main-right-filter-top-mode-icon' }) })] }), (0,jsx_runtime.jsx)("div", { className: 'streameditor-main-right-filter-top-col', children: stream_filter_col ? ((0,i18n.t)('当前过滤列为:') + stream_filter_col) : (0,i18n.t)('当前流表无过滤列') })] }), (0,jsx_runtime.jsx)("div", { className: 'streameditor-main-right-filter-main', children: (0,jsx_runtime.jsx)(Editor_Editor, { readonly: loading, enter_completion: true, on_mount: (editor, monaco) => {
                                                                            editor?.setValue((0,date_source/* get_data_source */.Qb)(current_data_source.id).filter_column || '');
                                                                            dashboard_model/* dashboard */.ze.set({ filter_column_editor: editor, monaco });
                                                                        }, on_change: () => { change_no_save_flag(true); }, theme: 'dark' }) })] }), (0,jsx_runtime.jsxs)("div", { className: 'streameditor-main-right-filter', children: [(0,jsx_runtime.jsx)("div", { className: 'streameditor-main-right-filter-top', children: (0,jsx_runtime.jsx)("div", { className: 'streameditor-main-right-filter-top-mode', children: (0,i18n.t)('表达式过滤') + '：' }) }), (0,jsx_runtime.jsx)("div", { className: 'streameditor-main-right-filter-main', children: (0,jsx_runtime.jsx)(Editor_Editor, { readonly: loading, enter_completion: true, on_mount: (editor, monaco) => {
                                                                            editor?.setValue((0,date_source/* get_data_source */.Qb)(current_data_source.id).filter_expression || '');
                                                                            dashboard_model/* dashboard */.ze.set({ filter_expression_editor: editor, monaco });
                                                                        }, on_change: () => { change_no_save_flag(true); }, theme: 'dark' }) })] })] })] })
                                    : (0,jsx_runtime.jsx)("div", { className: 'streameditor-main-right', children: `${(0,i18n.t)('当前数据源: [{{source_name}}] 配置的流数据表 [{{table_name}}] 于当前节点不存在', { source_name: current_data_source.name, table_name: current_data_source.stream_table })}` })] }), (0,jsx_runtime.jsxs)("div", { className: 'streamconfig', children: [(0,jsx_runtime.jsxs)("div", { className: 'streamconfig-left', children: [(0,jsx_runtime.jsxs)("div", { className: 'streamconfig-left-ip', children: [(0,i18n.t)('IP 端口'), "\uFF1A", (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { disabled: loading, value: current_data_source.ip, className: 'streamconfig-left-ip-select', size: 'small', onChange: (value) => { change_current_data_source_property('ip', value); }, options: ip_list_ref.current })] }), stream_tables.length &&
                                            (0,jsx_runtime.jsxs)("div", { children: [(0,i18n.t)('过滤') + '：', (0,jsx_runtime.jsx)(external_antd_namespaceObject.Switch, { disabled: loading, size: 'small', checked: current_data_source.filter, onChange: (checked) => {
                                                            change_current_data_source_property('filter', checked);
                                                        } })] })] }), current_data_source.filter && current_stream && (0,jsx_runtime.jsx)(InsertVariableBtn, { on_insert: on_monaco_insert }), (0,jsx_runtime.jsx)("div", { className: 'streamconfig-right', children: (0,jsx_runtime.jsxs)("div", { children: [(0,i18n.t)('最大展示行数') + '：', (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { disabled: loading, size: 'small', min: 1, className: 'sqlconfig-right-maxline-input', value: current_data_source.max_line, onChange: value => {
                                                    change_current_data_source_property('max_line', value ? Math.ceil(value) : value);
                                                } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popover, { content: ((0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('若该值为空则表示不对最大展示行数进行限制') })), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'streamconfig-right-icon' }) })] }) })] })] })
                : (0,jsx_runtime.jsx)("div", { className: 'streameditor-no-table', children: (0,i18n.t)('无可用流表') }) }) });
}

;// CONCATENATED MODULE: ./console/dashboard/DataSource/DataSourceConfig.tsx
















const save_confirm_config = {
    cancelText: (0,i18n.t)('不保存'),
    okText: (0,i18n.t)('保存'),
    style: { top: '250px' },
    maskStyle: { backgroundColor: 'rgba(0,0,0,.2)' },
    title: (0,i18n.t)('此数据源存在未保存的更改。你想保存吗？'),
};
function DataSourceConfig(props, ref) {
    const { widget, text, ...btn_props } = props;
    const { visible, open, close } = use_modal();
    const [modal, contextHolder] = external_antd_namespaceObject.Modal.useModal();
    const { config } = dashboard_model/* dashboard */.ze.use(['config']);
    const [show_preview, set_show_preview] = (0,external_React_.useState)(false);
    // 当前选择应用的数据源
    const [selected_data_sources, set_selected_data_sources] = (0,external_React_.useState)(widget?.source_id ?? []);
    // 当前点击查看的数据源
    const [current_data_source, set_current_data_source] = (0,external_React_.useState)(null);
    const [loading, set_loading] = (0,external_React_.useState)('');
    const no_save_flag = (0,external_React_.useRef)(false);
    const is_multi_data_source = (0,external_React_.useMemo)(() => dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH === widget?.type, [widget?.type]);
    (0,external_React_.useEffect)(() => {
        // 非多选数据源的情况下，当前查看数据源即为当前选中数据源
        if (!is_multi_data_source && current_data_source)
            set_selected_data_sources([current_data_source.id]);
    }, [current_data_source, is_multi_data_source]);
    (0,external_React_.useEffect)(() => {
        change_current_data_source('');
    }, [config?.id]);
    const change_current_data_source = (0,external_React_.useCallback)((key) => {
        if (key === '') {
            set_current_data_source(null);
            return;
        }
        set_current_data_source((0,external_.cloneDeep)((0,date_source/* get_data_source */.Qb)(key)));
        set_show_preview(false);
    }, []);
    const change_current_data_source_property = (0,external_React_.useCallback)((key, value, save_confirm = true) => {
        set_current_data_source((pre) => {
            pre[key] = value;
            return (0,external_.cloneDeep)(pre);
        });
        if (save_confirm)
            no_save_flag.current = true;
    }, []);
    const handle_save = (0,external_React_.useCallback)(async () => {
        if (current_data_source)
            await (0,date_source/* save_data_source */.RL)(current_data_source);
        no_save_flag.current = false;
    }, [current_data_source]);
    const handle_close = (0,external_React_.useCallback)(async () => {
        if (loading)
            return;
        if (no_save_flag.current && await modal.confirm(save_confirm_config)) {
            await handle_save();
            no_save_flag.current = false;
        }
        close();
        set_show_preview(false);
    }, [no_save_flag.current, handle_save, loading]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DatabaseOutlined, { className: 'data-source-config-trigger-navigation-icon' }), onClick: open, ...btn_props, children: !widget ? (0,i18n.t)('数据源') : text || (0,i18n.t)('点击填充数据源') }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Modal, { title: (0,i18n.t)('配置数据源'), width: '80%', destroyOnClose: true, className: 'data-source', open: visible, onCancel: handle_close, maskClosable: false, styles: { mask: { backgroundColor: 'rgba(84,84,84,0.5)' } }, afterOpenChange: () => {
                    let idx = 0;
                    if (widget?.source_id?.length)
                        idx = (0,date_source/* find_data_source_index */.aL)(widget.source_id[0]);
                    set_current_data_source((0,external_.cloneDeep)(date_source/* data_sources */.Az[Math.max(0, idx)]));
                }, footer: [
                    current_data_source?.mode === 'sql'
                        ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { loading: loading === 'preview', onClick: async () => {
                                if (loading)
                                    return;
                                try {
                                    set_loading('preview');
                                    const { type, result } = await dashboard_model/* dashboard */.ze.execute_code((0,utils/* parse_code */.eI)(dashboard_model/* dashboard */.ze.sql_editor.getValue()), model/* model */.ge.ddb, true);
                                    change_current_data_source_property('error_message', type === 'success' ? '' : result, false);
                                    set_show_preview(true);
                                }
                                finally {
                                    set_loading('');
                                }
                            }, children: (0,i18n.t)('预览') }, 'preview')
                        : (0,jsx_runtime.jsx)("div", {}, 'preview'),
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', loading: loading === 'save', onClick: async () => {
                            try {
                                if (loading)
                                    return;
                                set_loading('save');
                                await handle_save();
                                if (widget) {
                                    if (!selected_data_sources.length) {
                                        dashboard_model/* dashboard */.ze.message.warning((0,i18n.t)('请选择数据源'));
                                        return;
                                    }
                                    for (let id of selected_data_sources)
                                        await (0,date_source/* subscribe_data_source */.qI)(widget, id);
                                    dashboard_model/* dashboard */.ze.update_widget({ ...widget, source_id: selected_data_sources });
                                    set_show_preview(false);
                                }
                                close();
                            }
                            finally {
                                set_loading('');
                            }
                        }, children: widget ? (0,i18n.t)('应用') : (0,i18n.t)('保存') }, 'save'),
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: handle_close, children: (0,i18n.t)('关闭') }, 'close'),
                ], children: [contextHolder, (0,jsx_runtime.jsxs)("div", { className: 'data-source-config-main', children: [(0,jsx_runtime.jsx)(DataSourceList, { widget: widget, loading: loading !== '', current_data_source: current_data_source, no_save_flag: no_save_flag, save_confirm: () => modal.confirm(save_confirm_config), handle_save: handle_save, change_current_data_source: change_current_data_source, on_select: (keys) => {
                                    set_selected_data_sources(keys);
                                }, change_current_data_source_property: change_current_data_source_property }), current_data_source &&
                                (0,jsx_runtime.jsxs)("div", { className: 'config-right', children: [(0,jsx_runtime.jsx)("div", { className: 'config-right-top', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tabs, { onChange: activeKey => { change_current_data_source_property('mode', activeKey); }, activeKey: current_data_source.mode, items: [
                                                    {
                                                        label: 'DolphinDB SQL',
                                                        key: 'sql',
                                                        disabled: loading !== ''
                                                    },
                                                    ...(current_data_source.type === browser/* DdbForm */.Dm.matrix ? [] : [{
                                                            label: (0,i18n.t)('流数据表'),
                                                            key: 'stream',
                                                            disabled: loading !== ''
                                                        }])
                                                ] }) }), current_data_source.mode === 'sql'
                                            ? (0,jsx_runtime.jsx)(SqlEditor, { loading: loading !== '', show_preview: show_preview, current_data_source: current_data_source, close_preview: () => { set_show_preview(false); }, change_no_save_flag: (value) => no_save_flag.current = value, change_current_data_source_property: change_current_data_source_property })
                                            : (0,jsx_runtime.jsx)(StreamEditor, { loading: loading !== '', current_data_source: current_data_source, change_no_save_flag: (value) => no_save_flag.current = value, change_current_data_source_property: change_current_data_source_property })] })] })] })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/echarts-for-react@3.0.2_echarts@5.5.0_patch_hash=vfhko7qsujlqz2bjiq6cbgl6e4__react@18.3.1/node_modules/echarts-for-react/lib/core.js
var core = __webpack_require__(7475);
// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/ChartFormFields/index.scss
var ChartFormFields = __webpack_require__(6564);
;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/index.scss

      
      
      
      
      
      
      
      
      

var ChartFormFields_options = {};

ChartFormFields_options.styleTagTransform = (styleTagTransform_default());
ChartFormFields_options.setAttributes = (setAttributesWithoutAttributes_default());
ChartFormFields_options.insert = insertBySelector_default().bind(null, "head");
ChartFormFields_options.domAPI = (styleDomAPI_default());
ChartFormFields_options.insertStyleElement = (insertStyleElement_default());

var ChartFormFields_update = injectStylesIntoStyleTag_default()(ChartFormFields/* default */.A, ChartFormFields_options);




       /* harmony default export */ const dashboard_ChartFormFields = (ChartFormFields/* default */.A && ChartFormFields/* default */.A.locals ? ChartFormFields/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/components/BoolRadioGroup/index.tsx




function BoolRadioGroup_BoolRadioGroup(props) {
    const { value, onChange: onChangeProp, ...otherProps } = props;
    const onChange = (0,external_React_.useCallback)((e) => {
        onChangeProp?.(e?.target?.value);
    }, [onChangeProp]);
    return (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Radio.Group, { value: value, onChange: onChange, ...otherProps, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Radio, { value: true, children: (0,i18n.t)('是') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Radio, { value: false, children: (0,i18n.t)('否') })] });
}

;// CONCATENATED MODULE: ./console/components/StringColorPicker/index.tsx



function StringColorPicker(props) {
    const { onChange, ...others } = props;
    const on_color_change = (0,external_React_.useCallback)((color) => {
        onChange?.(color.toHexString?.() || color.toHsbString?.() || color.toRgbString?.());
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.ColorPicker, { defaultValue: null, format: 'hex', defaultFormat: 'hex', allowClear: true, ...others, onChange: on_color_change, onClear: () => { onChange(null); } });
}

// EXTERNAL MODULE: ./console/dashboard/ChartFormFields/type.ts
var ChartFormFields_type = __webpack_require__(9153);
;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/constant.ts



const axis_type_options = [{
        label: (0,i18n.t)('数据轴'),
        value: ChartFormFields_type/* AxisType */.Gw.VALUE
    },
    {
        label: (0,i18n.t)('类目轴'),
        value: ChartFormFields_type/* AxisType */.Gw.CATEGORY
    },
    {
        label: (0,i18n.t)('时间轴'),
        value: ChartFormFields_type/* AxisType */.Gw.TIME,
    },
    {
        label: (0,i18n.t)('对数'),
        value: ChartFormFields_type/* AxisType */.Gw.LOG
    }];
const axis_position_options = [
    { value: ChartFormFields_type/* Position */.yX.LEFT, label: (0,i18n.t)('左侧') },
    { value: ChartFormFields_type/* Position */.yX.RIGHT, label: (0,i18n.t)('右侧') }
];
const mark_point_options = [
    {
        value: ChartFormFields_type/* MarkPresetType */.LW.MAX,
        label: (0,i18n.t)('最大值')
    },
    {
        value: ChartFormFields_type/* MarkPresetType */.LW.MIN,
        label: (0,i18n.t)('最小值')
    }
];
const mark_line_options = [...mark_point_options, {
        value: ChartFormFields_type/* MarkPresetType */.LW.AVERAGE,
        label: (0,i18n.t)('平均值')
    }];
const line_type_options = [
    {
        value: ChartFormFields_type/* ILineType */.ad.SOLID,
        label: (0,i18n.t)('实线')
    },
    {
        value: ChartFormFields_type/* ILineType */.ad.DASHED,
        label: (0,i18n.t)('虚线')
    },
    {
        value: ChartFormFields_type/* ILineType */.ad.DOTTED,
        label: (0,i18n.t)('点线')
    },
];
const chart_type_options = [
    {
        label: dashboard_model/* WidgetType */.xO.BAR,
        value: dashboard_model/* WidgetChartType */.Rf.BAR
    },
    {
        label: dashboard_model/* WidgetType */.xO.LINE,
        value: dashboard_model/* WidgetChartType */.Rf.LINE
    },
    {
        label: dashboard_model/* WidgetType */.xO.SCATTER,
        value: dashboard_model/* WidgetChartType */.Rf.SCATTER
    }
];
const format_time_options = Object.values(ChartFormFields_type/* ITimeFormat */.kQ).map(val => ({
    label: val,
    value: val
}));

;// CONCATENATED MODULE: ./console/constants/ddb-type-maps.ts

const DDB_TYPE_MAP = {
    [browser/* DdbType */.Z2.void]: 'VOID',
    [browser/* DdbType */.Z2.bool]: 'BOOL',
    [browser/* DdbType */.Z2.char]: 'CHAR',
    [browser/* DdbType */.Z2.short]: 'SHORT',
    [browser/* DdbType */.Z2.int]: 'INT',
    [browser/* DdbType */.Z2.long]: 'LONG',
    [browser/* DdbType */.Z2.compressed]: 'COMPRESSED',
    [browser/* DdbType */.Z2.date]: 'DATE',
    [browser/* DdbType */.Z2.month]: 'MONTH',
    [browser/* DdbType */.Z2.time]: 'TIME',
    [browser/* DdbType */.Z2.minute]: 'MINUTE',
    [browser/* DdbType */.Z2.second]: 'SECOND',
    [browser/* DdbType */.Z2.datetime]: 'DATETIME',
    [browser/* DdbType */.Z2.timestamp]: 'TIMESTAMP',
    [browser/* DdbType */.Z2.nanotime]: 'NANOTIME',
    [browser/* DdbType */.Z2.nanotimestamp]: 'NANOTIMESTAMP',
    [browser/* DdbType */.Z2.datehour]: 'DATEHOUR',
    [browser/* DdbType */.Z2.float]: 'FLOAT',
    [browser/* DdbType */.Z2.double]: 'DOUBLE',
    [browser/* DdbType */.Z2.symbol]: 'SYMBOL',
    [browser/* DdbType */.Z2.string]: 'STRING',
    [browser/* DdbType */.Z2.blob]: 'BLOB',
    [browser/* DdbType */.Z2.int128]: 'INT128',
    [browser/* DdbType */.Z2.uuid]: 'UUID',
    [browser/* DdbType */.Z2.ipaddr]: 'IPADDR',
    [browser/* DdbType */.Z2.point]: 'POINT',
    [browser/* DdbType */.Z2.functiondef]: 'FUNCTIONDEF',
    [browser/* DdbType */.Z2.handle]: 'HANDLE',
    [browser/* DdbType */.Z2.code]: 'CODE',
    [browser/* DdbType */.Z2.datasource]: 'DATASOURCE',
    [browser/* DdbType */.Z2.resource]: 'RESOURCE',
    [browser/* DdbType */.Z2.duration]: 'DURATION',
    [browser/* DdbType */.Z2.any]: 'ANY',
    // TODO: DdbType 中增加 any_dictionary 类型
    27: 'ANY DICTIONARY',
    [browser/* DdbType */.Z2.complex]: 'COMPLEX',
    [browser/* DdbType */.Z2.decimal32]: 'DECIMAL32(S)',
    [browser/* DdbType */.Z2.decimal64]: 'DECIMAL64(S)',
    [browser/* DdbType */.Z2.decimal128]: 'DECIMAL128(S)'
};

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/Title.tsx



function TitleFields() {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'title', label: (0,i18n.t)('标题'), initialValue: (0,i18n.t)('标题'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'title_size', label: (0,i18n.t)('标题字号'), initialValue: 18, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/Legend.tsx





function LegendFields() {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('是否展示'), name: ['legend', 'show'], initialValue: true, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('布局'), name: ['legend', 'orient'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: [{ label: (0,i18n.t)('横向布局'), value: 'horizontal' }, { label: (0,i18n.t)('纵向布局'), value: 'vertical' }] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'type'], label: (0,i18n.t)('图例类型'), tooltip: (0,i18n.t)('当图例数量较多时可以使用滚动布局'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: [
                        { label: (0,i18n.t)('普通图例'), value: 'plain' },
                        { label: (0,i18n.t)('滚动图例'), value: 'scroll' }
                    ] }) }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('位置'), tooltip: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('下方四个输入框可依次输入离容器上侧、下侧、左侧、右侧的距离，以下是对填入值的说明：'), (0,jsx_runtime.jsx)("br", {}), (0,jsx_runtime.jsxs)("ul", { children: [(0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('具体像素值，如 20；') }), (0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('相对于容器宽高百分比，如 20%；') }), (0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('可以设置为 left、center、right，组件会根据相应的位置自动对齐。') })] })] }), children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Space, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'top'], initialValue: null, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('上侧距离') }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'bottom'], initialValue: null, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('下侧距离') }) })] }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Space, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'left'], initialValue: 'center', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('左侧距离') }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'right'], initialValue: null, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('右侧距离') }) })] })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'itemGap'], label: (0,i18n.t)('图例间隔'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'textStyle', 'fontSize'], label: (0,i18n.t)('字号'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['legend', 'itemHeight'], label: (0,i18n.t)('标记大小'), initialValue: 14, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('文字颜色'), name: ['legend', 'textStyle', 'color'], initialValue: '#fff', children: (0,jsx_runtime.jsx)(StringColorPicker, {}) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/Tooltip.tsx




function TooltipFields() {
    return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['tooltip', 'show'], label: (0,i18n.t)('气泡提示'), initialValue: true, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }) });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/SplitLine.tsx







function SplitLineFields() {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['splitLine', 'show'], label: (0,i18n.t)('是否展示'), initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['splitLine', 'lineStyle', 'color'], label: (0,i18n.t)('线条颜色'), initialValue: '#6E6F7A', children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['splitLine', 'lineStyle', 'width'], label: (0,i18n.t)('线宽'), initialValue: 1, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['splitLine', 'lineStyle', 'type'], label: (0,i18n.t)('线类型'), initialValue: ChartFormFields_type/* ILineType */.ad.DASHED, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: line_type_options }) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/DataZoom.tsx




function DataZoomFields() {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'x_datazoom', label: (0,i18n.t)('X 轴缩略轴'), initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'y_datazoom', label: (0,i18n.t)('Y 轴缩略轴'), initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/Wrapper.tsx



function WrapperFields() {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'top'], label: (0,i18n.t)('上内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'bottom'], label: (0,i18n.t)('下内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'left'], label: (0,i18n.t)('左内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'right'], label: (0,i18n.t)('右内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/BasicFormFields.tsx



















function BasicFormFields_VariableSetting() {
    const { variable_infos } = Variable_variable/* variables */.Ee.use(['variable_infos']);
    return (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'variable_ids', label: (0,i18n.t)('关联变量'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { mode: 'multiple', options: variable_infos.map(({ name, id }) => ({
                        label: name,
                        value: id
                    })) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'variable_cols', label: (0,i18n.t)('每行变量数'), initialValue: 3, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)([1, 2, 3, 4, 6, 8, 12]), allowClear: true }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'variable_form_label_col', label: (0,i18n.t)('标签占位'), tooltip: (0,i18n.t)('标签相对单个变量的百分比占位'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 20, max: 80, addonAfter: '%' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'with_search_btn', label: (0,i18n.t)('查询按钮'), initialValue: false, tooltip: (0,i18n.t)('不展示查询按钮的情况，表单更新即会进行查询，在变量设置较多的情况下，建议使用查询按钮，点击之后再运行数据源代码'), children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'search_btn_label', label: (0,i18n.t)('按钮文案'), initialValue: '\u67E5\u8BE2', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入') }) })] });
}
function BasicFormFields_PaddingSetting() {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'top'], label: (0,i18n.t)('上内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'bottom'], label: (0,i18n.t)('下内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'left'], label: (0,i18n.t)('左内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['padding', 'right'], label: (0,i18n.t)('右内边距'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) })] });
}
function BasicFormFields(props) {
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    const { type, chart_fields = [ChartFormFields_type/* ChartField */.lo.LEGEND, ChartFormFields_type/* ChartField */.lo.DATA_ZOOM, ChartFormFields_type/* ChartField */.lo.SPLIT_LINE, ChartFormFields_type/* ChartField */.lo.TOOLTIP] } = props;
    const form = external_antd_namespaceObject.Form.useFormInstance();
    const FormFields = (0,external_React_.useMemo)(() => {
        return (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(TitleFields, {}), (0,jsx_runtime.jsx)(WrapperFields, {}), type === 'chart' && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'animation', label: (0,i18n.t)('是否开启动画'), initialValue: true, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), widget.type === dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'automatic_mode', label: (0,i18n.t)('自动画图模式'), initialValue: false, tooltip: (0,i18n.t)('自动画图模式会自动查找各数据源选定类型的列（默认为时间类型）作为 X 轴，各数据源数值列作为数据列，在数据列配置区域可对特定数据列进行个性化配置'), children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: ['automatic_mode'], children: value => {
                                const automatic_mode = (0,external_.get)(value, ['automatic_mode']);
                                const options = Object.entries(DDB_TYPE_MAP).map(([k, v]) => ({
                                    label: v,
                                    value: Number(k)
                                }));
                                return automatic_mode
                                    ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('X 轴类型'), name: 'x_col_types', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { mode: 'multiple', showSearch: true, options: options, placeholder: (0,i18n.t)('请选择类型'), filterOption: (val, option) => val ? option.label.toLowerCase().includes(val.toLowerCase()) : true }) })
                                    : null;
                            } })] }), type === 'table' && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { initialValue: false, name: 'bordered', label: (0,i18n.t)('展示边框'), children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { initialValue: true, name: 'need_select_cols', label: (0,i18n.t)('展示列选择'), children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'is_reverse', label: (0,i18n.t)('倒序展示'), tooltip: (0,i18n.t)('流数据开启此功能可将最新的数据插入到表格头部'), initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })] })] });
    }, [type]);
    const chart_items = (0,external_React_.useMemo)(() => [
        {
            key: ChartFormFields_type/* ChartField */.lo.LEGEND,
            label: (0,i18n.t)('图例'),
            children: (0,jsx_runtime.jsx)(LegendFields, {}),
            forceRender: true,
        },
        {
            key: ChartFormFields_type/* ChartField */.lo.TOOLTIP,
            label: (0,i18n.t)('气泡提示'),
            children: (0,jsx_runtime.jsx)(TooltipFields, {}),
            forceRender: true,
        },
        {
            key: ChartFormFields_type/* ChartField */.lo.SPLIT_LINE,
            label: (0,i18n.t)('网格线'),
            children: (0,jsx_runtime.jsx)(SplitLineFields, {}),
            forceRender: true,
        },
        {
            key: ChartFormFields_type/* ChartField */.lo.DATA_ZOOM,
            label: (0,i18n.t)('缩略轴'),
            children: (0,jsx_runtime.jsx)(DataZoomFields, {}),
            forceRender: true,
        }
    ].filter(item => chart_fields.includes(item.key)), [chart_fields]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'basic',
                label: (0,i18n.t)('基本属性'),
                children: FormFields,
                forceRender: true
            },
            {
                key: 'variable',
                label: (0,i18n.t)('变量设置'),
                children: (0,jsx_runtime.jsx)(BasicFormFields_VariableSetting, {}),
                forceRender: true
            },
            ...(type === 'chart' ? chart_items : [])
        ] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/AxisColSelect.tsx







function AxisColSelect(props) {
    const { label, path, col_names, list_path, hidden } = props;
    const { widget: { source_id = [], type } } = dashboard_model/* dashboard */.ze.use(['widget']);
    return type === dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: label, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Space, { className: 'col-select-space', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(path, 'data_source_id'), initialValue: (0,date_source/* get_data_source */.Qb)(source_id?.[0])?.id, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: source_id.map(id => {
                            const source = (0,date_source/* get_data_source */.Qb)(id);
                            return { label: source.name, value: source.id };
                        }) }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: (0,utils/* concat_name_path */.pG)(list_path, path, 'data_source_id'), children: value => {
                        const data_source = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(list_path, path, 'data_source_id'));
                        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { initialValue: (0,date_source/* get_data_source */.Qb)(source_id?.[0])?.cols?.[0], name: (0,utils/* concat_name_path */.pG)(path, 'col_name'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)((0,date_source/* get_data_source */.Qb)(data_source).cols ?? []) }) });
                    } })] }) })
        :
            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(path, 'col_name'), label: label, initialValue: col_names[0], hidden: hidden, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names) }) });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/SeriesItem.tsx













/** 数据列配置子项 */
function SeriesItem(props) {
    const { name, type, col_names, path } = props;
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    // 是否为热力图，混合图，复合图
    const [is_heat_map, is_mix_type, is_composite] = (0,external_React_.useMemo)(() => [
        type === dashboard_model/* WidgetChartType */.Rf.HEATMAP,
        type === dashboard_model/* WidgetChartType */.Rf.MIX,
        type === dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH
    ], [type]);
    const form = external_antd_namespaceObject.Form.useFormInstance();
    // 复合图是否开启时序模式
    const automatic_mode = external_antd_namespaceObject.Form.useWatch('automatic_mode', form);
    /** 数据列选择，复合图需要特殊处理 */
    const select_col_field = (0,external_React_.useMemo)(() => {
        if (is_composite)
            return automatic_mode ? null : (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('数据源'), name: (0,utils/* concat_name_path */.pG)(name, 'data_source_id'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: widget.source_id.map(id => {
                                const source = (0,date_source/* get_data_source */.Qb)(id);
                                return { label: source.name, value: source.id };
                            }) }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(path, name, 'data_source_id')], children: values => {
                            const data_source_id = (0,external_.get)(values, (0,utils/* concat_name_path */.pG)(path, name, 'data_source_id'));
                            const col_options = (0,utils/* convert_list_to_options */.Kz)((0,date_source/* get_data_source */.Qb)(data_source_id).cols);
                            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('X 轴数据列'), name: (0,utils/* concat_name_path */.pG)(name, 'x_col_name'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: col_options }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('Y 轴数据列'), name: (0,utils/* concat_name_path */.pG)(name, 'col_name'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: col_options, onSelect: on_select_col }) })] });
                        } })] });
        else
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name, 'col_name'), label: is_heat_map ? (0,i18n.t)('热力值列') : (0,i18n.t)('数据列'), initialValue: col_names?.[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names), onSelect: on_select_col }) });
    }, [is_composite, automatic_mode]);
    /** 选择数据列的时候，更改数据列名称为当前选中列名 */
    function on_select_col(val) {
        form.setFieldValue((0,utils/* concat_name_path */.pG)(path, name, 'name'), val);
        // setFieldValue 并不会触发 form 的 onValuesChange 事件，会出现表单更新但图表展示未更新的情况，需要手动更新表单配置
        dashboard_model/* dashboard */.ze.update_widget({ ...widget, config: form.getFieldsValue() });
    }
    return (0,jsx_runtime.jsxs)("div", { className: 'field-wrapper', children: [select_col_field, !automatic_mode && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name, 'name'), label: (0,i18n.t)('名称'), initialValue: col_names[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), !is_heat_map && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name, 'type'), label: (0,i18n.t)('类型'), initialValue: (is_composite || is_mix_type || automatic_mode) ? dashboard_model/* WidgetChartType */.Rf.LINE : type, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: chart_type_options, disabled: !is_mix_type && !is_composite && !automatic_mode }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name, 'color'), label: (0,i18n.t)('颜色'), initialValue: null, children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: ['yAxis'], children: value => {
                            const { yAxis } = value;
                            const options = yAxis.map((item, idx) => ({
                                value: idx,
                                label: item?.name
                            }));
                            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { hidden: is_heat_map, name: (0,utils/* concat_name_path */.pG)(name, 'yAxisIndex'), label: (0,i18n.t)('关联 Y 轴'), initialValue: 0, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: options }) });
                        } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name, 'mark_point'), label: (0,i18n.t)('标记点'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: mark_point_options, mode: 'multiple' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('水平线'), name: (0,utils/* concat_name_path */.pG)(name, 'mark_line'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: mark_line_options, mode: 'tags' }) })] }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(path, name, 'type')], children: values => {
                    const series_type = (0,external_.get)(values, (0,utils/* concat_name_path */.pG)(path, name, 'type'));
                    // const ThresholdSelect = <>
                    //     <Form.Item name={[field.name, 'threshold', 'value']} label={t('阈值')}>
                    //         <InputNumber />
                    //     </Form.Item>
                    //     <FormDependencies dependencies={[['series', field.name, 'threshold', 'value']]}>
                    //         {({ series }) => { 
                    //             const { threshold } = series?.[field.name] || { }
                    //             if (isNaN(threshold?.value))
                    //                 return null
                    //             return <>
                    //                 <Form.Item label={t('低于阈值配色')} name={[field.name, 'threshold', 'low_color']}>
                    //                     <StringColorPicker />
                    //                 </Form.Item>
                    //                 <Form.Item label={t('高于阈值配色')} name={[field.name, 'threshold', 'high_color']} >
                    //                     <StringColorPicker />
                    //                 </Form.Item>
                    //             </>
                    //         } }
                    //     </FormDependencies>
                    // </>
                    if (series_type === dashboard_model/* WidgetChartType */.Rf.BAR)
                        return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: (0,i18n.t)('同个类目轴上为数据列配置相同的堆叠值可以堆叠放置'), label: (0,i18n.t)('堆叠值'), name: [name, 'stack'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }) });
                    else if (series_type === dashboard_model/* WidgetChartType */.Rf.LINE)
                        return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('线类型'), name: (0,utils/* concat_name_path */.pG)(name, 'line_type'), initialValue: ChartFormFields_type/* ILineType */.ad.SOLID, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: line_type_options }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('线宽'), name: (0,utils/* concat_name_path */.pG)(name, 'line_width'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('是否填充'), initialValue: false, name: [name, 'is_filled'], children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(path, name, 'is_filled')], children: value => {
                                        const is_filled = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(path, name, 'is_filled'));
                                        return is_filled
                                            ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('透明度'), name: (0,utils/* concat_name_path */.pG)(name, 'opacity'), initialValue: 0.2, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { max: 1, min: 0 }) })
                                            : null;
                                    } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name, 'end_label'), label: (0,i18n.t)('展示端标签'), initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(path, name, 'end_label')], children: value => {
                                        const end_label = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(path, name, 'end_label'));
                                        if (end_label)
                                            return null;
                                        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [name, 'end_label_formatter'], label: (0,i18n.t)('自定义端标签'), tooltip: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('支持静态标签与模板变量，其中模板变量包含以下几种'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('{a}：数据列名称'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('{b}：x 轴值'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('{c}：当 x 轴为类目轴时显示 y 轴值，其余轴的情况下显示 x轴值,y轴值'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('示例: 名称-{a}'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('请注意，不填自定义端标签时默认展示 y 轴值')] }), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入自定义端标签') }) });
                                    } })] });
                    else if (series_type === dashboard_model/* WidgetChartType */.Rf.SCATTER)
                        return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('散点大小'), name: (0,utils/* concat_name_path */.pG)(name, 'symbol_size'), initialValue: 10, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 1 }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('散点标记'), name: (0,utils/* concat_name_path */.pG)(name, 'symbol'), initialValue: 'circle', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(['circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow']) }) })] });
                    else if (series_type === dashboard_model/* WidgetChartType */.Rf.HEATMAP)
                        return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('阴暗色'), name: (0,utils/* concat_name_path */.pG)(name, 'in_range', 'color', 'low'), initialValue: '#EBE1E1', children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('明亮色'), name: (0,utils/* concat_name_path */.pG)(name, 'in_range', 'color', 'high'), initialValue: '#983430', children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('最小值'), name: (0,utils/* concat_name_path */.pG)(name, 'min'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('最大值'), name: (0,utils/* concat_name_path */.pG)(name, 'max'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('展示标签'), name: (0,utils/* concat_name_path */.pG)(name, 'with_label'), initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })] });
                    else
                        return null;
                } })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/components/ThresholdSetting.tsx











const show_type_options = [
    {
        label: (0,i18n.t)('不展示'),
        value: ChartFormFields_type/* ThresholdShowType */.Hp.NONE,
    },
    {
        label: (0,i18n.t)('区域填充'),
        value: ChartFormFields_type/* ThresholdShowType */.Hp.FILLED_REGION
    },
    {
        label: (0,i18n.t)('线条'),
        value: ChartFormFields_type/* ThresholdShowType */.Hp.LINE
    },
];
const form_list_name = 'thresholds';
function ThresholdSettingList() {
    const form = external_antd_namespaceObject.Form.useFormInstance();
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: form_list_name, children: (fields, { add, remove }) => {
            const items = fields.map(field => ({
                label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [(0,i18n.t)('阈值 {{name}}', { name: field.name + 1 }), (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { onClick: () => { remove(field.name); } })] }),
                children: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('关联轴类型'), initialValue: 1, name: (0,utils/* concat_name_path */.pG)(field.name, 'axis_type'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: [{ label: (0,i18n.t)('X 轴'), value: 0 }, { label: (0,i18n.t)('Y 轴'), value: 1 }], onSelect: () => { form.setFieldValue((0,utils/* concat_name_path */.pG)(form_list_name, field.name, 'axis'), undefined); } }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(form_list_name, field.name, 'axis_type'), 'yAxis', 'xAxis'], children: value => {
                                const type = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(form_list_name, field.name, 'axis_type'));
                                const yAxis = (0,external_.get)(value, 'yAxis');
                                const xAxis = (0,external_.get)(value, 'xAxis');
                                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: (0,i18n.t)('仅支持数据轴'), label: type === 0 ? (0,i18n.t)('关联 X 轴') : (0,i18n.t)('关联 Y 轴'), name: (0,utils/* concat_name_path */.pG)(field.name, 'axis'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (type === 0 ? [xAxis] : yAxis)
                                            ?.filter(item => item.type === ChartFormFields_type/* AxisType */.Gw.VALUE)
                                            ?.map((item, idx) => ({
                                            value: idx,
                                            label: item?.name
                                        })) }) });
                            } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('阈值类型'), name: (0,utils/* concat_name_path */.pG)(field.name, 'type'), initialValue: ChartFormFields_type/* ThresholdType */.UR.ABSOLUTE, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: [{ label: (0,i18n.t)('绝对值'), value: ChartFormFields_type/* ThresholdType */.UR.ABSOLUTE }, { label: (0,i18n.t)('百分比'), value: ChartFormFields_type/* ThresholdType */.UR.PERCENTAGE }] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('展示类型'), name: (0,utils/* concat_name_path */.pG)(field.name, 'show_type'), initialValue: ChartFormFields_type/* ThresholdShowType */.Hp.NONE, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: show_type_options, 
                                /* show_type 改变会影响某些表单项的显隐，如果不加 update_widget，当从隐藏状态更改为显示状态后，表单显示的属性与真实展示情况会不一致，本质上还是由于 form.setFieldValue 不会触发 form 的 onValuesChange 导致的 */
                                onSelect: () => setTimeout(() => { dashboard_model/* dashboard */.ze.update_widget({ ...widget, config: form.getFieldsValue() }); }) }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(form_list_name, field.name, 'show_type')], children: value => {
                                const show_type = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(form_list_name, field.name, 'show_type'));
                                return show_type === ChartFormFields_type/* ThresholdShowType */.Hp.LINE
                                    ? (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('线类型'), initialValue: ChartFormFields_type/* ILineType */.ad.SOLID, name: (0,utils/* concat_name_path */.pG)(field.name, 'line_type'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: line_type_options }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('线宽'), initialValue: 1, name: (0,utils/* concat_name_path */.pG)(field.name, 'line_width'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px', min: 1 }) })] })
                                    : null;
                            } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { initialValue: [{}], name: (0,utils/* concat_name_path */.pG)(field.name, 'values'), children: (fields, { remove, add }) => {
                                return (0,jsx_runtime.jsxs)("div", { className: 'threshold-list', children: [fields.map(value_field => (0,jsx_runtime.jsxs)("div", { className: 'threshold-item', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(value_field.name, 'color'), children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(form_list_name, field.name, 'values', value_field, 'type')], children: value => {
                                                        const type = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(form_list_name, field.name, 'values', value_field, 'type'));
                                                        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(value_field.name, 'value'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: type === ChartFormFields_type/* ThresholdType */.UR.PERCENTAGE ? '%' : null }) });
                                                    } }), (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { onClick: () => { remove(value_field.name); } })] }, value_field.name)), (0,jsx_runtime.jsx)("div", { className: 'threshold-add-btn', children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Typography.Link, { onClick: () => { add(); }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusOutlined, { className: 'threshold-add-icon' }), (0,i18n.t)('增加阈值')] }) })] });
                            } })] })
            }));
            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [!!items.length && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { size: 'small', items: items }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { style: { marginTop: 12 }, block: true, type: 'dashed', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), onClick: () => { add(); }, children: (0,i18n.t)('增加阈值设置') })] });
        } });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/BasicChartFields.tsx


















const DATE_SELECT_FORMAT = {
    [ChartFormFields_type/* ITimeFormat */.kQ.DAY_MINUTE]: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: ChartFormFields_type/* ITimeFormat */.kQ.DAY_MINUTE, format: ChartFormFields_type/* ITimeFormat */.kQ.DAY_MINUTE, showTime: true, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.DATE]: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: ChartFormFields_type/* ITimeFormat */.kQ.DATE, format: ChartFormFields_type/* ITimeFormat */.kQ.DATE, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.DATE_HOUR]: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: ChartFormFields_type/* ITimeFormat */.kQ.DATE_HOUR, format: ChartFormFields_type/* ITimeFormat */.kQ.DATE_HOUR, showTime: true, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.DATE_MINUTE]: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: ChartFormFields_type/* ITimeFormat */.kQ.DATE_MINUTE, format: ChartFormFields_type/* ITimeFormat */.kQ.DATE_MINUTE, showTime: true, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.DATE_SECOND]: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: ChartFormFields_type/* ITimeFormat */.kQ.DATE_SECOND, format: ChartFormFields_type/* ITimeFormat */.kQ.DATE_SECOND, showTime: true, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.HOUR]: (0,jsx_runtime.jsx)(StringTimePicker, { format: ChartFormFields_type/* ITimeFormat */.kQ.HOUR, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.MINUTE]: (0,jsx_runtime.jsx)(StringTimePicker, { format: ChartFormFields_type/* ITimeFormat */.kQ.MINUTE, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.SECOND]: (0,jsx_runtime.jsx)(StringTimePicker, { format: ChartFormFields_type/* ITimeFormat */.kQ.SECOND, allowClear: true }),
    [ChartFormFields_type/* ITimeFormat */.kQ.DATE_MILLISECOND]: (0,jsx_runtime.jsx)(StringDatePicker, { submitFormat: ChartFormFields_type/* ITimeFormat */.kQ.DATE_MILLISECOND, format: ChartFormFields_type/* ITimeFormat */.kQ.DATE_MILLISECOND, showTime: true, allowClear: true })
};
function AxisItem({ name_path, col_names = [], list_name, initial_values, hidden_fields = [] }) {
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    const [is_heat_map, is_composite] = (0,external_React_.useMemo)(() => [
        widget.type === dashboard_model/* WidgetChartType */.Rf.HEATMAP,
        widget.type === dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH
    ], [widget.type]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('类型'), hidden: hidden_fields?.includes('type'), name: (0,utils/* concat_name_path */.pG)(name_path, 'type'), initialValue: initial_values?.type ?? ChartFormFields_type/* AxisType */.Gw.CATEGORY, tooltip: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('数值轴，适用于连续数据'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('时间轴，适用于连续的时序数据'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('类目轴，适用于离散的类目数据，或者时序数据'), (0,jsx_runtime.jsx)("br", {}), (0,i18n.t)('对数轴，适用于对数数据')] }), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { disabled: is_heat_map, options: axis_type_options }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('名称'), name: (0,utils/* concat_name_path */.pG)(name_path, 'name'), initialValue: initial_values?.name ?? (0,i18n.t)('名称'), hidden: hidden_fields?.includes('name'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('字号'), name: (0,utils/* concat_name_path */.pG)(name_path, 'fontsize'), initialValue: 12, hidden: hidden_fields?.includes('fontsize'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), !is_composite && (0,jsx_runtime.jsx)(AxisColSelect, { hidden: hidden_fields?.includes('col_name'), label: (0,i18n.t)('坐标列'), col_names: col_names, path: name_path, list_path: list_name }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(list_name, name_path, 'type')], children: value => {
                    const type = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)(list_name, name_path, 'type'));
                    switch (type) {
                        case ChartFormFields_type/* AxisType */.Gw.VALUE:
                            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'with_zero'), label: (0,i18n.t)('强制包含零刻度'), initialValue: false, hidden: hidden_fields?.includes('with_zero'), children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'interval'), label: (0,i18n.t)('刻度间隔'), hidden: hidden_fields?.includes('interval'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 1 }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'min'), label: (0,i18n.t)('最小值'), hidden: hidden_fields?.includes('min'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'max'), label: (0,i18n.t)('最大值'), hidden: hidden_fields?.includes('max'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) })] });
                        case ChartFormFields_type/* AxisType */.Gw.LOG:
                            return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'log_base'), label: (0,i18n.t)('底数'), initialValue: 10, hidden: hidden_fields?.includes('log_base'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }) });
                        case ChartFormFields_type/* AxisType */.Gw.TIME:
                            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'time_format'), label: (0,i18n.t)('时间格式化'), initialValue: initial_values?.time_format, hidden: hidden_fields?.includes('time_format'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: format_time_options.slice(5) }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(list_name, name_path, 'time_format')], children: value => {
                                            const time_format = list_name ? value[list_name]?.find(item => item)?.time_format : value?.[name_path]?.time_format;
                                            if (!time_format)
                                                return null;
                                            else
                                                return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'min'), label: (0,i18n.t)('开始时间'), hidden: hidden_fields?.includes('min'), children: DATE_SELECT_FORMAT[time_format] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'max'), label: (0,i18n.t)('结束时间'), hidden: hidden_fields?.includes('max'), children: DATE_SELECT_FORMAT[time_format] })] });
                                        } })] });
                        case ChartFormFields_type/* AxisType */.Gw.CATEGORY:
                            return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'time_format'), label: (0,i18n.t)('时间格式化'), hidden: hidden_fields?.includes('time_format'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: format_time_options, allowClear: true }) }) });
                        default:
                            return null;
                    }
                } })] });
}
function Series(props) {
    const { col_names = [], single = false } = props;
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    const type = (0,external_React_.useMemo)(() => widget.type, [widget]);
    const is_mix_type = (0,external_React_.useMemo)(() => [dashboard_model/* WidgetChartType */.Rf.MIX, dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH].includes(type), [type]);
    const series = external_antd_namespaceObject.Form.useWatch('series');
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'series', initialValue: [
            {
                col_name: col_names[0],
                name: col_names[0],
                yAxisIndex: 0,
                type: is_mix_type ? dashboard_model/* WidgetChartType */.Rf.LINE : type,
                color: null
            }
        ], children: (fields, { add, remove }) => {
            const items = fields.map(field => {
                return {
                    key: field.name,
                    children: (0,jsx_runtime.jsx)(SeriesItem, { type: type, col_names: col_names, name: field.name, path: 'series' }),
                    label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [series?.[field.name]?.name || `${(0,i18n.t)('数据列')} ${field.name + 1}`, fields.length > 1 && (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } })] }),
                    forceRender: true
                };
            });
            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { size: 'small', className: 'series-collapse', items: items }), !single && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'add-series-btn', type: 'dashed', block: true, onClick: () => { add(); }, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), children: (0,i18n.t)('增加数据列') })] });
        } });
}
function YAxis(props) {
    const { col_names, initial_values, single, axis_item_props } = props;
    const default_initial_values = (0,external_React_.useMemo)(() => ([
        {
            type: ChartFormFields_type/* AxisType */.Gw.VALUE,
            name: (0,i18n.t)('名称'),
            col_name: col_names[0],
            position: 'left',
            offset: 0
        }
    ]), [col_names]);
    const yAxis = external_antd_namespaceObject.Form.useWatch('yAxis');
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'yAxis', initialValue: initial_values || default_initial_values, children: (fields, { add, remove }) => {
            const items = fields.map(field => {
                const children = (0,jsx_runtime.jsx)("div", { className: 'field-wrapper', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Space, { children: (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(AxisItem, { hidden_fields: ['col_name'], col_names: col_names, name_path: field.name, list_name: 'yAxis', ...axis_item_props }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'position'], label: (0,i18n.t)('位置'), initialValue: 'left', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: axis_position_options }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: (0,i18n.t)('Y 轴相对于左右默认位置的偏移'), name: [field.name, 'offset'], label: (0,i18n.t)('偏移量'), initialValue: 0, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) })] }) }) }, field.name);
                return {
                    children,
                    key: field.name,
                    label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [yAxis?.[field.name]?.name || `${(0,i18n.t)('Y 轴')} ${field.name + 1}`, fields.length > 1 &&
                                (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } })] }),
                    forceRender: true,
                };
            });
            return (0,jsx_runtime.jsxs)("div", { className: 'yasix-collapse-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, size: 'small' }), !single && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'add-yaxis-btn', type: 'dashed', block: true, onClick: () => { add({ type: ChartFormFields_type/* AxisType */.Gw.VALUE }); }, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), children: (0,i18n.t)('增加 Y 轴') })] });
        } });
}
/**
    @param col_names 数据列名
    @param single 是否可配置多个 y 轴
    @returns  */
function AxisFormFields({ col_names = [], single = false }) {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [{
                key: 'x_axis',
                label: (0,i18n.t)('X 轴配置'),
                children: (0,jsx_runtime.jsx)("div", { className: 'axis-wrapper', children: (0,jsx_runtime.jsx)(AxisItem, { name_path: 'xAxis', col_names: col_names }) }),
                forceRender: true,
            },
            {
                key: 'y_axis',
                label: (0,i18n.t)('Y 轴配置'),
                children: (0,jsx_runtime.jsx)(YAxis, { col_names: col_names, single: single }),
                forceRender: true,
            }
        ] });
}
/**
    @param col_names 数据列
    @param single 是否可配置多数据列
    @returns  */
function SeriesFormFields(props) {
    const { col_names, single = false } = props;
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'series',
                label: (0,i18n.t)('数据列'),
                children: (0,jsx_runtime.jsx)(Series, { col_names: col_names, single: single }),
                forceRender: true,
            }
        ] });
}
function ThresholdFormFields() {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [{
                key: 'threshold',
                label: (0,i18n.t)('阈值设置'),
                children: (0,jsx_runtime.jsx)(ThresholdSettingList, {}),
                forceRender: true,
            }] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/OhlcChartFields.tsx















const OhlcChartFields_axis_type_options = [
    {
        label: (0,i18n.t)('数据轴'),
        value: 'value'
    },
    {
        label: (0,i18n.t)('类目轴'),
        value: 'category'
    },
    {
        label: (0,i18n.t)('时间轴'),
        value: 'time'
    },
    {
        label: (0,i18n.t)('对数'),
        value: 'log'
    }
];
const OhlcChartFields_axis_position_options = [
    { value: 'left', label: (0,i18n.t)('左侧') },
    { value: 'right', label: (0,i18n.t)('右侧') }
];
function OhlcChartFields_BasicFormFields() {
    return _jsx(Collapse, { items: [{
                key: 'basic',
                label: t('基本属性'),
                children: _jsxs("div", { className: 'axis-wrapper', children: [_jsx(Form.Item, { name: 'title', label: t('标题'), initialValue: t('标题'), children: _jsx(Input, {}) }), _jsx(Form.Item, { name: 'title_size', label: '\u6807\u9898\u5B57\u53F7', children: _jsx(InputNumber, { addonAfter: 'px' }) }), _jsx(PaddingSetting, {}), _jsx(Form.Item, { name: 'with_tooltip', label: t('气泡提示'), initialValue: true, children: _jsx(BoolRadioGroup, {}) }), _jsx(Form.Item, { name: 'x_datazoom', label: t('X 轴缩略轴'), initialValue: true, children: _jsx(BoolRadioGroup, {}) }), _jsx(Form.Item, { name: 'y_datazoom', label: t('Y 轴缩略轴'), initialValue: false, children: _jsx(BoolRadioGroup, {}) })] }),
                forceRender: true
            },
            {
                key: 'variable',
                label: t('变量设置'),
                children: _jsx(VariableSetting, {}),
                forceRender: true
            }] });
}
function OhlcChartFields_AxisItem(props) {
    const { name_path, col_names = [], list_name, initial_values } = props;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'type'), label: (0,i18n.t)('类型'), initialValue: 'time', tooltip: (0,i18n.t)('k 线图仅支持时间轴'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { disabled: true, options: OhlcChartFields_axis_type_options }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'name'), label: (0,i18n.t)('名称'), initialValue: initial_values?.name ?? (0,i18n.t)('名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'fontsize'), label: (0,i18n.t)('字号'), initialValue: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(list_name, name_path, 'type')], children: value => {
                    const type = list_name ? value[list_name]?.find(item => !!item)?.type : value?.[name_path]?.type;
                    switch (type) {
                        case ChartFormFields_type/* AxisType */.Gw.VALUE:
                            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'col_name'), label: (0,i18n.t)('坐标列'), initialValue: initial_values?.col_name ?? col_names?.[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names), allowClear: true }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'min'), label: (0,i18n.t)('最小值'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'max'), label: (0,i18n.t)('最大值'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) })] });
                        case ChartFormFields_type/* AxisType */.Gw.LOG:
                            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'log_base'), label: (0,i18n.t)('底数'), initialValue: 10, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) });
                        case ChartFormFields_type/* AxisType */.Gw.TIME:
                            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'col_name'), label: (0,i18n.t)('坐标列'), initialValue: initial_values?.col_name ?? col_names?.[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names), allowClear: true }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'time_format'), label: (0,i18n.t)('时间格式化'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: format_time_options }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)(list_name, name_path, 'time_format')], children: value => {
                                            const time_format = list_name ? value[list_name]?.find(item => item)?.time_format : value?.[name_path]?.time_format;
                                            if (!time_format)
                                                return null;
                                            else
                                                return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'min'), label: (0,i18n.t)('开始时间'), children: DATE_SELECT_FORMAT[time_format] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(name_path, 'max'), label: (0,i18n.t)('结束时间'), children: DATE_SELECT_FORMAT[time_format] })] });
                                        } })] });
                        default:
                            return null;
                    }
                } })] });
}
// 多y轴
function OhlcChartFields_YAxis({ col_names, initial_values }) {
    // const { col_names, initial_values } = props
    const default_initial_values = (0,external_React_.useMemo)(() => ([
        {
            type: ChartFormFields_type/* AxisType */.Gw.VALUE,
            name: (0,i18n.t)('名称'),
            col_name: col_names[0],
            position: 'left',
            offset: 0
        }
    ]), [col_names]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'yAxis', initialValue: initial_values || default_initial_values, children: (fields, { add, remove }) => {
            const items = fields.map((field, index) => {
                const children = (0,jsx_runtime.jsx)("div", { className: 'field-wrapper', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Space, { children: (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(OhlcChartFields_AxisItem, { col_names: col_names, name_path: field.name, list_name: 'yAxis' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'position'], label: (0,i18n.t)('位置'), initialValue: 'left', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: OhlcChartFields_axis_position_options }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: (0,i18n.t)('Y 轴相对于左右默认位置的偏移'), name: [field.name, 'offset'], label: (0,i18n.t)('偏移量'), initialValue: 0, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) })] }) }) }, field.name);
                return {
                    children,
                    key: field.name,
                    label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [`${(0,i18n.t)('Y 轴')} ${field.name + 1}`, index >= 2 &&
                                (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } })] }),
                    forceRender: true,
                };
            });
            return (0,jsx_runtime.jsx)("div", { className: 'yasix-collapse-wrapper', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, size: 'small' }) });
        } });
}
function OhlcChartFields_Series(props) {
    const { col_names } = props;
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    const series = (0,external_React_.useMemo)(() => [{ name: '', key: 0, selected_cols: ['open', 'close', 'lowest', 'highest'] },
        { name: '', key: 1 }], []);
    const form = external_antd_namespaceObject.Form.useFormInstance();
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'series', initialValue: series, children: (fields, { add, remove }) => {
            const items = fields.map((field, index) => {
                const children = (0,jsx_runtime.jsxs)("div", { className: 'field-wrapper', children: [index <= 1 ? (series[index]?.selected_cols ?
                            series[index].selected_cols.map(col => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, col], label: col, initialValue: col !== 'limit' ? col_names?.[0] : 0, children: col !== 'limit' ?
                                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names), allowClear: true })
                                    :
                                        (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }, col))
                            :
                                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col_name'], label: (0,i18n.t)('交易量'), initialValue: col_names?.[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names) }) }))
                            :
                                (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col_name'], label: (0,i18n.t)('数据列'), initialValue: col_names?.[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: col_names.map(item => ({ label: item, value: item })), onSelect: val => {
                                                    form.setFieldValue(['series', field.name, 'name'], val);
                                                    // setFieldValue 不会触发 onValuesChange 事件，需要手动更新config
                                                    dashboard_model/* dashboard */.ze.update_widget({ ...widget, config: form.getFieldsValue() });
                                                } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'name'], label: (0,i18n.t)('名称'), initialValue: col_names[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'type'], label: (0,i18n.t)('类型'), initialValue: dashboard_model/* WidgetChartType */.Rf.LINE, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: chart_type_options, disabled: true }) })] }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: ['yAxis'], children: value => {
                                const { yAxis } = value;
                                const options = yAxis.map((item, idx) => ({
                                    value: idx,
                                    label: item?.name
                                }));
                                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'yAxisIndex'], label: (0,i18n.t)('关联 Y 轴'), initialValue: 0, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: options }) });
                            } }), index <= 1 ?
                            (series[index]?.selected_cols ?
                                (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'kcolor'], label: (0,i18n.t)('k 线颜色（涨）'), children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'kcolor0'], label: (0,i18n.t)('k 线颜色（跌）'), children: (0,jsx_runtime.jsx)(StringColorPicker, {}) })] }) :
                                (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {})) :
                            (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'color'], label: (0,i18n.t)('线条颜色'), initialValue: null, children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'mark_point'], label: (0,i18n.t)('标记点'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: mark_point_options, mode: 'multiple' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('水平线'), name: [field.name, 'mark_line'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: mark_line_options, mode: 'tags' }) })] }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [['series', field.name, 'type']], children: ({ series }) => {
                                const { type: seriesType } = series.find(item => !!item);
                                { /**
                                    柱状图可以选择是否堆叠展示
                                    折线图可以选择线类型
                                 */
                                }
                                if (seriesType === dashboard_model/* WidgetChartType */.Rf.BAR)
                                    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: (0,i18n.t)('同个类目轴上为数据列配置相同的堆叠值可以堆叠放置'), label: (0,i18n.t)('堆叠值'), name: [field.name, 'stack'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) });
                                else if (seriesType === dashboard_model/* WidgetChartType */.Rf.LINE)
                                    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('线类型'), name: [field.name, 'line_type'], initialValue: ChartFormFields_type/* ILineType */.ad.SOLID, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: line_type_options }) });
                                else
                                    return null;
                            } })] });
                return {
                    key: field.name,
                    children,
                    label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [`${(0,i18n.t)('数据列')} ${field.name + 1}`, index >= 2 && (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } })] }),
                    forceRender: true
                };
            });
            return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { size: 'small', className: 'series-collapse', items: items }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'add-series-btn', type: 'dashed', block: true, onClick: () => { add(); }, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), children: (0,i18n.t)('增加数据列') })] });
        } });
    { }
}
function OhlcFormFields(props) {
    const { col_names = [] } = props;
    const [x_axis, y_axis] = (0,external_React_.useMemo)(() => [
        { type: ChartFormFields_type/* AxisType */.Gw.TIME, name: '' },
        [
            { type: ChartFormFields_type/* AxisType */.Gw.VALUE, name: (0,i18n.t)('k 线'), position: ChartFormFields_type/* Position */.yX.LEFT },
            { type: ChartFormFields_type/* AxisType */.Gw.VALUE, name: (0,i18n.t)('交易量'), position: ChartFormFields_type/* Position */.yX.RIGHT }
        ]
    ], []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'x_axis',
                label: (0,i18n.t)('X 轴配置'),
                children: ((0,jsx_runtime.jsx)("div", { className: 'axis-wrapper', children: (0,jsx_runtime.jsx)(OhlcChartFields_AxisItem, { name_path: 'xAxis', col_names: col_names, initial_values: x_axis }) })),
                forceRender: true
            },
            {
                key: 'y_axis',
                label: (0,i18n.t)('Y 轴配置'),
                // children: <AxisItem name_path='yAxis' col_names={col_names}/>,
                children: (0,jsx_runtime.jsx)(OhlcChartFields_YAxis, { col_names: col_names, initial_values: y_axis }),
                forceRender: true
            },
            {
                key: 'series',
                label: (0,i18n.t)('数据列'),
                children: (0,jsx_runtime.jsx)(OhlcChartFields_Series, { col_names: col_names }),
                forceRender: true
            }
        ] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/OHLC/index.sass
var OHLC = __webpack_require__(9361);
;// CONCATENATED MODULE: ./console/dashboard/Charts/OHLC/index.sass

      
      
      
      
      
      
      
      
      

var OHLC_options = {};

OHLC_options.styleTagTransform = (styleTagTransform_default());
OHLC_options.setAttributes = (setAttributesWithoutAttributes_default());
OHLC_options.insert = insertBySelector_default().bind(null, "head");
OHLC_options.domAPI = (styleDomAPI_default());
OHLC_options.insertStyleElement = (insertStyleElement_default());

var OHLC_update = injectStylesIntoStyleTag_default()(OHLC/* default */.A, OHLC_options);




       /* harmony default export */ const Charts_OHLC = (OHLC/* default */.A && OHLC/* default */.A.locals ? OHLC/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/Charts/OHLC/index.tsx










function splitData(rowData, col_name) {
    const { time, open, close, low, high, trades, time_format } = col_name;
    let categoryData = [];
    let values = [];
    let volumes = [];
    let lines = [];
    for (let i = 0; i < rowData.length; i++) {
        categoryData.push(rowData[i][time]);
        values.push([rowData[i][open], rowData[i][close], rowData[i][low], rowData[i][high]]);
        volumes.push([i, Math.abs(rowData[i][trades]), Number(rowData[i][trades]) > 0 ? 1 : -1]);
    }
    if (time_format)
        categoryData = categoryData.map(item => (0,utils/* format_time */.M6)(item, time_format));
    return {
        categoryData,
        values,
        volumes,
        lines
    };
}
function OHLC_OHLC({ widget, data_source }) {
    const { title, title_size, xAxis, series, yAxis, x_datazoom, y_datazoom, legend, splitLine, animation, tooltip } = widget.config;
    function convert_series(series) {
        let mark_line_data = series?.mark_line?.map(item => {
            if (item in ChartFormFields_type/* MarkPresetType */.LW)
                return {
                    type: item,
                    name: item
                };
            else
                return { yAxis: item };
        }) || [];
        let data = data_source.map(item => item?.[series?.col_name]);
        return {
            type: series?.type?.toLowerCase(),
            name: series?.name,
            symbol: 'none',
            stack: series?.stack,
            // 防止删除yAxis导致渲染失败
            yAxisIndex: yAxis[series?.yAxisIndex] ? series?.yAxisIndex : 0,
            data,
            markPoint: {
                data: series?.mark_point?.map(item => ({
                    type: item,
                    name: item
                }))
            },
            itemStyle: {
                color: series?.color,
            },
            markLine: {
                symbol: ['none', 'none'],
                data: mark_line_data
            },
            lineStyle: {
                type: series?.line_type,
                color: series?.color
            }
        };
    }
    const lines = series.slice(2).map(serie => convert_series(serie));
    const data = (0,external_React_.useMemo)(() => splitData(data_source, {
        time: xAxis.col_name,
        open: series[0].open,
        close: series[0].close,
        low: series[0].lowest,
        high: series[0].highest,
        trades: series[1].col_name,
        time_format: xAxis.time_format || ''
    }), [data_source, xAxis.col_name, series, xAxis.time_format]);
    const [kColor = '#ec0000', kColor0 = '#00da3c'] = (0,external_React_.useMemo)(() => [series[0].kcolor, series[0].kcolor0], [series[0]]);
    const option = (0,external_React_.useMemo)(() => ({
        animation,
        title: {
            text: (0,utils/* parse_text */.we)(title),
            textStyle: {
                color: '#e6e6e6',
                fontSize: title_size || 18,
            }
        },
        data,
        splitLine: {
            show: true,
            ...splitLine
        },
        legend: (0,external_.pickBy)({
            show: true,
            top: 10,
            left: 'center',
            data: series.slice(2).map(s => s?.name || ''),
            textStyle: {
                color: '#e6e6e6'
            },
            ...legend,
        }, v => !(0,external_.isNil)(v) && v !== ''),
        backgroundColor: '#282828',
        tooltip: {
            show: true,
            trigger: 'axis',
            axisPointer: {
                type: 'cross'
            },
            backgroundColor: '#060606',
            borderColor: '#060606',
            textStyle: {
                color: '#F5F5F5'
            },
            borderWidth: 1,
            padding: 10,
            // textStyle: {
            //     color: '#e6e6e6'
            // },
            // alwaysShowContent: true,
            position: function (pos, params, el, elRect, size) {
                if (pos[0] < size.viewSize[0] / 2)
                    return {
                        top: 10,
                        left: pos[0] + 10
                    };
                else
                    return {
                        top: 10,
                        right: size.viewSize[0] - pos[0] - 10
                    };
            }
        },
        axisPointer: {
            link: [
                {
                    xAxisIndex: 'all'
                }
            ],
            label: {
                backgroundColor: '#777'
            }
        },
        // toolbox: {
        //   feature: {
        //     dataZoom: {
        //       yAxisIndex: false
        //     },
        //     brush: {
        //       type: ['lineX', 'clear']
        //     }
        //   }
        // },
        // brush: {
        //   xAxisIndex: 'all',
        //   brushLink: 'all',
        //   outOfBrush: {
        //     colorAlpha: 0.1
        //   }
        // },
        // visualMap: {
        //     show: false,
        //     seriesIndex: 5,
        //     dimension: 2,
        //     pieces: [
        //         {
        //             value: 1,
        //             color: kColor
        //         },
        //         {
        //             value: -1,
        //             color: kColor0
        //         }
        //     ]
        // },
        grid: [
            {
                // containLabel: true,
                left: 70,
                right: 50,
                height: '50%'
            },
            {
                // containLabel: true,
                left: 70,
                right: 50,
                bottom: '22%',
                height: '15%'
            }
        ],
        xAxis: [
            {
                type: 'category',
                show: false,
                name: xAxis.name,
                data: data.categoryData,
                boundaryGap: false,
                axisLine: { onZero: false },
                splitLine: { show: true, ...splitLine },
                nameTextStyle: {
                    fontSize: xAxis?.fontsize ?? 12
                },
                axisPointer: {
                    z: 100
                },
                min: () => {
                    const idx = data.categoryData.findIndex(time => time >= xAxis.min);
                    return idx === -1 ? 0 : idx;
                },
                max: () => {
                    const idx = data.categoryData.findIndex(time => time >= xAxis.max);
                    return idx === -1 ? data.categoryData.length - 1 : idx;
                }
            },
            {
                type: 'category',
                gridIndex: 1,
                name: xAxis.name,
                data: data.categoryData,
                nameTextStyle: {
                    fontSize: xAxis?.fontsize ?? 12
                },
                // data: data.categoryData,
                boundaryGap: false,
                // axisLine: { onZero: false },
                // axisTick: { show: false },
                // splitLine: { show: false },
                // axisLabel: { show: false },
                min: () => {
                    const idx = data.categoryData.findIndex(time => time >= xAxis.min);
                    return idx === -1 ? 0 : idx;
                },
                max: () => {
                    const idx = data.categoryData.findIndex(time => time >= xAxis.max);
                    return idx === -1 ? data.categoryData.length - 1 : idx;
                }
            }
        ],
        yAxis: [
            {
                scale: true,
                splitArea: {
                    show: true
                },
                splitLine: {
                    show: true,
                    lineStyle: {
                        type: 'dashed',
                        color: '#6E6F7A'
                    },
                    ...splitLine
                },
                nameTextStyle: {
                    padding: [0, 50, 0, 0],
                    fontSize: yAxis[0]?.fontsize ?? 12,
                },
                min: yAxis[0].min,
                max: yAxis[0].max,
                name: yAxis[0].name,
                position: yAxis[0].position,
                offset: yAxis[0].offset
            },
            {
                scale: true,
                gridIndex: 1,
                splitNumber: 2,
                min: yAxis[1].min,
                max: yAxis[1].max,
                nameTextStyle: {
                    padding: [0, 0, 0, 50],
                    fontSize: yAxis[1]?.fontsize ?? 12,
                },
                name: yAxis[1].name,
                position: yAxis[1].position,
                offset: yAxis[1].offset,
                axisLabel: { show: false },
                axisLine: { show: false },
                axisTick: { show: false },
                splitLine: { show: false }
            }
        ],
        dataZoom: [
            {
                type: 'inside',
                xAxisIndex: [0, 1],
            },
            {
                show: x_datazoom,
                xAxisIndex: [0, 1],
                type: 'slider',
                top: '86%',
                height: 20
            },
            {
                show: y_datazoom,
                id: 'dataZoomY',
                type: 'slider',
                yAxisIndex: [0, 1],
                // start: 0,
                // end: 100
            }
        ],
        series: [
            {
                type: 'candlestick',
                data: data.values,
                itemStyle: {
                    color: kColor,
                    color0: kColor0,
                    borderColor: undefined,
                    borderColor0: undefined
                }
            },
            {
                name: 'trades',
                type: 'bar',
                xAxisIndex: 1,
                yAxisIndex: 1,
                data: data.volumes,
                itemStyle: {
                    color: ({ value }) => (value[2] === 1 ? kColor : kColor0)
                }
            },
            ...lines
        ]
    }), [title, animation, data, xAxis, yAxis, x_datazoom, y_datazoom, legend, splitLine, tooltip]);
    // 编辑模式下 notMerge 为 true ，因为要修改配置，预览模式下 notMerge 为 false ，避免数据更新，导致选中的 label失效
    return (0,jsx_runtime.jsx)(core/* default */.A, { echarts: external_echarts_, option: option, theme: 'ohlc_theme' });
}
function OhlcConfigForm(props) {
    const { col_names = [] } = props;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'chart' }), (0,jsx_runtime.jsx)(OhlcFormFields, { col_names: col_names })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/RichText/index.sass
var RichText = __webpack_require__(3682);
;// CONCATENATED MODULE: ./console/dashboard/Charts/RichText/index.sass

      
      
      
      
      
      
      
      
      

var RichText_options = {};

RichText_options.styleTagTransform = (styleTagTransform_default());
RichText_options.setAttributes = (setAttributesWithoutAttributes_default());
RichText_options.insert = insertBySelector_default().bind(null, "head");
RichText_options.domAPI = (styleDomAPI_default());
RichText_options.insertStyleElement = (insertStyleElement_default());

var RichText_update = injectStylesIntoStyleTag_default()(RichText/* default */.A, RichText_options);




       /* harmony default export */ const Charts_RichText = (RichText/* default */.A && RichText/* default */.A.locals ? RichText/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/react-quill@2.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-quill/dist/quill.core.css
var quill_core = __webpack_require__(1940);
;// CONCATENATED MODULE: ./node_modules/.pnpm/react-quill@2.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-quill/dist/quill.core.css

      
      
      
      
      
      
      
      
      

var quill_core_options = {};

quill_core_options.styleTagTransform = (styleTagTransform_default());
quill_core_options.setAttributes = (setAttributesWithoutAttributes_default());
quill_core_options.insert = insertBySelector_default().bind(null, "head");
quill_core_options.domAPI = (styleDomAPI_default());
quill_core_options.insertStyleElement = (insertStyleElement_default());

var quill_core_update = injectStylesIntoStyleTag_default()(quill_core/* default */.A, quill_core_options);




       /* harmony default export */ const dist_quill_core = (quill_core/* default */.A && quill_core/* default */.A.locals ? quill_core/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/react-quill@2.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-quill/dist/quill.snow.css
var quill_snow = __webpack_require__(6812);
;// CONCATENATED MODULE: ./node_modules/.pnpm/react-quill@2.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-quill/dist/quill.snow.css

      
      
      
      
      
      
      
      
      

var quill_snow_options = {};

quill_snow_options.styleTagTransform = (styleTagTransform_default());
quill_snow_options.setAttributes = (setAttributesWithoutAttributes_default());
quill_snow_options.insert = insertBySelector_default().bind(null, "head");
quill_snow_options.domAPI = (styleDomAPI_default());
quill_snow_options.insertStyleElement = (insertStyleElement_default());

var quill_snow_update = injectStylesIntoStyleTag_default()(quill_snow/* default */.A, quill_snow_options);




       /* harmony default export */ const dist_quill_snow = (quill_snow/* default */.A && quill_snow/* default */.A.locals ? quill_snow/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/Charts/RichText/index.tsx














let ReactQuill;
function RichText_RichText({ widget, data_source }) {
    const [display_text, set_display_text] = (0,external_React_.useState)(widget.config?.value || '');
    const [edit_text, set_edit_text] = (0,external_React_.useState)(display_text);
    const [quill_loaded, set_quill_loaded] = (0,external_React_.useState)(Boolean(ReactQuill));
    const { visible, open, close } = use_modal();
    Variable_variable/* variables */.Ee.use();
    const quill_ref = (0,external_React_.useRef)();
    const toolbar_options = (0,external_React_.useMemo)(() => [
        ['bold', 'italic', 'underline', 'strike'], // toggled buttons
        ['blockquote', 'code-block'],
        [{ header: 1 }, { header: 2 }], // custom button values
        [{ color: [] }, { background: [] }], // dropdown with defaults from theme
        [{ list: 'ordered' }, { list: 'bullet' }],
        [{ script: 'sub' }, { script: 'super' }], // superscript/subscript
        [{ indent: '-1' }, { indent: '+1' }], // outdent/indent
        [{ direction: 'rtl' }], // text direction
        [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown
        [{ header: [1, 2, 3, 4, 5, 6, false] }],
        [{ font: [] }],
        [{ align: [] }],
        ['clean'] // remove formatting button
    ], []);
    const { editing, widget: current } = dashboard_model/* dashboard */.ze.use(['editing', 'widget']);
    const on_insert = (0,external_React_.useCallback)((content) => {
        if (quill_ref?.current) {
            const editor = quill_ref?.current?.getEditor?.();
            const cursorPosition = editor?.getSelection()?.index;
            editor?.insertText(cursorPosition, content);
            editor?.setSelection(cursorPosition + content.length);
        }
    }, []);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (visible && !quill_loaded) {
                // @ts-ignore
                if (window.define?.amd)
                    // @ts-ignore
                    window.define.amd = false;
                ({ default: ReactQuill } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! react-quill */ 4445)).then((m) => (__webpack_require__.t(m, 22))));
                set_quill_loaded(true);
            }
        })();
    }, [visible]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)(external_antd_namespaceObject.Modal, { open: visible, onCancel: () => {
                    set_edit_text(display_text);
                    close();
                }, okText: (0,i18n.t)('保存'), onOk: () => {
                    set_display_text(edit_text);
                    dashboard_model/* dashboard */.ze.update_widget({ ...widget, config: { variable_ids: [], value: edit_text } });
                    close();
                }, className: 'rich-text', children: [(0,jsx_runtime.jsx)(InsertVariableBtn, { className: 'rich-text-insert-btn', on_insert: on_insert }), quill_loaded ?
                        (0,jsx_runtime.jsx)(ReactQuill, { ref: quill_ref, theme: 'snow', value: edit_text, onChange: set_edit_text, modules: {
                                toolbar: toolbar_options
                            } })
                        :
                            (0,jsx_runtime.jsxs)("div", { children: [(0,i18n.t)('正在加载 ReactQuill'), " \u00B7\u00B7\u00B7"] })] }), display_text === '' ?
                (0,jsx_runtime.jsx)("div", { className: 'empty-area', children: editing && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: open, children: (0,i18n.t)('添加文本') }) })
                :
                    (0,jsx_runtime.jsxs)("div", { className: 'ql-container ql-snow rich-text-container', children: [(0,jsx_runtime.jsxs)("div", { className: classnames_default()({
                                    'edit-rich-text': true,
                                    'edit-rich-text-hover': widget.id === current?.id && editing
                                }), ...editing ? { onClick: open } : {}, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.EditOutlined, { className: 'edit-rich-text-icon' }), (0,i18n.t)('编辑文本')] }), (0,jsx_runtime.jsx)("div", { className: 'display-area ql-editor', dangerouslySetInnerHTML: { __html: (0,utils/* parse_text */.we)(display_text) } })] })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Chart/index.scss
var Charts_Chart = __webpack_require__(6853);
;// CONCATENATED MODULE: ./console/dashboard/Charts/Chart/index.scss

      
      
      
      
      
      
      
      
      

var Chart_options = {};

Chart_options.styleTagTransform = (styleTagTransform_default());
Chart_options.setAttributes = (setAttributesWithoutAttributes_default());
Chart_options.insert = insertBySelector_default().bind(null, "head");
Chart_options.domAPI = (styleDomAPI_default());
Chart_options.insertStyleElement = (insertStyleElement_default());

var Chart_update = injectStylesIntoStyleTag_default()(Charts_Chart/* default */.A, Chart_options);




       /* harmony default export */ const dashboard_Charts_Chart = (Charts_Chart/* default */.A && Charts_Chart/* default */.A.locals ? Charts_Chart/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./node_modules/.pnpm/resize-observer-polyfill@1.5.1/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js
/**
 * A collection of shims that provide minimal functionality of the ES6 collections.
 *
 * These implementations are not meant to be used outside of the ResizeObserver
 * modules as they cover only a limited range of use cases.
 */
/* eslint-disable require-jsdoc, valid-jsdoc */
var MapShim = (function () {
    if (typeof Map !== 'undefined') {
        return Map;
    }
    /**
     * Returns index in provided array that matches the specified key.
     *
     * @param {Array<Array>} arr
     * @param {*} key
     * @returns {number}
     */
    function getIndex(arr, key) {
        var result = -1;
        arr.some(function (entry, index) {
            if (entry[0] === key) {
                result = index;
                return true;
            }
            return false;
        });
        return result;
    }
    return /** @class */ (function () {
        function class_1() {
            this.__entries__ = [];
        }
        Object.defineProperty(class_1.prototype, "size", {
            /**
             * @returns {boolean}
             */
            get: function () {
                return this.__entries__.length;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {*} key
         * @returns {*}
         */
        class_1.prototype.get = function (key) {
            var index = getIndex(this.__entries__, key);
            var entry = this.__entries__[index];
            return entry && entry[1];
        };
        /**
         * @param {*} key
         * @param {*} value
         * @returns {void}
         */
        class_1.prototype.set = function (key, value) {
            var index = getIndex(this.__entries__, key);
            if (~index) {
                this.__entries__[index][1] = value;
            }
            else {
                this.__entries__.push([key, value]);
            }
        };
        /**
         * @param {*} key
         * @returns {void}
         */
        class_1.prototype.delete = function (key) {
            var entries = this.__entries__;
            var index = getIndex(entries, key);
            if (~index) {
                entries.splice(index, 1);
            }
        };
        /**
         * @param {*} key
         * @returns {void}
         */
        class_1.prototype.has = function (key) {
            return !!~getIndex(this.__entries__, key);
        };
        /**
         * @returns {void}
         */
        class_1.prototype.clear = function () {
            this.__entries__.splice(0);
        };
        /**
         * @param {Function} callback
         * @param {*} [ctx=null]
         * @returns {void}
         */
        class_1.prototype.forEach = function (callback, ctx) {
            if (ctx === void 0) { ctx = null; }
            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {
                var entry = _a[_i];
                callback.call(ctx, entry[1], entry[0]);
            }
        };
        return class_1;
    }());
})();

/**
 * Detects whether window and document objects are available in current environment.
 */
var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;

// Returns global object of a current environment.
var global$1 = (function () {
    if (typeof __webpack_require__.g !== 'undefined' && __webpack_require__.g.Math === Math) {
        return __webpack_require__.g;
    }
    if (typeof self !== 'undefined' && self.Math === Math) {
        return self;
    }
    if (typeof window !== 'undefined' && window.Math === Math) {
        return window;
    }
    // eslint-disable-next-line no-new-func
    return Function('return this')();
})();

/**
 * A shim for the requestAnimationFrame which falls back to the setTimeout if
 * first one is not supported.
 *
 * @returns {number} Requests' identifier.
 */
var requestAnimationFrame$1 = (function () {
    if (typeof requestAnimationFrame === 'function') {
        // It's required to use a bounded function because IE sometimes throws
        // an "Invalid calling object" error if rAF is invoked without the global
        // object on the left hand side.
        return requestAnimationFrame.bind(global$1);
    }
    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };
})();

// Defines minimum timeout before adding a trailing call.
var trailingTimeout = 2;
/**
 * Creates a wrapper function which ensures that provided callback will be
 * invoked only once during the specified delay period.
 *
 * @param {Function} callback - Function to be invoked after the delay period.
 * @param {number} delay - Delay after which to invoke callback.
 * @returns {Function}
 */
function throttle (callback, delay) {
    var leadingCall = false, trailingCall = false, lastCallTime = 0;
    /**
     * Invokes the original callback function and schedules new invocation if
     * the "proxy" was called during current request.
     *
     * @returns {void}
     */
    function resolvePending() {
        if (leadingCall) {
            leadingCall = false;
            callback();
        }
        if (trailingCall) {
            proxy();
        }
    }
    /**
     * Callback invoked after the specified delay. It will further postpone
     * invocation of the original function delegating it to the
     * requestAnimationFrame.
     *
     * @returns {void}
     */
    function timeoutCallback() {
        requestAnimationFrame$1(resolvePending);
    }
    /**
     * Schedules invocation of the original function.
     *
     * @returns {void}
     */
    function proxy() {
        var timeStamp = Date.now();
        if (leadingCall) {
            // Reject immediately following calls.
            if (timeStamp - lastCallTime < trailingTimeout) {
                return;
            }
            // Schedule new call to be in invoked when the pending one is resolved.
            // This is important for "transitions" which never actually start
            // immediately so there is a chance that we might miss one if change
            // happens amids the pending invocation.
            trailingCall = true;
        }
        else {
            leadingCall = true;
            trailingCall = false;
            setTimeout(timeoutCallback, delay);
        }
        lastCallTime = timeStamp;
    }
    return proxy;
}

// Minimum delay before invoking the update of observers.
var REFRESH_DELAY = 20;
// A list of substrings of CSS properties used to find transition events that
// might affect dimensions of observed elements.
var transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];
// Check if MutationObserver is available.
var mutationObserverSupported = typeof MutationObserver !== 'undefined';
/**
 * Singleton controller class which handles updates of ResizeObserver instances.
 */
var ResizeObserverController = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserverController.
     *
     * @private
     */
    function ResizeObserverController() {
        /**
         * Indicates whether DOM listeners have been added.
         *
         * @private {boolean}
         */
        this.connected_ = false;
        /**
         * Tells that controller has subscribed for Mutation Events.
         *
         * @private {boolean}
         */
        this.mutationEventsAdded_ = false;
        /**
         * Keeps reference to the instance of MutationObserver.
         *
         * @private {MutationObserver}
         */
        this.mutationsObserver_ = null;
        /**
         * A list of connected observers.
         *
         * @private {Array<ResizeObserverSPI>}
         */
        this.observers_ = [];
        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);
        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
    }
    /**
     * Adds observer to observers list.
     *
     * @param {ResizeObserverSPI} observer - Observer to be added.
     * @returns {void}
     */
    ResizeObserverController.prototype.addObserver = function (observer) {
        if (!~this.observers_.indexOf(observer)) {
            this.observers_.push(observer);
        }
        // Add listeners if they haven't been added yet.
        if (!this.connected_) {
            this.connect_();
        }
    };
    /**
     * Removes observer from observers list.
     *
     * @param {ResizeObserverSPI} observer - Observer to be removed.
     * @returns {void}
     */
    ResizeObserverController.prototype.removeObserver = function (observer) {
        var observers = this.observers_;
        var index = observers.indexOf(observer);
        // Remove observer if it's present in registry.
        if (~index) {
            observers.splice(index, 1);
        }
        // Remove listeners if controller has no connected observers.
        if (!observers.length && this.connected_) {
            this.disconnect_();
        }
    };
    /**
     * Invokes the update of observers. It will continue running updates insofar
     * it detects changes.
     *
     * @returns {void}
     */
    ResizeObserverController.prototype.refresh = function () {
        var changesDetected = this.updateObservers_();
        // Continue running updates if changes have been detected as there might
        // be future ones caused by CSS transitions.
        if (changesDetected) {
            this.refresh();
        }
    };
    /**
     * Updates every observer from observers list and notifies them of queued
     * entries.
     *
     * @private
     * @returns {boolean} Returns "true" if any observer has detected changes in
     *      dimensions of it's elements.
     */
    ResizeObserverController.prototype.updateObservers_ = function () {
        // Collect observers that have active observations.
        var activeObservers = this.observers_.filter(function (observer) {
            return observer.gatherActive(), observer.hasActive();
        });
        // Deliver notifications in a separate cycle in order to avoid any
        // collisions between observers, e.g. when multiple instances of
        // ResizeObserver are tracking the same element and the callback of one
        // of them changes content dimensions of the observed target. Sometimes
        // this may result in notifications being blocked for the rest of observers.
        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });
        return activeObservers.length > 0;
    };
    /**
     * Initializes DOM listeners.
     *
     * @private
     * @returns {void}
     */
    ResizeObserverController.prototype.connect_ = function () {
        // Do nothing if running in a non-browser environment or if listeners
        // have been already added.
        if (!isBrowser || this.connected_) {
            return;
        }
        // Subscription to the "Transitionend" event is used as a workaround for
        // delayed transitions. This way it's possible to capture at least the
        // final state of an element.
        document.addEventListener('transitionend', this.onTransitionEnd_);
        window.addEventListener('resize', this.refresh);
        if (mutationObserverSupported) {
            this.mutationsObserver_ = new MutationObserver(this.refresh);
            this.mutationsObserver_.observe(document, {
                attributes: true,
                childList: true,
                characterData: true,
                subtree: true
            });
        }
        else {
            document.addEventListener('DOMSubtreeModified', this.refresh);
            this.mutationEventsAdded_ = true;
        }
        this.connected_ = true;
    };
    /**
     * Removes DOM listeners.
     *
     * @private
     * @returns {void}
     */
    ResizeObserverController.prototype.disconnect_ = function () {
        // Do nothing if running in a non-browser environment or if listeners
        // have been already removed.
        if (!isBrowser || !this.connected_) {
            return;
        }
        document.removeEventListener('transitionend', this.onTransitionEnd_);
        window.removeEventListener('resize', this.refresh);
        if (this.mutationsObserver_) {
            this.mutationsObserver_.disconnect();
        }
        if (this.mutationEventsAdded_) {
            document.removeEventListener('DOMSubtreeModified', this.refresh);
        }
        this.mutationsObserver_ = null;
        this.mutationEventsAdded_ = false;
        this.connected_ = false;
    };
    /**
     * "Transitionend" event handler.
     *
     * @private
     * @param {TransitionEvent} event
     * @returns {void}
     */
    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {
        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;
        // Detect whether transition may affect dimensions of an element.
        var isReflowProperty = transitionKeys.some(function (key) {
            return !!~propertyName.indexOf(key);
        });
        if (isReflowProperty) {
            this.refresh();
        }
    };
    /**
     * Returns instance of the ResizeObserverController.
     *
     * @returns {ResizeObserverController}
     */
    ResizeObserverController.getInstance = function () {
        if (!this.instance_) {
            this.instance_ = new ResizeObserverController();
        }
        return this.instance_;
    };
    /**
     * Holds reference to the controller's instance.
     *
     * @private {ResizeObserverController}
     */
    ResizeObserverController.instance_ = null;
    return ResizeObserverController;
}());

/**
 * Defines non-writable/enumerable properties of the provided target object.
 *
 * @param {Object} target - Object for which to define properties.
 * @param {Object} props - Properties to be defined.
 * @returns {Object} Target object.
 */
var defineConfigurable = (function (target, props) {
    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {
        var key = _a[_i];
        Object.defineProperty(target, key, {
            value: props[key],
            enumerable: false,
            writable: false,
            configurable: true
        });
    }
    return target;
});

/**
 * Returns the global object associated with provided element.
 *
 * @param {Object} target
 * @returns {Object}
 */
var getWindowOf = (function (target) {
    // Assume that the element is an instance of Node, which means that it
    // has the "ownerDocument" property from which we can retrieve a
    // corresponding global object.
    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;
    // Return the local global object if it's not possible extract one from
    // provided element.
    return ownerGlobal || global$1;
});

// Placeholder of an empty content rectangle.
var emptyRect = createRectInit(0, 0, 0, 0);
/**
 * Converts provided string to a number.
 *
 * @param {number|string} value
 * @returns {number}
 */
function toFloat(value) {
    return parseFloat(value) || 0;
}
/**
 * Extracts borders size from provided styles.
 *
 * @param {CSSStyleDeclaration} styles
 * @param {...string} positions - Borders positions (top, right, ...)
 * @returns {number}
 */
function getBordersSize(styles) {
    var positions = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        positions[_i - 1] = arguments[_i];
    }
    return positions.reduce(function (size, position) {
        var value = styles['border-' + position + '-width'];
        return size + toFloat(value);
    }, 0);
}
/**
 * Extracts paddings sizes from provided styles.
 *
 * @param {CSSStyleDeclaration} styles
 * @returns {Object} Paddings box.
 */
function getPaddings(styles) {
    var positions = ['top', 'right', 'bottom', 'left'];
    var paddings = {};
    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {
        var position = positions_1[_i];
        var value = styles['padding-' + position];
        paddings[position] = toFloat(value);
    }
    return paddings;
}
/**
 * Calculates content rectangle of provided SVG element.
 *
 * @param {SVGGraphicsElement} target - Element content rectangle of which needs
 *      to be calculated.
 * @returns {DOMRectInit}
 */
function getSVGContentRect(target) {
    var bbox = target.getBBox();
    return createRectInit(0, 0, bbox.width, bbox.height);
}
/**
 * Calculates content rectangle of provided HTMLElement.
 *
 * @param {HTMLElement} target - Element for which to calculate the content rectangle.
 * @returns {DOMRectInit}
 */
function getHTMLElementContentRect(target) {
    // Client width & height properties can't be
    // used exclusively as they provide rounded values.
    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;
    // By this condition we can catch all non-replaced inline, hidden and
    // detached elements. Though elements with width & height properties less
    // than 0.5 will be discarded as well.
    //
    // Without it we would need to implement separate methods for each of
    // those cases and it's not possible to perform a precise and performance
    // effective test for hidden elements. E.g. even jQuery's ':visible' filter
    // gives wrong results for elements with width & height less than 0.5.
    if (!clientWidth && !clientHeight) {
        return emptyRect;
    }
    var styles = getWindowOf(target).getComputedStyle(target);
    var paddings = getPaddings(styles);
    var horizPad = paddings.left + paddings.right;
    var vertPad = paddings.top + paddings.bottom;
    // Computed styles of width & height are being used because they are the
    // only dimensions available to JS that contain non-rounded values. It could
    // be possible to utilize the getBoundingClientRect if only it's data wasn't
    // affected by CSS transformations let alone paddings, borders and scroll bars.
    var width = toFloat(styles.width), height = toFloat(styles.height);
    // Width & height include paddings and borders when the 'border-box' box
    // model is applied (except for IE).
    if (styles.boxSizing === 'border-box') {
        // Following conditions are required to handle Internet Explorer which
        // doesn't include paddings and borders to computed CSS dimensions.
        //
        // We can say that if CSS dimensions + paddings are equal to the "client"
        // properties then it's either IE, and thus we don't need to subtract
        // anything, or an element merely doesn't have paddings/borders styles.
        if (Math.round(width + horizPad) !== clientWidth) {
            width -= getBordersSize(styles, 'left', 'right') + horizPad;
        }
        if (Math.round(height + vertPad) !== clientHeight) {
            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;
        }
    }
    // Following steps can't be applied to the document's root element as its
    // client[Width/Height] properties represent viewport area of the window.
    // Besides, it's as well not necessary as the <html> itself neither has
    // rendered scroll bars nor it can be clipped.
    if (!isDocumentElement(target)) {
        // In some browsers (only in Firefox, actually) CSS width & height
        // include scroll bars size which can be removed at this step as scroll
        // bars are the only difference between rounded dimensions + paddings
        // and "client" properties, though that is not always true in Chrome.
        var vertScrollbar = Math.round(width + horizPad) - clientWidth;
        var horizScrollbar = Math.round(height + vertPad) - clientHeight;
        // Chrome has a rather weird rounding of "client" properties.
        // E.g. for an element with content width of 314.2px it sometimes gives
        // the client width of 315px and for the width of 314.7px it may give
        // 314px. And it doesn't happen all the time. So just ignore this delta
        // as a non-relevant.
        if (Math.abs(vertScrollbar) !== 1) {
            width -= vertScrollbar;
        }
        if (Math.abs(horizScrollbar) !== 1) {
            height -= horizScrollbar;
        }
    }
    return createRectInit(paddings.left, paddings.top, width, height);
}
/**
 * Checks whether provided element is an instance of the SVGGraphicsElement.
 *
 * @param {Element} target - Element to be checked.
 * @returns {boolean}
 */
var isSVGGraphicsElement = (function () {
    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement
    // interface.
    if (typeof SVGGraphicsElement !== 'undefined') {
        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };
    }
    // If it's so, then check that element is at least an instance of the
    // SVGElement and that it has the "getBBox" method.
    // eslint-disable-next-line no-extra-parens
    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&
        typeof target.getBBox === 'function'); };
})();
/**
 * Checks whether provided element is a document element (<html>).
 *
 * @param {Element} target - Element to be checked.
 * @returns {boolean}
 */
function isDocumentElement(target) {
    return target === getWindowOf(target).document.documentElement;
}
/**
 * Calculates an appropriate content rectangle for provided html or svg element.
 *
 * @param {Element} target - Element content rectangle of which needs to be calculated.
 * @returns {DOMRectInit}
 */
function getContentRect(target) {
    if (!isBrowser) {
        return emptyRect;
    }
    if (isSVGGraphicsElement(target)) {
        return getSVGContentRect(target);
    }
    return getHTMLElementContentRect(target);
}
/**
 * Creates rectangle with an interface of the DOMRectReadOnly.
 * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly
 *
 * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.
 * @returns {DOMRectReadOnly}
 */
function createReadOnlyRect(_a) {
    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;
    // If DOMRectReadOnly is available use it as a prototype for the rectangle.
    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;
    var rect = Object.create(Constr.prototype);
    // Rectangle's properties are not writable and non-enumerable.
    defineConfigurable(rect, {
        x: x, y: y, width: width, height: height,
        top: y,
        right: x + width,
        bottom: height + y,
        left: x
    });
    return rect;
}
/**
 * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.
 * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit
 *
 * @param {number} x - X coordinate.
 * @param {number} y - Y coordinate.
 * @param {number} width - Rectangle's width.
 * @param {number} height - Rectangle's height.
 * @returns {DOMRectInit}
 */
function createRectInit(x, y, width, height) {
    return { x: x, y: y, width: width, height: height };
}

/**
 * Class that is responsible for computations of the content rectangle of
 * provided DOM element and for keeping track of it's changes.
 */
var ResizeObservation = /** @class */ (function () {
    /**
     * Creates an instance of ResizeObservation.
     *
     * @param {Element} target - Element to be observed.
     */
    function ResizeObservation(target) {
        /**
         * Broadcasted width of content rectangle.
         *
         * @type {number}
         */
        this.broadcastWidth = 0;
        /**
         * Broadcasted height of content rectangle.
         *
         * @type {number}
         */
        this.broadcastHeight = 0;
        /**
         * Reference to the last observed content rectangle.
         *
         * @private {DOMRectInit}
         */
        this.contentRect_ = createRectInit(0, 0, 0, 0);
        this.target = target;
    }
    /**
     * Updates content rectangle and tells whether it's width or height properties
     * have changed since the last broadcast.
     *
     * @returns {boolean}
     */
    ResizeObservation.prototype.isActive = function () {
        var rect = getContentRect(this.target);
        this.contentRect_ = rect;
        return (rect.width !== this.broadcastWidth ||
            rect.height !== this.broadcastHeight);
    };
    /**
     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data
     * from the corresponding properties of the last observed content rectangle.
     *
     * @returns {DOMRectInit} Last observed content rectangle.
     */
    ResizeObservation.prototype.broadcastRect = function () {
        var rect = this.contentRect_;
        this.broadcastWidth = rect.width;
        this.broadcastHeight = rect.height;
        return rect;
    };
    return ResizeObservation;
}());

var ResizeObserverEntry = /** @class */ (function () {
    /**
     * Creates an instance of ResizeObserverEntry.
     *
     * @param {Element} target - Element that is being observed.
     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.
     */
    function ResizeObserverEntry(target, rectInit) {
        var contentRect = createReadOnlyRect(rectInit);
        // According to the specification following properties are not writable
        // and are also not enumerable in the native implementation.
        //
        // Property accessors are not being used as they'd require to define a
        // private WeakMap storage which may cause memory leaks in browsers that
        // don't support this type of collections.
        defineConfigurable(this, { target: target, contentRect: contentRect });
    }
    return ResizeObserverEntry;
}());

var ResizeObserverSPI = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserver.
     *
     * @param {ResizeObserverCallback} callback - Callback function that is invoked
     *      when one of the observed elements changes it's content dimensions.
     * @param {ResizeObserverController} controller - Controller instance which
     *      is responsible for the updates of observer.
     * @param {ResizeObserver} callbackCtx - Reference to the public
     *      ResizeObserver instance which will be passed to callback function.
     */
    function ResizeObserverSPI(callback, controller, callbackCtx) {
        /**
         * Collection of resize observations that have detected changes in dimensions
         * of elements.
         *
         * @private {Array<ResizeObservation>}
         */
        this.activeObservations_ = [];
        /**
         * Registry of the ResizeObservation instances.
         *
         * @private {Map<Element, ResizeObservation>}
         */
        this.observations_ = new MapShim();
        if (typeof callback !== 'function') {
            throw new TypeError('The callback provided as parameter 1 is not a function.');
        }
        this.callback_ = callback;
        this.controller_ = controller;
        this.callbackCtx_ = callbackCtx;
    }
    /**
     * Starts observing provided element.
     *
     * @param {Element} target - Element to be observed.
     * @returns {void}
     */
    ResizeObserverSPI.prototype.observe = function (target) {
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        // Do nothing if current environment doesn't have the Element interface.
        if (typeof Element === 'undefined' || !(Element instanceof Object)) {
            return;
        }
        if (!(target instanceof getWindowOf(target).Element)) {
            throw new TypeError('parameter 1 is not of type "Element".');
        }
        var observations = this.observations_;
        // Do nothing if element is already being observed.
        if (observations.has(target)) {
            return;
        }
        observations.set(target, new ResizeObservation(target));
        this.controller_.addObserver(this);
        // Force the update of observations.
        this.controller_.refresh();
    };
    /**
     * Stops observing provided element.
     *
     * @param {Element} target - Element to stop observing.
     * @returns {void}
     */
    ResizeObserverSPI.prototype.unobserve = function (target) {
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        // Do nothing if current environment doesn't have the Element interface.
        if (typeof Element === 'undefined' || !(Element instanceof Object)) {
            return;
        }
        if (!(target instanceof getWindowOf(target).Element)) {
            throw new TypeError('parameter 1 is not of type "Element".');
        }
        var observations = this.observations_;
        // Do nothing if element is not being observed.
        if (!observations.has(target)) {
            return;
        }
        observations.delete(target);
        if (!observations.size) {
            this.controller_.removeObserver(this);
        }
    };
    /**
     * Stops observing all elements.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.disconnect = function () {
        this.clearActive();
        this.observations_.clear();
        this.controller_.removeObserver(this);
    };
    /**
     * Collects observation instances the associated element of which has changed
     * it's content rectangle.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.gatherActive = function () {
        var _this = this;
        this.clearActive();
        this.observations_.forEach(function (observation) {
            if (observation.isActive()) {
                _this.activeObservations_.push(observation);
            }
        });
    };
    /**
     * Invokes initial callback function with a list of ResizeObserverEntry
     * instances collected from active resize observations.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.broadcastActive = function () {
        // Do nothing if observer doesn't have active observations.
        if (!this.hasActive()) {
            return;
        }
        var ctx = this.callbackCtx_;
        // Create ResizeObserverEntry instance for every active observation.
        var entries = this.activeObservations_.map(function (observation) {
            return new ResizeObserverEntry(observation.target, observation.broadcastRect());
        });
        this.callback_.call(ctx, entries, ctx);
        this.clearActive();
    };
    /**
     * Clears the collection of active observations.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.clearActive = function () {
        this.activeObservations_.splice(0);
    };
    /**
     * Tells whether observer has active observations.
     *
     * @returns {boolean}
     */
    ResizeObserverSPI.prototype.hasActive = function () {
        return this.activeObservations_.length > 0;
    };
    return ResizeObserverSPI;
}());

// Registry of internal observers. If WeakMap is not available use current shim
// for the Map collection as it has all required methods and because WeakMap
// can't be fully polyfilled anyway.
var observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();
/**
 * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation
 * exposing only those methods and properties that are defined in the spec.
 */
var ResizeObserver = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserver.
     *
     * @param {ResizeObserverCallback} callback - Callback that is invoked when
     *      dimensions of the observed elements change.
     */
    function ResizeObserver(callback) {
        if (!(this instanceof ResizeObserver)) {
            throw new TypeError('Cannot call a class as a function.');
        }
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        var controller = ResizeObserverController.getInstance();
        var observer = new ResizeObserverSPI(callback, controller, this);
        observers.set(this, observer);
    }
    return ResizeObserver;
}());
// Expose public methods of ResizeObserver.
[
    'observe',
    'unobserve',
    'disconnect'
].forEach(function (method) {
    ResizeObserver.prototype[method] = function () {
        var _a;
        return (_a = observers.get(this))[method].apply(_a, arguments);
    };
});

var ResizeObserver_es_index = (function () {
    // Export existing implementation if available.
    if (typeof global$1.ResizeObserver !== 'undefined') {
        return global$1.ResizeObserver;
    }
    return ResizeObserver;
})();

/* harmony default export */ const ResizeObserver_es = (ResizeObserver_es_index);

;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useRafState/index.js



function useRafState(initialState) {
  var ref = (0,external_React_.useRef)(0);
  var _a = (0,tslib_es6.__read)((0,external_React_.useState)(initialState), 2),
    state = _a[0],
    setState = _a[1];
  var setRafState = (0,external_React_.useCallback)(function (value) {
    cancelAnimationFrame(ref.current);
    ref.current = requestAnimationFrame(function () {
      setState(value);
    });
  }, []);
  es_useUnmount(function () {
    cancelAnimationFrame(ref.current);
  });
  return [state, setRafState];
}
/* harmony default export */ const es_useRafState = (useRafState);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/isBrowser.js
var isBrowser_isBrowser = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
/* harmony default export */ const utils_isBrowser = (isBrowser_isBrowser);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/domTarget.js


function getTargetElement(target, defaultElement) {
  if (!utils_isBrowser) {
    return undefined;
  }
  if (!target) {
    return defaultElement;
  }
  var targetElement;
  if (utils_isFunction(target)) {
    targetElement = target();
  } else if ('current' in target) {
    targetElement = target.current;
  } else {
    targetElement = target;
  }
  return targetElement;
}
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/depsAreSame.js
function depsAreSame(oldDeps, deps) {
  if (oldDeps === deps) return true;
  for (var i = 0; i < oldDeps.length; i++) {
    if (!Object.is(oldDeps[i], deps[i])) return false;
  }
  return true;
}
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/createEffectWithTarget.js




var createEffectWithTarget = function (useEffectType) {
  /**
   *
   * @param effect
   * @param deps
   * @param target target should compare ref.current vs ref.current, dom vs dom, ()=>dom vs ()=>dom
   */
  var useEffectWithTarget = function (effect, deps, target) {
    var hasInitRef = (0,external_React_.useRef)(false);
    var lastElementRef = (0,external_React_.useRef)([]);
    var lastDepsRef = (0,external_React_.useRef)([]);
    var unLoadRef = (0,external_React_.useRef)();
    useEffectType(function () {
      var _a;
      var targets = Array.isArray(target) ? target : [target];
      var els = targets.map(function (item) {
        return getTargetElement(item);
      });
      // init run
      if (!hasInitRef.current) {
        hasInitRef.current = true;
        lastElementRef.current = els;
        lastDepsRef.current = deps;
        unLoadRef.current = effect();
        return;
      }
      if (els.length !== lastElementRef.current.length || !depsAreSame(lastElementRef.current, els) || !depsAreSame(lastDepsRef.current, deps)) {
        (_a = unLoadRef.current) === null || _a === void 0 ? void 0 : _a.call(unLoadRef);
        lastElementRef.current = els;
        lastDepsRef.current = deps;
        unLoadRef.current = effect();
      }
    });
    es_useUnmount(function () {
      var _a;
      (_a = unLoadRef.current) === null || _a === void 0 ? void 0 : _a.call(unLoadRef);
      // for react-refresh
      hasInitRef.current = false;
    });
  };
  return useEffectWithTarget;
};
/* harmony default export */ const utils_createEffectWithTarget = (createEffectWithTarget);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/useEffectWithTarget.js


var useEffectWithTarget = utils_createEffectWithTarget(external_React_.useEffect);
/* harmony default export */ const utils_useEffectWithTarget = (useEffectWithTarget);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/useLayoutEffectWithTarget.js


var useLayoutEffectWithTarget_useEffectWithTarget = utils_createEffectWithTarget(external_React_.useLayoutEffect);
/* harmony default export */ const useLayoutEffectWithTarget = (useLayoutEffectWithTarget_useEffectWithTarget);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/utils/useIsomorphicLayoutEffectWithTarget.js



var useIsomorphicLayoutEffectWithTarget = utils_isBrowser ? useLayoutEffectWithTarget : utils_useEffectWithTarget;
/* harmony default export */ const utils_useIsomorphicLayoutEffectWithTarget = (useIsomorphicLayoutEffectWithTarget);
;// CONCATENATED MODULE: ./node_modules/.pnpm/ahooks@3.8.0_react@18.3.1/node_modules/ahooks/es/useSize/index.js





function useSize(target) {
  var _a = (0,tslib_es6.__read)(es_useRafState(function () {
      var el = getTargetElement(target);
      return el ? {
        width: el.clientWidth,
        height: el.clientHeight
      } : undefined;
    }), 2),
    state = _a[0],
    setState = _a[1];
  utils_useIsomorphicLayoutEffectWithTarget(function () {
    var el = getTargetElement(target);
    if (!el) {
      return;
    }
    var resizeObserver = new ResizeObserver_es(function (entries) {
      entries.forEach(function (entry) {
        var _a = entry.target,
          clientWidth = _a.clientWidth,
          clientHeight = _a.clientHeight;
        setState({
          width: clientWidth,
          height: clientHeight
        });
      });
    });
    resizeObserver.observe(el);
    return function () {
      resizeObserver.disconnect();
    };
  }, [], target);
  return state;
}
/* harmony default export */ const es_useSize = (useSize);
;// CONCATENATED MODULE: ./console/dashboard/Charts/Chart/index.tsx











function Chart_Chart(props) {
    const { widget, data_source } = props;
    const [echart_instance, set_echart_instance] = (0,external_React_.useState)();
    const ref = (0,external_React_.useRef)();
    const size = es_useSize(ref.current?.ele);
    // 用来存储阈值对应的轴范围
    const [axis_range_map, set_axis_range_map] = (0,external_React_.useState)();
    (0,external_React_.useEffect)(() => {
        // 初始化的时候，有概率会出现图表 canvas 高度为 0 无法展示的情况，是因为父元素的宽高非直接写死，所以需要在宽高改变时调用 resize
        // https://github.com/hustcc/echarts-for-react/issues/193
        echart_instance?.resize?.();
    }, [size]);
    const options = (0,external_React_.useMemo)(() => (0,utils/* convert_chart_config */.u3)(widget, data_source, axis_range_map), [widget.config, data_source, axis_range_map]);
    (0,external_React_.useEffect)(() => {
        const { thresholds = [] } = widget.config;
        const has_percent_threshold = thresholds?.find(item => item?.type === ChartFormFields_type/* ThresholdType */.UR.PERCENTAGE);
        // 无百分比阈值不需要更新
        if (!echart_instance || !has_percent_threshold)
            return;
        // options 更新之后，重新计算 thresholds 对应的各轴的范围，判断是否需要更新
        for (let threshold of thresholds.filter(Boolean)) {
            const { axis_type, axis } = threshold;
            const [min, max] = (0,utils/* get_axis_range */.T4)(axis_type, echart_instance, axis);
            const key = (axis_type === 0 ? 'x' : 'y') + '_' + axis;
            // 轴范围与之前的不一致才需要更新 axis_range_map, 一致则不需要更新
            if (axis_range_map?.[key]?.min !== min || axis_range_map?.[key]?.max !== max)
                set_axis_range_map(val => ({ ...val, [key]: { min, max } }));
        }
    }, [options, echart_instance]);
    // 编辑模式下 notMerge 为 true ，因为要修改配置，预览模式下 notMerge 为 false ，避免数据更新，导致选中的 label 失效
    return (0,jsx_runtime.jsx)(core/* default */.A, { ref: ref, echarts: external_echarts_, notMerge: dashboard_model/* dashboard */.ze.editing, option: options, className: 'dashboard-line-chart', theme: 'my-theme', onChartReady: (ins) => {
            set_echart_instance(ins);
        } });
}
function ChartConfigForm(props) {
    const { col_names = [] } = props;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'chart' }), (0,jsx_runtime.jsx)(AxisFormFields, { col_names: col_names }), (0,jsx_runtime.jsx)(SeriesFormFields, { col_names: col_names }), (0,jsx_runtime.jsx)(ThresholdFormFields, {})] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Table/index.scss
var Charts_Table = __webpack_require__(7561);
;// CONCATENATED MODULE: ./console/dashboard/Charts/Table/index.scss

      
      
      
      
      
      
      
      
      

var Table_options = {};

Table_options.styleTagTransform = (styleTagTransform_default());
Table_options.setAttributes = (setAttributesWithoutAttributes_default());
Table_options.insert = insertBySelector_default().bind(null, "head");
Table_options.domAPI = (styleDomAPI_default());
Table_options.insertStyleElement = (insertStyleElement_default());

var Table_update = injectStylesIntoStyleTag_default()(Charts_Table/* default */.A, Table_options);




       /* harmony default export */ const dashboard_Charts_Table = (Charts_Table/* default */.A && Charts_Table/* default */.A.locals ? Charts_Table/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/BasicTableFields.tsx








function BasicTableFields({ col_names }) {
    const form = external_antd_namespaceObject.Form.useFormInstance();
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'col',
                label: (0,i18n.t)('列配置'),
                forceRender: true,
                children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'col_properties', initialValue: col_names.map(item => ({ col: item, show: true, with_value_format: false })), children: fields => {
                        const items = fields.map(field => ({
                            key: field.name,
                            label: form.getFieldValue('col_properties')?.[field.name]?.col ?? col_names[field.name],
                            children: (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col'], initialValue: col_names[field.name], label: (0,i18n.t)('数据列'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { disabled: true }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('是否展示'), name: [field.name, 'show'], initialValue: true, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('展示名称'), name: [field.name, 'display_name'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('列宽'), name: [field.name, 'width'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('列样式'), tooltip: (0,i18n.t)('从左到右依次为字号、文字色与背景色'), children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Row, { gutter: 4, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'font_size'], initialValue: 14, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 1 }) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 6, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'color'], children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 6, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'background_color'], children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }) })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('表头样式'), tooltip: (0,i18n.t)('从左到右依次为字号、文字色与背景色'), children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Row, { gutter: 4, children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 12, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'header_style', 'fontSize'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 1 }) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 6, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'header_style', 'color'], children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 6, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'header_style', 'backgroundColor'], children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }) })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('阈值'), tooltip: (0,i18n.t)('数值列可设置阈值，设置之后后超过阈值的数值展示为红色，低于阈值则展示为绿色，非数值列不生效'), name: [field.name, 'threshold'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('时间格式化'), name: [field.name, 'time_format'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: format_time_options, allowClear: true }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('小数位数'), name: [field.name, 'decimal_places'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 0 }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('是否千分位'), name: [field.name, 'is_thousandth_place'], initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('对齐方式'), name: [field.name, 'align'], initialValue: 'left', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(['left', 'center', 'right']) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: (0,i18n.t)('仅数值类型可支持排序'), label: (0,i18n.t)('是否排序'), name: [field.name, 'sorter'], initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })] }),
                            forceRender: true
                        }));
                        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, size: 'small' });
                    } }),
            },
            {
                key: 'pagination',
                label: (0,i18n.t)('分页设置'),
                forceRender: true,
                children: (0,jsx_runtime.jsx)("div", { className: 'axis-wrapper', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: ['pagination', 'show'], label: (0,i18n.t)('需要分页'), initialValue: true, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }) }),
            }
        ] });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/Table/index.tsx










function get_cell_color(val, threshold, total) {
    if ((0,external_.isNumber)(Number(val)) && (0,external_.isNumber)(threshold)) {
        const low_to_threshold_list = total.map(Number).filter(item => item < threshold).sort((a, b) => a - b);
        const low_to_threshold_min = low_to_threshold_list[0];
        const high_to_threshold_list = total.map(Number).filter(item => item >= threshold).sort((a, b) => a - b);
        const high_to_threshold_max = high_to_threshold_list.pop();
        if (Number(val) >= threshold) {
            const transparency = ((val - threshold) / (high_to_threshold_max - threshold)) * 0.8 + 0.2;
            return `rgba(255,0,0,${transparency})`;
        }
        else {
            const transparency = ((threshold - val) / (threshold - low_to_threshold_min)) * 0.8 + 0.2;
            return `rgba(13,114,1,${transparency})`;
        }
    }
    else
        return null;
}
function DBTable(props) {
    const { widget, data_source = [], ...otherProps } = props;
    const [selected_cols, set_select_cols] = (0,external_React_.useState)([]);
    const config = (0,external_React_.useMemo)(() => widget.config, [widget.config]);
    const show_cols = (0,external_React_.useMemo)(() => config?.col_properties?.filter(item => item?.show) ?? [], [config.col_properties]);
    (0,external_React_.useEffect)(() => { set_select_cols(show_cols?.map(item => item.col)); }, [show_cols]);
    const radio_group_options = (0,external_React_.useMemo)(() => {
        return show_cols?.map(col => ({
            label: col.display_name || col.col,
            value: col.col,
            key: col.col
        }));
    }, [show_cols]);
    const columns = (0,external_React_.useMemo)(() => {
        return selected_cols
            .map(col_name => show_cols.find(item => item.col === col_name))
            .map(col => {
            const { col: name, width, threshold, display_name, decimal_places, time_format, is_thousandth_place, color, align = 'left', background_color, sorter, font_size, header_style } = col ?? {};
            const col_config = {
                dataIndex: name,
                width: width || 200,
                title: display_name || name,
                key: name,
                ellipsis: true,
                align,
                sorter: sorter ? {
                    compare: (a, b) => a[name] - b[name],
                } : false,
                onCell: record => ({
                    style: {
                        backgroundColor: (0,external_.isNumber)(threshold) ? get_cell_color(record[name], threshold, data_source.map(item => item[col?.col])) : background_color,
                        color,
                        border: config.bordered ? '1px solid black' : null,
                        fontSize: font_size || 14
                    }
                }),
                onHeaderCell: () => ({ style: header_style }),
                render: val => (decimal_places === 0 || decimal_places || is_thousandth_place) ? (0,utils/* format_number */.WZ)(val, decimal_places, is_thousandth_place) : val ?? '-'
            };
            if (time_format)
                return {
                    ...col_config,
                    render: val => (0,utils/* format_time */.M6)(val, time_format)
                };
            return col_config;
        });
    }, [selected_cols, data_source, show_cols, config]);
    const pagination = (0,external_React_.useMemo)(() => {
        if (!config.pagination.show)
            return false;
        else
            return {
                position: ['bottom'],
                defaultPageSize: 5,
                pageSizeOptions: [5, 10, 15, 20],
                size: 'small',
                showSizeChanger: true,
                showQuickJumper: true,
                hideOnSinglePage: true
            };
    }, [config, data_source]);
    return (0,jsx_runtime.jsxs)("div", { className: 'dashboard-table-wrapper', children: [config.title && (0,jsx_runtime.jsx)("h2", { style: { fontSize: config.title_size }, className: 'table-title', children: (0,utils/* parse_text */.we)(config.title) }), config.need_select_cols && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Checkbox.Group, { onChange: val => { set_select_cols(val); }, value: selected_cols, options: radio_group_options, className: 'table-radio-group' }), selected_cols?.length ?
                (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { bordered: config.bordered, scroll: { x: '100%' }, columns: columns, dataSource: config.is_reverse ? data_source.toReversed() : data_source, pagination: pagination, rowKey: () => (0,utils_browser/* genid */.GW)(), rowClassName: classnames_default()({
                        'table-row-with-border': config.bordered
                    }), ...otherProps })
                :
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Empty, { className: 'empty-table' })] });
}
function DBTableConfigForm(props) {
    const { col_names = [] } = props;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'table' }), (0,jsx_runtime.jsx)(BasicTableFields, { col_names: col_names })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Descriptions/index.scss
var Descriptions = __webpack_require__(4062);
;// CONCATENATED MODULE: ./console/dashboard/Charts/Descriptions/index.scss

      
      
      
      
      
      
      
      
      

var Descriptions_options = {};

Descriptions_options.styleTagTransform = (styleTagTransform_default());
Descriptions_options.setAttributes = (setAttributesWithoutAttributes_default());
Descriptions_options.insert = insertBySelector_default().bind(null, "head");
Descriptions_options.domAPI = (styleDomAPI_default());
Descriptions_options.insertStyleElement = (insertStyleElement_default());

var Descriptions_update = injectStylesIntoStyleTag_default()(Descriptions/* default */.A, Descriptions_options);




       /* harmony default export */ const Charts_Descriptions = (Descriptions/* default */.A && Descriptions/* default */.A.locals ? Descriptions/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/Charts/Descriptions/index.tsx












function DBDescriptions(props) {
    const { data_source = [], widget } = props;
    const config = (0,external_React_.useMemo)(() => widget.config, [widget.config]);
    const items = (0,external_React_.useMemo)(() => {
        const { col_properties } = widget.config;
        return data_source.map((item, idx) => {
            const { color: custom_color, threshold, time_format, decimal_places, is_thousandth_place, high_to_threshold_color = 'red', low_to_threshold_color = 'green' } = col_properties?.[idx] ?? {};
            let color = null;
            if ((0,external_.isNumber)(threshold))
                color = item[config.value_col] > threshold ? high_to_threshold_color : low_to_threshold_color;
            // 阈值颜色优先级高于自定义颜色高于默认颜色
            color = color || custom_color || '#fff';
            let value = item[config.value_col];
            if (time_format)
                value = (0,utils/* format_time */.M6)(value, time_format);
            else
                value = (0,utils/* format_number */.WZ)(value, decimal_places, is_thousandth_place);
            return {
                key: idx,
                label: item[config.label_col],
                children: value,
                labelStyle: { fontSize: config.label_font_size },
                contentStyle: {
                    fontWeight: 500,
                    color: color,
                    fontSize: config.value_font_size
                }
            };
        });
    }, [config, data_source]);
    return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Descriptions, { colon: false, className: 'my-descriptions', layout: 'vertical', title: (0,jsx_runtime.jsx)("div", { style: { fontSize: config.title_size }, children: (0,utils/* parse_text */.we)(config.title ?? '') }), items: items, column: config.column_num }) });
}
function DBDescriptionsForm({ col_names, data_source = [] }) {
    const [page, setPage] = (0,external_React_.useState)(1);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'description' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [{
                        children: (0,jsx_runtime.jsxs)("div", { className: 'description-setting-form', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'label_col', label: (0,i18n.t)('标签列'), initialValue: col_names[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'value_col', label: (0,i18n.t)('值列'), initialValue: col_names[0], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)(col_names) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'label_font_size', label: (0,i18n.t)('标签字号'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'value_font_size', label: (0,i18n.t)('值字号'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'column_num', label: (0,i18n.t)('每行展示数量'), initialValue: 4, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: ['label_col'], children: ({ label_col }) => {
                                        if (!label_col)
                                            return null;
                                        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'col_properties', initialValue: data_source.map(item => ({ label: item[label_col] })), children: fields => {
                                                const labels = data_source.map(item => (item[label_col]));
                                                const items = fields.map((field, idx) => ({
                                                    key: idx,
                                                    label: labels[field.name],
                                                    forceRender: true,
                                                    children: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'label'], hidden: true, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'color'], label: (0,i18n.t)('值颜色'), children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'threshold'], label: (0,i18n.t)('阈值'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [['col_properties', field.name, 'threshold']], children: value => {
                                                                    const { threshold } = value?.col_properties?.[field.name];
                                                                    if (isNaN(threshold))
                                                                        return null;
                                                                    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('低于阈值配色'), name: [field.name, 'low_to_threshold_color'], children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('高于阈值配色'), name: [field.name, 'high_to_threshold_color'], children: (0,jsx_runtime.jsx)(StringColorPicker, {}) })] });
                                                                } }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('时间格式化'), name: [field.name, 'time_format'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: format_time_options, allowClear: true }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('小数位数'), name: [field.name, 'decimal_places'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { min: 0 }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('是否千分位'), name: [field.name, 'is_thousandth_place'], initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })] }),
                                                }));
                                                return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items.slice(10 * (page - 1), page * 10), size: 'small' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Pagination, { className: 'description-pagination', showSizeChanger: false, size: 'small', total: items.length, onChange: page => { setPage(page); } })] });
                                            } });
                                    } })] }),
                        key: 'col',
                        label: (0,i18n.t)('列属性'),
                        forceRender: true
                    }] })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/PieChartFields.tsx









function PieChartFields_BasicFormFields({ type }) {
    const { variable_infos } = variables.use(['variable_infos']);
    const FormFields = useMemo(() => {
        return _jsxs("div", { className: 'axis-wrapper', children: [_jsx(Form.Item, { name: 'title', label: t('标题'), initialValue: t('标题'), children: _jsx(Input, {}) }), _jsx(Form.Item, { name: 'title_size', label: '\u6807\u9898\u5B57\u53F7', initialValue: 18, children: _jsx(InputNumber, { addonAfter: 'px' }) }), _jsx(PaddingSetting, {}), _jsx(Form.Item, { name: 'with_legend', label: t('图例'), initialValue: true, children: _jsx(BoolRadioGroup, {}) }), _jsx(Form.Item, { name: 'with_tooltip', label: t('气泡提示'), initialValue: true, children: _jsx(BoolRadioGroup, {}) })] });
    }, [type, variable_infos]);
    return _jsx(Collapse, { items: [{
                key: 'basic',
                label: t('基本属性'),
                children: FormFields,
                forceRender: true
            }, {
                key: 'variable',
                label: t('变量设置'),
                children: _jsx(VariableSetting, {}),
                forceRender: true
            }] });
}
function PieChartFields_Series(props) {
    const { col_names } = props;
    const series = external_antd_namespaceObject.Form.useWatch('series');
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'series', initialValue: [{ col_name: col_names[0], name: col_names[0] }], children: (fields, { add, remove }) => {
            const items = fields.map((field, index) => {
                const children = (0,jsx_runtime.jsx)("div", { className: 'field-wrapper', children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Space, { children: [(0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col_name'], label: (0,i18n.t)('数据列'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: col_names.map(item => ({ label: item, value: item })) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'name'], label: (0,i18n.t)('名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: col_names.map(item => ({ label: item, value: item })) }) })] }), fields.length > 1 && (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } })] }) }, field.name);
                return {
                    children,
                    key: field.name,
                    label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [series?.[field.name]?.name || `${(0,i18n.t)('数据环')} ${field.name + 1}`, fields.length > 1 &&
                                (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } })] }),
                    forceRender: true,
                };
            });
            return (0,jsx_runtime.jsxs)("div", { className: 'yasix-collapse-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, size: 'small' }), (fields.length < 3) &&
                        (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'dashed', className: 'add-yaxis-btn', block: true, onClick: () => { add({ col_name: col_names[0], name: col_names[0] }); }, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), children: (0,i18n.t)('增加环') })] });
        } });
}
function PieChartFields_SeriesFormFields(props) {
    const { col_names } = props;
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'series',
                label: (0,i18n.t)('数据环'),
                children: (0,jsx_runtime.jsx)(PieChartFields_Series, { col_names: col_names }),
                forceRender: true,
            }
        ] });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/Pie/index.tsx










const radius = {
    1: [[0, '70%']],
    2: [[0, '30%'], ['45%', '60%']],
    3: [[0, '20%'], ['30%', '45%'], ['55%', '65%']]
};
function Pie({ widget, data_source }) {
    const { title, title_size = 18, legend, series, animation, tooltip } = widget.config;
    const option = (0,external_React_.useMemo)(() => {
        return {
            animation,
            legend: (0,external_.pickBy)({
                show: true,
                textStyle: {
                    color: '#e6e6e6'
                },
                ...legend,
            }, v => !(0,external_.isNil)(v) && v !== ''),
            tooltip: {
                show: tooltip?.show ?? true,
                // 与图形类型相关，一期先写死
                trigger: 'item',
                backgroundColor: '#1D1D1D',
                borderColor: '#333',
                textStyle: {
                    color: '#F5F5F5'
                },
            },
            title: {
                text: (0,utils/* parse_text */.we)(title ?? ''),
                textStyle: {
                    color: '#e6e6e6',
                    fontSize: title_size,
                }
            },
            series: series.map((serie, index) => {
                return {
                    type: 'pie',
                    radius: radius[series.length][index],
                    label: {
                        color: '#F5F5F5'
                    },
                    data: data_source.map(data => {
                        return {
                            value: data[serie?.col_name],
                            name: data[serie?.name]
                        };
                    }),
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                };
            })
        };
    }, [title, animation, series, title_size, data_source, legend, tooltip]);
    // 编辑模式下 notMerge 为 true ，因为要修改配置，预览模式下 notMerge 为 false ，避免数据更新，导致选中的 label失效
    return (0,jsx_runtime.jsx)(core/* default */.A, { notMerge: dashboard_model/* dashboard */.ze.editing, echarts: external_echarts_, option: option, lazyUpdate: true, theme: 'ohlc_theme' });
}
function PieConfigForm(props) {
    const { col_names = [] } = props;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'chart', chart_fields: [ChartFormFields_type/* ChartField */.lo.LEGEND, ChartFormFields_type/* ChartField */.lo.TOOLTIP] }), (0,jsx_runtime.jsx)(PieChartFields_SeriesFormFields, { col_names: col_names })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/RadarChartFields.tsx









function RadarChartFields_BasicFormFields({ type }) {
    const { variable_infos } = variables.use(['variable_infos']);
    const FormFields = useMemo(() => {
        return _jsxs("div", { className: 'axis-wrapper', children: [_jsx(Form.Item, { name: 'title', label: t('标题'), initialValue: t('标题'), children: _jsx(Input, {}) }), _jsx(Form.Item, { name: 'title_size', label: t('标题字号'), initialValue: 18, children: _jsx(InputNumber, { addonAfter: 'px' }) }), _jsx(PaddingSetting, {}), _jsx(Form.Item, { name: 'with_legend', label: t('图例'), initialValue: true, children: _jsx(BoolRadioGroup, {}) }), _jsx(Form.Item, { name: 'with_tooltip', label: t('气泡提示'), initialValue: true, children: _jsx(BoolRadioGroup, {}) })] });
    }, [type, variable_infos]);
    return _jsx(Collapse, { items: [{
                key: 'basic',
                label: t('基本属性'),
                children: FormFields,
                forceRender: true
            },
            {
                key: 'variable',
                label: t('变量设置'),
                children: _jsx(VariableSetting, {}),
                forceRender: true
            }
        ] });
}
function Labels(props) {
    const { col_names } = props;
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'labels', initialValue: [{ col_name: col_names[0] }], children: (fields, { add }) => (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: fields.map((field, index) => {
                return (0,jsx_runtime.jsx)("div", { children: (0,jsx_runtime.jsx)("div", { className: 'field-wrapper', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Space, { children: (0,jsx_runtime.jsx)("div", { className: 'axis-wrapper', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col_name'], label: (0,i18n.t)('标签列'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: col_names.map(item => ({ label: item, value: item })) }) }) }) }) }) }, field.name);
            }) }) });
}
function LabelsFormFields(props) {
    const { col_names } = props;
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'labels',
                label: (0,i18n.t)('标签列'),
                children: (0,jsx_runtime.jsx)(Labels, { col_names: col_names }),
                forceRender: true,
            }
        ] });
}
function RadarChartFields_Series(props) {
    const { col_names } = props;
    const series = external_antd_namespaceObject.Form.useWatch('series');
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'series', initialValue: [{ col_name: col_names[0], max: null }], children: (fields, { add, remove }) => {
            const items = fields.map((field, index) => {
                const children = (0,jsx_runtime.jsx)("div", { className: 'field-wrapper', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Space, { children: (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col_name'], label: (0,i18n.t)('数据列'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: col_names.map(item => ({ label: item, value: item })) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'max'], label: (0,i18n.t)('最大值'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) })] }) }) }, field.name);
                return {
                    children,
                    key: field.name,
                    label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [series?.[field.name]?.name || `数据列 ${field.name + 1}`, fields.length > 1 &&
                                (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'delete-icon', onClick: () => { remove(field.name); } })] }),
                    forceRender: true,
                };
            });
            return (0,jsx_runtime.jsxs)("div", { className: 'yasix-collapse-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, size: 'small' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'add-yaxis-btn', type: 'dashed', block: true, onClick: () => { add(); }, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), children: (0,i18n.t)('增加数据列') })] });
        } });
}
function RadarChartFields_SeriesFormFields(props) {
    const { col_names } = props;
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'series',
                label: (0,i18n.t)('数据列'),
                children: (0,jsx_runtime.jsx)(RadarChartFields_Series, { col_names: col_names }),
                forceRender: true,
            }
        ] });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/Radar/index.tsx










function Radar({ widget, data_source }) {
    const { title, title_size = 18, tooltip, legend, series, labels } = widget.config;
    const option = (0,external_React_.useMemo)(() => {
        const legends = [];
        const indicators = [];
        const datas = [];
        data_source.forEach((data, index) => {
            const label = data[labels[0].col_name];
            const values = [];
            legends.push(label || '');
            series.forEach(serie => {
                values.push(data[serie?.col_name]);
                if (index === 0)
                    indicators.push({ name: serie?.col_name, max: serie?.max });
            });
            datas.push({ value: values, name: label });
        });
        return {
            legend: (0,external_.pickBy)({
                show: true,
                textStyle: {
                    color: '#e6e6e6'
                },
                data: legends,
                ...legend,
            }, v => !(0,external_.isNil)(v) && v !== ''),
            tooltip: {
                show: true,
                ...tooltip,
                // 与图形类型相关，一期先写死
                trigger: 'item',
                backgroundColor: '#1D1D1D',
                borderColor: '#333',
                textStyle: {
                    color: '#F5F5F5'
                },
            },
            title: {
                text: (0,utils/* parse_text */.we)(title ?? ''),
                textStyle: {
                    color: '#e6e6e6',
                    fontSize: title_size,
                }
            },
            radar: {
                indicator: indicators,
            },
            series: [
                {
                    type: 'radar',
                    data: datas
                }
            ]
        };
    }, [title, tooltip, series, title_size, labels, data_source, legend]);
    // 编辑模式下 notMerge 为 true ，因为要修改配置，预览模式下 notMerge 为 false ，避免数据更新，导致选中的 label失效
    return (0,jsx_runtime.jsx)(core/* default */.A, { notMerge: dashboard_model/* dashboard */.ze.editing, echarts: external_echarts_, option: option, lazyUpdate: true, theme: 'ohlc_theme' });
}
function RadarConfigForm(props) {
    const { col_names = [] } = props;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'chart', chart_fields: [ChartFormFields_type/* ChartField */.lo.LEGEND, ChartFormFields_type/* ChartField */.lo.TOOLTIP] }), (0,jsx_runtime.jsx)(LabelsFormFields, { col_names: col_names }), (0,jsx_runtime.jsx)(RadarChartFields_SeriesFormFields, { col_names: col_names })] });
}

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/OrderBookField.tsx









function OrderBookField_BasicFormFields({ type }) {
    const { variable_infos } = Variable_variable/* variables */.Ee.use(['variable_infos']);
    const FormFields = (0,external_React_.useMemo)(() => {
        return (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'title', label: (0,i18n.t)('标题'), initialValue: (0,i18n.t)('标题'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'title_size', label: (0,i18n.t)('标题字号'), initialValue: 18, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(BasicFormFields_PaddingSetting, {}), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'with_tooltip', label: (0,i18n.t)('气泡提示'), initialValue: true, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'with_split_line', label: (0,i18n.t)('Y 轴分割线'), initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })] });
    }, [type, variable_infos]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [{
                key: 'basic',
                label: (0,i18n.t)('基本属性'),
                children: FormFields,
                forceRender: true
            },
            {
                key: 'variable',
                label: (0,i18n.t)('变量设置'),
                children: (0,jsx_runtime.jsx)(BasicFormFields_VariableSetting, {}),
                forceRender: true
            }
        ] });
}
function OrderFormFields() {
    const FormFields = (0,external_React_.useMemo)(() => {
        return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'bar_color', label: (0,i18n.t)('柱状图颜色'), initialValue: null, children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'line_color', label: (0,i18n.t)('曲线颜色'), initialValue: null, children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('倍率'), name: 'time_rate', initialValue: 100, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { type: 'number' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('行情数据档数'), name: 'market_data_files_num', initialValue: 10, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { type: 'number' }) })] });
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
            {
                key: 'series',
                label: (0,i18n.t)('订单图'),
                children: FormFields,
                forceRender: true,
            }
        ] });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/OrderBook/config.tsx

function convert_order_book_config(config, orderbook_data, line_data, bar_data) {
    let { title, with_tooltip, time_rate, title_size, with_split_line, bar_color, line_color } = config;
    return {
        title: {
            text: (0,utils/* parse_text */.we)(title ?? ''),
            textStyle: {
                color: '#e6e6e6',
                fontSize: title_size,
            }
        },
        // legend: {
        //     show: with_legend,
        //     textStyle: {
        //         color: '#e6e6e6'
        //     }
        // },
        tooltip: {
            show: with_tooltip,
            position: 'top',
            formatter: params => {
                return `${params.data[0]}
                ${(params.data[1] / time_rate).toFixed(4)}
                ${params.data[2]}
                ${params.data[3]}`;
            }
        },
        grid: [
            // 热力图    
            {
                height: '50%',
                top: '10%'
            },
            // 柱状图
            {
                height: '25%',
                bottom: '15%'
            }
        ],
        xAxis: [{
                type: 'category',
                // 坐标轴
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    show: false,
                },
            },
            {
                gridIndex: 1,
                type: 'category',
                // 坐标轴
                axisLine: {
                    show: true
                }
            }],
        yAxis: [
            {
                position: 'left',
                type: 'value',
                scale: true,
                // 坐标轴在 grid 区域中的分隔线。
                splitLine: {
                    show: with_split_line
                },
                axisLabel: {
                    formatter: params => {
                        return (params / time_rate).toFixed(2);
                    }
                },
                axisLine: {
                    show: true
                }
            },
            {
                gridIndex: 1,
                position: 'left',
                type: 'value',
                scale: true,
                // 坐标轴在 grid 区域中的分隔线。
                splitLine: {
                    show: with_split_line
                },
                axisLine: {
                    show: true
                }
            },
        ],
        visualMap: {
            min: -10,
            max: 10,
            calculable: true,
            orient: 'horizontal',
            left: 'center',
            bottom: '0%',
            inRange: {
                color: ['rgba(255,0,0,0.6)', 'rgba(255,255,255,0.6)', 'rgba(57,117,198,0.6)']
            },
            // 设置 visualMap 仅对 orderbook 生效，不然会影响柱状图和曲线颜色
            seriesIndex: 0
        },
        series: [
            {
                name: 'Order Book',
                type: 'heatmap',
                data: orderbook_data,
                encode: {
                    x: 0,
                    y: 1,
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                },
                xAxisIndex: 0,
                yAxisIndex: 0
            },
            {
                name: 'Line',
                type: 'line',
                data: line_data,
                encode: {
                    x: 0,
                    y: 1,
                },
                smooth: true,
                itemStyle: {
                    color: line_color
                },
                xAxisIndex: 0,
                yAxisIndex: 0
            },
            {
                name: 'Bar',
                type: 'bar',
                data: bar_data,
                encode: {
                    x: 0,
                    y: 1,
                },
                itemStyle: {
                    color: bar_color
                },
                // 选择 gird 中下方的图
                xAxisIndex: 1,
                yAxisIndex: 1
            }
        ]
    };
}
function convertDateFormat(dateString) {
    // const parts = dateString.split(/[\s.:-]/)
    // const year = parts[0]
    // const month = parts[1].padStart(2, '0')
    // const day = parts[2].padStart(2, '0')
    const time = dateString.split(' ')[1];
    return `${time}`;
}
function parsePrice(dataString) {
    if (dataString.length < 3)
        return [];
    const data = dataString.slice(1, dataString.length - 2);
    const arr = data.split(',');
    return arr.map(item => {
        return item !== '' ? item : null;
    });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/OrderBook/index.tsx









function OrderBook(props) {
    const { widget, data_source } = props;
    let { time_rate, market_data_files_num } = widget.config;
    /** 记录每一次流数据的长度， 然后处理时， 可以不需要处理以前的已经发过来的流数据 */
    // let data_length = useRef(0)
    // 如果数据格式不匹配，则直接返回
    if (!data_source[0]?.sendingTime && !data_source[0]?.bidmdEntryPrice && !data_source[0]?.bidmdEntrySize)
        return;
    // 样式调整先写死，后面再改
    const convert_order_config = (0,external_React_.useMemo)(() => {
        let orderbook_data = [];
        let bar_data = [];
        let line_data = [];
        // time_rate 作用解释， 由于 echarts heatmap 的每个小块高度默认展示一个 y 轴单位长度（未找到可以改动此属性的 option，找到了应该就可以去掉该属性）
        // 但订单图数据常为浮点数，且数据浮动不大，因此会造成多个小块大面积重叠，导致图的展示效果不好
        // 所以，在数据上乘以一个 time_rate 作为图表的展示数值，在 y 轴和 tooltip 再 ÷ 回来显示数值，可较好的实现图的展示效果
        // time_rate 越大，每个块的高度越高
        if (!time_rate)
            time_rate = 100;
        // 处理数据
        function formatData(price, size, sendingTime, is_buy) {
            let entry = [];
            if (price && size)
                for (let i = 0; i < (price.length || 0) && i < market_data_files_num; i++)
                    // 去除空值
                    if (price[i] && (0,utils/* to_chart_data */.sD)(size[i], browser/* DdbType */.Z2.long))
                        // 数据解释: 第一项时间，作为 x 轴；第二项价格，作为 y 轴； 第三栏交易量，tooltip 展示； 第四栏价格档位，tooltip 展示；第五栏交易量，用于排序展示块的颜色深浅
                        entry.push([sendingTime, price[i] * time_rate, (0,utils/* to_chart_data */.sD)(size[i], browser/* DdbType */.Z2.long), is_buy ? `bmd[${i}]` : `omd[${i}]`, size[i]]);
            // 对 size 排序，确认颜色深浅
            entry.sort((a, b) => {
                return a[4] > b[4] ? 1 : 0;
            });
            entry.forEach((item, index) => {
                item[4] = is_buy ? index + 1 : -index - 1;
            });
            return entry;
        }
        for (let item of data_source) {
            // 由于 arrayvector 改动后被转成了字符串，所以需要先进行 parse 处理
            let bid = formatData(parsePrice(item.bidmdEntryPrice), JSON.parse(item.bidmdEntrySize), convertDateFormat(item.sendingTime), true);
            orderbook_data.push(...bid);
            let omd = formatData(parsePrice(item.offermdEntryPrice), JSON.parse(item.offermdEntrySize), convertDateFormat(item.sendingTime), false);
            orderbook_data.push(...omd);
            // 柱状图数据及曲线数据
            // 如果订单图有数据, 这里柱状图的数据必须 push , 因为柱状图和订单图共用一个 x 轴，订单图的 x 轴实际上是被隐藏了的
            if (bid.length && omd.length)
                bar_data.push([convertDateFormat(item.sendingTime), item.volume || 0]);
            if (item.upToDatePrice)
                line_data.push([convertDateFormat(item.sendingTime), item.upToDatePrice * time_rate]);
        }
        // console.log(bar_data)
        // console.log(orderbook_data)
        // console.log(line_data)
        return convert_order_book_config(widget.config, orderbook_data, line_data, bar_data);
    }, [data_source, widget.config]);
    // 编辑模式下 notMerge 为 true ，因为要修改配置，预览模式下 notMerge 为 false ，避免数据更新，导致选中的 label失效
    return (0,jsx_runtime.jsx)(core/* default */.A, { echarts: external_echarts_, notMerge: dashboard_model/* dashboard */.ze.editing, option: convert_order_config, theme: 'my-theme' });
}
function OrderConfigForm(props) {
    const { col_names = [] } = props;
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(OrderBookField_BasicFormFields, { type: 'chart' }), (0,jsx_runtime.jsx)(OrderFormFields, {})] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/DashboardEditor/index.sass
var DashboardEditor = __webpack_require__(8610);
;// CONCATENATED MODULE: ./console/dashboard/Charts/DashboardEditor/index.sass

      
      
      
      
      
      
      
      
      

var DashboardEditor_options = {};

DashboardEditor_options.styleTagTransform = (styleTagTransform_default());
DashboardEditor_options.setAttributes = (setAttributesWithoutAttributes_default());
DashboardEditor_options.insert = insertBySelector_default().bind(null, "head");
DashboardEditor_options.domAPI = (styleDomAPI_default());
DashboardEditor_options.insertStyleElement = (insertStyleElement_default());

var DashboardEditor_update = injectStylesIntoStyleTag_default()(DashboardEditor/* default */.A, DashboardEditor_options);




       /* harmony default export */ const Charts_DashboardEditor = (DashboardEditor/* default */.A && DashboardEditor/* default */.A.locals ? DashboardEditor/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/ChartFormFields/EditorFields.tsx





function EditorFields() {
    const FormFields = (0,external_React_.useMemo)(() => {
        return (0,jsx_runtime.jsxs)("div", { className: 'axis-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'title', label: (0,i18n.t)('标题'), initialValue: (0,i18n.t)('标题'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'button_text', label: (0,i18n.t)('运行按钮文字'), initialValue: (0,i18n.t)('按钮文字'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) })] });
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { activeKey: 'basic', items: [{
                key: 'basic',
                label: (0,i18n.t)('基本属性'),
                children: FormFields,
                forceRender: true
            }] });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/DashboardEditor/index.tsx








function DashboardEditor_DashboardEditor({ widget }) {
    const { config, widgets } = dashboard_model/* dashboard */.ze.use(['config', 'widgets']);
    const [code, set_code] = (0,external_React_.useState)(widget?.config?.code || '');
    async function save(code) {
        // 本地的 widgets 更新
        widgets.find(({ id }) => id === widget.id).config.code = code;
        // server 的 widgets 更新
        config.data.canvas.widgets.find(({ id }) => id === widget.id).config.code = code;
        await dashboard_model/* dashboard */.ze.update_dashboard_config(config);
    }
    const save_debounced = (0,external_React_.useMemo)(() => (0,external_.debounce)(save, 1000, { leading: false, trailing: true }), []);
    return (0,jsx_runtime.jsxs)("div", { className: 'editor-container', children: [(0,jsx_runtime.jsx)("h2", { children: widget?.config?.title || 'editor' }), (0,jsx_runtime.jsx)("div", { className: 'editor', children: (0,jsx_runtime.jsx)(Editor_Editor, { enter_completion: true, value: code, on_change: async (code) => {
                        set_code(code);
                        await save_debounced(code);
                    }, options: {
                        fixedOverflowWidgets: true
                    }, theme: 'dark' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: async () => {
                    const { type, result } = await dashboard_model/* dashboard */.ze.execute_code(code);
                    if (type === 'error')
                        throw new Error(result);
                }, children: widget?.config?.button_text || 'run' })] });
}
function EditorConfigForm() {
    return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(EditorFields, {}) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Gauge/index.scss
var Gauge = __webpack_require__(54);
;// CONCATENATED MODULE: ./console/dashboard/Charts/Gauge/index.scss

      
      
      
      
      
      
      
      
      

var Gauge_options = {};

Gauge_options.styleTagTransform = (styleTagTransform_default());
Gauge_options.setAttributes = (setAttributesWithoutAttributes_default());
Gauge_options.insert = insertBySelector_default().bind(null, "head");
Gauge_options.domAPI = (styleDomAPI_default());
Gauge_options.insertStyleElement = (insertStyleElement_default());

var Gauge_update = injectStylesIntoStyleTag_default()(Gauge/* default */.A, Gauge_options);




       /* harmony default export */ const Charts_Gauge = (Gauge/* default */.A && Gauge/* default */.A.locals ? Gauge/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/Charts/Gauge/index.tsx












function Gauge_Gauge(props) {
    const { widget, data_source } = props;
    const config = (0,external_React_.useMemo)(() => widget.config, [widget.config]);
    const options = (0,external_React_.useMemo)(() => {
        const { title, title_size, max, min, data_setting, label_size, value_size, animation, split_number, value_precision } = config;
        return {
            animation,
            backgroundColor: '#282828',
            // 标题
            title: {
                text: (0,utils/* parse_text */.we)(title ?? ''),
                textStyle: {
                    color: '#e6e6e6',
                    fontSize: title_size || 18,
                }
            },
            series: [{
                    type: 'gauge',
                    title: {
                        fontSize: label_size ?? 16,
                        color: '#fff',
                    },
                    min,
                    max,
                    progress: {
                        show: true,
                        roundCap: true,
                        clip: true
                    },
                    splitNumber: split_number || 8,
                    data: data_setting.filter(Boolean).map(item => ({
                        value: data_source?.[0]?.[item?.col],
                        name: item.name,
                        title: {
                            offsetCenter: [`${item?.title?.level}%`, `${item?.title?.vertical}%`]
                        },
                        detail: {
                            offsetCenter: [`${item?.value?.level}%`, `${item?.value?.vertical}%`]
                        },
                        itemStyle: {
                            color: item.color,
                        }
                    })),
                    detail: {
                        valueAnimation: true,
                        height: 14,
                        fontSize: value_size ?? 18,
                        fontWeight: 500,
                        color: 'inherit',
                        formatter: value => (0,utils/* format_number */.WZ)(value, value_precision, true)
                    },
                }]
        };
    }, [config, data_source]);
    // 编辑模式下 notMerge 为 true ，因为要修改配置，预览模式下 notMerge 为 false ，避免数据更新，导致选中的 label失效
    return (0,jsx_runtime.jsx)(core/* default */.A, { echarts: external_echarts_, notMerge: dashboard_model/* dashboard */.ze.editing, option: options, style: { backgroundColor: '#282828' }, theme: 'dark' });
}
function GaugeConfigForm(props) {
    const { col_names = [] } = props;
    const form = external_antd_namespaceObject.Form.useFormInstance();
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'chart', chart_fields: [] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [{
                        key: 'data',
                        label: '数据配置',
                        forceRender: true,
                        children: (0,jsx_runtime.jsxs)("div", { className: 'data-setting-wrapper', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'min', label: '\u6700\u5C0F\u8303\u56F4', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: 'max', label: '\u6700\u5927\u8303\u56F4', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: '\u6807\u7B7E\u5B57\u53F7', name: 'label_size', initialValue: 16, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: '\u503C\u5B57\u53F7', name: 'value_size', initialValue: 18, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: 'px' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: '\u503C\u7CBE\u5EA6', name: 'value_precision', initialValue: 2, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { precision: 0, min: 0 }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('分段数'), name: 'split_number', initialValue: 8, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { precision: 0 }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'data_setting', initialValue: [{}], children: (fields, { add, remove }) => {
                                        const items = fields.map(field => {
                                            return {
                                                key: field.name,
                                                label: (0,jsx_runtime.jsxs)("div", { className: 'data-setting-label', children: [`数据列 ${field.name + 1}`, " ", (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { onClick: () => { remove(field.name); } })] }),
                                                forceRender: true,
                                                children: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'col'], label: '\u6570\u636E\u5217', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { onSelect: val => {
                                                                    form.setFieldValue(['data_setting', field.name, 'name'], val);
                                                                    dashboard_model/* dashboard */.ze.update_widget({ ...widget, config: form.getFieldsValue() });
                                                                }, options: (0,utils/* convert_list_to_options */.Kz)(col_names) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'name'], label: '\u540D\u79F0', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: [field.name, 'color'], label: '\u6307\u9488\u989C\u8272', children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: '\u4EEA\u8868\u76D8\u6807\u9898\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u4E2D\u5FC3\u7684\u6C34\u5E73\u504F\u79FB\u4F4D\u7F6E\uFF0C\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u534A\u5F84\u7684\u767E\u5206\u6BD4', name: [field.name, 'title', 'level'], label: '\u6807\u9898\u6C34\u5E73\u504F\u79FB', initialValue: 0, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: '%' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: '\u4EEA\u8868\u76D8\u6807\u9898\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u4E2D\u5FC3\u7684\u5782\u76F4\u504F\u79FB\u4F4D\u7F6E\uFF0C\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u534A\u5F84\u7684\u767E\u5206\u6BD4', name: [field.name, 'title', 'vertical'], label: '\u6807\u9898\u5782\u76F4\u504F\u79FB', initialValue: 40, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: '%' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: '\u4EEA\u8868\u76D8\u6807\u9898\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u4E2D\u5FC3\u7684\u6C34\u5E73\u504F\u79FB\u4F4D\u7F6E\uFF0C\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u534A\u5F84\u7684\u767E\u5206\u6BD4', name: [field.name, 'value', 'level'], label: '\u6570\u503C\u6C34\u5E73\u504F\u79FB', initialValue: 0, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: '%' }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { tooltip: '\u4EEA\u8868\u76D8\u6807\u9898\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u4E2D\u5FC3\u7684\u5782\u76F4\u504F\u79FB\u4F4D\u7F6E\uFF0C\u76F8\u5BF9\u4E8E\u4EEA\u8868\u76D8\u534A\u5F84\u7684\u767E\u5206\u6BD4', name: [field.name, 'value', 'vertical'], label: '\u6570\u503C\u5782\u76F4\u504F\u79FB', initialValue: 60, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, { addonAfter: '%' }) })] })
                                            };
                                        });
                                        return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { size: 'small', items: items }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'add-data-setting-btn', type: 'dashed', block: true, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), onClick: () => { add(); }, children: "\u589E\u52A0\u6570\u636E\u5217" })] });
                                    } })] }),
                    },
                ] })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Charts/Variables/index.scss
var Charts_Variables = __webpack_require__(9960);
;// CONCATENATED MODULE: ./console/dashboard/Charts/Variables/index.scss

      
      
      
      
      
      
      
      
      

var Variables_options = {};

Variables_options.styleTagTransform = (styleTagTransform_default());
Variables_options.setAttributes = (setAttributesWithoutAttributes_default());
Variables_options.insert = insertBySelector_default().bind(null, "head");
Variables_options.domAPI = (styleDomAPI_default());
Variables_options.insertStyleElement = (insertStyleElement_default());

var Variables_update = injectStylesIntoStyleTag_default()(Charts_Variables/* default */.A, Variables_options);




       /* harmony default export */ const dashboard_Charts_Variables = (Charts_Variables/* default */.A && Charts_Variables/* default */.A.locals ? Charts_Variables/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./console/dashboard/type.ts
var type = __webpack_require__(4829);
;// CONCATENATED MODULE: ./console/dashboard/GraphItem/VariableForm.tsx










function StringMultiSelect(props) {
    const { options, onChange, value } = props;
    const on_change = (0,external_React_.useCallback)(val => {
        onChange(JSON.stringify(val));
    }, []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { allowClear: true, mode: 'multiple', options: options, value: (0,utils/* safe_json_parse */.bu)(value), onChange: on_change });
}
function ControlField({ variable }) {
    const { id, mode, options, display_name } = variable;
    const variable_obj = Variable_variable/* variables */.Ee.use();
    const form = external_antd_namespaceObject.Form.useFormInstance();
    const [key, set_key] = (0,external_React_.useState)((0,utils_browser/* genid */.GW)());
    (0,external_React_.useEffect)(() => {
        form.setFieldValue(id, variable_obj[id].mode === 'multiple' ? (0,utils/* safe_json_parse */.bu)(variable_obj[id].value) : variable_obj[id].value);
    }, [variable_obj[id].value, id]);
    switch (mode) {
        case type/* VariableMode */.s.DATE:
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: id, label: display_name, children: (0,jsx_runtime.jsx)(StringDatePicker, { allowClear: true, className: 'data-picker' }) });
        case type/* VariableMode */.s.MULTI_SELECT:
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: id, label: display_name, children: (0,jsx_runtime.jsx)(StringMultiSelect, { options: options }) });
        case type/* VariableMode */.s.SELECT:
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: id, label: display_name, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { onSelect: () => { set_key((0,utils_browser/* genid */.GW)()); }, options: options, allowClear: true }, key) });
        case type/* VariableMode */.s.TEXT:
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: id, label: display_name, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) });
        default:
            return null;
    }
}
function VariableForm(props) {
    const { ids = [], cols = 3, with_search_btn, className, search_btn_label, label_col } = props;
    const [form] = external_antd_namespaceObject.Form.useForm();
    const variables_obj = Variable_variable/* variables */.Ee.use();
    const on_variables_change = (0,external_React_.useCallback)((changed_values) => {
        (0,Variable_variable/* update_variable_value */.R5)(changed_values);
    }, []);
    const on_search = (0,external_React_.useCallback)(() => {
        const values = form.getFieldsValue();
        (0,Variable_variable/* update_variable_value */.R5)(values);
    }, []);
    return !!ids.length && (0,jsx_runtime.jsxs)("div", { className: classnames_default()('variable-wrapper', { [className]: true }), children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form, { form: form, className: 'variable-form', onValuesChange: !with_search_btn && on_variables_change, labelCol: { span: label_col }, labelAlign: 'left', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Row, { gutter: [24, 16], children: ids.map(id => variables_obj[id]).filter(Boolean).map(item => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Col, { span: 24 / cols, children: (0,jsx_runtime.jsx)(ControlField, { variable: item }, item?.id) }, item?.id)) }) }), with_search_btn && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: on_search, className: 'search-btn', children: search_btn_label || '查询' })] });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/Variables/index.tsx




function Variables_Variables(props) {
    const { widget } = props;
    const config = (0,external_React_.useMemo)(() => widget.config, [widget.config]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [config?.title &&
                (0,jsx_runtime.jsx)("div", { className: 'variable-title', style: { fontSize: config.title_size ?? 18, fontWeight: 500 }, children: config.title }), (0,jsx_runtime.jsx)(VariableForm, { className: 'variable-chart-wrapper', ids: config?.variable_ids, cols: config?.variable_cols, with_search_btn: config?.with_search_btn, search_btn_label: config?.search_btn_label, label_col: config?.variable_form_label_col ? Math.floor(config?.variable_form_label_col * 24 / 100) : 6 })] });
}

;// CONCATENATED MODULE: ./console/dashboard/Charts/HeatMap/index.tsx














function HeatMap(props) {
    const { widget } = props;
    const config = widget.config;
    const node = (0,date_source/* get_data_source */.Qb)(widget.source_id[0]);
    const { data } = node.use(['data']);
    const options = (0,external_React_.useMemo)(() => {
        const default_options = (0,utils/* convert_chart_config */.u3)({ ...widget, config: { ...widget.config, series: [] } }, []);
        const { series } = config;
        const { data: matrix_data = [], row_labels = [], col_labels = [] } = data;
        let chart_data = [];
        for (let j = 0; j < matrix_data.length; j++)
            for (let i = 0; i < matrix_data[j].length; i++)
                chart_data.push([i, j, matrix_data[j][i]]);
        return {
            ...default_options,
            grid: {
                ...default_options.grid,
                bottom: '15%'
            },
            tooltip: {
                ...default_options.tooltip,
                trigger: 'item'
            },
            xAxis: {
                ...default_options.xAxis,
                type: 'category',
                data: col_labels.map(label => (0,utils/* format_time */.M6)(label, config.xAxis.time_format))
            },
            yAxis: [{
                    ...default_options.yAxis[0],
                    type: 'category',
                    data: row_labels.map(label => (0,utils/* format_time */.M6)(label, config?.yAxis[0]?.time_format))
                }],
            visualMap: {
                min: series[0].min || 0,
                max: series[0].max || 10,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '0%',
                textStyle: {
                    color: '#6C6D77'
                },
                inRange: {
                    color: [series[0].in_range?.color?.low || '#EBE1E1', series[0].in_range?.color?.high || '#983430']
                }
            },
            series: [{
                    name: series[0].name,
                    type: 'heatmap',
                    data: chart_data,
                    label: {
                        show: series[0].with_label
                    },
                }]
        };
    }, [widget.config, data]);
    // 编辑模式下 notMerge 为 true ，因为要修改配置，预览模式下 notMerge 为 false ，避免数据更新，导致选中的 label失效
    return (0,jsx_runtime.jsx)(core/* default */.A, { echarts: external_echarts_, notMerge: dashboard_model/* dashboard */.ze.editing, option: options, className: 'dashboard-line-chart', theme: 'my-theme' });
}
function HeatMapConfigForm({ col_names }) {
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(BasicFormFields, { type: 'chart', chart_fields: [ChartFormFields_type/* ChartField */.lo.TOOLTIP] }), (0,jsx_runtime.jsx)(AxisFormFields, { col_names: col_names, single: true }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [{
                        forceRender: true,
                        label: (0,i18n.t)('图配置'),
                        children: (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'series', initialValue: [{}], children: fields => fields.map(field => (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('阴暗色'), name: [field.name, 'in_range', 'color', 'low'], initialValue: '#EBE1E1', children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('明亮色'), name: [field.name, 'in_range', 'color', 'high'], initialValue: '#983430', children: (0,jsx_runtime.jsx)(StringColorPicker, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('最小值'), name: [field.name, 'min'], initialValue: 0, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('最大值'), name: [field.name, 'max'], initialValue: 10, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.InputNumber, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('展示标签'), name: [field.name, 'with_label'], initialValue: false, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })] }, field.name)) }) })
                    }] })] });
}

// EXTERNAL MODULE: ./console/dashboard/Charts/CompositeGraph/index.tsx
var CompositeGraph = __webpack_require__(4671);
// EXTERNAL MODULE: ./console/dashboard/Charts/CompositeGraph/constant.ts
var constant = __webpack_require__(4437);
;// CONCATENATED MODULE: ./console/dashboard/Charts/CompositeGraph/CompositeChartConfig.tsx


















const series_match_type_options = [
    {
        label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('数据源匹配'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('同数据源的数值列采用同配置'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'series_match_type_tip' }) })] }),
        value: ChartFormFields_type/* MatchRuleType */._w.DATA_SOURCE
    },
    {
        label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('列名完全匹配'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('为指定名称的列定制配置'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'series_match_type_tip' }) })] }),
        value: ChartFormFields_type/* MatchRuleType */._w.NAME
    },
    {
        label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('列名正则匹配'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('为列名匹配正则表达式的列定制配置'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'series_match_type_tip' }) })] }),
        value: ChartFormFields_type/* MatchRuleType */._w.REGEXP
    },
    {
        label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,i18n.t)('类型匹配'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('为特定 DolphinDB 数据类型的列定制配置，如 INT, DOUBLE'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { className: 'series_match_type_tip' }) })] }),
        value: ChartFormFields_type/* MatchRuleType */._w.DATA_TYPE
    }
];
// 时序图不需要配置 y 轴，默认为数据轴
function CompositeChartConfig() {
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    const type = (0,external_React_.useMemo)(() => widget.type, [widget]);
    const [update, set_update] = (0,external_React_.useState)({});
    const force_update = (0,external_React_.useCallback)(() => { set_update({}); }, []);
    const form = external_antd_namespaceObject.Form.useFormInstance();
    // 是否开启自动画图模式
    const automatic_mode = external_antd_namespaceObject.Form.useWatch('automatic_mode', form);
    // 所有数据源类型 map
    const type_map = (0,external_React_.useMemo)(() => {
        return widget.source_id.reduce((prev, id) => ({ ...prev, ...(0,date_source/* get_data_source */.Qb)(id).type_map }), {});
    }, [update, widget.source_id]);
    // 所有数据源数值类型列名
    const col_options = (0,external_React_.useMemo)(() => {
        return (0,utils/* convert_list_to_options */.Kz)((0,external_.uniq)(widget.source_id.reduce((prev, id) => {
            const cols = (0,external_.uniq)((0,date_source/* get_data_source */.Qb)(id).cols).filter(col => constant/* VALUE_TYPES */.K.includes(type_map[col]));
            return prev.concat(cols);
        }, [])));
    }, [update, widget.source_id, type_map]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [widget.source_id.map(id => (0,jsx_runtime.jsx)(CompositeGraph/* SingleDataSourceUpdate */.R, { source_id: id, force_update: force_update }, id)), (0,jsx_runtime.jsx)(BasicFormFields, { type: 'chart' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: [
                    {
                        key: 'x_axis',
                        label: (0,i18n.t)('X 轴配置'),
                        forceRender: true,
                        children: (0,jsx_runtime.jsx)(AxisItem, { col_names: [], name_path: 'xAxis', hidden_fields: ['col_name'], initial_values: {
                                type: ChartFormFields_type/* AxisType */.Gw.CATEGORY
                            } })
                    },
                    {
                        key: 'y_axis',
                        label: (0,i18n.t)('Y 轴配置'),
                        forceRender: true,
                        children: (0,jsx_runtime.jsx)(YAxis, { col_names: [], axis_item_props: { hidden_fields: automatic_mode ? ['col_name', 'type'] : [] } })
                    },
                    {
                        key: 'series',
                        label: (0,jsx_runtime.jsxs)("div", { children: [(0,i18n.t)('数据列配置'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('单条数据列若命中多个配置规则，以第一项命中的为准'), children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.QuestionCircleOutlined, { style: { marginLeft: 4 } }) })] }),
                        forceRender: true,
                        children: !automatic_mode
                            ? (0,jsx_runtime.jsx)(Series, { col_names: [] })
                            : (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.List, { name: 'series', children: (fields, { add, remove }) => {
                                    const items = fields.map(field => ({
                                        key: `series_${field.name}`,
                                        forceRender: true,
                                        label: (0,jsx_runtime.jsxs)("div", { className: 'collapse-label', children: [(0,i18n.t)('配置规则 {{name}}', { name: field.name + 1 }), (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { onClick: () => { remove(field.name); } })] }),
                                        children: (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('匹配类型'), name: [field.name, 'match_type'], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: series_match_type_options, onSelect: () => { form.setFieldValue((0,utils/* concat_name_path */.pG)('series', field.name, 'match_value'), undefined); } }) }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)('series', field.name, 'match_type')], children: value => {
                                                        const match_type = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)('series', field.name, 'match_type'));
                                                        switch (match_type) {
                                                            case ChartFormFields_type/* MatchRuleType */._w.NAME:
                                                                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('筛选列'), name: (0,utils/* concat_name_path */.pG)(field.name, 'match_value'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { mode: 'tags', options: col_options }) });
                                                            case ChartFormFields_type/* MatchRuleType */._w.REGEXP:
                                                                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('正则表达式'), tooltip: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('支持字面量形式和构造函数形式的正则对象') }), (0,jsx_runtime.jsxs)("ul", { children: [(0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('字面量：/abc/g') }), (0,jsx_runtime.jsx)("li", { children: (0,i18n.t)('构造函数：new RegExp("abc", "g")') })] })] }), name: (0,utils/* concat_name_path */.pG)(field.name, 'match_value'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { placeholder: (0,i18n.t)('请输入正则表达式') }) });
                                                            case ChartFormFields_type/* MatchRuleType */._w.DATA_TYPE:
                                                                const types = (0,external_.uniq)(Object.values(type_map)).filter(type => constant/* VALUE_TYPES */.K.includes(type)).map(item => ({ label: DDB_TYPE_MAP[item], value: item }));
                                                                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('数据类型'), name: (0,utils/* concat_name_path */.pG)(field.name, 'match_value'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: types, mode: 'multiple' }) });
                                                            case ChartFormFields_type/* MatchRuleType */._w.DATA_SOURCE:
                                                                return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('数据源'), name: (0,utils/* concat_name_path */.pG)(field.name, 'match_value'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: widget.source_id.map(id => ({ label: (0,date_source/* get_data_source */.Qb)(id).name, value: id })) }) });
                                                            default:
                                                                return null;
                                                        }
                                                    } }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [(0,utils/* concat_name_path */.pG)('series', field.name, 'match_value')], children: value => {
                                                        const match_value = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)('series', field.name, 'match_value'));
                                                        return match_value
                                                            ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('是否展示'), name: (0,utils/* concat_name_path */.pG)(field.name, 'show'), initialValue: true, children: (0,jsx_runtime.jsx)(BoolRadioGroup_BoolRadioGroup, {}) })
                                                            : null;
                                                    } }), (0,jsx_runtime.jsx)(FormDependencies, { dependencies: [
                                                        (0,utils/* concat_name_path */.pG)('series', field.name, 'show'),
                                                        (0,utils/* concat_name_path */.pG)('series', field.name, 'match_type'),
                                                        (0,utils/* concat_name_path */.pG)('series', field.name, 'match_value')
                                                    ], children: value => {
                                                        const show = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)('series', field.name, 'show'));
                                                        const match_type = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)('series', field.name, 'match_type'));
                                                        const data_source = (0,external_.get)(value, (0,utils/* concat_name_path */.pG)('series', field.name, 'match_value'));
                                                        return show
                                                            ? (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [match_type === ChartFormFields_type/* MatchRuleType */._w.DATA_SOURCE && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { name: (0,utils/* concat_name_path */.pG)(field.name, 'x_col_name'), label: (0,i18n.t)('x 轴数据列'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { options: (0,utils/* convert_list_to_options */.Kz)((0,date_source/* get_data_source */.Qb)(data_source).cols) }) }), (0,jsx_runtime.jsx)(SeriesItem, { col_names: col_options.map(item => item.value), type: type, name: field.name, path: 'series' })] })
                                                            : null;
                                                    } })] }, field.name)
                                    }));
                                    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [!!items.length && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Collapse, { items: items, size: 'small' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { style: { width: '100%', marginTop: 12 }, type: 'dashed', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), onClick: () => { add(); }, children: (0,i18n.t)('增加配置规则') })] });
                                } })
                    }
                ] }), (0,jsx_runtime.jsx)(ThresholdFormFields, {})] });
}

;// CONCATENATED MODULE: ./console/dashboard/graph-config.ts
















const graph_config = {
    [dashboard_model/* WidgetChartType */.Rf.TABLE]: {
        component: DBTable,
        config: DBTableConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.LINE]: {
        component: Chart_Chart,
        config: ChartConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.MIX]: {
        component: Chart_Chart,
        config: ChartConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.BAR]: {
        component: Chart_Chart,
        config: ChartConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.ORDER]: {
        component: OrderBook,
        config: OrderConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.OHLC]: {
        component: OHLC_OHLC,
        config: OhlcConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.TEXT]: {
        component: RichText_RichText,
    },
    [dashboard_model/* WidgetChartType */.Rf.DESCRIPTIONS]: {
        component: DBDescriptions,
        config: DBDescriptionsForm
    },
    [dashboard_model/* WidgetChartType */.Rf.PIE]: {
        component: Pie,
        config: PieConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.EDITOR]: {
        component: DashboardEditor_DashboardEditor,
        config: EditorConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.GAUGE]: {
        component: Gauge_Gauge,
        config: GaugeConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.RADAR]: {
        component: Radar,
        config: RadarConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.VARIABLE]: {
        component: Variables_Variables,
        config: BasicFormFields
    },
    [dashboard_model/* WidgetChartType */.Rf.SCATTER]: {
        component: Chart_Chart,
        config: ChartConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.HEATMAP]: {
        component: HeatMap,
        config: HeatMapConfigForm
    },
    [dashboard_model/* WidgetChartType */.Rf.COMPOSITE_GRAPH]: {
        component: CompositeGraph/* CompositeChart */.o,
        config: CompositeChartConfig
    },
};

;// CONCATENATED MODULE: ./console/dashboard/icons/chart.svg
const chart_namespaceObject = "data:image/svg+xml;base64,PHN2ZyB4bWw6c3BhY2U9InByZXNlcnZlIiB2aWV3Qm94PSIwIDAgODUwLjM5IDM2OC41IiBoZWlnaHQ9IjIwMHB4IiB3aWR0aD0iMzAwcHgiIHk9IjBweCIgeD0iMHB4IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBpZD0i5Zu+5bGCXzEiIHZlcnNpb249IjEuMSI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTEyMi40LDMyNS42NWMtMC40OTktMC4yMzUtMC44NC0wLjYxLTEuMDI1LTEuMTI1CgkJCWMtMC4xODctMC41MTgtMC4xNjItMS4wMjYsMC4wNzUtMS41MjVjMC4yMzQtMC40OTgsMC42MDktMC44NCwxLjEyNS0xLjAyNWM0LjIyNC0xLjUwOCw4LjU4Mi0yLjk4MywxMy4wNzUtNC40MjUKCQkJYzAuNTE1LTAuMTY5LDEuMDE1LTAuMTI3LDEuNSwwLjEyNWMwLjQ5NCwwLjI0OCwwLjgyNywwLjYzMiwxLDEuMTVjMC4xNywwLjUyNCwwLjEyOCwxLjAzMi0wLjEyNSwxLjUyNAoJCQljLTAuMjU2LDAuNDk0LTAuNjQ3LDAuODI3LTEuMTc2LDFjLTQuNDQsMS40MjYtOC43NDksMi44ODQtMTIuOTI1LDQuMzc1QzEyMy40MDcsMzI1LjkxMiwxMjIuODk4LDMyNS44ODcsMTIyLjQsMzI1LjY1egoJCQkgTTEwNS4wMjUsMzI4LjQ3NWMyLjE0MS0wLjgzMyw0LjMxNi0xLjY2Niw2LjUyNC0yLjVjMC41MTUtMC4xOTUsMS4wMjMtMC4xNzksMS41MjUsMC4wNTFjMC41MDQsMC4yMzEsMC44NTQsMC42MDYsMS4wNSwxLjEyNQoJCQljMC4xOTUsMC41MTQsMC4xNzksMS4wMjEtMC4wNSwxLjUyNGMtMC4yMzMsMC41MDQtMC42MDgsMC44NTQtMS4xMjUsMS4wNWMtMi4xOTIsMC44MzQtNC4zNTEsMS42NjctNi40NzYsMi41CgkJCWMtMC41MTEsMC4xOTUtMS4wMTksMC4xNzktMS41MjQtMC4wNWMtMC41MDMtMC4yMjItMC44NTMtMC41ODgtMS4wNS0xLjFjLTAuMjA0LTAuNTEyLTAuMTk1LTEuMDIsMC4wMjQtMS41MjUKCQkJQzEwNC4xNDYsMzI5LjA0LDEwNC41MTMsMzI4LjY4MiwxMDUuMDI1LDMyOC40NzV6IE0xNDAuNjI1LDI4My42NWMwLjM4NS0wLjM5NCwwLjg1Mi0wLjU5NCwxLjQtMC42MDEKCQkJYzAuNTUxLTAuMDA1LDEuMDI2LDAuMTg3LDEuNDI1LDAuNTc1YzAuMzk0LDAuMzg1LDAuNTk0LDAuODUxLDAuNiwxLjRjMC4wMDUsMC41NTEtMC4xODcsMS4wMjUtMC41NzUsMS40MjVsLTMuMzUsMy4zNQoJCQljLTAuMzg1LDAuMzk0LTAuODUyLDAuNTk0LTEuNCwwLjYwMWMtMC41NTEsMC4wMDUtMS4wMjYtMC4xODctMS40MjUtMC41NzVjLTAuMzk0LTAuMzg1LTAuNTk0LTAuODUxLTAuNi0xLjQKCQkJYy0wLjAwNS0wLjU1MSwwLjE4Ny0xLjAyNSwwLjU3NS0xLjQyNUwxNDAuNjI1LDI4My42NXogTTEzOC4yNSwyNzEuNWMwLjU1Ni0wLjAwNCwxLjAzMSwwLjE4OCwxLjQyNSwwLjU3NWwyLjYwMSwyLjYKCQkJYzAuMzg3LDAuMzk1LDAuNTc4LDAuODY5LDAuNTc0LDEuNDI1YzAuMDA0LDAuNTU3LTAuMTg4LDEuMDMxLTAuNTc0LDEuNDI2Yy0wLjM5NSwwLjM4Ny0wLjg2OSwwLjU3OC0xLjQyNiwwLjU3NAoJCQljLTAuNTU2LDAuMDA0LTEuMDMtMC4xODgtMS40MjUtMC41NzRsLTIuNi0yLjYwMWMtMC4zODgtMC4zOTQtMC41NzktMC44NjktMC41NzUtMS40MjVjLTAuMDA0LTAuNTU2LDAuMTg4LTEuMDMxLDAuNTc1LTEuNDI1CgkJCUMxMzcuMjE5LDI3MS42ODgsMTM3LjY5NCwyNzEuNDk2LDEzOC4yNSwyNzEuNXogTTIwNS42LDMyOC43MjVjMC41MzEtMC4xNTEsMS4wMzktMC4wOTQsMS41MjUsMC4xNzZsNC41NSwyLjU1CgkJCWMwLjQ4MSwwLjI3MSwwLjc5OCwwLjY3MSwwLjk1LDEuMmMwLjE1MiwwLjUzMiwwLjA5NCwxLjA0MS0wLjE3NSwxLjUyNGMtMC4yNzEsMC40ODMtMC42NzEsMC44LTEuMiwwLjk1CgkJCWMtMC41MzEsMC4xNTItMS4wMzksMC4wOTQtMS41MjUtMC4xNzVsLTQuNTUtMi41NWMtMC40ODEtMC4yNzEtMC43OTgtMC42NzItMC45NS0xLjJjLTAuMTUyLTAuNTMyLTAuMDk0LTEuMDQxLDAuMTc2LTEuNTI1CgkJCUMyMDQuNjcxLDMyOS4xOTIsMjA1LjA3MSwzMjguODc1LDIwNS42LDMyOC43MjV6IE0xOTYuNTc1LDMxNi4xNWMwLjU0NSwwLjA0NiwwLjk5NSwwLjI3OSwxLjM1LDAuNjk5bDMuMjUsMy44MDEKCQkJYzAuMzU5LDAuNDMsMC41MTgsMC45MjEsMC40NzYsMS40NzVjLTAuMDU1LDAuNTQ2LTAuMjk2LDAuOTk2LTAuNzI2LDEuMzVjLTAuNDIxLDAuMzYtMC45MDMsMC41Mi0xLjQ1LDAuNDc2CgkJCWMtMC41NDUtMC4wNDYtMC45OTQtMC4yNzktMS4zNS0wLjdsLTMuMjUtMy44Yy0wLjM1OS0wLjQzLTAuNTE4LTAuOTIyLTAuNDc1LTEuNDc2YzAuMDU0LTAuNTQ1LDAuMjk1LTAuOTk1LDAuNzI1LTEuMzUKCQkJQzE5NS41NDYsMzE2LjI2NSwxOTYuMDI5LDMxNi4xMDYsMTk2LjU3NSwzMTYuMTV6IE0yMTEuNDI1LDMxOS41NWMwLjM2LDAuNDE5LDAuNTE5LDAuOTAyLDAuNDc2LDEuNDUKCQkJYy0wLjA0NiwwLjU1Mi0wLjI3OSwxLjAxLTAuNywxLjM3NWwtMy40NSwzYy0wLjQyLDAuMzU5LTAuOTAzLDAuNTE4LTEuNDUsMC40NzVjLTAuNTUyLTAuMDQ0LTEuMDExLTAuMjc3LTEuMzc1LTAuNjk5CgkJCWMtMC4zNTktMC40Mi0wLjUxOC0wLjkwMi0wLjQ3NS0xLjQ1YzAuMDQ1LTAuNTUyLDAuMjc4LTEuMDEsMC43LTEuMzc1bDMuNDQ5LTNjMC40Mi0wLjM1OSwwLjkwMy0wLjUxOCwxLjQ1LTAuNDc2CgkJCUMyMTAuNjAzLDMxOC44OTUsMjExLjA2MSwzMTkuMTI4LDIxMS40MjUsMzE5LjU1eiBNMTkxLjIsMzM0LjAyNWMtMC4yNy0wLjQ4NS0wLjMyNy0wLjk5NC0wLjE3NS0xLjUyNQoJCQljMC4xNTItMC41MjksMC40NjktMC45MywwLjk0OS0xLjJsNS4yNS0yLjg1YzAuNDg2LTAuMjY5LDAuOTk1LTAuMzI3LDEuNTI1LTAuMTc1YzAuNTI5LDAuMTUsMC45MywwLjQ2NywxLjIsMC45NDkKCQkJYzAuMjY5LDAuNDg1LDAuMzI3LDAuOTk0LDAuMTc1LDEuNTI1Yy0wLjE1MiwwLjUyOS0wLjQ2OSwwLjkzLTAuOTUsMS4ybC01LjI1LDIuODVjLTAuNDg2LDAuMjY5LTAuOTk0LDAuMzI3LTEuNTI0LDAuMTc1CgkJCUMxOTEuODcsMzM0LjgyNCwxOTEuNDcxLDMzNC41MDgsMTkxLjIsMzM0LjAyNXogTTE1NS44LDI4OS4wNWMwLjAwNCwwLjU1Ni0wLjE4OCwxLjAzMS0wLjU3NSwxLjQyNQoJCQljLTAuMzk0LDAuMzg3LTAuODY5LDAuNTc5LTEuNDI1LDAuNTc1Yy0wLjU1NiwwLjAwNC0xLjAzLTAuMTg4LTEuNDI1LTAuNTc1bC0zLjMtMy4zYy0wLjM4OC0wLjM5NC0wLjU3OS0wLjg2OS0wLjU3NS0xLjQyNQoJCQljLTAuMDA0LTAuNTU2LDAuMTg4LTEuMDMxLDAuNTc1LTEuNDI1YzAuMzk0LTAuMzg4LDAuODY5LTAuNTc5LDEuNDI1LTAuNTc1YzAuNTU2LTAuMDA0LDEuMDMxLDAuMTg4LDEuNDI1LDAuNTc1bDMuMywzLjMKCQkJQzE1NS42MTEsMjg4LjAyLDE1NS44MDQsMjg4LjQ5NCwxNTUuOCwyODkuMDV6IE0xNTMuNzc1LDI3My4yNWMwLjQwMiwwLjM4MywwLjYxLDAuODUsMC42MjUsMS40CgkJCWMwLjAxMywwLjU1LTAuMTcxLDEuMDI0LTAuNTUxLDEuNDI1bC0yLjUsMi41NWMtMC4zODQsMC40MDEtMC44NTEsMC42MDktMS4zOTksMC42MjVjLTAuNTUxLDAuMDE0LTEuMDI2LTAuMTctMS40MjUtMC41NQoJCQljLTAuNDAyLTAuMzg0LTAuNjExLTAuODUxLTAuNjI1LTEuNHMwLjE3LTEuMDI0LDAuNTUtMS40MjVsMi41LTIuNTVjMC4zODQtMC40MDEsMC44NTEtMC42MSwxLjM5OS0wLjYyNQoJCQlDMTUyLjksMjcyLjY4NywxNTMuMzc2LDI3Mi44NjksMTUzLjc3NSwyNzMuMjV6IE0yODcuNTUsMzE0LjE1YzAuNDQxLTAuMzMsMC45MzMtMC40NTUsMS40NzYtMC4zNzUKCQkJYzAuNTQ3LDAuMDc1LDAuOTg4LDAuMzM0LDEuMzI0LDAuNzc0YzAuMzMsMC40MzksMC40NTUsMC45MzIsMC4zNzUsMS40NzZjLTAuMDc3LDAuNTQ3LTAuMzM1LDAuOTg4LTAuNzc0LDEuMzI0bC03LjksNgoJCQljLTAuNDQxLDAuMzMtMC45MzMsMC40NTUtMS40NzUsMC4zNzVjLTAuNTQ3LTAuMDc1LTAuOTg5LTAuMzM0LTEuMzI1LTAuNzc0Yy0wLjMzLTAuNDM5LTAuNDU1LTAuOTMyLTAuMzc1LTEuNDc2CgkJCWMwLjA3Ny0wLjU0NywwLjMzNi0wLjk4OCwwLjc3NS0xLjMyNEwyODcuNTUsMzE0LjE1eiBNMjkzLjcyNSwzMTYuMTI1YzAuMjMyLTAuNTA0LDAuNjA3LTAuODU0LDEuMTI1LTEuMDUKCQkJYzAuNTE1LTAuMTk1LDEuMDIyLTAuMTc5LDEuNTI1LDAuMDVjMC41MDQsMC4yMzIsMC44NTQsMC42MDcsMS4wNSwxLjEyNWwyLjUsNi41NWMwLjE5NSwwLjUxNSwwLjE3OSwxLjAyMy0wLjA1LDEuNTI1CgkJCWMtMC4yMzEsMC41MDQtMC42MDYsMC44NTQtMS4xMjUsMS4wNWMtMC41MTQsMC4xOTUtMS4wMjIsMC4xNzktMS41MjUtMC4wNWMtMC41MDQtMC4yMzMtMC44NTQtMC42MDgtMS4wNS0xLjEyNWwtMi41LTYuNTUKCQkJQzI5My40NzksMzE3LjEzNSwyOTMuNDk2LDMxNi42MjcsMjkzLjcyNSwzMTYuMTI1eiBNMjc5LjU1LDMwMy43NWMwLjUxOS0wLjE3OCwxLjAyNy0wLjE0NSwxLjUyNSwwLjFsNi44LDMuMzAxCgkJCWMwLjQ5OCwwLjI0NCwwLjg0LDAuNjI4LDEuMDI1LDEuMTQ5YzAuMTc4LDAuNTIsMC4xNDUsMS4wMjgtMC4xMDEsMS41MjVjLTAuMjQ0LDAuNDk5LTAuNjI4LDAuODQxLTEuMTQ5LDEuMDI0CgkJCWMtMC41MTksMC4xNzktMS4wMjcsMC4xNDUtMS41MjUtMC4xbC02LjgtMy4zYy0wLjQ5OS0wLjI0NS0wLjg0MS0wLjYyOC0xLjAyNS0xLjE1Yy0wLjE3OS0wLjUyLTAuMTQ1LTEuMDI3LDAuMTAxLTEuNTI0CgkJCUMyNzguNjQ1LDMwNC4yNzUsMjc5LjAyNywzMDMuOTM0LDI3OS41NSwzMDMuNzV6IE0yOTEuMSwyOTkuMzVjLTAuMDAzLTAuNTU2LDAuMTg4LTEuMDMsMC41NzUtMS40MjUKCQkJYzAuMzk1LTAuMzg3LDAuODY5LTAuNTc4LDEuNDI1LTAuNTc1YzAuNTU3LTAuMDAzLDEuMDMxLDAuMTg4LDEuNDI2LDAuNTc1YzAuMzg3LDAuMzk1LDAuNTc4LDAuODY5LDAuNTc0LDEuNDI1djQuOTUKCQkJYzAuMDA0LDAuNTU2LTAuMTg4LDEuMDMxLTAuNTc0LDEuNDI1Yy0wLjM5NSwwLjM4Ny0wLjg2OSwwLjU3OS0xLjQyNiwwLjU3NWMtMC41NTYsMC4wMDQtMS4wMy0wLjE4OC0xLjQyNS0wLjU3NQoJCQljLTAuMzg3LTAuMzk0LTAuNTc4LTAuODY5LTAuNTc1LTEuNDI1VjI5OS4zNXogTTI5Ny40NzUsMzExLjQyNWMtMC4yMjktMC41MDMtMC4yNDUtMS4wMTEtMC4wNS0xLjUyNAoJCQljMC4xOTctMC41MTgsMC41NDctMC44OTMsMS4wNS0xLjEyNWw2LjM1MS0yLjk1YzAuNTAzLTAuMjI5LDEuMDEyLTAuMjQ1LDEuNTI0LTAuMDVjMC41MTksMC4xOTUsMC44OTQsMC41NDYsMS4xMjUsMS4wNQoJCQljMC4yMjksMC41MDMsMC4yNDYsMS4wMTEsMC4wNTEsMS41MjRjLTAuMTk3LDAuNTE4LTAuNTQ4LDAuODkzLTEuMDUxLDEuMTI1bC02LjM1LDIuOTVjLTAuNTA0LDAuMjI5LTEuMDEyLDAuMjQ1LTEuNTI1LDAuMDUKCQkJQzI5OC4wODIsMzEyLjI3OSwyOTcuNzA3LDMxMS45MjksMjk3LjQ3NSwzMTEuNDI1eiBNMjc0LjMyNSwyNTQuMDI1Yy0xLjgwNi0xLjgxMy0zLjk4LTIuNzIxLTYuNTI1LTIuNzI2CgkJCWMtMi41MjksMC4wMDMtNC43MjksMC45MTEtNi42LDIuNzI2aDAuMDI0Yy0xLjgxMywxLjgwNS0yLjcyMSwzLjk3OS0yLjcyNSw2LjUyNGMwLjAwMiwyLjU3NiwwLjkxLDQuNzY4LDIuNzI1LDYuNTc1SDI2MS4yCgkJCWMxLjg3LDEuODE0LDQuMDcsMi43MjMsNi42LDIuNzI1YzIuNTQ1LTAuMDA0LDQuNzItMC45MTIsNi41MjUtMi43MjVjMS44MTQtMS44MDgsMi43MjMtMy45OTksMi43MjUtNi41NzUKCQkJQzI3Ny4wNDYsMjU4LjAwNSwyNzYuMTM4LDI1NS44MywyNzQuMzI1LDI1NC4wMjV6IE0yNzcuMTc1LDI1MS4xNzVjMi41ODgsMi41OTUsMy44OCw1LjcyLDMuODc1LDkuMzc1CgkJCWMwLjAwMiwzLjY5LTEuMjg5LDYuODMzLTMuODc1LDkuNDI1Yy0yLjU5NSwyLjU4OC01LjcyLDMuODgtOS4zNzUsMy44NzVjLTMuNjA0LDAuMDAzLTYuNzM3LTEuMjg5LTkuMzk5LTMuODc1aC0wLjAyNQoJCQljLTIuNTg2LTIuNTkyLTMuODc3LTUuNzM0LTMuODc1LTkuNDI1Yy0wLjAwNC0zLjY1NSwxLjI4Ny02Ljc4LDMuODc1LTkuMzc1aDAuMDI1YzIuNjYyLTIuNTg1LDUuNzk2LTMuODc3LDkuMzk5LTMuODc1CgkJCUMyNzEuNDU1LDI0Ny4yOTYsMjc0LjU4LDI0OC41ODcsMjc3LjE3NSwyNTEuMTc1eiBNMzE4LjAyNSwyODQuMDc1YzAuNDMsMC4zNTQsMC42NzEsMC44MDQsMC43MjUsMS4zNQoJCQljMC4wNDMsMC41NDYtMC4xMTUsMS4wMjktMC40NzUsMS40NWMtMC4zNTQsMC40MjktMC44MDQsMC42NzEtMS4zNTEsMC43MjVjLTYxLjk4Myw1LjE1NS0xMTcuNjg0LDE1LjA4LTE2Ny4xLDI5Ljc3NQoJCQljLTAuNTI4LDAuMTUyLTEuMDM2LDAuMDk0LTEuNTI1LTAuMTc1Yy0wLjQ4OS0wLjI2LTAuODEzLTAuNjUxLTAuOTc1LTEuMTc1Yy0wLjE1My0wLjUyOS0wLjA5NS0xLjAzNywwLjE3NS0xLjUyNQoJCQljMC4yNTktMC40ODgsMC42NS0wLjgxMywxLjE3NS0wLjk3NWM0OS42NTEtMTQuNzcxLDEwNS42MTgtMjQuNzQ2LDE2Ny45LTI5LjkyNkMzMTcuMTIsMjgzLjU1NywzMTcuNjA0LDI4My43MTUsMzE4LjAyNSwyODQuMDc1egoJCQkgTTI2Mi42NSwxODEuNGMtMC4wMDQtMC41NTcsMC4xODgtMS4wMzEsMC41NzQtMS40MjZjMC4zOTUtMC4zODcsMC44NjktMC41NzgsMS40MjYtMC41NzRjMC41NTYtMC4wMDQsMS4wMywwLjE4OCwxLjQyNSwwLjU3NAoJCQljMC4zODcsMC4zOTUsMC41NzgsMC44NjksMC41NzUsMS40MjZ2Ni44aDYuOGMwLjU1Ni0wLjAwNCwxLjAzLDAuMTg4LDEuNDI1LDAuNTc1YzAuMzg3LDAuMzk0LDAuNTc4LDAuODY5LDAuNTc1LDEuNDI1CgkJCWMwLjAwMywwLjU1Ni0wLjE4OCwxLjAzLTAuNTc1LDEuNDI1Yy0wLjM5NSwwLjM4Ny0wLjg2OSwwLjU3OC0xLjQyNSwwLjU3NWgtNi44djYuOGMwLjAwMywwLjU1Ni0wLjE4OCwxLjAzMS0wLjU3NSwxLjQyNQoJCQljLTAuMzk1LDAuMzg3LTAuODY5LDAuNTc5LTEuNDI1LDAuNTc1Yy0wLjU1NywwLjAwNC0xLjAzMS0wLjE4OC0xLjQyNi0wLjU3NWMtMC4zODctMC4zOTQtMC41NzgtMC44NjktMC41NzQtMS40MjV2LTYuOGgtNi44MDEKCQkJYy0wLjU1NiwwLjAwMy0xLjAzLTAuMTg4LTEuNDI1LTAuNTc1Yy0wLjM4Ny0wLjM5NS0wLjU3OC0wLjg2OS0wLjU3NS0xLjQyNWMtMC4wMDMtMC41NTYsMC4xODgtMS4wMzEsMC41NzUtMS40MjUKCQkJYzAuMzk1LTAuMzg4LDAuODY5LTAuNTc5LDEuNDI1LTAuNTc1aDYuODAxVjE4MS40eiBNMjQ0LjcyNSwxMTcuOTI1YzAuMzk1LTAuMzg3LDAuODY5LTAuNTc4LDEuNDI2LTAuNTc1CgkJCWMwLjU1Ni0wLjAwMywxLjAzLDAuMTg4LDEuNDI1LDAuNTc1YzAuMzg3LDAuMzk1LDAuNTc4LDAuODY5LDAuNTc1LDEuNDI1djEuMzUxYzAuMDAzLDAuNTU2LTAuMTg4LDEuMDMtMC41NzUsMS40MjUKCQkJYy0wLjM5NSwwLjM4Ny0wLjg2OSwwLjU3OC0xLjQyNSwwLjU3NWMtMC41NTcsMC4wMDMtMS4wMzEtMC4xODgtMS40MjYtMC41NzVjLTAuMzg3LTAuMzk1LTAuNTc4LTAuODY5LTAuNTc0LTEuNDI1di0xLjM1MQoJCQlDMjQ0LjE0NiwxMTguNzk0LDI0NC4zMzgsMTE4LjMxOSwyNDQuNzI1LDExNy45MjV6IE0yNTEuOTUsOTcuMzc1bDAuMDI0LDAuMDI1YzEuNjU2LDEuNjIyLDIuNDgsMy41NzEsMi40NzYsNS44NQoJCQljLTAuMDAzLDIuMzA2LTAuODE5LDQuMjQ4LTIuNDUsNS44MjVjLTAuMDI0LDAuMDI1LTAuMDUsMC4wNTEtMC4wNzUsMC4wNzVjLTAuOTk2LDEuMDE5LTIuMTIxLDEuNzE5LTMuMzc1LDIuMWwtMC4wMjQsMC4wMjUKCQkJYy0wLjEyNCwwLjAzNS0wLjI0OSwwLjA2OS0wLjM3NSwwLjF2Mi41NzVjMC4wMDMsMC41NTYtMC4xODgsMS4wMy0wLjU3NSwxLjQyNWMtMC4zOTUsMC4zODctMC44NjksMC41NzgtMS40MjUsMC41NzUKCQkJYy0wLjU1NywwLjAwMy0xLjAzMS0wLjE4OC0xLjQyNi0wLjU3NWMtMC4zODctMC4zOTUtMC41NzgtMC44NjktMC41NzQtMS40MjVWMTA5LjZjLTAuMDA0LTAuNTU2LDAuMTg4LTEuMDMsMC41NzQtMS40MjUKCQkJYzAuMzk1LTAuMzg3LDAuODY5LTAuNTc4LDEuNDI2LTAuNTc1YzAuNDMxLDAsMC44MzktMC4wNTgsMS4yMjUtMC4xNzVsLTAuMDI1LDAuMDI1YzAuNjQ5LTAuMjEsMS4yMzItMC41ODUsMS43NS0xLjEyNQoJCQljMC4wMjUtMC4wMjMsMC4wNTEtMC4wNDksMC4wNzUtMC4wNzVjMC44NTMtMC44MDksMS4yNzgtMS44MDksMS4yNzUtM2MtMC4wMDYtMS4xNzctMC40MzktMi4xODYtMS4zLTMuMDI1bC0wLjAyNS0wLjAyNAoJCQljLTAuODEyLTAuODMzLTEuODA0LTEuMjUtMi45NzUtMS4yNWMtMS4xODMsMC4wMDEtMi4yMDcsMC40MTgtMy4wNzUsMS4yNWwtMC4wMjUsMC4wMjRjLTAuODA0LDAuODQxLTEuMjA0LDEuODQ5LTEuMiwzLjAyNQoJCQljMCwwLjMsMCwwLjU4MywwLDAuODVjMC4wMDQsMC41NTctMC4xODgsMS4wMzEtMC41NzQsMS40MjZjLTAuMzk1LDAuMzg3LTAuODY5LDAuNTc4LTEuNDI2LDAuNTc0CgkJCWMtMC41NTYsMC4wMDQtMS4wMy0wLjE4OC0xLjQyNS0wLjU3NGMtMC4zODctMC4zOTUtMC41NzgtMC44NjktMC41NzUtMS40MjZjMC0wLjI2NywwLTAuNTUsMC0wLjg1CgkJCWMwLjAwNS0yLjI3OCwwLjc5Ni00LjIyOSwyLjM3NS01Ljg1bDAuMDI1LTAuMDI1YzEuNjYtMS42MTgsMy42MjctMi40MjYsNS45LTIuNDI1QzI0OC40MzQsOTQuOTQ5LDI1MC4zNjYsOTUuNzU4LDI1MS45NSw5Ny4zNzV6CgkJCSBNMjE4Ljg1LDIzMy41NWMwLjU1Ny0wLjAwMywxLjAzMSwwLjE4OCwxLjQyNiwwLjU3NWMwLjM4NywwLjM5NSwwLjU3OCwwLjg2OSwwLjU3NCwxLjQyNXY5aDkKCQkJYzAuNTU3LTAuMDAzLDEuMDMxLDAuMTg4LDEuNDI2LDAuNTc1YzAuMzg3LDAuMzk1LDAuNTc4LDAuODY5LDAuNTc0LDEuNDI1YzAuMDA0LDAuNTU2LTAuMTg4LDEuMDMxLTAuNTc0LDEuNDI1CgkJCWMtMC4zOTUsMC4zODctMC44NjksMC41NzktMS40MjYsMC41NzVoLTl2OWMwLjAwNCwwLjU1Ni0wLjE4OCwxLjAzMS0wLjU3NCwxLjQyNWMtMC4zOTUsMC4zODctMC44NjksMC41NzktMS40MjYsMC41NzUKCQkJYy0wLjU1NiwwLjAwNC0xLjAzLTAuMTg4LTEuNDI1LTAuNTc1Yy0wLjM4Ny0wLjM5NC0wLjU3OC0wLjg2OS0wLjU3NS0xLjQyNXYtOWgtOWMtMC41NTYsMC4wMDQtMS4wMy0wLjE4OC0xLjQyNS0wLjU3NQoJCQljLTAuMzg3LTAuMzk0LTAuNTc4LTAuODY5LTAuNTc1LTEuNDI1Yy0wLjAwMy0wLjU1NiwwLjE4OC0xLjAzLDAuNTc1LTEuNDI1YzAuMzk1LTAuMzg3LDAuODY5LTAuNTc4LDEuNDI1LTAuNTc1aDl2LTkKCQkJYy0wLjAwMy0wLjU1NiwwLjE4OC0xLjAzLDAuNTc1LTEuNDI1QzIxNy44MTksMjMzLjczOCwyMTguMjk0LDIzMy41NDcsMjE4Ljg1LDIzMy41NXogTTIyMi4zNzUsOTUuODI1CgkJCWMtNi4wNDYsMy41NTQtOS4xMjEsNy44MTItOS4yMjUsMTIuNzc0YzAuMDk4LDQuOTYxLDMuMTY0LDkuMjAyLDkuMTk5LDEyLjcyNmgwLjAyNWM2LjUyLDMuODE2LDE0LjM5NSw1LjcyNSwyMy42MjUsNS43MjUKCQkJYzEuOTIxLTAuMDAxLDUuNTcxLTAuMzI2LDEwLjk1LTAuOTc1YzAuNTEyLTAuMDYzLDAuOTc5LDAuMDUzLDEuMzk5LDAuMzVsNy42NSw1LjQ1VjEyNC41YzAuMDAzLTAuMzY3LDAuMTAzLTAuNzA5LDAuMy0xLjAyNQoJCQljMC4xOS0wLjMyMiwwLjQ0OC0wLjU3MiwwLjc3NS0wLjc1YzAuODc0LTAuNDUsMS43MzItMC45MTcsMi41NzUtMS4zOTljNi4wMzUtMy41MjMsOS4xMDItNy43NjUsOS4xOTktMTIuNzI2CgkJCWMtMC4xMDQtNC45NjMtMy4xNzktOS4yMjEtOS4yMjUtMTIuNzc0aDAuMDI1Yy02LjUyNy0zLjc4NC0xNC40MTEtNS42NzYtMjMuNjUtNS42NzVjLTkuMjM5LTAuMDAxLTE3LjEyMywxLjg5MS0yMy42NSw1LjY3NQoJCQlIMjIyLjM3NXogTTIwOS4xNSwxMDguNmMtMC4xMDUtNi4zNjksMy42MTktMTEuNzc3LDExLjE3NS0xNi4yMjVoMC4wMjRjNy4wNzMtNC4xNDksMTUuNjIzLTYuMjI1LDI1LjY1LTYuMjI1CgkJCXMxOC41NzcsMi4wNzUsMjUuNjUsNi4yMjVoMC4wMjRjNy41NTYsNC40NDcsMTEuMjgsOS44NTUsMTEuMTc1LDE2LjIyNWMwLjEsNi4zNzMtMy42MzQsMTEuNzY1LTExLjE5OSwxNi4xNzYKCQkJYy0wLjU0NCwwLjMxNS0xLjA5NCwwLjYyMy0xLjY1LDAuOTI1djEwLjA1YzAuMDAzLDAuNTA1LTAuMTYzLDAuOTQ2LTAuNSwxLjMyNWMtMC4zNDIsMC4zNzgtMC43NjcsMC41OTUtMS4yNzUsMC42NDkKCQkJYy0wLjUwMywwLjA2MS0wLjk2MS0wLjA1Ny0xLjM3NS0wLjM1bC0xMC4xNzUtNy4yNWMtNS4xOTgsMC42MTgtOC43NTcsMC45MjYtMTAuNjc1LDAuOTI1CgkJCWMtMTAuMDM2LDAuMDAxLTE4LjU5NC0yLjA5MS0yNS42NzUtNi4yNzRoMC4wMjRDMjEyLjc4NCwxMjAuMzY0LDIwOS4wNTEsMTE0Ljk3MywyMDkuMTUsMTA4LjZ6IE03MjguNTI1LDMyNy4xMjUKCQkJYy0wLjUxNy0wLjE4Ni0wLjg5Mi0wLjUyNy0xLjEyNS0xLjAyNWMtMC4yMzctMC40OTgtMC4yNjItMS4wMDctMC4wNzUtMS41MjRjMC4xODUtMC41MTYsMC41MjYtMC44OTEsMS4wMjQtMS4xMjUKCQkJYzAuNS0wLjIzNiwxLjAwOS0wLjI2MiwxLjUyNS0wLjA3NWM0LjcyNiwxLjY3NSw5LjI2OCwzLjM4MywxMy42MjUsNS4xMjVjMC41MTQsMC4yMDgsMC44ODEsMC41NjYsMS4xLDEuMDc1CgkJCWMwLjIxMywwLjUwNywwLjIxMywxLjAxNiwwLDEuNTI0Yy0wLjIwNywwLjUxNC0wLjU2NSwwLjg4LTEuMDc0LDEuMTAxYy0wLjUwOCwwLjIxMS0xLjAxNywwLjIxMS0xLjUyNSwwCgkJCUM3MzcuNjksMzMwLjQ3NSw3MzMuMTk5LDMyOC43ODMsNzI4LjUyNSwzMjcuMTI1eiBNNjI3LjI1LDMzMS40NzVjLTAuMjctMC40ODQtMC4zMjctMC45OTMtMC4xNzUtMS41MjQKCQkJYzAuMTUyLTAuNTI5LDAuNDY5LTAuOTMsMC45NS0xLjJsNS4yNS0yLjg1YzAuNDg2LTAuMjcsMC45OTQtMC4zMjcsMS41MjQtMC4xNzZzMC45MywwLjQ2OCwxLjIsMC45NQoJCQljMC4yNywwLjQ4NSwwLjMyNywwLjk5MywwLjE3NSwxLjUyNWMtMC4xNTIsMC41MjktMC40NjksMC45MjktMC45NSwxLjJsLTUuMjUsMi44NWMtMC40ODYsMC4yNjktMC45OTQsMC4zMjctMS41MjQsMC4xNzUKCQkJQzYyNy45MiwzMzIuMjczLDYyNy41MjEsMzMxLjk1Nyw2MjcuMjUsMzMxLjQ3NXogTTYzMi42MjUsMzEzLjZjMC41NDUsMC4wNDcsMC45OTUsMC4yNzksMS4zNSwwLjdsMy4yNSwzLjgKCQkJYzAuMzU5LDAuNDMsMC41MTgsMC45MjIsMC40NzYsMS40NzZjLTAuMDU0LDAuNTQ2LTAuMjk2LDAuOTk1LTAuNzI2LDEuMzVjLTAuNDIsMC4zNi0wLjkwMywwLjUxOS0xLjQ0OSwwLjQ3NgoJCQljLTAuNTQ1LTAuMDQ3LTAuOTk1LTAuMjc5LTEuMzUxLTAuN2wtMy4yNS0zLjhjLTAuMzU5LTAuNDMtMC41MTgtMC45MjItMC40NzUtMS40NzZjMC4wNTQtMC41NDYsMC4yOTUtMC45OTUsMC43MjUtMS4zNQoJCQlDNjMxLjU5NiwzMTMuNzE1LDYzMi4wNzksMzEzLjU1Nyw2MzIuNjI1LDMxMy42eiBNNTczLjAyNSwzMTguMjVsLTMuMzUxLDMuMzVjLTAuMzg1LDAuMzk0LTAuODUyLDAuNTk0LTEuMzk5LDAuNjAxCgkJCWMtMC41NTIsMC4wMDUtMS4wMjctMC4xODctMS40MjYtMC41NzVjLTAuMzk0LTAuMzg1LTAuNTk0LTAuODUxLTAuNi0xLjRjLTAuMDA1LTAuNTUxLDAuMTg4LTEuMDI1LDAuNTc1LTEuNDI1bDMuMzUtMy4zNQoJCQljMC4zODUtMC4zOTQsMC44NTItMC41OTQsMS40LTAuNjAxYzAuNTUyLTAuMDA1LDEuMDI2LDAuMTg3LDEuNDI1LDAuNTc1YzAuMzk1LDAuMzg1LDAuNTk0LDAuODUxLDAuNiwxLjQKCQkJQzU3My42MDQsMzE3LjM3Niw1NzMuNDEzLDMxNy44NTEsNTczLjAyNSwzMTguMjV6IE01NzguNjI1LDMxOC45NzVjLTAuMzg3LTAuMzk0LTAuNTc4LTAuODY5LTAuNTc1LTEuNDI1CgkJCWMtMC4wMDMtMC41NTYsMC4xODgtMS4wMywwLjU3NS0xLjQyNWMwLjM5NS0wLjM4NywwLjg2OS0wLjU3OCwxLjQyNS0wLjU3NWMwLjU1Ni0wLjAwMywxLjAzMSwwLjE4OCwxLjQyNSwwLjU3NWwzLjMwMSwzLjMKCQkJYzAuMzg3LDAuMzk1LDAuNTc4LDAuODY5LDAuNTc0LDEuNDI1YzAuMDA0LDAuNTU3LTAuMTg4LDEuMDMxLTAuNTc0LDEuNDI2Yy0wLjM5NSwwLjM4Ny0wLjg2OSwwLjU3OC0xLjQyNiwwLjU3NAoJCQljLTAuNTU2LDAuMDA0LTEuMDMtMC4xODgtMS40MjUtMC41NzRMNTc4LjYyNSwzMTguOTc1eiBNNTY2LjM3NSwzMDMuODc1YzAuMzk1LTAuMzg3LDAuODY5LTAuNTc4LDEuNDI1LTAuNTc1CgkJCWMwLjU1Ni0wLjAwMywxLjAzMSwwLjE4OCwxLjQyNSwwLjU3NWwyLjYwMSwyLjZjMC4zODcsMC4zOTUsMC41NzgsMC44NjksMC41NzUsMS40MjZjMC4wMDMsMC41NTYtMC4xODgsMS4wMy0wLjU3NSwxLjQyNQoJCQljLTAuMzk1LDAuMzg3LTAuODY5LDAuNTc4LTEuNDI1LDAuNTc1Yy0wLjU1NywwLjAwMy0xLjAzMS0wLjE4OC0xLjQyNi0wLjU3NWwtMi42LTIuNjAxYy0wLjM4Ny0wLjM5NC0wLjU3OC0wLjg2OS0wLjU3NS0xLjQyNQoJCQlDNTY1Ljc5NywzMDQuNzQ0LDU2NS45ODgsMzA0LjI3LDU2Ni4zNzUsMzAzLjg3NXogTTU4MS45LDMwNC41YzAuNTUxLTAuMDE0LDEuMDI1LDAuMTcsMS40MjUsMC41NQoJCQljMC40MDIsMC4zODQsMC42MSwwLjg1MSwwLjYyNSwxLjRjMC4wMTMsMC41NS0wLjE3MSwxLjAyNC0wLjU1LDEuNDI1bC0yLjUsMi41NWMtMC4zODUsMC40MDEtMC44NTIsMC42MS0xLjQsMC42MjUKCQkJYy0wLjU1MSwwLjAxNC0xLjAyNS0wLjE2OS0xLjQyNS0wLjU1Yy0wLjQwMi0wLjM4NC0wLjYxLTAuODUtMC42MjUtMS40Yy0wLjAxNC0wLjU1LDAuMTctMS4wMjQsMC41NS0xLjQyNWwyLjUtMi41NQoJCQlDNTgwLjg4NCwzMDQuNzI0LDU4MS4zNTEsMzA0LjUxNiw1ODEuOSwzMDQuNXogTTYxOS43NzUsMjUzLjE3NWMwLjM4NywwLjM5NSwwLjU3OCwwLjg2OSwwLjU3NCwxLjQyNQoJCQljMC4wMDQsMC41NTctMC4xODgsMS4wMzEtMC41NzQsMS40MjZjLTAuMzk1LDAuMzg3LTAuODY5LDAuNTc4LTEuNDI2LDAuNTc0aC02Ljh2Ni44MDFjMC4wMDQsMC41NTYtMC4xODgsMS4wMy0wLjU3NSwxLjQyNQoJCQljLTAuMzk0LDAuMzg3LTAuODY5LDAuNTc4LTEuNDI1LDAuNTc1Yy0wLjU1NiwwLjAwMy0xLjAzLTAuMTg4LTEuNDI1LTAuNTc1Yy0wLjM4Ny0wLjM5NS0wLjU3OC0wLjg2OS0wLjU3NS0xLjQyNVYyNTYuNmgtNi44CgkJCWMtMC41NTYsMC4wMDQtMS4wMzEtMC4xODgtMS40MjUtMC41NzRjLTAuMzg4LTAuMzk1LTAuNTc5LTAuODY5LTAuNTc1LTEuNDI2Yy0wLjAwNC0wLjU1NiwwLjE4OC0xLjAzLDAuNTc1LTEuNDI1CgkJCWMwLjM5NC0wLjM4NywwLjg2OS0wLjU3OCwxLjQyNS0wLjU3NWg2Ljh2LTYuOGMtMC4wMDMtMC41NTYsMC4xODgtMS4wMywwLjU3NS0xLjQyNWMwLjM5NS0wLjM4NywwLjg2OS0wLjU3OCwxLjQyNS0wLjU3NQoJCQljMC41NTYtMC4wMDMsMS4wMzEsMC4xODgsMS40MjUsMC41NzVjMC4zODcsMC4zOTUsMC41NzksMC44NjksMC41NzUsMS40MjV2Ni44aDYuOAoJCQlDNjE4LjkwNiwyNTIuNTk3LDYxOS4zODEsMjUyLjc4OCw2MTkuNzc1LDI1My4xNzV6IE02ODYuMjc1LDMxMS43NzVjMC4xNDktMC41MjksMC40NjYtMC45MjksMC45NDktMS4yCgkJCWMwLjQ3Ni0wLjI3NiwwLjk3Ni0wLjM0NCwxLjUtMC4yYzQuNzUsMS4zLDkuNDY3LDIuNjUsMTQuMTUsNC4wNWwwLjAyNSwwLjAyNWMxLjgzMywwLjU2NiwzLjY2NiwxLjEzMyw1LjUsMS43CgkJCWMzLjkwOCwxLjIzMiw3LjcxNywyLjQ2NywxMS40MjUsMy42OTljMC41MiwwLjE3NCwwLjkwMywwLjUwOCwxLjE0OSwxYzAuMjU0LDAuNDk1LDAuMjk1LDEuMDAzLDAuMTI1LDEuNTI1CgkJCWMtMC4xNzQsMC41MjEtMC41MDcsMC45MDMtMSwxLjE1Yy0wLjQ5NCwwLjI1Mi0xLjAwMiwwLjI5NC0xLjUyNCwwLjEyNWMtMy42OTItMS4yMzMtNy40ODMtMi40NjctMTEuMzc1LTMuNwoJCQljLTEuODMzLTAuNTY3LTMuNjY3LTEuMTM0LTUuNS0xLjdsMC4wMjQsMC4wMjVjLTQuNjQ5LTEuNC05LjMzMy0yLjc1LTE0LjA1LTQuMDUxYy0wLjUyOC0wLjE1LTAuOTI5LTAuNDY3LTEuMi0wLjk0OQoJCQlDNjg2LjE5OCwzMTIuOCw2ODYuMTMxLDMxMi4zLDY4Ni4yNzUsMzExLjc3NXogTTY4Mi4xMjUsMzEwLjYyNWMtMC4xNDEsMC41MjctMC40NDksMC45MjctMC45MjUsMS4yCgkJCWMtMC40NzQsMC4yNzYtMC45NzQsMC4zNDMtMS41LDAuMmMtNDEuNjY4LTExLjAwMS04Ny41MjYtMTguODQyLTEzNy41NzUtMjMuNTI1Yy0wLjU1Ni0wLjA1NS0xLjAxNS0wLjI5Ny0xLjM3NS0wLjcyNQoJCQljLTAuMzUzLTAuNDIzLTAuNTAyLTAuOTA2LTAuNDUtMS40NWMwLjA1NS0wLjU1NiwwLjI5Ny0xLjAxNSwwLjcyNi0xLjM3NWMwLjQyMi0wLjM1MywwLjkwNS0wLjUwMiwxLjQ0OS0wLjQ1CgkJCWM1MC4yODUsNC43MTcsOTYuMzYsMTIuNjA4LDEzOC4yMjYsMjMuNjc1YzAuNTM2LDAuMTQyLDAuOTQ0LDAuNDQ5LDEuMjI1LDAuOTI1QzY4Mi4yMDIsMzA5LjU4Miw2ODIuMjY5LDMxMC4wOSw2ODIuMTI1LDMxMC42MjV6CgkJCSBNNjQ3LjcyNSwzMjguOWMwLjQ4MSwwLjI3MSwwLjc5OCwwLjY3MSwwLjk1LDEuMTk5YzAuMTUyLDAuNTMzLDAuMDk0LDEuMDQxLTAuMTc1LDEuNTI1Yy0wLjI3MSwwLjQ4Mi0wLjY3MSwwLjgtMS4yLDAuOTUKCQkJYy0wLjUzLDAuMTUxLTEuMDM5LDAuMDk0LTEuNTI0LTAuMTc1bC00LjU1MS0yLjU1MWMtMC40OC0wLjI3MS0wLjc5OC0wLjY3MS0wLjk0OS0xLjE5OWMtMC4xNTItMC41MzMtMC4wOTQtMS4wNDEsMC4xNzUtMS41MjUKCQkJYzAuMjcxLTAuNDgyLDAuNjcxLTAuOCwxLjItMC45NWMwLjUzLTAuMTUxLDEuMDM5LTAuMDk0LDEuNTI0LDAuMTc1TDY0Ny43MjUsMzI4Ljl6IE02NDYuMSwzMTYuMwoJCQljMC41NTMsMC4wNDUsMS4wMTIsMC4yNzgsMS4zNzUsMC43YzAuMzYsMC40MTksMC41MTksMC45MDIsMC40NzYsMS40NWMtMC4wNDYsMC41NTItMC4yNzgsMS4wMS0wLjcsMS4zNzVsLTMuNDUsMwoJCQljLTAuNDE5LDAuMzU4LTAuOTAzLDAuNTE3LTEuNDUsMC40NzVjLTAuNTUyLTAuMDQ0LTEuMDExLTAuMjc4LTEuMzc1LTAuN2MtMC4zNTktMC40MTktMC41MTgtMC45MDItMC40NzUtMS40NDkKCQkJYzAuMDQ1LTAuNTUyLDAuMjc4LTEuMDEsMC43LTEuMzc1bDMuNDUtM0M2NDUuMDY5LDMxNi40MTYsNjQ1LjU1MywzMTYuMjU4LDY0Ni4xLDMxNi4zeiBNNjUwLjY3NSwyNzkuMDUKCQkJYy0wLjM1OC0wLjQxOS0wLjUxNy0wLjkwMy0wLjQ3NS0xLjQ1YzAuMDQ0LTAuNTUyLDAuMjc4LTEuMDExLDAuNy0xLjM3NWMwLjQxOS0wLjM1OSwwLjkwMi0wLjUxOCwxLjQ0OS0wLjQ3NQoJCQljMC41NTIsMC4wNDUsMS4wMSwwLjI3OCwxLjM3NSwwLjdsMi45NSwzLjVjMC4zNTksMC40MTksMC41MTgsMC45MDMsMC40NzYsMS40NWMtMC4wNDUsMC41NTItMC4yNzgsMS4wMTEtMC43LDEuMzc1CgkJCWMtMC40MTksMC4zNTktMC45MDIsMC41MTgtMS40NSwwLjQ3NWMtMC41NTItMC4wNDUtMS4wMS0wLjI3OC0xLjM3NS0wLjdMNjUwLjY3NSwyNzkuMDV6IE02NDYuMywyNzQuOAoJCQljMC40NC0wLjMyOSwwLjkzMy0wLjQ1NCwxLjQ3Ni0wLjM3NWMwLjU0NywwLjA3NiwwLjk4OCwwLjMzNSwxLjMyNCwwLjc3NWMwLjMzLDAuNDM5LDAuNDU1LDAuOTMxLDAuMzc1LDEuNDc1CgkJCWMtMC4wNzYsMC41NDctMC4zMzUsMC45ODgtMC43NzQsMS4zMjVsLTMuNzUsMi43NWMtMC40NCwwLjMyOS0wLjkzMywwLjQ1NC0xLjQ3NiwwLjM3NWMtMC41NDctMC4wNzYtMC45ODgtMC4zMzQtMS4zMjQtMC43NzUKCQkJYy0wLjMzLTAuNDM5LTAuNDU1LTAuOTMxLTAuMzc1LTEuNDc1YzAuMDc2LTAuNTQ3LDAuMzM1LTAuOTg4LDAuNzc0LTEuMzI1TDY0Ni4zLDI3NC44eiBNNjQxLjcsMjY1Ljg3NQoJCQljMC41NDUtMC4wNywxLjAzNiwwLjA2MywxLjQ3NSwwLjRsNS4yLDRjMC40MzMsMC4zMzgsMC42ODMsMC43OCwwLjc1LDEuMzI0YzAuMDcxLDAuNTQ2LTAuMDYzLDEuMDM3LTAuNCwxLjQ3NgoJCQljLTAuMzM4LDAuNDM0LTAuNzc5LDAuNjg0LTEuMzI0LDAuNzVjLTAuNTQ1LDAuMDctMS4wMzctMC4wNjMtMS40NzYtMC40bC01LjItNGMtMC40MzMtMC4zMzktMC42ODMtMC43OC0wLjc1LTEuMzI1CgkJCWMtMC4wNy0wLjU0NSwwLjA2My0xLjAzNywwLjQtMS40NzVDNjQwLjcxMywyNjYuMTkxLDY0MS4xNTQsMjY1Ljk0MSw2NDEuNywyNjUuODc1eiBNNjUzLjQyNSwyNzEuNjc1CgkJCWMwLjI5Mi0wLjQ3OCwwLjcwOC0wLjc4NSwxLjI1LTAuOTI1bDMuMTUtMC44NWMwLjUyOC0wLjEzNSwxLjAyOC0wLjA2LDEuNSwwLjIyNWMwLjQ3OCwwLjI4NCwwLjc4NiwwLjY5MiwwLjkyNSwxLjIyNQoJCQljMC4xMzUsMC41MzgsMC4wNiwxLjA0Ny0wLjIyNSwxLjUyNWMtMC4yOTIsMC40NzgtMC43MDgsMC43ODUtMS4yNSwwLjkyNWwtMy4xNSwwLjg1MWMtMC41MjksMC4xMzQtMS4wMjksMC4wNTktMS41LTAuMjI2CgkJCWMtMC40NzktMC4yODMtMC43ODYtMC42OTItMC45MjUtMS4yMjVDNjUzLjA2NSwyNzIuNjYyLDY1My4xNDEsMjcyLjE1NCw2NTMuNDI1LDI3MS42NzV6IE02NTAuOTI1LDI2My4wNQoJCQljMC40NDgtMC4zMTUsMC45NC0wLjQyNCwxLjQ3Ni0wLjMyNWMwLjU0NiwwLjEwNiwwLjk3OSwwLjM5LDEuMywwLjg1MWMwLjMxNSwwLjQ0OCwwLjQyMywwLjk0LDAuMzI1LDEuNDc1bC0wLjksNC45CgkJCWMtMC4xMDYsMC41NDYtMC4zOSwwLjk3OS0wLjg1LDEuM2MtMC40NDksMC4zMTUtMC45NCwwLjQyNC0xLjQ3NiwwLjMyNWMtMC41NDctMC4xMDYtMC45NzktMC4zOS0xLjMtMC44NTEKCQkJYy0wLjMxNS0wLjQ0OC0wLjQyNC0wLjkzOS0wLjMyNS0xLjQ3NWwwLjktNC45QzY1MC4xODIsMjYzLjgwNCw2NTAuNDY1LDI2My4zNyw2NTAuOTI1LDI2My4wNXogTTYyNS41LDIwMS42NQoJCQljMy42NTUtMC4wMDUsNi43OCwxLjI4Nyw5LjM3NSwzLjg3NWMyLjU4OCwyLjU5NSwzLjg3OSw1LjcyLDMuODc1LDkuMzc1YzAuMDAyLDMuNjktMS4yODksNi44MzItMy44NzUsOS40MjUKCQkJYy0yLjU5NSwyLjU4Ny01LjcyLDMuODc5LTkuMzc1LDMuODc1Yy0zLjYwNCwwLjAwMi02LjczNy0xLjI5LTkuNC0zLjg3NWgtMC4wMjRjLTIuNTg2LTIuNTkzLTMuODc4LTUuNzM0LTMuODc1LTkuNDI1CgkJCWMtMC4wMDUtMy42NTUsMS4yODctNi43OCwzLjg3NS05LjM3NWgwLjAyNEM2MTguNzYzLDIwMi45MzksNjIxLjg5NiwyMDEuNjQ3LDYyNS41LDIwMS42NXogTTYzMi4wMjUsMjA4LjM3NQoJCQljLTEuODA2LTEuODEzLTMuOTgtMi43MjEtNi41MjUtMi43MjVjLTIuNTI5LDAuMDAyLTQuNzI5LDAuOTEtNi42LDIuNzI1aDAuMDI0Yy0xLjgxMywxLjgwNS0yLjcyMSwzLjk4LTIuNzI1LDYuNTI1CgkJCWMwLjAwMiwyLjU3NiwwLjkxLDQuNzY4LDIuNzI1LDYuNTc0SDYxOC45YzEuODcsMS44MTQsNC4wNywyLjcyMyw2LjYsMi43MjZjMi41NDUtMC4wMDUsNC43Mi0wLjkxMyw2LjUyNS0yLjcyNgoJCQljMS44MTQtMS44MDcsMi43MjMtMy45OTgsMi43MjUtNi41NzRDNjM0Ljc0NiwyMTIuMzU1LDYzMy44MzcsMjEwLjE4LDYzMi4wMjUsMjA4LjM3NXogTTU2NC42NzUsMjMzLjg3NWgwLjAyNQoJCQljMS42MjktMS41ODcsMy41NDYtMi4zNzgsNS43NS0yLjM3NWMyLjI1Ni0wLjAwMyw0LjE4MSwwLjc4OCw1Ljc3NCwyLjM3NWMxLjU4NywxLjU5NCwyLjM3OSwzLjUxOSwyLjM3NSw1Ljc3NQoJCQljMC4wMDQsMi4yNTYtMC43ODgsNC4xODEtMi4zNzUsNS43NzRjLTEuNTk0LDEuNTg3LTMuNTE5LDIuMzc4LTUuNzc0LDIuMzc1Yy0yLjIwNCwwLjAwMy00LjEyMS0wLjc4OC01Ljc1LTIuMzc1aC0wLjAyNQoJCQljLTEuNTg3LTEuNTk0LTIuMzc4LTMuNTE5LTIuMzc1LTUuNzc0QzU2Mi4yOTcsMjM3LjM5NCw1NjMuMDg4LDIzNS40NjksNTY0LjY3NSwyMzMuODc1eiBNNTcwLjQ1LDIzNS41CgkJCWMtMS4xMywwLjAwMy0yLjExMywwLjQxMS0yLjk1LDEuMjI1aDAuMDI1Yy0wLjgxMywwLjgwNy0xLjIyMywxLjc4MS0xLjIyNiwyLjkyNmMwLjAwMywxLjE0NCwwLjQxMiwyLjExOCwxLjIyNiwyLjkyNUg1NjcuNQoJCQljMC44MzcsMC44MTMsMS44MiwxLjIyMiwyLjk1LDEuMjI1YzEuMTQ0LTAuMDAzLDIuMTE4LTAuNDExLDIuOTI1LTEuMjI1YzAuODEzLTAuODA3LDEuMjIyLTEuNzgxLDEuMjI1LTIuOTI1CgkJCWMtMC4wMDMtMS4xNDUtMC40MTEtMi4xMTktMS4yMjUtMi45MjZDNTcyLjU2OCwyMzUuOTEyLDU3MS41OTQsMjM1LjUwMyw1NzAuNDUsMjM1LjV6IE01ODUuNCwxODYuMQoJCQljMC41NTYtMC4wMDMsMS4wMywwLjE4OCwxLjQyNSwwLjU3NWMwLjM4NywwLjM5NSwwLjU3OCwwLjg2OSwwLjU3NSwxLjQyNXY2LjgwMWg2LjhjMC41NTYtMC4wMDQsMS4wMywwLjE4OCwxLjQyNSwwLjU3NAoJCQljMC4zODcsMC4zOTUsMC41NzgsMC44NjksMC41NzUsMS40MjZjMC4wMDMsMC41NTYtMC4xODgsMS4wMy0wLjU3NSwxLjQyNWMtMC4zOTUsMC4zODctMC44NjksMC41NzgtMS40MjUsMC41NzVoLTYuOHY2LjgKCQkJYzAuMDAzLDAuNTU2LTAuMTg4LDEuMDMtMC41NzUsMS40MjVjLTAuMzk1LDAuMzg3LTAuODY5LDAuNTc4LTEuNDI1LDAuNTc1Yy0wLjU1NywwLjAwMy0xLjAzMS0wLjE4OC0xLjQyNi0wLjU3NQoJCQljLTAuMzg3LTAuMzk1LTAuNTc4LTAuODY5LTAuNTc0LTEuNDI1di02LjhINTc2LjZjLTAuNTU2LDAuMDAzLTEuMDMtMC4xODgtMS40MjUtMC41NzVjLTAuMzg3LTAuMzk1LTAuNTc4LTAuODY5LTAuNTc1LTEuNDI1CgkJCWMtMC4wMDMtMC41NTcsMC4xODgtMS4wMzEsMC41NzUtMS40MjZjMC4zOTUtMC4zODcsMC44NjktMC41NzgsMS40MjUtMC41NzRoNi44MDFWMTg4LjFjLTAuMDA0LTAuNTU2LDAuMTg4LTEuMDMsMC41NzQtMS40MjUKCQkJQzU4NC4zNjksMTg2LjI4OCw1ODQuODQ0LDE4Ni4wOTcsNTg1LjQsMTg2LjF6IE01NzQuOSwxMzQuM2MwLjIwNi0wLjc5OCwwLjY2NC0xLjQwNiwxLjM3NS0xLjgyNQoJCQljMC43MTctMC40MjMsMS40NzUtMC41MzEsMi4yNzQtMC4zMjRjMC43OTgsMC4yMDUsMS40MDYsMC42NjQsMS44MjUsMS4zNzVjMC40MjMsMC43MTcsMC41MzEsMS40NzYsMC4zMjUsMi4yNzRsLTEuMyw0Ljk1CgkJCWMtMC4yMDcsMC43OTktMC42NjUsMS40MDYtMS4zNzUsMS44MjVjLTAuNzE3LDAuNDIzLTEuNDc2LDAuNTMxLTIuMjc1LDAuMzI1Yy0wLjc5Ny0wLjIwNi0xLjQwNi0wLjY2NC0xLjgyNS0xLjM3NQoJCQljLTAuNDIzLTAuNzE4LTAuNTMtMS40NzctMC4zMjUtMi4yNzVMNTc0LjksMTM0LjN6IE01ODMuODUsMTAwLjg3NWMwLjIxNi0wLjc5NywwLjY4My0xLjQwNSwxLjQtMS44MjUKCQkJYzAuNzE5LTAuNDE1LDEuNDc3LTAuNTE1LDIuMjc1LTAuM3MxLjQwNiwwLjY4MiwxLjgyNCwxLjRjMC40MTYsMC43MTcsMC41MTYsMS40NzUsMC4zMDEsMi4yNzRsLTYsMjIuNAoJCQljLTAuMjE2LDAuNzk3LTAuNjgzLDEuNDA1LTEuNCwxLjgyNWMtMC43MTksMC40MTUtMS40NzcsMC41MTUtMi4yNzUsMC4zcy0xLjQwNi0wLjY4Mi0xLjgyNC0xLjQKCQkJYy0wLjQxNi0wLjcxNy0wLjUxNi0xLjQ3NS0wLjMwMS0yLjI3NEw1ODMuODUsMTAwLjg3NXogTTU1Ni41LDc1Ljg1Yy0wLjY4OC0wLjQ1Ny0xLjExMi0xLjA5MS0xLjI3NS0xLjg5OQoJCQljLTAuMTctMC44MDgtMC4wMjgtMS41NTgsMC40MjYtMi4yNWMwLjQ1OC0wLjY5NSwxLjA5MS0xLjEyOSwxLjg5OS0xLjNMNTc4LjMsNjYuMWMwLjgwOS0wLjE2MSwxLjU1OS0wLjAxMiwyLjI1LDAuNDUKCQkJYzAuNjg4LDAuNDU4LDEuMTEyLDEuMDkxLDEuMjc1LDEuOWMwLjE3MSwwLjgwOCwwLjAyOCwxLjU1OC0wLjQyNSwyLjI1Yy0wLjQ1OSwwLjY5NS0xLjA5MiwxLjEyOS0xLjksMS4zbC0yMC43NSw0LjMKCQkJQzU1Ny45NDEsNzYuNDYyLDU1Ny4xOTEsNzYuMzEyLDU1Ni41LDc1Ljg1eiBNNTUxLjE3NSw2My4xNzVjLTAuNDIzLTAuNzE3LTAuNTMxLTEuNDc1LTAuMzI1LTIuMjc0CgkJCWMwLjIwOS0wLjc5OCwwLjY2Ny0xLjQwNiwxLjM3NS0xLjgyNWwyNC4zMDEtMTQuMzUxYzAuNzE5LTAuNDIzLDEuNDc4LTAuNTMxLDIuMjc0LTAuMzI0YzAuNzk4LDAuMjA1LDEuNDA2LDAuNjYzLDEuODI1LDEuMzc1CgkJCWMwLjQyNCwwLjcxNywwLjUzMSwxLjQ3NSwwLjMyNSwyLjI3NGMtMC4yMDgsMC43OTgtMC42NjcsMS40MDYtMS4zNzUsMS44MjVsLTI0LjMsMTQuMzVjLTAuNzIsMC40MjQtMS40NzksMC41MzItMi4yNzUsMC4zMjUKCQkJQzU1Mi4yMDMsNjQuMzQ1LDU1MS41OTQsNjMuODg2LDU1MS4xNzUsNjMuMTc1eiBNNTU2Ljg1LDMzLjg1YzAuNjg0LDAuNDc0LDEuMTAxLDEuMTE1LDEuMjUsMS45MjYKCQkJYzAuMTUxLDAuODE0LTAuMDA3LDEuNTY0LTAuNDc1LDIuMjVsLTExLjIsMTYuMTQ5Yy0wLjQ4MiwwLjY3NS0xLjEzMiwxLjA4My0xLjk1LDEuMjI2Yy0wLjgwNywwLjE0NC0xLjU0OS0wLjAyMy0yLjIyNS0wLjUKCQkJYy0wLjY4NC0wLjQ3My0xLjEwMS0xLjExNS0xLjI1LTEuOTI2Yy0wLjE1LTAuODE0LDAuMDA4LTEuNTY0LDAuNDc1LTIuMjVsMTEuMi0xNi4xNDljMC40ODItMC42NzUsMS4xMzMtMS4wODMsMS45NS0xLjIyNgoJCQlDNTU1LjQzMywzMy4yMDYsNTU2LjE3NCwzMy4zNzMsNTU2Ljg1LDMzLjg1eiIgZmlsbD0iIzlCQThENSIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8bGluZWFyR3JhZGllbnQgeTI9IjQyLjc1MDUiIHgyPSI0MjQuMjUwNSIgeTE9IjMxNy40MDA0IiB4MT0iNDI0LjI1MDUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBpZD0iU1ZHSURfMV8iPgoJCQkJPHN0b3Agc3R5bGU9InN0b3AtY29sb3I6IzQ3OENDQiIgb2Zmc2V0PSIwIj48L3N0b3A+CgkJCQk8c3RvcCBzdHlsZT0ic3RvcC1jb2xvcjojNkFBQkRFIiBvZmZzZXQ9IjEiPjwvc3RvcD4KCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJPHBhdGggZD0iTTQ5Ny45NzUsNTIuNDI1YzMuODAxLDMuODA4LDYuNDkyLDguMDgzLDguMDc1LDEyLjgyNQoJCQkJaDYuMTAxYzkuMDk1LTAuMDAyLDE2Ljg3LDMuMjIzLDIzLjMyNCw5LjY3NWM2LjQ1Myw2LjQ1NSw5LjY3OCwxNC4yMjksOS42NzYsMjMuMzI1VjI4NC40YzAuMDAyLDkuMDk1LTMuMjIzLDE2Ljg3LTkuNjc2LDIzLjMyNAoJCQkJYy02LjQ1NCw2LjQ1My0xNC4yMjksOS42NzgtMjMuMzI0LDkuNjc2SDM3My44NWMtOS4wOTUsMC4wMDItMTYuODctMy4yMjMtMjMuMzI0LTkuNjc2Yy0zLjgxMS0zLjgwNy02LjQ5NC04LjA4Mi04LjA1MS0xMi44MjQKCQkJCWgtNi4xMjVjLTkuMDk1LDAuMDAyLTE2Ljg3LTMuMjIzLTIzLjMyNC05LjY3NmMtNi40NTMtNi40NTQtOS42NzgtMTQuMjI5LTkuNjc2LTIzLjMyNFY3NS43NQoJCQkJYy0wLjAwMi05LjA5NiwzLjIyMy0xNi44Nyw5LjY3Ni0yMy4zMjVjNi40NTQtNi40NTIsMTQuMjI5LTkuNjc3LDIzLjMyNC05LjY3NUg0NzQuNjUKCQkJCUM0ODMuNzQ1LDQyLjc0OCw0OTEuNTIxLDQ1Ljk3Myw0OTcuOTc1LDUyLjQyNXogTTQ5OS42MjUsNjUuMjVjLTEuMzM0LTMuMTI0LTMuMzAxLTUuOTgyLTUuOS04LjU3NQoJCQkJYy01LjI3OC01LjI4MS0xMS42MzctNy45MjMtMTkuMDc0LTcuOTI1SDMzNi4zNWMtNy40MzgsMC4wMDItMTMuNzk2LDIuNjQ0LTE5LjA3NCw3LjkyNWMtNS4yODEsNS4yNzgtNy45MjMsMTEuNjM3LTcuOTI2LDE5LjA3NQoJCQkJVjI2MS45YzAuMDAzLDcuNDM4LDIuNjQ1LDEzLjc5Niw3LjkyNiwxOS4wNzRjNS4yNzgsNS4yODEsMTEuNjM3LDcuOTIzLDE5LjA3NCw3LjkyNmg0LjgwMWMtMC4xOTctMS40NTktMC4yOTgtMi45NTktMC4zMDEtNC41CgkJCQlWOTguMjVjLTAuMDAyLTkuMDk2LDMuMjIzLTE2Ljg3LDkuNjc2LTIzLjMyNWM2LjQ1NC02LjQ1MiwxNC4yMjktOS42NzcsMjMuMzI0LTkuNjc1SDQ5OS42MjV6IE01MzkuMTUsOTguMjUKCQkJCWMtMC4wMDMtNy40MzgtMi42NDUtMTMuNzk3LTcuOTI2LTE5LjA3NWMtNS4yNzgtNS4yODEtMTEuNjM3LTcuOTIzLTE5LjA3NC03LjkyNUgzNzMuODVjLTcuNDM4LDAuMDAyLTEzLjc5NiwyLjY0NC0xOS4wNzQsNy45MjUKCQkJCWMtNS4yODEsNS4yNzgtNy45MjMsMTEuNjM3LTcuOTI2LDE5LjA3NVYyODQuNGMtMC4wMDUsMi4yMywwLjIyOSw0LjM1NSwwLjcsNi4zNzVjMC4wNDksMC4xMjksMC4wOTEsMC4yNjIsMC4xMjUsMC4zOTkKCQkJCWMxLjE0NCw0LjYwNiwzLjUxMSw4LjcwNiw3LjEwMSwxMi4zYzUuMjc4LDUuMjgxLDExLjYzNyw3LjkyMywxOS4wNzQsNy45MjZINTEyLjE1YzcuNDM4LTAuMDAzLDEzLjc5Ni0yLjY0NSwxOS4wNzQtNy45MjYKCQkJCWM1LjI4MS01LjI3OCw3LjkyMy0xMS42MzcsNy45MjYtMTkuMDc0Vjk4LjI1eiIgZmlsbD0idXJsKCNTVkdJRF8xXykiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+CgkJCTxsaW5lYXJHcmFkaWVudCB5Mj0iNDIuNzc1NiIgeDI9IjQ0MyIgeTE9IjMxNy40MjQ4IiB4MT0iNDQzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgaWQ9IlNWR0lEXzJfIj4KCQkJCTxzdG9wIHN0eWxlPSJzdG9wLWNvbG9yOiM0NzhDQ0I7c3RvcC1vcGFjaXR5OjAuNzAyIiBvZmZzZXQ9IjAiPjwvc3RvcD4KCQkJCTxzdG9wIHN0eWxlPSJzdG9wLWNvbG9yOiM2QUFCREU7c3RvcC1vcGFjaXR5OjAuNzAyIiBvZmZzZXQ9IjEiPjwvc3RvcD4KCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJPHBhdGggZD0iTTQ4OS45NSwxMzUuODVoLTkuOVYxOTEuN2g5LjlWMTM1Ljg1eiBNNDkyLjk1LDEyOS44NQoJCQkJYzAuODI5LTAuMDAxLDEuNTM4LDAuMjkxLDIuMTI1LDAuODc1YzAuNTg0LDAuNTg4LDAuODc2LDEuMjk2LDAuODc1LDIuMTI1VjE5MS43aDEyLjg5OWMwLjgzLTAuMDAxLDEuNTM4LDAuMjksMi4xMjUsMC44NzUKCQkJCWMwLjU4NSwwLjU4NywwLjg3NywxLjI5NSwwLjg3NSwyLjEyNWMwLjAwMiwwLjgyOS0wLjI5LDEuNTM4LTAuODc1LDIuMTI1Yy0wLjU4NywwLjU4NC0xLjI5NSwwLjg3Ni0yLjEyNSwwLjg3NUgzNzcuMTUKCQkJCWMtMC44MywwLjAwMS0xLjUzOC0wLjI5MS0yLjEyNS0wLjg3NWMtMC41ODUtMC41ODctMC44NzctMS4yOTYtMC44NzUtMi4xMjVjLTAuMDAyLTAuODMsMC4yOS0xLjUzOCwwLjg3NS0yLjEyNQoJCQkJYzAuNTg3LTAuNTg1LDEuMjk1LTAuODc2LDIuMTI1LTAuODc1aDEyLjg5OVYxMjUuODVjLTAuMDAxLTAuODI5LDAuMjkxLTEuNTM3LDAuODc1LTIuMTI1YzAuNTg3LTAuNTg0LDEuMjk2LTAuODc2LDIuMTI1LTAuODc1CgkJCQloMTUuOWMwLjgyOS0wLjAwMSwxLjUzOCwwLjI5MSwyLjEyNSwwLjg3NWMwLjU4NCwwLjU4OCwwLjg3NiwxLjI5NiwwLjg3NSwyLjEyNVYxOTEuN2gyMC4xVjExMS44NQoJCQkJYy0wLjAwMS0wLjgyOSwwLjI5MS0xLjUzNywwLjg3NS0yLjEyNWMwLjU4Ny0wLjU4NCwxLjI5Ni0wLjg3NiwyLjEyNS0wLjg3NWgxNS45YzAuODI5LTAuMDAxLDEuNTM4LDAuMjkxLDIuMTI1LDAuODc1CgkJCQljMC41ODQsMC41ODgsMC44NzYsMS4yOTYsMC44NzUsMi4xMjVWMTkxLjdoMjAuMVYxMzIuODVjLTAuMDAxLTAuODI5LDAuMjkxLTEuNTM3LDAuODc1LTIuMTI1CgkJCQljMC41ODctMC41ODQsMS4yOTYtMC44NzYsMi4xMjUtMC44NzVINDkyLjk1eiBNNTExLjg1LDI1MGMwLjAwMiwwLjgzLTAuMjksMS41MzgtMC44NzUsMi4xMjUKCQkJCWMtMC41ODcsMC41ODQtMS4yOTUsMC44NzYtMi4xMjUsMC44NzVIMzc3LjE1Yy0wLjgzLDAuMDAxLTEuNTM4LTAuMjkxLTIuMTI1LTAuODc1Yy0wLjU4NS0wLjU4Ny0wLjg3Ny0xLjI5NS0wLjg3NS0yLjEyNQoJCQkJYy0wLjAwMi0wLjgzLDAuMjktMS41MzgsMC44NzUtMi4xMjVjMC41ODctMC41ODQsMS4yOTUtMC44NzYsMi4xMjUtMC44NzVINTA4Ljg1YzAuODMtMC4wMDEsMS41MzgsMC4yOTEsMi4xMjUsMC44NzUKCQkJCUM1MTEuNTYsMjQ4LjQ2Miw1MTEuODUyLDI0OS4xNyw1MTEuODUsMjUweiBNNTExLjg1LDI3MWMwLjAwMiwwLjgzLTAuMjksMS41MzgtMC44NzUsMi4xMjUKCQkJCWMtMC41ODcsMC41ODQtMS4yOTUsMC44NzYtMi4xMjUsMC44NzVIMzc3LjE1Yy0wLjgzLDAuMDAxLTEuNTM4LTAuMjkxLTIuMTI1LTAuODc1Yy0wLjU4NS0wLjU4Ny0wLjg3Ny0xLjI5NS0wLjg3NS0yLjEyNQoJCQkJYy0wLjAwMi0wLjgzLDAuMjktMS41MzgsMC44NzUtMi4xMjVjMC41ODctMC41ODQsMS4yOTUtMC44NzYsMi4xMjUtMC44NzVINTA4Ljg1YzAuODMtMC4wMDEsMS41MzgsMC4yOTEsMi4xMjUsMC44NzUKCQkJCUM1MTEuNTYsMjY5LjQ2Miw1MTEuODUyLDI3MC4xNyw1MTEuODUsMjcxeiBNNDA1Ljk1LDE5MS43VjEyOC44NWgtOS45VjE5MS43SDQwNS45NXogTTUxMC45NzUsMjMxLjEyNQoJCQkJYy0wLjU4NywwLjU4NC0xLjI5NSwwLjg3Ni0yLjEyNSwwLjg3NUgzNzcuMTVjLTAuODMsMC4wMDEtMS41MzgtMC4yOTEtMi4xMjUtMC44NzVjLTAuNTg1LTAuNTg3LTAuODc3LTEuMjk1LTAuODc1LTIuMTI1CgkJCQljLTAuMDAyLTAuODMsMC4yOS0xLjUzOCwwLjg3NS0yLjEyNWMwLjU4Ny0wLjU4NCwxLjI5NS0wLjg3NiwyLjEyNS0wLjg3NUg1MDguODVjMC44My0wLjAwMSwxLjUzOCwwLjI5MSwyLjEyNSwwLjg3NQoJCQkJYzAuNTg1LDAuNTg3LDAuODc3LDEuMjk1LDAuODc1LDIuMTI1QzUxMS44NTIsMjI5LjgzLDUxMS41NiwyMzAuNTM4LDUxMC45NzUsMjMxLjEyNXogTTQ0Ny45NSwxMTQuODVoLTkuOVYxOTEuN2g5LjlWMTE0Ljg1eiIgZmlsbD0idXJsKCNTVkdJRF8yXykiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=";
;// CONCATENATED MODULE: ./console/dashboard/GraphItem/GraphItem.tsx














function get_padding_style(padding) {
    if (!padding)
        padding = {
            left: 12,
            right: 12,
            top: 12,
            bottom: 12
        };
    return `${padding.top ?? 0}px ${padding.right ?? 0}px ${padding.bottom ?? 0}px ${padding.left ?? 0}px`;
}
function GraphComponent({ widget }) {
    // 普通图表 source_id 内只有一项，只需要取第一项，复合图表才会有多项
    const data_source_node = (0,date_source/* get_data_source */.Qb)(widget.source_id?.[0]);
    const { data = [], cols = [], type_map = {} } = data_source_node.use(['data', 'cols', 'type_map']);
    const Component = (0,external_React_.useMemo)(() => graph_config[widget.type].component, [widget.type]);
    const { variable_cols, with_search_btn, search_btn_label, variable_form_label_col } = widget.config ?? {};
    return (0,jsx_runtime.jsxs)("div", { style: { padding: get_padding_style(widget.config?.padding) }, className: classnames_default()('graph-item-wrapper', {
            'overflow-visible-wrapper': widget.type === dashboard_model/* WidgetChartType */.Rf.EDITOR || widget.type === dashboard_model/* WidgetChartType */.Rf.OHLC
        }), children: [(widget.type !== dashboard_model/* WidgetChartType */.Rf.VARIABLE && widget.config) &&
                (0,jsx_runtime.jsx)(VariableForm, { ids: widget.config.variable_ids, cols: variable_cols, with_search_btn: with_search_btn, search_btn_label: search_btn_label, label_col: variable_form_label_col ? Math.floor(variable_form_label_col * 24 / 100) : 6 }), (0,jsx_runtime.jsx)("div", { className: classnames_default()('graph-component', {
                    'graph-item-wrapper-abandon-scroll': widget.config?.abandon_scroll
                }), children: (0,jsx_runtime.jsx)(Component, { data_source: data, widget: widget, col_names: cols, type_map: type_map }) })] });
}
function GraphItem_GraphItem({ widget }) {
    const { widget: current, editing } = dashboard_model/* dashboard */.ze.use(['widget', 'editing']);
    // 是否为选中状态
    const is_active = (0,external_React_.useMemo)(() => current?.id === widget?.id, [widget, current]);
    const ref = (0,external_React_.useRef)();
    // grid-stack-item-content 类名不能删除，gridstack 库是通过该类名去获取改 DOM 实现拖动
    return (0,jsx_runtime.jsxs)("div", { ref: ref, className: classnames_default()('grid-stack-item-content', {
            'grid-stack-item-active': is_active && editing
        }), children: [editing && (0,jsx_runtime.jsxs)("div", { className: classnames_default()('delete-graph', {
                    'with-edit-btn': is_active
                }), children: [is_active && (0,jsx_runtime.jsx)("div", { className: 'widget-type', children: (0,i18n.t)(dashboard_model/* WidgetType */.xO[widget.type]) }), is_active && !dashboard_model/* WidgetTypeWithoutDatasource */.Gt.includes(widget.type) && widget.source_id &&
                        (0,jsx_runtime.jsx)(DataSourceConfig, { className: 'edit-data-source-btn', type: 'link', widget: current, text: (0,i18n.t)('编辑数据源') }), is_active && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CopyOutlined, {}), className: 'edit-data-source-btn', type: 'link', onClick: () => { (0,utils/* copy_widget */.PB)(widget); }, children: (0,i18n.t)('复制') }), (0,jsx_runtime.jsx)(external_icons_namespaceObject.CloseOutlined, { className: 'delete-graph-icon', onClick: () => { dashboard_model/* dashboard */.ze.delete_widget(widget); } })] }), (widget.config && widget.source_id) || dashboard_model/* WidgetTypeWithoutDatasource */.Gt.includes(widget.type) ?
                (0,jsx_runtime.jsx)(GraphComponent, { widget: widget })
                :
                    (0,jsx_runtime.jsxs)("div", { className: 'graph-content', children: [(0,jsx_runtime.jsx)("div", { className: 'graph-title', children: (0,i18n.t)(dashboard_model/* WidgetType */.xO[widget.type]) }), (0,jsx_runtime.jsx)("img", { src: chart_namespaceObject, className: 'default-img' }), dashboard_model/* dashboard */.ze.editing && (0,jsx_runtime.jsx)(DataSourceConfig, { widget: widget })] }), (0,jsx_runtime.jsx)("div", { className: classnames_default()({ 'drag-icon': editing }) })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/SettingsPanel/index.scss
var SettingsPanel = __webpack_require__(2498);
;// CONCATENATED MODULE: ./console/dashboard/SettingsPanel/index.scss

      
      
      
      
      
      
      
      
      

var SettingsPanel_options = {};

SettingsPanel_options.styleTagTransform = (styleTagTransform_default());
SettingsPanel_options.setAttributes = (setAttributesWithoutAttributes_default());
SettingsPanel_options.insert = insertBySelector_default().bind(null, "head");
SettingsPanel_options.domAPI = (styleDomAPI_default());
SettingsPanel_options.insertStyleElement = (insertStyleElement_default());

var SettingsPanel_update = injectStylesIntoStyleTag_default()(SettingsPanel/* default */.A, SettingsPanel_options);




       /* harmony default export */ const dashboard_SettingsPanel = (SettingsPanel/* default */.A && SettingsPanel/* default */.A.locals ? SettingsPanel/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/SettingsPanel/GraphSetting.tsx








function GraphSetting() {
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    const data_source_node = (0,date_source/* get_data_source */.Qb)(widget.source_id?.[0]);
    const { cols = [], data: data_source = [], type_map } = data_source_node?.use(['cols', 'data', 'type_map']);
    const [form] = external_antd_namespaceObject.Form.useForm();
    const on_reset_config = (0,external_React_.useCallback)(() => {
        form.resetFields();
        dashboard_model/* dashboard */.ze.update_widget({ ...widget, config: form.getFieldsValue() });
    }, [widget.id]);
    (0,external_React_.useEffect)(() => {
        if (!widget.id)
            return;
        // 已设置config，回显表单
        else if (widget.config) {
            form.resetFields();
            form.setFieldsValue(widget.config);
        }
        // 未设置config的时候需要重置表单，将表单的初始值作为图的config
        else
            on_reset_config();
    }, [widget.id, on_reset_config]);
    const on_form_change = (0,external_React_.useCallback)((_, values) => {
        if (widget)
            dashboard_model/* dashboard */.ze.update_widget({ ...widget, config: values });
    }, [widget]);
    const ConfigFormFields = (0,external_React_.useMemo)(() => graph_config[widget.type]?.config, [widget.type]);
    return ConfigFormFields && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form, { onValuesChange: on_form_change, form: form, labelCol: { span: 10 }, labelAlign: 'left', colon: false, className: 'graph-setting-form', children: (0,jsx_runtime.jsx)(ConfigFormFields, { col_names: cols, data_source: data_source, type_map: type_map }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('确定要重置配置吗？'), onConfirm: on_reset_config, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.UndoOutlined, {}), className: 'reset-config-btn', children: (0,i18n.t)('重置配置') }) }), (0,jsx_runtime.jsx)("div", { className: 'reset-tip', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Text, { type: 'secondary', children: (0,i18n.t)('配置表单与数据源结构相关，如修改数据源结构，建议重置表单以适应最新结构') }) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/SettingsPanel/SettingsPanel.tsx








function SettingsPanel_SettingsPanel(props) {
    const { hidden } = props;
    const { widget } = dashboard_model/* dashboard */.ze.use(['widget']);
    const setting = (0,external_React_.useMemo)(() => {
        if (!widget)
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Alert, { showIcon: true, message: (0,i18n.t)('请先选中您需要更改配置的图表'), type: 'warning' });
        else if (!widget.source_id && !dashboard_model/* WidgetTypeWithoutDatasource */.Gt.includes(widget.type))
            return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Alert, { showIcon: true, message: (0,i18n.t)('请为您的图表配置数据源'), type: 'warning' });
        else
            return (0,jsx_runtime.jsx)(GraphSetting, {});
    }, [widget]);
    return (0,jsx_runtime.jsx)("div", { className: classnames_default()('dashboard-settings-panel', { hidden }), children: setting });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Header.sass
var dashboard_Header = __webpack_require__(7051);
;// CONCATENATED MODULE: ./console/dashboard/Header.sass

      
      
      
      
      
      
      
      
      

var Header_options = {};

Header_options.styleTagTransform = (styleTagTransform_default());
Header_options.setAttributes = (setAttributesWithoutAttributes_default());
Header_options.insert = insertBySelector_default().bind(null, "head");
Header_options.domAPI = (styleDomAPI_default());
Header_options.insertStyleElement = (insertStyleElement_default());

var Header_update = injectStylesIntoStyleTag_default()(dashboard_Header/* default */.A, Header_options);




       /* harmony default export */ const console_dashboard_Header = (dashboard_Header/* default */.A && dashboard_Header/* default */.A.locals ? dashboard_Header/* default */.A.locals : undefined);

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Variable/index.sass
var Variable = __webpack_require__(4761);
;// CONCATENATED MODULE: ./console/dashboard/Variable/index.sass

      
      
      
      
      
      
      
      
      

var Variable_options = {};

Variable_options.styleTagTransform = (styleTagTransform_default());
Variable_options.setAttributes = (setAttributesWithoutAttributes_default());
Variable_options.insert = insertBySelector_default().bind(null, "head");
Variable_options.domAPI = (styleDomAPI_default());
Variable_options.insertStyleElement = (insertStyleElement_default());

var Variable_update = injectStylesIntoStyleTag_default()(Variable/* default */.A, Variable_options);




       /* harmony default export */ const dashboard_Variable = (Variable/* default */.A && Variable/* default */.A.locals ? Variable/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/dashboard/Variable/VariableList.tsx








function VariableList({ current_variable, no_save_flag, save_confirm, handle_save, change_current_variable, change_current_variable_property }) {
    const { variable_infos } = Variable_variable/* variables */.Ee;
    const [current_select, set_current_select] = (0,external_React_.useState)(current_variable?.id || '');
    const [new_name, set_new_name] = (0,external_React_.useState)('');
    const [menu_items, set_menu_items] = (0,external_React_.useState)(variable_infos.map((variable_info) => ({
        key: variable_info.id,
        icon: (0,external_React_.createElement)(external_icons_namespaceObject.ToolOutlined),
        title: variable_info.name
    })));
    const { visible: add_visible, open: add_open, close: add_close } = use_modal();
    const tree_ref = (0,external_React_.useRef)(null);
    // 监听 ctrl v事件，复制组件
    (0,external_React_.useEffect)(() => {
        async function paste_handler(event) {
            try {
                if (await (0,Variable_variable/* paste_variables */.Mq)(event)) {
                    set_menu_items(Variable_variable/* variables */.Ee.variable_infos.map((variable_info) => ({
                        key: variable_info.id,
                        icon: (0,external_React_.createElement)(external_icons_namespaceObject.ToolOutlined),
                        title: variable_info.name
                    })));
                    const id = Variable_variable/* variables */.Ee.variable_infos[0]?.id;
                    if (id) {
                        change_current_variable(id);
                        set_current_select(id);
                    }
                }
            }
            catch (error) {
                dashboard_model/* dashboard */.ze.message.error(error.message);
            }
        }
        window.addEventListener('paste', paste_handler);
        return () => { window.removeEventListener('paste', paste_handler); };
    }, []);
    (0,external_React_.useEffect)(() => {
        set_current_select(current_variable?.id);
        tree_ref.current?.scrollTo({ key: current_variable.id });
    }, [current_variable]);
    function rename_variable_handler(menu_items, select_key, old_name) {
        if (!menu_items.length)
            return;
        const tmp_menu_item = menu_items.find(menu_item => menu_item.key === select_key);
        function handler(event) {
            let new_name = event.target.value;
            try {
                (0,Variable_variable/* rename_variable */._i)(select_key, new_name);
                change_current_variable_property('name', new_name, old_name !== new_name);
            }
            catch (error) {
                dashboard_model/* dashboard */.ze.message.error(error.message);
                new_name = old_name;
            }
            finally {
                tmp_menu_item.title = new_name;
                set_menu_items([...menu_items]);
            }
        }
        tmp_menu_item.title = ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { size: 'small', autoFocus: true, className: 'bottom-menu-rename-input', defaultValue: old_name, onBlur: handler, onPressEnter: handler }));
        set_menu_items([...menu_items]);
    }
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { style: { top: '200px' }, open: add_visible, maskClosable: false, onCancel: () => {
                    add_close();
                    set_new_name('');
                }, onOk: () => {
                    try {
                        const id = (0,Variable_variable/* create_variable */.az)(new_name);
                        const new_menu_items = [
                            {
                                key: id,
                                icon: (0,external_React_.createElement)(external_icons_namespaceObject.ToolOutlined),
                                title: new_name
                            },
                            ...menu_items
                        ];
                        set_menu_items(new_menu_items);
                        set_current_select(id);
                        set_new_name('');
                        change_current_variable(id);
                        add_close();
                    }
                    catch (error) {
                        dashboard_model/* dashboard */.ze.message.error(error.message);
                    }
                }, closeIcon: false, title: (0,i18n.t)('新变量'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: new_name, placeholder: (0,i18n.t)('请输入新变量的名称'), onChange: event => { set_new_name(event.target.value); } }) }), (0,jsx_runtime.jsxs)("div", { className: 'config-variable-list', children: [(0,jsx_runtime.jsxs)("div", { className: 'variable-list-top', children: [(0,jsx_runtime.jsxs)("div", { className: 'variable-list-top-item', onClick: async () => {
                                    if (no_save_flag.current && (await save_confirm()))
                                        await handle_save();
                                    no_save_flag.current = false;
                                    add_open();
                                }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.FileOutlined, { className: 'variable-list-top-item-icon' }), (0,i18n.t)('新建')] }), (0,jsx_runtime.jsxs)("div", { className: 'variable-list-top-item', onClick: () => {
                                    if (current_variable)
                                        rename_variable_handler(menu_items, current_select, current_variable.name);
                                }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.EditOutlined, { className: 'variable-list-top-item-icon' }), (0,i18n.t)('重命名')] }), (0,jsx_runtime.jsxs)("div", { className: 'variable-list-top-item', onClick: () => {
                                    const delete_index = (0,Variable_variable/* delete_variable */.zi)(current_variable.id);
                                    if (delete_index >= 0) {
                                        menu_items.splice(delete_index, 1);
                                        set_menu_items([...menu_items]);
                                        if (!variable_infos.length)
                                            change_current_variable('');
                                        else {
                                            const index = delete_index === 0 ? 0 : delete_index - 1;
                                            change_current_variable(variable_infos[index].id);
                                            set_current_select(variable_infos[index].id);
                                        }
                                    }
                                }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, { className: 'variable-list-top-item-icon' }), (0,i18n.t)('删除')] }), (0,jsx_runtime.jsxs)("div", { className: 'variable-list-top-item', onClick: async () => {
                                    if (!current_variable)
                                        return;
                                    if (no_save_flag.current && (await save_confirm()))
                                        await handle_save();
                                    no_save_flag.current = false;
                                    (0,Variable_variable/* copy_variables */.G3)([current_variable.id]);
                                }, children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.CopyOutlined, { className: 'variable-list-top-item-icon' }), (0,i18n.t)('复制')] })] }), current_variable && (0,jsx_runtime.jsx)("div", { className: 'variable-list-bottom', children: variable_infos.length &&
                            (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tree, { ref: tree_ref, showIcon: true, height: 450, blockNode: true, selectedKeys: [current_select], className: 'variable-list-bottom-menu', onSelect: async (key) => {
                                    if (key.length) {
                                        if (no_save_flag.current && (await save_confirm()))
                                            await handle_save();
                                        no_save_flag.current = false;
                                        change_current_variable(String(key[0]));
                                        set_current_select(String(key[0]));
                                    }
                                }, treeData: menu_items }) })] })] });
}

;// CONCATENATED MODULE: ./console/dashboard/Variable/OptionList.tsx







const EditableContext = external_React_default().createContext(null);
function OptionList({ current_variable, change_current_variable_property, change_no_save_flag }) {
    let first = (0,external_React_.useRef)(true);
    function EditableRow({ index, ...props }) {
        const [form] = external_antd_namespaceObject.Form.useForm();
        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form, { form: form, component: false, children: (0,jsx_runtime.jsx)(EditableContext.Provider, { value: form, children: (0,jsx_runtime.jsx)("tr", { ...props }) }) });
    }
    function EditableCell({ title, editable, children, dataIndex, record, handleSave, ...restProps }) {
        const [editing, setEditing] = (0,external_React_.useState)(false);
        const inputRef = (0,external_React_.useRef)(null);
        const form = (0,external_React_.useContext)(EditableContext);
        (0,external_React_.useEffect)(() => {
            if (editing)
                inputRef.current.focus();
        }, [editing]);
        function toggleEdit() {
            setEditing(!editing);
            form.setFieldsValue({ [dataIndex]: record[dataIndex] });
        }
        async function save() {
            try {
                const values = await form.validateFields();
                toggleEdit();
                handleSave({ ...record, ...values });
            }
            catch (errInfo) {
                console.log('Save failed:', errInfo);
            }
        }
        let childNode = children;
        if (editable)
            childNode = editing ? ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { style: { margin: 0 }, name: dataIndex, rules: [
                    {
                        required: true,
                        message: `${title} is required.`,
                    },
                ], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { ref: inputRef, onPressEnter: save, onBlur: save, size: 'small' }) })) : ((0,jsx_runtime.jsx)("div", { className: 'editable-cell-value-wrap', style: { paddingRight: 24 }, onClick: toggleEdit, children: children }));
        return (0,jsx_runtime.jsx)("td", { ...restProps, children: childNode });
    }
    const [current_options, set_current_options] = (0,external_React_.useState)(current_variable.options);
    const [count, setCount] = (0,external_React_.useState)(current_variable.options.length);
    (0,external_React_.useEffect)(() => {
        first.current = true;
        set_current_options(current_variable.options);
    }, [current_variable.id]);
    (0,external_React_.useEffect)(() => {
        change_current_variable_property('options', current_options);
        if (first.current) {
            change_no_save_flag(false);
            first.current = false;
        }
    }, [current_options]);
    function handleDelete(key) {
        const newData = current_options.filter(item => item.key !== key);
        set_current_options(newData);
    }
    const defaultColumns = [
        {
            title: (0,i18n.t)('标签'),
            dataIndex: 'label',
            editable: true,
            width: 300,
        },
        {
            title: (0,i18n.t)('值'),
            dataIndex: 'value',
            editable: true,
            width: 300
        },
        {
            title: (0,i18n.t)('操作'),
            dataIndex: 'operation',
            render: (_, record) => {
                let disabled = false;
                if (current_variable.mode === type/* VariableMode */.s.SELECT && current_variable.value === record.value)
                    disabled = true;
                else if (current_variable.mode === type/* VariableMode */.s.MULTI_SELECT && JSON.parse(current_variable.value)?.includes?.(record.value))
                    disabled = true;
                return current_options.length >= 1 ? ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('确定要删除该选项吗？'), onConfirm: () => { handleDelete(record.key); }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Typography.Link, { disabled: disabled, type: 'danger', children: (0,i18n.t)('删除') }) })) : null;
            }
        },
    ];
    function handleAdd() {
        const id = String((0,utils_browser/* genid */.GW)());
        const newData = {
            label: `label ${id.slice(0, 4)}`,
            value: `value ${id.slice(0, 4)}`,
            key: id
        };
        set_current_options([...current_options, newData]);
        setCount(count + 1);
    }
    function handleSave(row) {
        const newData = [...current_options];
        const index = newData.findIndex(item => row.key === item.key);
        const item = newData[index];
        newData.splice(index, 1, {
            ...item,
            ...row,
        });
        set_current_options(newData);
    }
    const components = {
        body: {
            row: EditableRow,
            cell: EditableCell,
        },
    };
    const columns = defaultColumns.map(col => {
        if (!col.editable)
            return col;
        return {
            ...col,
            onCell: (record) => {
                // 当前选中变量值无法编辑
                let disable_editable = false;
                if (current_variable.mode === type/* VariableMode */.s.SELECT && current_variable.value === record.value)
                    disable_editable = true;
                else if (current_variable.mode === type/* VariableMode */.s.MULTI_SELECT && JSON.parse(current_variable.value)?.includes?.(record.value))
                    disable_editable = true;
                return {
                    record,
                    editable: col.editable && !disable_editable,
                    dataIndex: col.dataIndex,
                    title: col.title,
                    handleSave,
                };
            },
        };
    });
    return (0,jsx_runtime.jsxs)("div", { className: 'variable-editor-main-options', children: [(0,jsx_runtime.jsxs)("div", { className: 'variable-editor-main-options-top', children: [(0,jsx_runtime.jsx)("div", { className: 'variable-editor-main-options-top-lable', children: (0,i18n.t)('可选项：') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: handleAdd, size: 'small', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusOutlined, {}), children: (0,i18n.t)('新增') })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { components: components, rowClassName: () => 'editable-row', bordered: true, size: 'small', dataSource: current_options, pagination: { pageSize: 6, position: ['bottomCenter'] }, columns: columns })] });
}

;// CONCATENATED MODULE: ./console/dashboard/Variable/VariableEditor.tsx







const { TextArea } = external_antd_namespaceObject.Input;
function VariableEditor({ current_variable, change_current_variable_property, change_no_save_flag }) {
    const value_editor = {
        [type/* VariableMode */.s.SELECT]: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { allowClear: true, size: 'small', className: 'variable-editor-main-value-control', value: current_variable.value, onChange: value => { change_current_variable_property('value', value); }, options: current_variable.options }),
        [type/* VariableMode */.s.MULTI_SELECT]: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { allowClear: true, size: 'small', mode: 'multiple', className: 'variable-editor-main-value-control', value: (0,utils/* safe_json_parse */.bu)(current_variable.value), onChange: value => { change_current_variable_property('value', JSON.stringify(value)); }, options: current_variable.options }),
        [type/* VariableMode */.s.TEXT]: (0,jsx_runtime.jsx)(TextArea, { size: 'small', rows: 18, className: 'variable-editor-main-value-control', value: current_variable.value, onChange: event => {
                change_current_variable_property('value', event.target.value);
            } }),
        [type/* VariableMode */.s.DATE]: (0,jsx_runtime.jsx)(external_antd_namespaceObject.DatePicker, { allowClear: true, size: 'small', className: 'variable-editor-main-value-control', value: current_variable.value ? external_dayjs_default()(current_variable.value) : null, onChange: date => {
                change_current_variable_property('value', date ? date.format('YYYY.MM.DD') : '');
            } })
    };
    return (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)("div", { className: 'variable-editor', children: (0,jsx_runtime.jsxs)("div", { className: 'variable-editor-main', children: [(0,jsx_runtime.jsxs)("div", { className: 'variable-editor-main-display-name', children: [(0,i18n.t)('显示名称：'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { size: 'small', className: 'variable-editor-main-display-name-input', value: current_variable.display_name, onChange: event => {
                                    if (event !== null)
                                        change_current_variable_property('display_name', event.target.value.trim());
                                } })] }), (0,jsx_runtime.jsxs)("div", { className: 'variable-editor-main-mode', children: [(0,i18n.t)('变量类型：'), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { value: current_variable.mode, className: 'variable-editor-main-mode-select', size: 'small', onChange: (value) => {
                                    change_current_variable_property('mode', value);
                                    change_current_variable_property('value', value === 'multi_select' ? '[]' : '');
                                }, options: [
                                    {
                                        label: (0,i18n.t)('单选'),
                                        value: 'select',
                                    },
                                    {
                                        label: (0,i18n.t)('多选'),
                                        value: 'multi_select',
                                    },
                                    {
                                        label: (0,i18n.t)('自由文本'),
                                        value: 'text'
                                    },
                                    {
                                        label: (0,i18n.t)('日期'),
                                        value: 'date'
                                    }
                                ] })] }), (0,jsx_runtime.jsxs)("div", { className: 'variable-editor-main-value', children: [(0,i18n.t)('变量值：'), value_editor[current_variable.mode]] }), [type/* VariableMode */.s.MULTI_SELECT, type/* VariableMode */.s.SELECT].includes(current_variable.mode) &&
                        (0,jsx_runtime.jsx)(OptionList, { current_variable: current_variable, change_current_variable_property: change_current_variable_property, change_no_save_flag: change_no_save_flag })] }) }) });
}

;// CONCATENATED MODULE: ./console/dashboard/Variable/VariableConfig.tsx












const VariableConfig_save_confirm_config = {
    cancelText: (0,i18n.t)('不保存'),
    okText: (0,i18n.t)('保存'),
    style: { top: '250px' },
    maskStyle: { backgroundColor: 'rgba(0,0,0,.2)' },
    title: (0,i18n.t)('此变量存在未保存的更改。你想保存吗？'),
};
function VariableConfig() {
    const { variable_infos } = Variable_variable/* variables */.Ee.use(['variable_infos']);
    const { visible, open, close } = use_modal();
    const [modal, contextHolder] = external_antd_namespaceObject.Modal.useModal();
    const { config } = dashboard_model/* dashboard */.ze.use(['config']);
    const [current_variable, set_current_variable] = (0,external_React_.useState)(null);
    const no_save_flag = (0,external_React_.useRef)(false);
    (0,external_React_.useEffect)(() => {
        change_current_variable('');
    }, [config?.id]);
    const change_current_variable = (0,external_React_.useCallback)((key) => {
        if (key === '') {
            set_current_variable(null);
            return;
        }
        set_current_variable((0,external_.cloneDeep)(Variable_variable/* variables */.Ee[key]));
    }, []);
    const change_current_variable_property = (0,external_React_.useCallback)((key, value, save_confirm = true) => {
        set_current_variable((pre) => {
            pre[key] = value;
            return (0,external_.cloneDeep)(pre);
        });
        if (save_confirm)
            no_save_flag.current = true;
    }, []);
    const handle_save = (0,external_React_.useCallback)(async () => {
        await (0,Variable_variable/* save_variable */.ts)(current_variable);
        no_save_flag.current = false;
    }, [current_variable]);
    const handle_close = (0,external_React_.useCallback)(async () => {
        if (no_save_flag.current && await modal.confirm(VariableConfig_save_confirm_config)) {
            await handle_save();
            no_save_flag.current = false;
        }
        close();
    }, [no_save_flag.current, handle_save]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ToolOutlined, { className: 'variable-config-trigger-navigation-icon' }), onClick: open, children: (0,i18n.t)('变量') }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Modal, { title: (0,i18n.t)('配置变量'), width: '80%', destroyOnClose: true, className: 'variable', open: visible, onCancel: handle_close, maskClosable: false, styles: { mask: { backgroundColor: 'rgba(84,84,84,0.5)' } }, afterOpenChange: () => {
                    set_current_variable((0,external_.cloneDeep)(Variable_variable/* variables */.Ee[variable_infos[0]?.id]));
                }, footer: [
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: async () => {
                            if (current_variable)
                                await handle_save();
                        }, children: (0,i18n.t)('保存') }, 'save'),
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: handle_close, children: (0,i18n.t)('关闭') }, 'close'),
                ], children: [contextHolder, (0,jsx_runtime.jsxs)("div", { className: 'variable-config-main', children: [(0,jsx_runtime.jsx)(VariableList, { current_variable: current_variable, no_save_flag: no_save_flag, save_confirm: () => modal.confirm(VariableConfig_save_confirm_config), handle_save: handle_save, change_current_variable: change_current_variable, change_current_variable_property: change_current_variable_property }), current_variable &&
                                (0,jsx_runtime.jsx)("div", { className: 'config-right', children: (0,jsx_runtime.jsx)(VariableEditor, { current_variable: current_variable, change_no_save_flag: (value) => no_save_flag.current = value, change_current_variable_property: change_current_variable_property }) })] })] })] });
}

;// CONCATENATED MODULE: ./console/dashboard/Import/Import.tsx










function Import({ type }) {
    const [import_config, set_import_config] = (0,external_React_.useState)(null);
    const [repeat_config_id, set_repeat_config_id] = (0,external_React_.useState)(null);
    const [file_list, set_file_list] = (0,external_React_.useState)([]);
    const lock = (0,external_React_.useRef)(null);
    const resolve_lock = (0,external_React_.useRef)(null);
    const { visible: import_visible, open: import_open, close: import_close } = use_modal();
    const { visible: rename_visible, open: rename_open, close: rename_close } = use_modal();
    const { visible: confirm_visible, open: confirm_open, close: confirm_close } = use_modal();
    const message = type === 'icon' ? dashboard_model/* dashboard */.ze.message : model/* model */.ge.message;
    const triggers = {
        button: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Upload, { accept: '.json', multiple: true, showUploadList: false, beforeUpload: (file, fileList) => {
                set_file_list(fileList);
                confirm_open();
            }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DownloadOutlined, {}), children: (0,i18n.t)('批量导入') }) }),
        icon: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('导入'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Upload, { accept: '.json', showUploadList: false, beforeUpload: (file, fileList) => {
                    set_file_list(fileList);
                    confirm_open();
                }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DownloadOutlined, {}) }) }) })
    };
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [triggers[type], (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: confirm_visible, maskClosable: false, onCancel: confirm_close, onOk: async () => {
                    confirm_close();
                    for (let i in file_list) {
                        const config = { ...JSON.parse(await file_list[i].text()), id: (0,utils_browser/* genid */.GW)(), owner: model/* model */.ge.username };
                        const repeat_config = dashboard_model/* dashboard */.ze.configs.find(({ name, permission }) => name === config.name && permission === dashboard_model/* DashboardPermission */.g1.own);
                        if (repeat_config) {
                            set_import_config(config);
                            set_repeat_config_id(repeat_config.id);
                            import_open();
                            lock.current = new Promise((resolve, reject) => { resolve_lock.current = resolve; });
                            await lock.current;
                        }
                        else {
                            await dashboard_model/* dashboard */.ze.add_dashboard_config(config, type === 'icon');
                            message.success(`${config.name} ${(0,i18n.t)('导入成功！')}`);
                        }
                    }
                }, closeIcon: false, title: (0,i18n.t)('你确定要导入这 {{length}} 个 dashboard 吗？', { length: file_list.length }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: import_visible, maskClosable: false, closeIcon: false, title: `${import_config?.name} ${(0,i18n.t)('已存在')}`, footer: [
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: () => {
                            import_close();
                            resolve_lock.current();
                        }, children: (0,i18n.t)('取消') }, 'close'),
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: async () => {
                            await dashboard_model/* dashboard */.ze.delete_dashboard_configs([repeat_config_id], false);
                            await dashboard_model/* dashboard */.ze.add_dashboard_config(import_config, type === 'icon');
                            import_close();
                            resolve_lock.current();
                            message.success(`${import_config.name} ${(0,i18n.t)('导入成功！')}`);
                        }, children: (0,i18n.t)('覆盖') }, 'cover'),
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: () => {
                            import_close();
                            rename_open();
                        }, children: (0,i18n.t)('重命名后导入') }, 'import')
                ] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: rename_visible, maskClosable: false, onCancel: () => {
                    rename_close();
                    resolve_lock.current();
                }, onOk: async () => {
                    const check_name_message = (0,utils/* check_name */.HW)(import_config.name);
                    if (check_name_message) {
                        message.error(check_name_message);
                        resolve_lock.current();
                        return;
                    }
                    else {
                        await dashboard_model/* dashboard */.ze.add_dashboard_config(import_config, type === 'icon');
                        resolve_lock.current();
                        rename_close();
                        message.success(`${import_config.name} ${(0,i18n.t)('导入成功！')}`);
                    }
                }, closeIcon: false, title: (0,i18n.t)('请输入新的数据面板名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: import_config?.name, onChange: event => { set_import_config({ ...import_config, name: event.target.value }); } }) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/Share/Share.tsx








function Share({ dashboard_ids, trigger_type }) {
    const [api, contextHolder] = external_antd_namespaceObject.notification.useNotification({ maxCount: 1 });
    const message = trigger_type === 'icon' ? dashboard_model/* dashboard */.ze.message : model/* model */.ge.message;
    const trigger_click_handler = (0,external_React_.useCallback)(async () => {
        if (!dashboard_ids.length) {
            model/* model */.ge.message.error((0,i18n.t)('请至少选中一个数据面板后再分享'));
            return;
        }
        let copy_text = '';
        const currentUrl = new URL(window.location.href);
        currentUrl.searchParams.set('preview', '1');
        if (dashboard_ids.length === 1) {
            currentUrl.searchParams.set('dashboard', String(dashboard_ids[0]));
            copy_text = currentUrl.href;
        }
        else
            dashboard_ids.forEach(dashboard_id => {
                currentUrl.searchParams.set('dashboard', String(dashboard_id));
                copy_text += `${dashboard_model/* dashboard */.ze.configs.find(({ id }) => id === dashboard_id).name}：${currentUrl.href}\n`;
            });
        try {
            copy_to_clipboard_default()(copy_text);
            api.success({
                message: (0,i18n.t)('以下内容已复制到剪切板'),
                style: {
                    width: 1100
                },
                description: copy_text.split('\n').map(item => (0,jsx_runtime.jsx)("p", { children: item })),
                placement: 'top',
            });
        }
        catch (e) {
            message.error((0,i18n.t)('复制失败'));
        }
    }, [dashboard_ids]);
    const triggers = {
        button: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ShareAltOutlined, {}), onClick: trigger_click_handler, children: (0,i18n.t)('批量分享') }),
        text: (0,jsx_runtime.jsx)("a", { onClick: trigger_click_handler, children: (0,i18n.t)('分享') }),
        icon: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('分享'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', onClick: trigger_click_handler, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ShareAltOutlined, {}) }) })
    };
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [contextHolder, triggers[trigger_type]] });
}

;// CONCATENATED MODULE: ./console/dashboard/components/SaveComfirmModal.tsx





const SaveConfirmModal = esm.create((props) => {
    const modal = useModal();
    const { onOk, onCancel } = props;
    const on_ok = (0,external_React_.useCallback)(async (event) => {
        onOk?.(event);
        modal.hide();
    }, [onOk]);
    const on_cancel = (0,external_React_.useCallback)(async (event) => {
        onCancel?.(event);
        modal.hide();
    }, [onCancel]);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: modal.visible, afterClose: () => { modal.remove(); }, maskClosable: false, onCancel: on_cancel, onOk: on_ok, okText: (0,i18n.t)('保存'), cancelText: (0,i18n.t)('不保存'), closeIcon: false, title: (0,i18n.t)('离开此界面您当前更改会丢失，是否需要保存当前更改') });
});

;// CONCATENATED MODULE: ./console/dashboard/Header.tsx























function get_widget_config(widget) {
    return {
        id: widget.id,
        w: widget.w,
        h: widget.h,
        x: widget.x,
        y: widget.y,
        type: widget.type,
        source_id: widget.source_id,
        config: widget.config,
    };
}
function Header_Header() {
    const { editing, widgets, configs, config, auto_save } = dashboard_model/* dashboard */.ze.use(['editing', 'widgets', 'configs', 'config', 'auto_save']);
    const [new_dashboard_id, set_new_dashboard_id] = (0,external_React_.useState)();
    const [new_dashboard_name, set_new_dashboard_name] = (0,external_React_.useState)('');
    const [edit_dashboard_name, set_edit_dashboard_name] = (0,external_React_.useState)('');
    const [copy_dashboard_name, set_copy_dashboard_name] = (0,external_React_.useState)('');
    const { visible: add_visible, open: add_open, close: add_close } = use_modal();
    const { visible: edit_visible, open: edit_open, close: edit_close } = use_modal();
    const { visible: copy_visible, open: copy_open, close: copy_close } = use_modal();
    const timer = (0,external_React_.useRef)();
    const get_latest_config = (0,external_React_.useCallback)(async () => {
        const updated_config = {
            ...config,
            data: {
                datasources: await (0,date_source/* export_data_sources */.X9)(),
                variables: await (0,Variable_variable/* export_variables */.J_)(),
                canvas: {
                    widgets: widgets.map(widget => get_widget_config(widget))
                }
            }
        };
        // await dashboard.update_config(updated_config)
        return updated_config;
    }, [widgets]);
    /** 生成可以比较的 config */
    // function exact_config (config: DashBoardConfig) {
    //     return { ...config, 
    //              data: { 
    //                     ...config.data, 
    //                     datasources: config.data.datasources.map(ds => ({ 
    //                             ...ds, 
    //                             cols: [ ], 
    //                             deps: [ ],
    //                             error_message: '' })),
    //                     variables: config.data.variables.map(va => ({
    //                             ...va,
    //                             deps: [ ]
    //                     })) 
    //                 } 
    //             }
    // }
    const handle_save = (0,external_React_.useCallback)(async () => {
        const updated_config = await get_latest_config();
        console.log(updated_config, 'updated_config');
        await dashboard_model/* dashboard */.ze.update_dashboard_config(updated_config);
        dashboard_model/* dashboard */.ze.set({ save_confirm: false });
        dashboard_model/* dashboard */.ze.message.success((0,i18n.t)('数据面板保存成功'));
    }, [get_latest_config]);
    (0,external_React_.useEffect)(() => {
        if (auto_save && editing) {
            if (timer.current)
                clearInterval(timer.current);
            timer.current = setInterval(handle_save, 60 * 1000);
        }
        else
            clearInterval(timer.current);
        return () => { clearInterval(timer.current); };
    }, [auto_save, handle_save, editing]);
    async function handle_add() {
        const check_name_message = (0,utils/* check_name */.HW)(new_dashboard_name);
        if (check_name_message) {
            dashboard_model/* dashboard */.ze.message.error(check_name_message);
            return;
        }
        const new_dashboard_config = dashboard_model/* dashboard */.ze.generate_new_config(new_dashboard_id, new_dashboard_name);
        // await dashboard.update_config(new_dashboard_config)
        await dashboard_model/* dashboard */.ze.add_dashboard_config(new_dashboard_config);
        await dashboard_model/* dashboard */.ze.render_with_config(new_dashboard_config);
        dashboard_model/* dashboard */.ze.message.success((0,i18n.t)('添加成功'));
        add_close();
    }
    async function handle_edit() {
        const check_name_message = (0,utils/* check_name */.HW)(edit_dashboard_name);
        if (check_name_message) {
            dashboard_model/* dashboard */.ze.message.error(check_name_message);
            return;
        }
        // const updated_config = {
        //     ...config,
        //     name: edit_dashboard_name,
        // }
        // await dashboard.update_config(updated_config)
        await dashboard_model/* dashboard */.ze.rename_dashboard(config.id, edit_dashboard_name);
        // await dashboard.save_configs_to_local()
        dashboard_model/* dashboard */.ze.message.success((0,i18n.t)('修改成功'));
        edit_close();
    }
    /** 删除和撤销的回调 */
    async function handle_destroy() {
        if (!configs.length) {
            dashboard_model/* dashboard */.ze.message.error((0,i18n.t)('当前数据面板列表为空'));
            return;
        }
        (0,date_source/* clear_data_sources */.KZ)();
        await dashboard_model/* dashboard */.ze.delete_dashboard_configs([config.id]);
        const filtered_configs = configs.filter(({ id }) => id !== config.id);
        if (filtered_configs.length)
            model/* model */.ge.set_query('dashboard', String(filtered_configs[0].id));
        else
            dashboard_model/* dashboard */.ze.return_to_overview();
        dashboard_model/* dashboard */.ze.message.success((0,i18n.t)('删除成功'));
    }
    /** 切换预览与编辑模式 */
    function on_change_mode(value) {
        if (value === type/* DashboardMode */.i.editing) {
            dashboard_model/* dashboard */.ze.set_editing(true);
            model/* model */.ge.set_query('preview', null);
        }
        else
            dashboard_model/* dashboard */.ze.on_preview();
    }
    /** 切换 dashboard */
    async function on_change_dashboard(_, option) {
        async function handle_change() {
            const current_dashboard = configs.find(({ id }) => id === option.key);
            (0,date_source/* clear_data_sources */.KZ)();
            await dashboard_model/* dashboard */.ze.render_with_config(current_dashboard);
            if (current_dashboard.permission === dashboard_model/* DashboardPermission */.g1.view)
                dashboard_model/* dashboard */.ze.on_preview();
        }
        if (config.permission === dashboard_model/* DashboardPermission */.g1.view || !dashboard_model/* dashboard */.ze.save_confirm)
            await handle_change();
        else
            /** 未保存提示 */
            await esm.show('dashboard-save-confirm-modal', {
                onCancel: async () => {
                    dashboard_model/* dashboard */.ze.set({ save_confirm: false });
                    await handle_change();
                },
                onOk: async () => {
                    dashboard_model/* dashboard */.ze.set({ save_confirm: false });
                    await handle_save();
                    await handle_change();
                }
            });
    }
    const on_auto_save = (0,external_React_.useCallback)(value => {
        dashboard_model/* dashboard */.ze.set({ auto_save: value });
        localStorage.setItem(model/* storage_keys */.Xu.dashboard_autosave, value ? '1' : '0');
    }, []);
    return (0,jsx_runtime.jsxs)("div", { className: 'dashboard-header', children: [config?.permission === dashboard_model/* DashboardPermission */.g1.own
                ? (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { className: 'switcher', placeholder: (0,i18n.t)('选择 dashboard'), onChange: on_change_dashboard, value: config?.id, variant: 'borderless', options: configs?.map(({ id, name, permission }) => ({
                        key: id,
                        value: id,
                        label: (0,jsx_runtime.jsxs)("div", { className: 'dashboard-options-label', children: [(0,jsx_runtime.jsx)("span", { className: classnames_default()({ 'dashboard-options-label-name': permission }), children: name }), permission !== dashboard_model/* DashboardPermission */.g1.own && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'processing', className: 'status-tag', children: permission === dashboard_model/* DashboardPermission */.g1.edit ? (0,i18n.t)('仅编辑') : (0,i18n.t)('仅预览') })] })
                    })) })
                : (0,jsx_runtime.jsx)("div", { className: 'dashboard-share-label', children: config?.name }), (0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('返回主界面'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', onClick: async () => {
                                if (config.permission === dashboard_model/* DashboardPermission */.g1.view || !dashboard_model/* dashboard */.ze.save_confirm)
                                    dashboard_model/* dashboard */.ze.return_to_overview();
                                else
                                    esm.show('dashboard-save-confirm-modal', {
                                        onCancel: dashboard_model/* dashboard */.ze.return_to_overview,
                                        onOk: async () => {
                                            await handle_save();
                                            dashboard_model/* dashboard */.ze.return_to_overview();
                                        }
                                    });
                            }, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.HomeOutlined, {}) }) }), (0,jsx_runtime.jsx)(SaveConfirmModal, { id: 'dashboard-save-confirm-modal' }), editing && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: add_visible, maskClosable: false, onCancel: add_close, onOk: handle_add, closeIcon: false, title: (0,i18n.t)('新数据面板'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: new_dashboard_name, placeholder: (0,i18n.t)('请输入新数据面板的名称'), onChange: event => { set_new_dashboard_name(event.target.value); } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: edit_visible, maskClosable: false, onCancel: edit_close, onOk: handle_edit, closeIcon: false, title: (0,i18n.t)('请输入新的数据面板名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: edit_dashboard_name, onChange: event => { set_edit_dashboard_name(event.target.value); } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: copy_visible, onCancel: copy_close, onOk: async () => {
                                    const check_name_message = (0,utils/* check_name */.HW)(copy_dashboard_name);
                                    if (check_name_message) {
                                        dashboard_model/* dashboard */.ze.message.error(check_name_message);
                                        return;
                                    }
                                    const copy_dashboard = dashboard_model/* dashboard */.ze.generate_new_config((0,utils_browser/* genid */.GW)(), copy_dashboard_name, config.data);
                                    await dashboard_model/* dashboard */.ze.add_dashboard_config(copy_dashboard);
                                    dashboard_model/* dashboard */.ze.message.success((0,i18n.t)('创建副本成功'));
                                    copy_close();
                                }, title: (0,i18n.t)('请输入 dashboard 副本名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: copy_dashboard_name, onChange: event => {
                                        set_copy_dashboard_name(event.target.value);
                                    } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('新增'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', onClick: () => {
                                        const new_id = (0,utils_browser/* genid */.GW)();
                                        set_new_dashboard_id(new_id);
                                        set_new_dashboard_name('');
                                        add_open();
                                    }, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.FileAddOutlined, {}) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('保存'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', onClick: handle_save, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SaveOutlined, {}) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('导出'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', onClick: async () => {
                                        await get_latest_config();
                                        let a = document.createElement('a');
                                        a.download = `dashboard.${config.name}.json`;
                                        a.href = URL.createObjectURL(new Blob([JSON.stringify(config, null, 4)], { type: 'application/json' }));
                                        document.body.appendChild(a);
                                        a.click();
                                        document.body.removeChild(a);
                                    }, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.UploadOutlined, {}) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('创建副本'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', onClick: () => {
                                        set_copy_dashboard_name(config.name);
                                        copy_open();
                                    }, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CopyOutlined, {}) }) }), (0,jsx_runtime.jsx)(Import, { type: 'icon' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('修改名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', onClick: () => {
                                        edit_open();
                                        set_edit_dashboard_name(config?.name);
                                    }, children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.EditOutlined, {}) }) }), (0,jsx_runtime.jsx)(Share, { dashboard_ids: [dashboard_model/* dashboard */.ze.config?.id], trigger_type: 'icon' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('删除'), description: (0,i18n.t)('确定当前 dashboard 删除吗？'), onConfirm: async () => { handle_destroy(); }, okText: (0,i18n.t)('确认删除'), cancelText: (0,i18n.t)('取消'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { title: (0,i18n.t)('删除'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'action', children: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, {}) }) }) })] }), (model/* model */.ge.dev || model/* model */.ge.test) && (0,jsx_runtime.jsx)(HostSelect, {}), model/* model */.ge.dev && (0,jsx_runtime.jsx)(CompileAndRefresh, {})] }), config?.permission !== dashboard_model/* DashboardPermission */.g1.view && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Segmented, { options: [
                    { label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.EditOutlined, {}), " ", (0,i18n.t)('编辑')] }), value: type/* DashboardMode */.i.editing },
                    { label: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_icons_namespaceObject.EyeOutlined, {}), " ", (0,i18n.t)('预览')] }), value: type/* DashboardMode */.i.preview }
                ], onChange: on_change_mode, className: 'dashboard-modes', defaultValue: editing ? type/* DashboardMode */.i.editing : type/* DashboardMode */.i.preview }), (0,jsx_runtime.jsx)("div", { className: 'padding' }), editing && (0,jsx_runtime.jsxs)("div", { className: 'configs', children: [(0,jsx_runtime.jsx)(VariableConfig, {}), (0,jsx_runtime.jsx)(DataSourceConfig, {})] })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/dashboard/Overview.sass
var dashboard_Overview = __webpack_require__(8497);
;// CONCATENATED MODULE: ./console/dashboard/Overview.sass

      
      
      
      
      
      
      
      
      

var Overview_options = {};

Overview_options.styleTagTransform = (styleTagTransform_default());
Overview_options.setAttributes = (setAttributesWithoutAttributes_default());
Overview_options.insert = insertBySelector_default().bind(null, "head");
Overview_options.domAPI = (styleDomAPI_default());
Overview_options.insertStyleElement = (insertStyleElement_default());

var Overview_update = injectStylesIntoStyleTag_default()(dashboard_Overview/* default */.A, Overview_options);




       /* harmony default export */ const console_dashboard_Overview = (dashboard_Overview/* default */.A && dashboard_Overview/* default */.A.locals ? dashboard_Overview/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./node_modules/.pnpm/client-zip@2.4.5/node_modules/client-zip/index.js
"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(e,n,t){const i=Number(0xffffffffn&n),r=Number(n>>32n);this.setUint32(e+(t?0:4),i,t),this.setUint32(e+(t?4:0),r,t)}});var e=e=>new DataView(new ArrayBuffer(e)),n=e=>new Uint8Array(e.buffer||e),client_zip_t=e=>(new TextEncoder).encode(String(e)),i=e=>Math.min(4294967295,Number(e)),r=e=>Math.min(65535,Number(e));function f(e,i){if(void 0===i||i instanceof Date||(i=new Date(i)),e instanceof File)return{isFile:1,t:i||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:i||new Date(e.headers.get("Last-Modified")||Date.now()),i:e.body};if(void 0===i)i=new Date;else if(isNaN(i))throw new Error("Invalid modification date.");if(void 0===e)return{isFile:0,t:i};if("string"==typeof e)return{isFile:1,t:i,i:client_zip_t(e)};if(e instanceof Blob)return{isFile:1,t:i,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t:i,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t:i,i:n(e)};if(Symbol.asyncIterator in e)return{isFile:1,t:i,i:o(e[Symbol.asyncIterator]())};throw new TypeError("Unsupported input format.")}function o(e,n=e){return new ReadableStream({async pull(n){let t=0;for(;n.desiredSize>t;){const i=await e.next();if(!i.value){n.close();break}{const e=a(i.value);n.enqueue(e),t+=e.byteLength}}},cancel(e){n.throw?.(e)}})}function a(e){return"string"==typeof e?client_zip_t(e):e instanceof Uint8Array?e:n(e)}function s(e,i,r){let[f,o]=function(e){return e?e instanceof Uint8Array?[e,1]:ArrayBuffer.isView(e)||e instanceof ArrayBuffer?[n(e),1]:[client_zip_t(e),0]:[void 0,0]}(i);if(e instanceof File)return{o:d(f||client_zip_t(e.name)),u:BigInt(e.size),l:o};if(e instanceof Response){const n=e.headers.get("content-disposition"),i=n&&n.match(/;\s*filename\*?=["']?(.*?)["']?$/i),a=i&&i[1]||e.url&&new URL(e.url).pathname.split("/").findLast(Boolean),s=a&&decodeURIComponent(a),u=r||+e.headers.get("content-length");return{o:d(f||client_zip_t(s)),u:BigInt(u),l:o}}return f=d(f,void 0!==e||void 0!==r),"string"==typeof e?{o:f,u:BigInt(client_zip_t(e).length),l:o}:e instanceof Blob?{o:f,u:BigInt(e.size),l:o}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:f,u:BigInt(e.byteLength),l:o}:{o:f,u:u(e,r),l:o}}function u(e,n){return n>-1?BigInt(n):e?void 0:0n}function d(e,n=1){if(!e||e.every((c=>47===c)))throw new Error("The file must have a name.");if(n)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var client_zip_l=new Uint32Array(256);for(let e=0;e<256;++e){let n=e;for(let e=0;e<8;++e)n=n>>>1^(1&n&&3988292384);client_zip_l[e]=n}function client_zip_y(e,n=0){n^=-1;for(var t=0,i=e.length;t<i;t++)n=n>>>8^client_zip_l[255&n^e[t]];return(-1^n)>>>0}function w(e,n,t=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,r=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;n.setUint16(t,i,1),n.setUint16(t+2,r,1)}function B({o:e,l:n},t){return 8*(!n||(t??function(e){try{b.decode(e)}catch{return 0}return 1}(e)))}var b=new TextDecoder("utf8",{fatal:1});function p(t,i=0){const r=e(30);return r.setUint32(0,1347093252),r.setUint32(4,754976768|i),w(t.t,r,10),r.setUint16(26,t.o.length,1),n(r)}async function*g(e){let{i:n}=e;if("then"in n&&(n=await n),n instanceof Uint8Array)yield n,e.m=client_zip_y(n,0),e.u=BigInt(n.length);else{e.u=0n;const t=n.getReader();for(;;){const{value:n,done:i}=await t.read();if(i)break;e.m=client_zip_y(n,e.m),e.u+=BigInt(n.length),yield n}}}function I(t,r){const f=e(16+(r?8:0));return f.setUint32(0,1347094280),f.setUint32(4,t.isFile?t.m:0,1),r?(f.setBigUint64(8,t.u,1),f.setBigUint64(16,t.u,1)):(f.setUint32(8,i(t.u),1),f.setUint32(12,i(t.u),1)),n(f)}function client_zip_v(t,r,f=0,o=0){const a=e(46);return a.setUint32(0,1347092738),a.setUint32(4,755182848),a.setUint16(8,2048|f),w(t.t,a,12),a.setUint32(16,t.isFile?t.m:0,1),a.setUint32(20,i(t.u),1),a.setUint32(24,i(t.u),1),a.setUint16(28,t.o.length,1),a.setUint16(30,o,1),a.setUint16(40,t.isFile?33204:16893,1),a.setUint32(42,i(r),1),n(a)}function client_zip_h(t,i,r){const f=e(r);return f.setUint16(0,1,1),f.setUint16(2,r-4,1),16&r&&(f.setBigUint64(4,t.u,1),f.setBigUint64(12,t.u,1)),f.setBigUint64(r-8,i,1),n(f)}function client_zip_D(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}var S=e=>function(e){let n=BigInt(22),t=0n,i=0;for(const r of e){if(!r.o)throw new Error("Every file must have a non-empty name.");if(void 0===r.u)throw new Error(`Missing size for file "${(new TextDecoder).decode(r.o)}".`);const e=r.u>=0xffffffffn,f=t>=0xffffffffn;t+=BigInt(46+r.o.length+(e&&8))+r.u,n+=BigInt(r.o.length+46+(12*f|28*e)),i||(i=e)}return(i||t>=0xffffffffn)&&(n+=BigInt(76)),n+t}(function*(e){for(const n of e)yield s(...client_zip_D(n)[0])}(e));function A(e,n={}){const t={"Content-Type":"application/zip","Content-Disposition":"attachment"};return("bigint"==typeof n.length||Number.isInteger(n.length))&&n.length>0&&(t["Content-Length"]=String(n.length)),n.metadata&&(t["Content-Length"]=String(S(n.metadata))),new Response(N(e,n),{headers:t})}function N(t,a={}){const u=function(e){const n=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const e=await n.next();if(e.done)return e;const[t,i]=client_zip_D(e.value);return{done:0,value:Object.assign(f(...i),s(...t))}},throw:n.throw?.bind(n),[Symbol.asyncIterator](){return this}}}(t);return o(async function*(t,f){const o=[];let a=0n,s=0n,u=0;for await(const e of t){const n=B(e,f.buffersAreUTF8);yield p(e,n),yield new Uint8Array(e.o),e.isFile&&(yield*g(e));const t=e.u>=0xffffffffn,i=12*(a>=0xffffffffn)|28*t;yield I(e,t),o.push(client_zip_v(e,a,n,i)),o.push(e.o),i&&o.push(client_zip_h(e,a,i)),t&&(a+=8n),s++,a+=BigInt(46+e.o.length)+e.u,u||(u=t)}let d=0n;for(const e of o)yield e,d+=BigInt(e.length);if(u||a>=0xffffffffn){const t=e(76);t.setUint32(0,1347094022),t.setBigUint64(4,BigInt(44),1),t.setUint32(12,755182848),t.setBigUint64(24,s,1),t.setBigUint64(32,s,1),t.setBigUint64(40,d,1),t.setBigUint64(48,a,1),t.setUint32(56,1347094023),t.setBigUint64(64,a+d,1),t.setUint32(72,1,1),yield n(t)}const l=e(22);l.setUint32(0,1347093766),l.setUint16(8,r(s),1),l.setUint16(10,r(s),1),l.setUint32(12,i(d),1),l.setUint32(16,i(a),1),yield n(l)}(u,a),u)}
;// CONCATENATED MODULE: ./console/dashboard/components/Doc.tsx


function Doc() {
    return (0,jsx_runtime.jsx)("a", { href: 'https://docs.dolphindb.cn/zh/tutorials/dashboard_tutorial.html', className: 'link', target: '_blank', children: (0,i18n.t)('文档') });
}

;// CONCATENATED MODULE: ./console/dashboard/Overview.tsx
















function Overview_Overview() {
    const { configs, show_config_modal } = dashboard_model/* dashboard */.ze.use(['configs', 'show_config_modal']);
    const [selected_dashboard_ids, set_selected_dashboard_ids] = (0,external_React_.useState)([]);
    const [current_dashboard, set_current_dashboard] = (0,external_React_.useState)(null);
    const [new_dashboard_id, set_new_dashboard_id] = (0,external_React_.useState)();
    const [new_dashboard_name, set_new_dashboard_name] = (0,external_React_.useState)('');
    const [edit_dashboard_name, set_edit_dashboard_name] = (0,external_React_.useState)('');
    const [copy_dashboard_name, set_copy_dashboard_name] = (0,external_React_.useState)('');
    const [config_infos, set_config_infos] = (0,external_React_.useState)([]);
    let creator = use_modal();
    let editor = use_modal();
    let deletor = use_modal();
    let copyor = use_modal();
    let configor = use_modal();
    const params = new URLSearchParams(location.search);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (model/* model */.ge.admin && show_config_modal) {
                let { version } = model/* model */.ge;
                version += (version.split('.').length < 4) ? '.0' : '';
                if ((0,utils_browser/* vercmp */.cm)(version, '2.00.11.0') >= 0) {
                    for (let i of ['Create', 'Delete'])
                        if (!await model/* model */.ge.ddb.execute(`rpc(getControllerAlias(), getConfig, \`thirdParty${i}UserCallback)`))
                            config_infos.push(i === 'Create' ? 'thirdPartyCreateUserCallback=dashboard_grant_functionviews' : 'thirdPartyDeleteUserCallback=dashboard_delete_user');
                    if (config_infos.length) {
                        set_config_infos(config_infos);
                        dashboard_model/* dashboard */.ze.set({ show_config_modal: false });
                        configor.open();
                    }
                }
            }
        })();
    }, []);
    (0,external_React_.useEffect)(() => {
        if (params.get('create') === '1') {
            const new_id = (0,utils_browser/* genid */.GW)();
            set_new_dashboard_id(new_id);
            set_new_dashboard_name('');
            creator.open();
        }
    }, []);
    if (!configs)
        return (0,jsx_runtime.jsx)("div", { className: 'spin-container', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { size: 'large', delay: 300 }) });
    async function single_file_export(config_id) {
        const config = configs.find(({ id }) => id === config_id);
        let a = document.createElement('a');
        a.download = `dashboard.${config.name}.json`;
        a.href = URL.createObjectURL(new Blob([JSON.stringify(config, null, 4)], { type: 'application/json' }));
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    }
    return (0,jsx_runtime.jsxs)("div", { className: 'dashboard-overview', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'user-config', open: configor.visible, closeIcon: null, footer: [
                    (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { onClick: configor.close, type: 'primary', children: (0,i18n.t)('确定') }, 'confirm')
                ], children: (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsxs)("p", { children: [(0,i18n.t)('检测到以下配置不存在，请及时配置并重启数据库，避免影响数据面板功能使用，详见'), "\u00A0", (0,jsx_runtime.jsx)(Doc, {})] }), (0,jsx_runtime.jsxs)("p", { children: [(0,i18n.t)('待配置项：'), config_infos.map(config_info => (0,jsx_runtime.jsxs)("span", { children: [(0,jsx_runtime.jsx)("br", {}), (0,jsx_runtime.jsx)("span", { className: 'user-config-info', children: config_info })] }, config_info))] })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: creator.visible, onCancel: creator.close, onOk: async () => {
                    const check_name_message = (0,utils/* check_name */.HW)(new_dashboard_name);
                    if (check_name_message) {
                        model/* model */.ge.message.error(check_name_message);
                        return;
                    }
                    /** 待接口更新后修改 */
                    const new_dashboard = dashboard_model/* dashboard */.ze.generate_new_config(new_dashboard_id, new_dashboard_name);
                    await dashboard_model/* dashboard */.ze.add_dashboard_config(new_dashboard, false);
                    model/* model */.ge.set_query('dashboard', String(new_dashboard.id));
                    model/* model */.ge.set({ header: false, sider: false });
                    creator.close();
                }, title: (0,i18n.t)('新数据面板'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: new_dashboard_name, placeholder: (0,i18n.t)('请输入新数据面板的名称'), onChange: event => {
                        set_new_dashboard_name(event.target.value);
                    } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: editor.visible, onCancel: editor.close, onOk: async () => {
                    const check_name_message = (0,utils/* check_name */.HW)(edit_dashboard_name);
                    if (check_name_message) {
                        model/* model */.ge.message.error(check_name_message);
                        return;
                    }
                    await dashboard_model/* dashboard */.ze.rename_dashboard(current_dashboard.id, edit_dashboard_name);
                    model/* model */.ge.message.success((0,i18n.t)('修改成功'));
                    editor.close();
                }, title: (0,i18n.t)('请输入新的 dashboard 名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: edit_dashboard_name, onChange: event => {
                        set_edit_dashboard_name(event.target.value);
                    } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: deletor.visible, onCancel: deletor.close, onOk: async () => {
                    try {
                        selected_dashboard_ids.forEach(dashboard_id => {
                            const config = dashboard_model/* dashboard */.ze.configs.find(config => config.id = dashboard_id);
                            if (config?.permission !== dashboard_model/* DashboardPermission */.g1.own)
                                throw new Error((0,i18n.t)('您没有删除 {{name}} 的权限', { name: config.name }));
                        });
                        await dashboard_model/* dashboard */.ze.delete_dashboard_configs(selected_dashboard_ids, false);
                        set_selected_dashboard_ids([]);
                        model/* model */.ge.message.success((0,i18n.t)('删除成功'));
                    }
                    catch (error) {
                        model/* model */.ge.show_error({ error });
                    }
                    finally {
                        deletor.close();
                    }
                }, title: (0,i18n.t)('确认删除选中的 {{length}} 个数据面板吗？', { length: selected_dashboard_ids.length }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { open: copyor.visible, onCancel: copyor.close, onOk: async () => {
                    const check_name_message = (0,utils/* check_name */.HW)(copy_dashboard_name);
                    if (check_name_message) {
                        model/* model */.ge.message.error(check_name_message);
                        return;
                    }
                    const copy_dashboard = dashboard_model/* dashboard */.ze.generate_new_config((0,utils_browser/* genid */.GW)(), copy_dashboard_name, current_dashboard.data);
                    await dashboard_model/* dashboard */.ze.add_dashboard_config(copy_dashboard, false);
                    model/* model */.ge.message.success((0,i18n.t)('创建副本成功'));
                    copyor.close();
                }, title: (0,i18n.t)('请输入 dashboard 副本名称'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { value: copy_dashboard_name, onChange: event => {
                        set_copy_dashboard_name(event.target.value);
                    } }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { rowSelection: {
                    selectedRowKeys: selected_dashboard_ids,
                    onChange: (selectedRowKeys) => {
                        set_selected_dashboard_ids(selectedRowKeys);
                    }
                }, columns: [
                    {
                        title: (0,i18n.t)('名称'),
                        dataIndex: 'name',
                        key: 'name',
                        // filters: [
                        //     {
                        //         text: t('拥有'),
                        //         value: DashboardPermission.own
                        //     },
                        //     {
                        //         text: t('仅编辑'),
                        //         value: DashboardPermission.edit
                        //     },
                        //     {
                        //         text: t('仅预览'),
                        //         value: DashboardPermission.view
                        //     }
                        // ],
                        onFilter: (value, { permission }) => permission === value,
                        render: (text, { key, name, permission, owner }) => (0,jsx_runtime.jsx)("a", { onClick: () => {
                                const config = configs.find(({ id }) => id === key);
                                dashboard_model/* dashboard */.ze.set({ config, editing: false });
                                model/* model */.ge.set_query('dashboard', String(config.id));
                                model/* model */.ge.set_query('preview', '1');
                                model/* model */.ge.set({ header: false, sider: false });
                            }, children: (0,jsx_runtime.jsxs)("div", { className: 'dashboard-cell-tag', children: [(0,jsx_runtime.jsx)("span", { className: classnames_default()({ 'dashboard-cell-tag-name': permission }), children: name }), permission !== dashboard_model/* DashboardPermission */.g1.own
                                        && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'processing', className: 'status-tag', children: permission === dashboard_model/* DashboardPermission */.g1.edit ? (0,i18n.t)('仅编辑') : (0,i18n.t)('仅预览') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'processing', className: 'status-tag', children: `${(0,i18n.t)('来源于 ')}${owner}` })] })] }) })
                    },
                    {
                        title: (0,i18n.t)('操作'),
                        dataIndex: '',
                        key: 'actions',
                        width: 450,
                        render: ({ key, permission }) => (0,jsx_runtime.jsxs)("div", { className: 'action', children: [(permission !== dashboard_model/* DashboardPermission */.g1.view)
                                    && (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("a", { onClick: () => {
                                                    let config = configs.find(({ id }) => id === key);
                                                    dashboard_model/* dashboard */.ze.set({ config, editing: true, save_confirm: true });
                                                    model/* model */.ge.set_query('dashboard', String(config.id));
                                                    model/* model */.ge.set({ header: false, sider: false });
                                                }, children: (0,i18n.t)('编辑') }), (0,jsx_runtime.jsx)("a", { onClick: async () => single_file_export(key), children: (0,i18n.t)('导出') }), (0,jsx_runtime.jsx)("a", { onClick: () => {
                                                    let config = configs.find(({ id }) => id === key);
                                                    set_current_dashboard(config);
                                                    set_copy_dashboard_name(config.name);
                                                    copyor.open();
                                                }, children: (0,i18n.t)('创建副本') })] }), permission === dashboard_model/* DashboardPermission */.g1.own
                                    ? (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("a", { onClick: () => {
                                                    let current_row_config = configs.find(({ id }) => id === key);
                                                    set_current_dashboard(current_row_config);
                                                    editor.open();
                                                    set_edit_dashboard_name(current_row_config?.name);
                                                }, children: (0,i18n.t)('修改名称') }), (0,jsx_runtime.jsx)(Share, { dashboard_ids: [key], trigger_type: 'text' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('删除'), description: (0,i18n.t)('确定删除 {{name}} 吗？', { name: configs.find(({ id }) => id === key).name }), onConfirm: async () => {
                                                    if (!configs.length) {
                                                        dashboard_model/* dashboard */.ze.message.error((0,i18n.t)('当前 dashboard 列表为空'));
                                                        return;
                                                    }
                                                    dashboard_model/* dashboard */.ze.set({ configs: configs.filter(({ id }) => id !== key) });
                                                    await dashboard_model/* dashboard */.ze.delete_dashboard_configs([key], false);
                                                    set_selected_dashboard_ids(selected_dashboard_ids.filter(id => id !== key));
                                                    model/* model */.ge.message.success((0,i18n.t)('删除成功'));
                                                }, okText: (0,i18n.t)('确认删除'), cancelText: (0,i18n.t)('取消'), children: (0,jsx_runtime.jsx)("a", { className: 'delete', children: (0,i18n.t)('删除') }) })] })
                                    : (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {})] })
                    }
                ], dataSource: configs?.map(({ id, name, permission, owner }) => ({ key: id, name, permission, owner })), pagination: false, title: () => (0,jsx_runtime.jsxs)("div", { className: 'title', children: [(0,jsx_runtime.jsx)("h2", { children: (0,i18n.t)('数据面板') }), (0,jsx_runtime.jsxs)("div", { className: 'toolbar', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusCircleOutlined, {}), onClick: () => {
                                        const new_id = (0,utils_browser/* genid */.GW)();
                                        set_new_dashboard_id(new_id);
                                        set_new_dashboard_name('');
                                        creator.open();
                                    }, children: (0,i18n.t)('新建') }), (0,jsx_runtime.jsx)(Import, { type: 'button' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.UploadOutlined, {}), onClick: async () => {
                                        if (selected_dashboard_ids && !selected_dashboard_ids.length) {
                                            model/* model */.ge.message.error((0,i18n.t)('请选择至少一个面板进行导出'));
                                            return;
                                        }
                                        if (selected_dashboard_ids.length === 1) {
                                            single_file_export(selected_dashboard_ids[0]);
                                            return;
                                        }
                                        const files = [];
                                        for (let config_id of selected_dashboard_ids) {
                                            const config = configs.find(({ id }) => id === config_id);
                                            if (config.permission === dashboard_model/* DashboardPermission */.g1.view)
                                                throw new Error((0,i18n.t)('您没有导出 {{name}} 的权限', { name: config.name }));
                                            files.push({ name: `dashboard.${config.name}.json`, lastModified: new Date(), input: new Blob([JSON.stringify(config, null, 4)], { type: 'application/json' }) });
                                        }
                                        const zip = await A(files).blob();
                                        let a = document.createElement('a');
                                        a.download = `${model/* model */.ge.username}.dashboards.zip`;
                                        a.href = URL.createObjectURL(zip);
                                        document.body.appendChild(a);
                                        a.click();
                                        document.body.removeChild(a);
                                    }, children: (0,i18n.t)('批量导出') }), (0,jsx_runtime.jsx)(Share, { dashboard_ids: selected_dashboard_ids, trigger_type: 'button' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { danger: true, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, {}), onClick: () => {
                                        if (!selected_dashboard_ids || !selected_dashboard_ids.length) {
                                            model/* model */.ge.message.error((0,i18n.t)('请至少选中一个数据面板后再删除'));
                                            return;
                                        }
                                        deletor.open();
                                    }, children: (0,i18n.t)('批量删除') })] })] }) })] });
}

;// CONCATENATED MODULE: ./console/dashboard/chart.config.json
const chart_config_namespaceObject = /*#__PURE__*/JSON.parse('{"w4":{"seriesCnt":"4","backgroundColor":"#282828","titleColor":"#e6e6e6","subtitleColor":"#e6e6e6","textColorShow":false,"textColor":"#e6e6e6","markTextColor":"#eee","color":["#54d2d2","#59A8D3","#f8aa4b","#ff6150","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],"borderColor":"#ccc","borderWidth":0,"visualMapColor":["#bf444c","#d88273","#f6efa6"],"legendTextColor":"#eeeeee","kColor":"#fd1050","kColor0":"#0cf49b","kBorderColor":"#fd1050","kBorderColor0":"#0cf49b","kBorderWidth":1,"lineWidth":"2","symbolSize":"5","symbol":"emptyCircle","symbolBorderWidth":1,"lineSmooth":false,"graphLineWidth":1,"graphLineColor":"#aaa","mapLabelColor":"#000","mapLabelColorE":"rgb(100,0,0)","mapBorderColor":"#444","mapBorderColorE":"#444","mapBorderWidth":0.5,"mapBorderWidthE":1,"mapAreaColor":"#eee","mapAreaColorE":"rgba(255,215,0,0.8)","axes":[{"type":"all","name":"通用坐标轴","axisLineShow":true,"axisLineColor":"#eeeeee","axisTickShow":true,"axisTickColor":"#eeeeee","axisLabelShow":true,"axisLabelColor":"#eeeeee","splitLineShow":true,"splitLineColor":["#aaaaaa"],"splitAreaShow":false,"splitAreaColor":["#eeeeee"]},{"type":"category","name":"类目坐标轴","axisLineShow":true,"axisLineColor":"#333","axisTickShow":true,"axisTickColor":"#333","axisLabelShow":true,"axisLabelColor":"#333","splitLineShow":false,"splitLineColor":["#ccc"],"splitAreaShow":false,"splitAreaColor":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]},{"type":"value","name":"数值坐标轴","axisLineShow":true,"axisLineColor":"#333","axisTickShow":true,"axisTickColor":"#333","axisLabelShow":true,"axisLabelColor":"#333","splitLineShow":true,"splitLineColor":["#ccc"],"splitAreaShow":false,"splitAreaColor":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]},{"type":"log","name":"对数坐标轴","axisLineShow":true,"axisLineColor":"#333","axisTickShow":true,"axisTickColor":"#333","axisLabelShow":true,"axisLabelColor":"#333","splitLineShow":true,"splitLineColor":["#ccc"],"splitAreaShow":false,"splitAreaColor":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]},{"type":"time","name":"时间坐标轴","axisLineShow":true,"axisLineColor":"#333","axisTickShow":true,"axisTickColor":"#333","axisLabelShow":true,"axisLabelColor":"#333","splitLineShow":true,"splitLineColor":["#ccc"],"splitAreaShow":false,"splitAreaColor":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}],"axisSeperateSetting":false,"toolboxColor":"#999","toolboxEmphasisColor":"#666","tooltipAxisColor":"#eeeeee","tooltipAxisWidth":"1","timelineLineColor":"#eeeeee","timelineLineWidth":1,"timelineItemColor":"#dd6b66","timelineItemColorE":"#a9334c","timelineCheckColor":"#e43c59","timelineCheckBorderColor":"#c23531","timelineItemBorderWidth":1,"timelineControlColor":"#eeeeee","timelineControlBorderColor":"#eeeeee","timelineControlBorderWidth":0.5,"timelineLabelColor":"#eeeeee","datazoomBackgroundColor":"rgba(47,69,84,0)","datazoomDataColor":"rgba(255,255,255,0.3)","datazoomFillColor":"rgba(167,183,204,0.4)","datazoomHandleColor":"#a7b7cc","datazoomHandleWidth":"100","datazoomLabelColor":"#eeeeee"}}');
;// CONCATENATED MODULE: ./console/dashboard/backend.dos
const backend_namespaceObject = "def dropAllFunctionViews(prefix) {\n    funcs = exec name from defs(prefix)\n    for(func in funcs) {\n        try{dropFunctionView(func)}catch(ex){};go;\n        try{undef(func, DEF)}catch(ex){};go;\n    }\n\n    for(func in select name from getFunctionViews() where name like prefix) {\n        try{dropFunctionView(func);}catch(ex){}\n    }\n}\ndropAllFunctionViews(\"dashboard_%\");go\n\ndef createDashboardConfigDb() {\n    if (existsDatabase(\"dfs://dashboardConfigDb\")){\n        print(\"dfs://dashboardConfigDb has been existed\")\n    } else {\n        dbTime = database(, partitionType = VALUE, partitionScheme = 2023.11M..2023.12M)\n        dbId = database(, partitionType = VALUE, partitionScheme = [\"user1\", \"user2\"])\n        db = database(directory=\"dfs://dashboardConfigDb\", partitionType = COMPO, partitionScheme = [dbTime, dbId], engine = 'TSDB')\n        tb = table(1:0, \n            [\"id\", \"name\", \"owner\", \"config\", \"createTime\", \"editor\", \"updateTime\", \"isDeleted\"],\n            [\"LONG\", \"SYMBOL\", \"SYMBOL\", \"BLOB\", \"TIMESTAMP\", \"SYMBOL\", \"TIMESTAMP\", \"BOOL\"])\n        createPartitionedTable(db, tb, \"configDtl\", `updateTime`owner, sortColumns=`updateTime)\n    }\n}\n\ndef dashboard_get_config_list() {\n    user = getCurrentSessionAndUser()[1]\n    tb_config = loadTable(\"dfs://dashboardConfigDb\", \"configDtl\")\n\n    tb_owned = select * from tb_config where owner = user context by id limit -1\n    res = select id, name, owner, 0 as permission, string(config) as data, createTime from tb_owned where isDeleted = false order by createTime desc\n\n    return res\n}\n\ndef dashboard_exist_check(dbid) {\n    tb_config = loadTable(\"dfs://dashboardConfigDb\", \"configDtl\")\n\n    // existence check\n    tb_exist = select * from tb_config where id = dbid order by updateTime desc limit 1\n    tb_exist = select * from tb_exist where isDeleted = false\n    if (count(tb_exist) == 0) {\n        throw toStdJson({code: \"S001\"})\n    }else{\n        return tb_exist\n    }\n}\n\ndef dashboard_get_config(param) {\n    user = getCurrentSessionAndUser()[1]\n\n    // existence check\n    tb_exist = dashboard_exist_check(long(param.id))\n\n    res = select id, name, owner, config as data from tb_exist\n    res[\"permission\"] = iif(tb_exist[\"owner\"] == user, 0, 2)\n    return res\n}\n\ndef dashboard_save_blob(x) {\n    // save config json to blob\n    return blob(toStdJson(x))\n}\n\ndef dashboard_add_config(param) {\n    user = getCurrentSessionAndUser()[1]\n    tb_config = loadTable(\"dfs://dashboardConfigDb\", \"configDtl\")\n\n    // existence check\n    tb_exist = select * from tb_config where id = param.id order by updateTime desc limit 1\n    tb_exist = select * from tb_exist where isDeleted = false\n    if (count(tb_exist) != 0) { throw toStdJson({code: \"S002\"}) }\n\n    // name check\n    name_check = select * from tb_config where owner = user context by id limit -1\n    name_check  = select * from name_check where isDeleted = false and name = param.name\n    if (count(name_check) != 0) {throw toStdJson({code: \"S003\"})}\n\n    // save\n    tmp = table(long(param.id) as id, param.name as name, user as owner, dashboard_save_blob(param.data) as config, now() as createTime, user as editor, now() as updateTime, false as isDeleted)\n\n    tb_config.append!(tmp)\n}\n\ndef dashboard_delete_configs(param) {\n    user = getCurrentSessionAndUser()[1]\n    tb_config = loadTable(\"dfs://dashboardConfigDb\", \"configDtl\")\n\n    tb_to_delete = select * from tb_config where owner = user and id in long(param.ids) context by id limit -1\n    tb_to_delete = select * from tb_to_delete where isDeleted = false\n    update tb_to_delete set updateTime = now(), config = string(NULL), editor = user, isDeleted = true\n    tb_config.append!(tb_to_delete)\n}\n\ndef dashboard_edit_config(param) {\n    user = getCurrentSessionAndUser()[1]\n    tb_config = loadTable(\"dfs://dashboardConfigDb\", \"configDtl\")\n    \n    // existence check\n    tb_exist = dashboard_exist_check(long(param.id))\n\n    // insert data\n    update tb_exist set config = dashboard_save_blob(param.data), editor = user, updateTime = now()\n    tb_config.append!(tb_exist)\n}\n\ndef dashboard_rename_config(param) {\n    user = getCurrentSessionAndUser()[1]\n    tb_config = loadTable(\"dfs://dashboardConfigDb\", \"configDtl\")\n\n    // name check\n    if (isNull(param.name)) {throw toStdJson({code: \"S004\"})}\n\n    // existence check\n    tb_exist = dashboard_exist_check(long(param.id))\n\n    // insert data\n    update tb_exist set name = param.name, updateTime=now(), editor = user\n    tb_config.append!(tb_exist)\n}\n\ndef dashboard_get_version() {\n    backendDB = \"dfs://dashboardConfigDb\"\n    funcs = exec name from defs(\"dashboard_%\")\n\n    if (!existsDatabase(backendDB) || count(funcs) != 11) {\n        throw \"Initialization Failed\"\n    } else {\n        // version\n        return \"1.0.0\"\n    }\n}\n\ndef dashboard_grant_functionviews(userId, groupIds, isAdmin) {\n    //控制节点执行\n    funcs = exec name from getFunctionViews() where name like \"dashboard_%\"\n    onlyAdminFuncs = [\"dashboard_grant_functionviews\", \"dashboard_delete_user\"]\n    grantFuncs = (set(funcs) - set(onlyAdminFuncs)).keys()\n\n    try{\n        if (count(grantFuncs) != 0) {\n            each(grant, take(userId,count(grantFuncs)), take(VIEW_EXEC, count(grantFuncs)), grantFuncs)\n        } \n    }catch(ex){\n        try{each(revoke, take(userId,count(grantFuncs)), take(VIEW_EXEC, count(grantFuncs)), grantFuncs)}catch(ex){}\n        throw ex[0] + \"->\" + ex[1]\n    }\n}\n\ndef dashboard_delete_user(userId) {\n    //控制节点执行\n    dnode = (exec name from getClusterPerf() where mode in [0, 3])[0]\n    delCfg = def(userId){delete from loadTable(\"dfs://dashboardConfigDb\", \"configDtl\") where owner = userId;}\n    rpc(dnode, delCfg, userId)\n}\n\ndef addAllFunctionViews(prefix) {\n    //prefix = \"dashboard_%\"\n    funcs = exec name from defs(prefix)\n    onlyAdminFuncs = [\"dashboard_grant_functionviews\", \"dashboard_delete_user_cfg\", \"dashboard_delete_user\"]\n\n    for(func in funcs) {\n        try{addFunctionView(funcByName(func))}catch(ex){}\n    }\n    \n    grantFuncs = (set(funcs) - set(onlyAdminFuncs)).keys()\n    for (gfunc in grantFuncs) {\n        try{each(grant, getUserList(), take(VIEW_EXEC, count(getUserList())), take(gfunc, count(getUserList())))}catch(ex){}\n    }\n}\n\ndef initializeDashboard(){\n    createDashboardConfigDb()\n    addAllFunctionViews(\"dashboard_%\")\n}\n\ninitializeDashboard()\nundef all\n\n\nprint('dashboard backend loaded')\n\n";
;// CONCATENATED MODULE: ./console/dashboard/index.tsx



// 行列数为 1 - 11 时需要
// import 'gridstack/dist/gridstack-extra.css'
















external_echarts_.registerTheme('my-theme', chart_config_namespaceObject.w4);
/** 基于 GridStack.js 开发的拖拽图表可视化面板
    https://gridstackjs.com/
    https://github.com/gridstack/gridstack.js/tree/master/doc
    
    GridStack.init 创建实例保存到 dashboard.grid
    所有的 widgets 配置保存在 dashboard.widgets 中
    通过 widget.ref 保存对应的 dom 节点，在 widgets 配置更新时将 ref 给传给 react `<div>` 获取 dom
    通过 GridStack.makeWidget 将画布中已有的 dom 节点交给 GridStack 管理
    通过 GridStack.on('dropped', ...) 监听用户从外部添加拖拽 widget 到 GridStack 的事件
    通过 GridStack.on('change', ...) 响应 GridStack 中 widget 的位置或尺寸变化的事件 */
function DashBoard() {
    const { loading, inited_state } = dashboard_model/* dashboard */.ze.use(['loading', 'inited_state']);
    const { node_type, v1, logined } = model/* model */.ge.use(['node_type', 'v1', 'logined']);
    (0,external_React_.useEffect)(() => {
        (async () => {
            try {
                if (i18n/* language */.BH !== 'zh' || v1)
                    return;
                else if (!logined)
                    dashboard_model/* dashboard */.ze.set({ inited_state: dashboard_model/* InitedState */.pb.unlogined });
                else if (node_type === model/* NodeType */.Z6.controller)
                    dashboard_model/* dashboard */.ze.set({ inited_state: dashboard_model/* InitedState */.pb.control_node });
                else if ((await model/* model */.ge.ddb.call('dashboard_get_version')).value === '1.0.0')
                    dashboard_model/* dashboard */.ze.set({ inited_state: dashboard_model/* InitedState */.pb.inited });
            }
            catch (error) {
                dashboard_model/* dashboard */.ze.set({ inited_state: dashboard_model/* InitedState */.pb.uninited });
            }
        })();
    }, [logined]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            if (dashboard_model/* dashboard */.ze.inited_state === dashboard_model/* InitedState */.pb.inited)
                await dashboard_model/* dashboard */.ze.get_dashboard_configs();
        })();
    }, [inited_state]);
    const component = {
        [dashboard_model/* InitedState */.pb.hidden]: (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}),
        [dashboard_model/* InitedState */.pb.uninited]: (0,jsx_runtime.jsx)(Init, {}),
        [dashboard_model/* InitedState */.pb.inited]: (new URLSearchParams(location.search).has('dashboard') ?
            (0,jsx_runtime.jsx)(external_antd_namespaceObject.ConfigProvider, { theme: {
                    hashed: false,
                    token: {
                        borderRadius: 0,
                        motion: false,
                        colorBgContainer: 'rgb(40, 40, 40)',
                        colorBgElevated: '#555555',
                        colorInfoActive: 'rgb(64, 147, 211)'
                    },
                    algorithm: external_antd_namespaceObject.theme.darkAlgorithm
                }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.App, { className: 'app', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Spin, { spinning: loading, delay: 500, size: 'large', children: (0,jsx_runtime.jsx)(DashboardInstance, {}) }) }) })
            :
                (0,jsx_runtime.jsx)(Overview_Overview, {})),
        [dashboard_model/* InitedState */.pb.control_node]: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { status: 'warning', className: 'interceptor', title: (0,i18n.t)('控制节点不支持数据面板，请跳转到数据节点或计算节点查看。') }),
        [dashboard_model/* InitedState */.pb.unlogined]: (0,jsx_runtime.jsx)(Unlogin, { info: '\u6570\u636E\u9762\u677F' })
    };
    return component[inited_state];
}
function Init() {
    if (model/* model */.ge.node_type === model/* NodeType */.Z6.computing)
        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { status: 'warning', className: 'interceptor', title: (0,i18n.t)('数据面板未初始化，请联系管理员在数据节点完成初始化。') });
    else if (model/* model */.ge.admin)
        return (0,jsx_runtime.jsx)("div", { className: 'init', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { title: (0,i18n.t)('请点击下方按钮完成初始化'), subTitle: (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)("p", { children: (0,i18n.t)('初始化操作将新增以下数据库表：') }), (0,jsx_runtime.jsx)("p", { children: "dfs://dashboardConfigDb/configDtl" }), (0,jsx_runtime.jsx)("p", { children: (0,i18n.t)('以及 11 个以 dashboard_ 开头的函数视图（FunctionView）') }), (0,jsx_runtime.jsxs)("p", { children: [(0,i18n.t)('提示：初始化后请完善用户相关配置（详见'), (0,jsx_runtime.jsx)(Doc, {}), "\uFF09"] })] }), extra: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('你确定要初始化数据面板功能吗？'), onConfirm: async () => {
                        await model/* model */.ge.ddb.eval(backend_namespaceObject);
                        dashboard_model/* dashboard */.ze.set({ inited_state: dashboard_model/* InitedState */.pb.inited });
                        model/* model */.ge.message.success((0,i18n.t)('初始化数据面板成功！'));
                    }, okText: (0,i18n.t)('确定'), cancelText: (0,i18n.t)('取消'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', size: 'large', children: (0,i18n.t)('初始化') }) }) }) });
    else
        return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { className: 'interceptor', title: (0,i18n.t)('数据面板功能未初始化，请联系管理员初始化数据面板功能') });
}
function DashboardInstance() {
    const { widgets, widget, config, editing } = dashboard_model/* dashboard */.ze.use(['widgets', 'widget', 'config', 'editing']);
    /** div ref, 用于创建 GridStack  */
    let rdiv = (0,external_React_.useRef)();
    // App 组件通过 Context 提供上下文方法调用，因而 useApp 需要作为子组件才能使用
    Object.assign(dashboard_model/* dashboard */.ze, external_antd_namespaceObject.App.useApp());
    // 监听 ctrl v 事件，复制组件
    (0,external_React_.useEffect)(() => {
        window.addEventListener('paste', utils/* paste_widget */.Pr);
        return () => { window.removeEventListener('paste', utils/* paste_widget */.Pr); };
    }, []);
    (0,external_React_.useEffect)(() => {
        dashboard_model/* dashboard */.ze.init(rdiv.current);
        return () => { dashboard_model/* dashboard */.ze.dispose(); };
    }, []);
    (0,external_React_.useEffect)(() => {
        (async () => {
            const dashboard_id = Number(new URLSearchParams(location.search).get('dashboard'));
            if (dashboard_id)
                try {
                    const config = await dashboard_model/* dashboard */.ze.get_dashboard_config(dashboard_id);
                    dashboard_model/* dashboard */.ze.set({ config });
                    await dashboard_model/* dashboard */.ze.render_with_config(config);
                }
                catch (error) {
                    dashboard_model/* dashboard */.ze.return_to_overview();
                    model/* model */.ge.message.error((0,i18n.t)('dashboard 不存在'));
                }
        })();
    }, []);
    // widget 变化时通过 GridStack.makeWidget 将画布中已有的 dom 节点交给 GridStack 管理
    (0,external_React_.useEffect)(() => {
        dashboard_model/* dashboard */.ze.render_widgets();
    }, [widgets]);
    (0,external_React_.useEffect)(() => {
        if (dashboard_model/* dashboard */.ze.editing) {
            if (config?.permission === dashboard_model/* DashboardPermission */.g1.view)
                dashboard_model/* dashboard */.ze.on_preview();
            dashboard_model/* dashboard */.ze.set({ save_confirm: true });
        }
    }, [config, editing]);
    return (0,jsx_runtime.jsxs)("div", { className: 'dashboard', children: [(0,jsx_runtime.jsx)("div", { className: 'dashboard-header', children: (0,jsx_runtime.jsx)(Header_Header, {}) }), (0,jsx_runtime.jsxs)("div", { className: 'dashboard-main', children: [(0,jsx_runtime.jsx)(Sider, { visible: editing }), (0,jsx_runtime.jsx)("div", { className: 'dashboard-canvas', onClick: () => { dashboard_model/* dashboard */.ze.set({ widget: null }); }, children: (0,jsx_runtime.jsx)("div", { className: 'grid-stack', ref: rdiv, style: { backgroundSize: `${100 / dashboard_model/* dashboard */.ze.maxcols}% ${100 / dashboard_model/* dashboard */.ze.maxrows}%` }, children: widgets.map(widget => (0,jsx_runtime.jsx)("div", { className: 'grid-stack-item', 
                                // 保存 dom 节点，在 widgets 更新时将 ref 给传给 react `<div>` 获取 dom
                                ref: widget.ref, "gs-id": widget.id, "gs-w": widget.w, "gs-h": widget.h, "gs-x": widget.x, "gs-y": widget.y, onClick: event => {
                                    event.stopPropagation();
                                    dashboard_model/* dashboard */.ze.set({ widget });
                                }, children: (0,jsx_runtime.jsx)(GraphItem_GraphItem, { widget: widget }) }, widget.id)) }) }), (0,jsx_runtime.jsx)(SettingsPanel_SettingsPanel, { hidden: !editing || widget?.type === 'TEXT' })] })] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/access/index.sass
var access = __webpack_require__(5234);
;// CONCATENATED MODULE: ./console/access/index.sass

      
      
      
      
      
      
      
      
      

var access_options = {};

access_options.styleTagTransform = (styleTagTransform_default());
access_options.setAttributes = (setAttributesWithoutAttributes_default());
access_options.insert = insertBySelector_default().bind(null, "head");
access_options.domAPI = (styleDomAPI_default());
access_options.insertStyleElement = (insertStyleElement_default());

var access_update = injectStylesIntoStyleTag_default()(access/* default */.A, access_options);




       /* harmony default export */ const console_access = (access/* default */.A && access/* default */.A.locals ? access/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/access/model.ts



var Access;
(function (Access) {
    Access[Access["TABLE_READ"] = 0] = "TABLE_READ";
    Access[Access["TABLE_WRITE"] = 1] = "TABLE_WRITE";
    Access[Access["DBOBJ_CREATE"] = 2] = "DBOBJ_CREATE";
    Access[Access["DBOBJ_DELETE"] = 3] = "DBOBJ_DELETE";
    Access[Access["DB_MANAGE"] = 4] = "DB_MANAGE";
    Access[Access["VIEW_EXEC"] = 5] = "VIEW_EXEC";
    Access[Access["SCRIPT_EXEC"] = 6] = "SCRIPT_EXEC";
    Access[Access["TEST_EXEC"] = 7] = "TEST_EXEC";
    Access[Access["TABLE_INSERT"] = 13] = "TABLE_INSERT";
    Access[Access["TABLE_UPDATE"] = 14] = "TABLE_UPDATE";
    Access[Access["TABLE_DELETE"] = 15] = "TABLE_DELETE";
    Access[Access["DB_READ"] = 16] = "DB_READ";
    Access[Access["DB_INSERT"] = 18] = "DB_INSERT";
    Access[Access["DB_UPDATE"] = 19] = "DB_UPDATE";
    Access[Access["DB_DELETE"] = 20] = "DB_DELETE";
    Access[Access["VIEW_OWNER"] = 23] = "VIEW_OWNER";
})(Access || (Access = {}));
class AccessModel extends react_object_model/* Model */.K {
    users = [];
    groups = [];
    databases = [];
    shared_tables = [];
    stream_tables = [];
    function_views = [];
    inited = false;
    current = null;
    accesses = null;
    async init() {
        this.get_user_list();
        this.get_group_list();
        this.get_databases_with_tables();
        this.get_share_tables();
        this.get_stream_tables();
        this.get_function_views();
        this.set({ inited: true });
    }
    async get_databases_with_tables() {
        const databases = await this.get_databases();
        const dbs = [];
        for (let db of databases) {
            let tables = await this.get_tables(db + '/');
            dbs.push({
                name: db,
                tables
            });
        }
        this.set({ databases: dbs });
    }
    async get_user_list() {
        this.set({ users: (await model/* model */.ge.ddb.call('getUserList', [])).value });
    }
    // final 属性代表是否获取用户最终权限，只有在用户查看权限界面需要 final = true
    async get_user_access(users, final = false) {
        return (await model/* model */.ge.ddb.call('getUserAccess', [...final ? [new browser/* DdbVectorString */.x$(users), true] : [new browser/* DdbVectorString */.x$(users)]])).to_rows();
    }
    async get_group_list() {
        this.set({ groups: (await model/* model */.ge.ddb.call('getGroupList', [])).value });
    }
    async get_group_access(groups) {
        return (await model/* model */.ge.ddb.call('getGroupAccess', [new browser/* DdbVectorString */.x$(groups)])).to_rows();
    }
    async create_user(user) {
        const { userId, password, groupIds = [], isAdmin = false } = user;
        await model/* model */.ge.ddb.call('createUser', [userId, password, new browser/* DdbVectorString */.x$(groupIds), isAdmin]);
    }
    async delete_user(user) {
        await model/* model */.ge.ddb.call('deleteUser', [user]);
    }
    async reset_password(user, password) {
        await model/* model */.ge.ddb.call('resetPwd', [user, password]);
    }
    // user_names 和 group_names 不能同时为数组
    async add_group_member(users, groups) {
        if (!users || !groups || !users.length || !groups.length)
            return;
        await model/* model */.ge.ddb.call('addGroupMember', [Array.isArray(users) ? new browser/* DdbVectorString */.x$(users) : users, Array.isArray(groups) ? new browser/* DdbVectorString */.x$(groups) : groups]);
    }
    async create_group(group, users) {
        await model/* model */.ge.ddb.call('createGroup', [group, new browser/* DdbVectorString */.x$(users)]);
    }
    async delete_group(group) {
        await model/* model */.ge.ddb.call('deleteGroup', [group]);
    }
    async get_users_by_group(group) {
        return (await model/* model */.ge.ddb.call('getUsersByGroupId', [group])).value;
    }
    // user_names 和 group_names 不能同时为数组
    async delete_group_member(users, groups) {
        if (!users || !groups || !users.length || !groups.length)
            return;
        await model/* model */.ge.ddb.call('deleteGroupMember', [
            Array.isArray(users) ? new browser/* DdbVectorString */.x$(users) : users,
            Array.isArray(groups) ? new browser/* DdbVectorString */.x$(groups) : groups
        ]);
    }
    async get_databases() {
        return (await (model/* model */.ge.ddb.call('getClusterDFSDatabases', []))).value;
    }
    async get_tables(database) {
        return (await model/* model */.ge.ddb.call('getDFSTablesByDatabase', [database])).value;
    }
    async get_share_tables() {
        const tables = (await model/* model */.ge.ddb.call('objs', [true])).to_rows();
        this.set({
            shared_tables: tables.filter(table => table.shared && table.type === 'BASIC' && table.form === 'TABLE')
                .map(table => table.name)
        });
    }
    async get_stream_tables() {
        this.set({
            stream_tables: (await model/* model */.ge.ddb.call('getStreamTables', [new browser/* DdbInt */.yZ(0)]))
                .to_rows()
                .filter(table => table.shared)
                .map(tb => tb.name)
        });
    }
    async get_function_views() {
        this.set({ function_views: (await model/* model */.ge.ddb.call('getFunctionViews', [])).to_rows().map(fv => fv.name) });
    }
    async grant(user, access, obj) {
        await model/* model */.ge.ddb.call('grant', obj ? [user, new browser/* DdbInt */.yZ(Access[access]), obj] : [user, new browser/* DdbInt */.yZ(Access[access])]);
    }
    async deny(user, access, obj) {
        await model/* model */.ge.ddb.call('deny', obj ? [user, new browser/* DdbInt */.yZ(Access[access]), obj] : [user, new browser/* DdbInt */.yZ(Access[access])]);
    }
    async revoke(user, access, obj) {
        await model/* model */.ge.ddb.call('revoke', obj ? [user, new browser/* DdbInt */.yZ(Access[access]), obj] : [user, new browser/* DdbInt */.yZ(Access[access])]);
    }
}
let model_access = new AccessModel();

;// CONCATENATED MODULE: ./console/access/constant.tsx



const ACCESS_TYPE = {
    database: ['DB_MANAGE', 'DBOBJ_CREATE', 'DBOBJ_DELETE', 'DB_INSERT', 'DB_UPDATE', 'DB_DELETE', 'DB_READ'],
    table: ['TABLE_WRITE', 'TABLE_INSERT', 'TABLE_UPDATE', 'TABLE_DELETE', 'TABLE_READ'],
    shared: ['TABLE_WRITE', 'TABLE_READ', 'TABLE_INSERT', 'TABLE_UPDATE', 'TABLE_DELETE'],
    stream: ['TABLE_WRITE', 'TABLE_READ', 'TABLE_INSERT', 'TABLE_UPDATE', 'TABLE_DELETE'],
    function_view: ['VIEW_EXEC'],
    script: ['SCRIPT_EXEC', 'TEST_EXEC', 'VIEW_OWNER']
};
const TABLE_NAMES = {
    database: (0,i18n.t)('数据库'),
    shared: (0,i18n.t)('共享内存表'),
    stream: (0,i18n.t)('流数据表'),
    function_view: (0,i18n.t)('函数视图'),
    script: (0,i18n.t)('全局权限')
};
const constant_access_options = {
    database: ACCESS_TYPE.database.concat(ACCESS_TYPE.table),
    shared: ['TABLE_WRITE', 'TABLE_READ'],
    stream: ['TABLE_WRITE', 'TABLE_READ'],
    function_view: ACCESS_TYPE.function_view,
    script: ACCESS_TYPE.script
};
const STAT_ICONS = {
    allow: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CheckCircleFilled, { className: 'green' }),
    deny: (0,jsx_runtime.jsx)(external_icons_namespaceObject.CloseCircleFilled, { className: 'red' }),
    none: (0,jsx_runtime.jsx)(external_icons_namespaceObject.MinusCircleFilled, { className: 'gray' })
};

;// CONCATENATED MODULE: ./console/access/AccessHeader.tsx






function AccessHeader({ category, preview, search_key, set_search_key, add_open, delete_open, selected_length }) {
    const { current } = model_access.use(['current', 'users', 'groups']);
    return (0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'default', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ArrowLeftOutlined, {}), onClick: () => {
                    model_access.set({ current: null });
                }, children: (0,i18n.t)('返回') }), preview ? ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SettingOutlined, {}), onClick: () => {
                    model_access.set({ current: { ...model_access.current, view: 'manage' } });
                }, children: (0,i18n.t)('设置权限') })) : ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusOutlined, {}), onClick: add_open, children: (0,i18n.t)('新增权限') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'default', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.EyeOutlined, {}), onClick: () => {
                            model_access.set({ current: { ...current, view: 'preview' } });
                        }, children: (0,i18n.t)('查看权限') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { danger: true, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, {}), onClick: () => {
                            if (selected_length)
                                delete_open();
                        }, children: (0,i18n.t)('批量撤销') })] })), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { className: 'search', value: search_key, prefix: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SearchOutlined, {}), onChange: e => {
                    set_search_key(e.target.value);
                }, placeholder: (0,i18n.t)('请输入想要搜索的{{category}}', { category: TABLE_NAMES[category] }) })] });
}

;// CONCATENATED MODULE: ./console/access/AccessList.tsx







function handle_access(accesses, type, name) {
    if (accesses[type + '_allowed'] && accesses[type + '_allowed'].split(',').includes(name))
        return [type, 'allow'];
    else if (accesses[type + '_denied'] && accesses[type + '_denied'].split(',').includes(name))
        return [type, 'deny'];
    else
        return [type, 'none'];
}
function AccessList({ category }) {
    const [showed_accesses, set_showed_accesses] = (0,external_React_.useState)([]);
    const [search_key, set_search_key] = (0,external_React_.useState)('');
    const { current, databases, shared_tables, stream_tables, function_views, accesses } = model_access.use([
        'current',
        'databases',
        'shared_tables',
        'stream_tables',
        'function_views',
        'accesses'
    ]);
    (0,external_React_.useEffect)(() => {
        (async () => {
            let final_accesses = accesses;
            // 用户权限列表需要单独获取最终权限去展示
            if (current.role === 'user')
                final_accesses = (await model_access.get_user_access([current.name], true))[0];
            if (!final_accesses)
                return;
            let items = [];
            let tmp_tb_access = [];
            switch (category) {
                case 'database':
                    items = databases;
                    break;
                case 'shared':
                    items = shared_tables;
                    break;
                case 'function_view':
                    items = function_views;
                    break;
                case 'stream':
                    items = stream_tables;
                    break;
                case 'script':
                    items = ACCESS_TYPE.script;
                    break;
                default:
                    break;
            }
            for (let item of items) {
                const name = typeof item === 'string' ? item : item.name;
                const tb_ob = {
                    name,
                    ...(category === 'script'
                        ? { stat: final_accesses[name] }
                        : { access: Object.fromEntries(ACCESS_TYPE[category].map(type => handle_access(final_accesses, type, name))) }),
                    ...(typeof item !== 'string'
                        ? {
                            tables: item.tables.map(table => ({
                                name: table,
                                access: Object.fromEntries(ACCESS_TYPE.table.map(type => handle_access(final_accesses, type, table)))
                            }))
                        }
                        : {})
                };
                tmp_tb_access.push(tb_ob);
            }
            set_showed_accesses(tmp_tb_access);
        })();
    }, [accesses, current, category]);
    const cols = (0,external_React_.useMemo)(() => [
        {
            title: TABLE_NAMES[category],
            dataIndex: 'name',
            key: 'name',
            width: 200
        },
        ...(category !== 'script'
            ? ACCESS_TYPE[category]
                .filter(t => t !== 'TABLE_WRITE')
                .map(type => ({
                title: type,
                dataIndex: type,
                key: type,
                width: 160,
                align: 'center'
            }))
            : [
                {
                    title: 'stat',
                    dataIndex: 'stat',
                    key: 'stat',
                    align: 'center'
                }
            ])
    ], []);
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { columns: cols, dataSource: showed_accesses
            .filter(({ name }) => name.toLowerCase().includes(search_key.toLowerCase()))
            .map((tb_access) => ({
            key: tb_access.name,
            name: tb_access.name,
            ...(category === 'database' ? { tables: tb_access.tables } : {}),
            ...(category !== 'script'
                ? Object.fromEntries(Object.entries(tb_access.access).map(([key, value]) => [key, STAT_ICONS[value]]))
                : { stat: STAT_ICONS[tb_access.stat] })
        })), title: () => (0,jsx_runtime.jsx)(AccessHeader, { category: category, preview: true, search_key: search_key, set_search_key: set_search_key }), tableLayout: 'fixed', expandable: category === 'database'
            ? {
                expandedRowRender: db => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { columns: [
                        {
                            title: (0,i18n.t)('DFS 表名'),
                            dataIndex: 'table_name',
                            key: 'table_name'
                        },
                        ...ACCESS_TYPE.table
                            .filter(t => t !== 'TABLE_WRITE')
                            .map(type => ({
                            title: type,
                            dataIndex: type,
                            key: type
                        }))
                    ], dataSource: db.tables.map(table => ({
                        key: table.name,
                        table_name: table.name,
                        ...Object.fromEntries(Object.entries(table.access).map(([key, value]) => [key, STAT_ICONS[value]]))
                    })), pagination: false, tableLayout: 'fixed' })
            }
            : {} });
}

;// CONCATENATED MODULE: ./console/access/AccessManage.tsx









function AccessManage({ category }) {
    let creator = use_modal();
    let deletor = use_modal();
    const { databases, shared_tables, stream_tables, function_views, current, accesses } = model_access.use([
        'databases',
        'shared_tables',
        'stream_tables',
        'function_views',
        'current',
        'accesses'
    ]);
    const [search_key, set_search_key] = (0,external_React_.useState)('');
    const [selected_access, set_selected_access] = (0,external_React_.useState)([]);
    const [add_rule_selected, set_add_rule_selected] = (0,external_React_.useState)({ access: constant_access_options[category][0], type: 'grant', obj: [] });
    const showed_aces_types = (0,external_React_.useMemo)(() => (category === 'database' ? ACCESS_TYPE.database.concat(ACCESS_TYPE.table) : ACCESS_TYPE[category]).filter(ac => ac !== 'TABLE_WRITE'), [category]);
    (0,external_React_.useEffect)(() => {
        set_selected_access([]);
    }, [current]);
    const showed_aces_cols = (0,external_React_.useMemo)(() => [
        {
            title: (0,i18n.t)('类型'),
            dataIndex: 'type',
            key: 'type',
            wdith: 100,
            ...(category === 'script'
                ? {}
                : {
                    filters: ['grant', 'deny'].map(at => ({
                        text: at,
                        value: at
                    })),
                    filterMultiple: false,
                    onFilter: (value, record) => record.type === value
                })
        },
        {
            title: (0,i18n.t)('权限'),
            dataIndex: 'access',
            key: 'access',
            wdith: 200,
            ...(['function_view', 'script'].includes(category)
                ? {}
                : {
                    filters: showed_aces_types.map(at => ({
                        text: at,
                        value: at
                    })),
                    filterMultiple: true,
                    onFilter: (value, record) => record.access === value
                })
        },
        ...(category !== 'script'
            ? [
                {
                    title: (0,i18n.t)('范围'),
                    dataIndex: 'name',
                    key: 'name',
                    width: 600
                }
            ]
            : []),
        {
            title: (0,i18n.t)('操作'),
            dataIndex: 'action',
            key: 'action',
            wdith: 100
        }
    ], []);
    const add_access_cols = (0,external_React_.useMemo)(() => [
        {
            title: (0,i18n.t)('类型'),
            dataIndex: 'type',
            key: 'type',
            wdith: 200
        },
        {
            title: (0,i18n.t)('权限'),
            dataIndex: 'access',
            key: 'access',
            wdith: 300
        },
        ...(category !== 'script'
            ? [
                {
                    title: (0,i18n.t)('范围'),
                    dataIndex: 'name',
                    key: 'name'
                }
            ]
            : []),
        {
            title: (0,i18n.t)('动作'),
            dataIndex: 'remove',
            key: 'remove',
            wdith: 100
        }
    ], []);
    const [add_access_rows, set_add_access_rows] = (0,external_React_.useState)([]);
    const access_rules = (0,external_React_.useMemo)(() => {
        if (!accesses)
            return [];
        let tb_rows = [];
        for (let [k, v] of Object.entries(accesses))
            if (v && v !== 'none')
                if (category === 'script' && showed_aces_types.includes(k))
                    tb_rows.push({
                        key: k,
                        access: k,
                        type: v === 'allow' ? 'grant' : v,
                        action: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('撤销权限'), description: (0,i18n.t)('确认撤销该权限吗？'), onConfirm: async () => {
                                await model_access.revoke(current.name, k);
                                model/* model */.ge.message.success((0,i18n.t)('撤销成功'));
                                model_access.set({
                                    accesses: current.role === 'user'
                                        ? (await model_access.get_user_access([current.name]))[0]
                                        : (await model_access.get_group_access([current.name]))[0]
                                });
                            }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', danger: true, children: (0,i18n.t)('撤销') }) }))
                    });
                else if (showed_aces_types.map(aces => aces + '_allowed').includes(k) ||
                    showed_aces_types.map(aces => aces + '_denied').includes(k)) {
                    let objs = v.split(',');
                    if (category === 'database')
                        objs = objs.filter((obj) => obj.startsWith('dfs:'));
                    if (category === 'shared')
                        objs = objs.filter((obj) => shared_tables.includes(obj));
                    if (category === 'stream')
                        objs = objs.filter((obj) => !obj.startsWith('dfs:') && !shared_tables.includes(obj));
                    const allowed = showed_aces_types.map(aces => aces + '_allowed').includes(k);
                    for (let obj of objs)
                        tb_rows.push({
                            key: obj + k,
                            name: obj,
                            access: k.slice(0, k.indexOf(allowed ? '_allowed' : '_denied')),
                            type: allowed ? 'grant' : 'deny',
                            action: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('撤销权限'), description: (0,i18n.t)('确认撤销该权限吗？'), onConfirm: async () => {
                                    await model_access.revoke(current.name, k.slice(0, k.indexOf(allowed ? '_allowed' : '_denied')), obj);
                                    model/* model */.ge.message.success((0,i18n.t)('撤销成功'));
                                    model_access.set({
                                        accesses: current.role === 'user'
                                            ? (await model_access.get_user_access([current.name]))[0]
                                            : (await model_access.get_group_access([current.name]))[0]
                                    });
                                }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', danger: true, children: (0,i18n.t)('撤销') }) }))
                        });
                }
        return tb_rows;
    }, [accesses, category]);
    let obj_options = [];
    switch (category) {
        case 'database':
            obj_options = databases.map(db => db.name);
            break;
        case 'shared':
            obj_options = shared_tables;
            break;
        case 'stream':
            obj_options = stream_tables;
            break;
        case 'function_view':
            obj_options = function_views;
            break;
        default:
            break;
    }
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'add-rule-modal', open: creator.visible, onCancel: () => {
                    set_add_rule_selected({ access: constant_access_options[category][0], type: 'grant', obj: [] });
                    set_add_access_rows([]);
                    creator.close();
                }, onOk: async () => {
                    await Promise.all(add_access_rows.map(async (rule) => model_access[rule.type](current.name, rule.access, rule.name)));
                    model/* model */.ge.message.success((0,i18n.t)('权限赋予成功'));
                    set_add_rule_selected({ access: constant_access_options[category][0], type: 'grant', obj: [] });
                    set_add_access_rows([]);
                    creator.close();
                    model_access.set({
                        accesses: current.role === 'user'
                            ? (await model_access.get_user_access([current.name]))[0]
                            : (await model_access.get_group_access([current.name]))[0]
                    });
                }, destroyOnClose: true, okText: (0,i18n.t)('确认添加'), okButtonProps: {
                    disabled: !add_access_rows.length
                }, title: (0,i18n.t)('添加权限'), children: (0,jsx_runtime.jsxs)("div", { className: 'add-rule-container', children: [(0,jsx_runtime.jsxs)("div", { className: 'add-rule-header', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Radio.Group, { options: ['grant', 'deny'].map(tp => ({
                                        label: tp,
                                        value: tp
                                    })), value: add_rule_selected.type, onChange: e => {
                                        const selected = { ...add_rule_selected };
                                        selected.type = e.target.value;
                                        set_add_rule_selected(selected);
                                    }, optionType: 'button', buttonStyle: 'solid' }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { className: 'access-select', 
                                    // 对于当前用户是管理员，不能赋予 VIEW_OWNER 权限
                                    options: (category === 'script' && current.role === 'user' && accesses?.isAdmin
                                        ? constant_access_options[category].slice(0, 2)
                                        : constant_access_options[category]).map(ac => ({
                                        label: ac,
                                        value: ac
                                    })), value: add_rule_selected.access, onChange: value => {
                                        const selected = { ...add_rule_selected };
                                        selected.access = value;
                                        selected.obj = [];
                                        set_add_rule_selected(selected);
                                    } }), category === 'database' && ACCESS_TYPE.table.includes(add_rule_selected.access) ? ((0,jsx_runtime.jsx)(external_antd_namespaceObject.TreeSelect, { className: 'table-select', multiple: true, maxTagCount: 'responsive', placeholder: (0,i18n.t)('请选择权限应用范围'), treeDefaultExpandAll: true, value: add_rule_selected.obj, onChange: vals => {
                                        const selected = { ...add_rule_selected };
                                        selected.obj = vals;
                                        set_add_rule_selected(selected);
                                    }, dropdownRender: originNode => (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Checkbox, { className: 'check-all', checked: add_rule_selected.obj.length === databases.reduce((count, db) => count + db.tables.length, 0), indeterminate: add_rule_selected.obj.length > 0 &&
                                                    add_rule_selected.obj.length < databases.reduce((count, db) => count + db.tables.length, 0), onChange: e => {
                                                    if (e.target.checked)
                                                        set_add_rule_selected({ ...add_rule_selected, obj: databases.map(db => [...db.tables]).flat() });
                                                    else
                                                        set_add_rule_selected({ ...add_rule_selected, obj: [] });
                                                }, children: (0,i18n.t)('全选') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Divider, { className: 'divider' }), originNode] }), treeData: databases.map(db => ({
                                        title: db.name,
                                        value: db.name,
                                        selectable: false,
                                        children: db.tables.map(tb => ({
                                            title: tb,
                                            value: tb
                                        }))
                                    })) })) : ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { className: 'table-select', mode: 'multiple', maxTagCount: 'responsive', disabled: category === 'script', placeholder: category === 'script' ? (0,i18n.t)('应用范围为全局') : (0,i18n.t)('请选择权限应用范围'), value: add_rule_selected.obj, dropdownRender: originNode => (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Checkbox, { className: 'check-all', checked: add_rule_selected.obj.length === obj_options.length, indeterminate: add_rule_selected.obj.length > 0 && add_rule_selected.obj.length < obj_options.length, onChange: e => {
                                                    if (e.target.checked)
                                                        set_add_rule_selected({ ...add_rule_selected, obj: obj_options });
                                                    else
                                                        set_add_rule_selected({ ...add_rule_selected, obj: [] });
                                                }, children: (0,i18n.t)('全选') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Divider, { className: 'divider' }), originNode] }), onChange: vals => {
                                        set_add_rule_selected({ ...add_rule_selected, obj: vals });
                                    }, options: obj_options.map(obj => ({
                                        key: obj,
                                        label: obj,
                                        value: obj
                                    })) })), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', onClick: () => {
                                        const { access, type, obj } = add_rule_selected;
                                        const rows = category !== 'script'
                                            ? obj.map(oj => ({
                                                key: access + type + oj,
                                                access,
                                                type,
                                                name: oj
                                            }))
                                            : [
                                                {
                                                    key: access + type,
                                                    access,
                                                    type
                                                }
                                            ];
                                        const total_rows = [...add_access_rows, ...rows];
                                        let set = new Set();
                                        const unique_rows = total_rows.filter(obj => !set.has(obj.key) && set.add(obj.key));
                                        set_add_access_rows(unique_rows);
                                        set_add_rule_selected({ access: constant_access_options[category][0], type: 'grant', obj: [] });
                                    }, children: (0,i18n.t)('预添加') })] }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { columns: add_access_cols, dataSource: add_access_rows.map(row => ({
                                ...row,
                                remove: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'text', danger: true, onClick: () => {
                                        const new_rows = add_access_rows.filter(({ key }) => key !== row.key);
                                        set_add_access_rows(new_rows);
                                    }, children: (0,i18n.t)('移除') }))
                            })) })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'delete-user-modal', open: deletor.visible, onCancel: deletor.close, onOk: async () => {
                    await Promise.all(selected_access.map(async (ac) => category === 'script' ? model_access.revoke(current.name, ac.access) : model_access.revoke(current.name, ac.access, ac.name)));
                    model/* model */.ge.message.success((0,i18n.t)('撤销成功'));
                    set_selected_access([]);
                    deletor.close();
                    model_access.set({
                        accesses: current.role === 'user'
                            ? (await model_access.get_user_access([current.name]))[0]
                            : (await model_access.get_group_access([current.name]))[0]
                    });
                }, title: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { children: (0,i18n.t)('确认撤销选中的 {{num}} 条权限吗？', { num: selected_access.length }) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { rowSelection: {
                    selectedRowKeys: selected_access.map(ac => ac.key),
                    onChange: (_, selectedRows, info) => {
                        if (info.type === 'all')
                            return;
                        set_selected_access(selectedRows);
                    },
                    onSelectAll() {
                        const all_access = access_rules.filter(row => row[category === 'script' ? 'access' : 'name'].toLowerCase().includes(search_key.toLowerCase()));
                        if (selected_access.length < all_access.length)
                            set_selected_access(all_access);
                        else
                            set_selected_access([]);
                    }
                }, title: () => (0,jsx_runtime.jsx)(AccessHeader, { category: category, preview: false, search_key: search_key, set_search_key: set_search_key, add_open: creator.open, delete_open: deletor.open, selected_length: selected_access.length }), columns: showed_aces_cols, dataSource: access_rules.filter(row => row[category === 'script' ? 'access' : 'name'].toLowerCase().includes(search_key.toLowerCase())) })] });
}

;// CONCATENATED MODULE: ./console/access/AccessView.tsx









function AccessView() {
    const { current, users, groups } = model_access.use(['current', 'users', 'groups']);
    const { role, name, view } = current;
    const [tab_key, set_tab_key] = (0,external_React_.useState)('database');
    const [refresher, set_refresher] = (0,external_React_.useState)({});
    (0,external_React_.useEffect)(() => {
        (async () => {
            model_access.set({ accesses: role === 'user' ? (await model_access.get_user_access([name]))[0] : (await model_access.get_group_access([name]))[0] });
        })();
    }, [refresher, role, name]);
    const tabs = (0,external_React_.useMemo)(() => [
        {
            key: 'database',
            label: (0,i18n.t)('分布式数据库'),
            children: view === 'preview' ? (0,jsx_runtime.jsx)(AccessList, { category: 'database' }) : (0,jsx_runtime.jsx)(AccessManage, { category: 'database' })
        },
        {
            key: 'share_table',
            label: (0,i18n.t)('共享内存表'),
            children: view === 'preview' ? (0,jsx_runtime.jsx)(AccessList, { category: 'shared' }) : (0,jsx_runtime.jsx)(AccessManage, { category: 'shared' })
        },
        {
            key: 'stream',
            label: (0,i18n.t)('流数据表'),
            children: view === 'preview' ? (0,jsx_runtime.jsx)(AccessList, { category: 'stream' }) : (0,jsx_runtime.jsx)(AccessManage, { category: 'stream' })
        },
        {
            key: 'function_view',
            label: (0,i18n.t)('函数视图'),
            children: view === 'preview' ? (0,jsx_runtime.jsx)(AccessList, { category: 'function_view' }) : (0,jsx_runtime.jsx)(AccessManage, { category: 'function_view' })
        },
        {
            key: 'script',
            label: (0,i18n.t)('全局权限'),
            children: view === 'preview' ? (0,jsx_runtime.jsx)(AccessList, { category: 'script' }) : (0,jsx_runtime.jsx)(AccessManage, { category: 'script' })
        }
    ], [view]);
    const OperationsSlot = {
        left: ((0,jsx_runtime.jsxs)("div", { className: 'switch-user', children: [(0,i18n.t)('当前{{role}}:', { role: role === 'user' ? (0,i18n.t)('用户') : (0,i18n.t)('组') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { value: name, options: (role === 'user' ? users : groups).map(t => ({
                        value: t,
                        label: t
                    })), onSelect: item => {
                        model_access.set({ current: { ...current, name: item } });
                    } })] })),
        right: ((0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: () => {
                set_refresher({});
                model/* model */.ge.message.success((0,i18n.t)('刷新成功'));
            }, children: (0,i18n.t)('刷新') }))
    };
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tabs, { type: 'card', items: tabs, accessKey: tab_key, onChange: set_tab_key, tabBarExtraContent: OperationsSlot });
}

;// CONCATENATED MODULE: ./console/access/GroupList.tsx









function GroupList() {
    const { users, groups, current } = model_access.use(['users', 'groups', 'current']);
    const [groups_info, set_groups_info] = (0,external_React_.useState)([]);
    const [search_key, set_search_key] = (0,external_React_.useState)('');
    const [selected_groups, set_selected_groups] = (0,external_React_.useState)([]);
    const [origin_users, set_origin_users] = (0,external_React_.useState)([]);
    const [target_users, set_target_users] = (0,external_React_.useState)([]);
    const [selected_users, set_selected_users] = (0,external_React_.useState)([]);
    const [add_group_form] = external_antd_namespaceObject.Form.useForm();
    let creator = use_modal();
    let editor = use_modal();
    let deletor = use_modal();
    let configer = use_modal();
    (0,external_React_.useEffect)(() => {
        (async () => {
            set_groups_info(await model_access.get_group_access(groups));
        })();
    }, [groups]);
    const cols = (0,external_React_.useMemo)(() => [
        {
            title: (0,i18n.t)('组名'),
            dataIndex: 'group_name',
            key: 'group_name',
            width: 200
        },
        {
            title: (0,i18n.t)('组成员'),
            dataIndex: 'users',
            key: 'users'
        },
        {
            title: (0,i18n.t)('操作'),
            dataIndex: 'actions',
            key: 'actions',
            width: i18n/* language */.BH === 'zh' ? 300 : 400
        }
    ], []);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'add-group-modal', open: creator.visible, onCancel: () => {
                    add_group_form.resetFields();
                    creator.close();
                }, destroyOnClose: true, title: (0,i18n.t)('新建组'), onOk: async () => {
                    try {
                        const { group_name, users } = await add_group_form.validateFields();
                        await model_access.create_group(group_name, users ?? []);
                        model/* model */.ge.message.success((0,i18n.t)('组创建成功'));
                        creator.close();
                        set_selected_users([]);
                        set_target_users([]);
                        add_group_form.resetFields();
                        await model_access.get_group_list();
                    }
                    catch (error) {
                        if (error instanceof Error)
                            throw error;
                        console.error(error);
                    }
                }, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { name: 'basic', labelCol: { span: i18n/* language */.BH === 'zh' ? 3 : 5 }, labelAlign: 'right', form: add_group_form, autoComplete: 'off', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('组名'), name: 'group_name', rules: [
                                { required: true, message: (0,i18n.t)('请输入组名') },
                                { max: 30, message: (0,i18n.t)('组名长度不能超过 30 个字符') },
                                { pattern: /^(?![\d_])[\w\d]+$/, message: (0,i18n.t)('组名只能包含字母、下划线或数字，并且不能以数字或下划线开头') }
                            ], validateFirst: true, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('成员'), name: 'users', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Transfer, { dataSource: users.map(user => ({
                                    key: user,
                                    title: user
                                })), titles: [(0,i18n.t)('非组成员'), (0,i18n.t)('组成员')], showSearch: true, locale: { itemUnit: (0,i18n.t)('个'), itemsUnit: (0,i18n.t)('个'), searchPlaceholder: (0,i18n.t)('请输入想要搜索的用户') }, filterOption: (val, user) => user.title.includes(val), targetKeys: target_users, selectedKeys: selected_users, onChange: (keys) => set_target_users(keys), onSelectChange: (s, t) => {
                                    set_selected_users([...s, ...t]);
                                }, render: item => item.title }) })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'edit-group-modal', open: editor.visible, onCancel: editor.close, destroyOnClose: true, title: (0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('组 {{group}} 成员管理', { group: current?.name }) }), onOk: async () => {
                    set_origin_users(await model_access.get_users_by_group(current?.name));
                    configer.open();
                }, okText: (0,i18n.t)('预览修改'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Transfer, { dataSource: users.map(user => ({
                        key: user,
                        title: user
                    })), titles: [(0,i18n.t)('非组成员'), (0,i18n.t)('组成员')], showSearch: true, locale: { itemUnit: (0,i18n.t)('个'), itemsUnit: (0,i18n.t)('个'), searchPlaceholder: (0,i18n.t)('请输入想查找的用户') }, filterOption: (val, user) => user.title.includes(val), targetKeys: target_users, selectedKeys: selected_users, onChange: (keys) => set_target_users(keys), onSelectChange: (s, t) => {
                        set_selected_users([...s, ...t]);
                    }, render: item => item.title }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'edit-confirm-modal', open: configer.visible, onCancel: configer.close, destroyOnClose: true, title: (0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('确认对组 {{group}} 进行以下改动吗？', { group: current?.name }) }), onOk: async () => {
                    const delete_users = origin_users.filter(u => !target_users.includes(u)).filter(group => group !== '');
                    const add_users = target_users.filter((u) => !origin_users.includes(u)).filter(group => group !== '');
                    if (delete_users.length || add_users.length) {
                        await Promise.all([
                            ...(delete_users.length ? [model_access.delete_group_member(delete_users, current?.name)] : []),
                            ...(add_users.length ? [model_access.add_group_member(add_users, current?.name)] : [])
                        ]);
                        model/* model */.ge.message.success((0,i18n.t)('组成员修改成功'));
                    }
                    editor.close();
                    configer.close();
                    set_selected_users([]);
                    set_target_users([]);
                    await model_access.get_group_list();
                }, children: (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)("h4", { children: (0,i18n.t)('原组成员:') }), origin_users.map(group => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'cyan', children: group })), (0,jsx_runtime.jsx)("h4", { children: (0,i18n.t)('移入用户:') }), target_users
                            .filter((u) => !origin_users.includes(u))
                            .filter(group => group !== '')
                            .map(group => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'green', children: group })), (0,jsx_runtime.jsx)("h4", { children: (0,i18n.t)('移出用户:') }), origin_users
                            .filter(u => !target_users.includes(u))
                            .filter(group => group !== '')
                            .map(group => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'red', children: group }))] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'delete-user-modal', open: deletor.visible, onCancel: deletor.close, onOk: async () => {
                    await Promise.all(selected_groups.map(async (group) => model_access.delete_group(group)));
                    model/* model */.ge.message.success((0,i18n.t)('组删除成功'));
                    set_selected_groups([]);
                    deletor.close();
                    await model_access.get_group_list();
                }, title: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { children: (0,i18n.t)('确认删除选中的 {{num}} 个组吗？', { num: selected_groups.length }) }) }), (0,jsx_runtime.jsx)("div", { className: 'header', children: (0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusOutlined, {}), onClick: creator.open, children: (0,i18n.t)('新建组') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { danger: true, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, {}), onClick: () => {
                                if (selected_groups.length)
                                    deletor.open();
                            }, children: (0,i18n.t)('批量删除') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'default', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => (async () => model_access.get_group_list())(), children: (0,i18n.t)('刷新') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { className: 'search', value: search_key, prefix: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SearchOutlined, {}), onChange: e => {
                                set_search_key(e.target.value);
                            }, placeholder: (0,i18n.t)('请输入想要搜索的组') })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { rowSelection: {
                    selectedRowKeys: selected_groups,
                    onChange: (selectedRowKeys) => {
                        set_selected_groups(selectedRowKeys);
                    }
                }, pagination: { hideOnSinglePage: true, size: 'small' }, columns: cols, dataSource: groups_info
                    .filter(({ groupName }) => groupName.toLowerCase().includes(search_key.toLowerCase()))
                    .map(group => ({
                    key: group.groupName,
                    group_name: group.groupName,
                    users: ((0,jsx_runtime.jsx)("div", { children: group.users &&
                            group.users.split(',').map((user) => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'cyan', children: user }, user)) })),
                    actions: ((0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', onClick: () => {
                                    model_access.set({ current: { role: 'group', name: group.groupName, view: 'preview' } });
                                }, children: (0,i18n.t)('查看权限') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', onClick: () => {
                                    model_access.set({ current: { role: 'group', name: group.groupName, view: 'manage' } });
                                }, children: (0,i18n.t)('设置权限') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', onClick: async () => {
                                    model_access.set({ current: { name: group.groupName } });
                                    editor.open();
                                    set_target_users(await model_access.get_users_by_group(group.groupName));
                                }, children: (0,i18n.t)('管理成员') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('删除组'), description: (0,i18n.t)('确认删除组 {{group}} 吗', { group: group.groupName }), onConfirm: async () => {
                                    await model_access.delete_group(group.groupName);
                                    model/* model */.ge.message.success((0,i18n.t)('组删除成功'));
                                    await model_access.get_group_list();
                                }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', danger: true, children: (0,i18n.t)('删除') }) })] }))
                })), tableLayout: 'fixed' })] });
}

;// CONCATENATED MODULE: ./console/access/UserList.tsx









function UserList() {
    const { users, groups, current } = model_access.use(['users', 'groups', 'current']);
    const [users_info, set_users_info] = (0,external_React_.useState)([]);
    const [search_key, set_search_key] = (0,external_React_.useState)('');
    const [selected_users, set_selected_users] = (0,external_React_.useState)([]);
    const [origin_groups, set_origin_groups] = (0,external_React_.useState)([]);
    const [target_groups, set_target_groups] = (0,external_React_.useState)([]);
    const [selected_groups, set_selected_groups] = (0,external_React_.useState)([]);
    const [add_user_form] = external_antd_namespaceObject.Form.useForm();
    const [reset_password_form] = external_antd_namespaceObject.Form.useForm();
    let creator = use_modal();
    let editor = use_modal();
    let edit_groupor = use_modal();
    let deletor = use_modal();
    let confior = use_modal();
    (0,external_React_.useEffect)(() => {
        (async () => {
            set_users_info(await model_access.get_user_access(users));
        })();
    }, [users]);
    const cols = (0,external_React_.useMemo)(() => [
        {
            title: (0,i18n.t)('用户名'),
            dataIndex: 'user_name',
            key: 'user_name',
            width: 200
        },
        {
            title: (0,i18n.t)('是否管理员'),
            align: 'center',
            dataIndex: 'is_admin',
            key: 'is_admin',
            width: 150,
            filters: [
                {
                    text: (0,i18n.t)('管理员'),
                    value: true
                },
                {
                    text: (0,i18n.t)('非管理员'),
                    value: false
                }
            ],
            filterMultiple: false,
            onFilter: (is_admin, record) => users_info.find(({ userId }) => userId === record.user_name).isAdmin === is_admin
        },
        {
            title: (0,i18n.t)('所属组'),
            dataIndex: 'groups',
            key: 'groups'
        },
        {
            title: (0,i18n.t)('操作'),
            dataIndex: 'actions',
            key: 'actions',
            width: 360
        }
    ], [users_info]);
    return (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'add-user-modal', open: creator.visible, onCancel: () => {
                    add_user_form.resetFields();
                    creator.close();
                }, destroyOnClose: true, title: (0,i18n.t)('新建用户'), onOk: async () => {
                    try {
                        const { username, password, is_admin, groups } = await add_user_form.validateFields();
                        await model_access.create_user({
                            userId: username,
                            password: password,
                            groupIds: groups,
                            isAdmin: is_admin
                        });
                        model/* model */.ge.message.success((0,i18n.t)('用户创建成功'));
                        creator.close();
                        add_user_form.resetFields();
                        await model_access.get_user_list();
                    }
                    catch (error) {
                        if (error instanceof Error)
                            throw error;
                        console.error(error);
                    }
                }, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { name: 'basic', labelCol: { span: i18n/* language */.BH === 'zh' ? 4 : 8 }, labelAlign: 'right', form: add_user_form, autoComplete: 'off', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('用户名'), name: 'username', rules: [
                                { required: true, message: (0,i18n.t)('请输入用户名!') },
                                { max: 30, message: (0,i18n.t)('用户名长度不能超过 30 个字符') },
                                { pattern: /^(?![\d_])[\w\d]+$/, message: (0,i18n.t)('用户名只能包含字母、下划线或数字，并且不能以数字或下划线开头') }
                            ], validateFirst: true, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('密码'), name: 'password', rules: [
                                { required: true, message: (0,i18n.t)('请输入密码!') },
                                { min: 6, message: (0,i18n.t)('密码长度为 6-20 个字符，且不包含空格或中文') },
                                { max: 20, message: (0,i18n.t)('密码长度为 6-20 个字符，且不包含空格或中文') },
                                { pattern: /^[^\s\u4E00-\u9FFF]+$/, message: (0,i18n.t)('密码长度为 6-20 个字符，且不包含空格或中文') }
                            ], validateFirst: true, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input.Password, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('确认密码'), name: 'confirm_password', dependencies: ['password'], hasFeedback: true, rules: [
                                {
                                    required: true,
                                    message: (0,i18n.t)('请再次输入密码!')
                                },
                                ({ getFieldValue }) => ({
                                    async validator(_, value) {
                                        if (!value || getFieldValue('password') === value)
                                            return Promise.resolve();
                                        return Promise.reject(new Error((0,i18n.t)('两次输入密码需要保持一致!')));
                                    }
                                })
                            ], validateFirst: true, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input.Password, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('是否管理员'), name: 'is_admin', initialValue: false, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Switch, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('组'), name: 'groups', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Select, { mode: 'multiple', className: 'group-select', 
                                // allowClear
                                placeholder: (0,i18n.t)('请选择想要添加的组'), 
                                // onChange={handleChange}
                                options: groups.map(group => ({ label: group, value: group })) }) })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'delete-user-modal', open: deletor.visible, onCancel: deletor.close, onOk: async () => {
                    await Promise.all(selected_users.map(async (user) => model_access.delete_user(user)));
                    model/* model */.ge.message.success((0,i18n.t)('用户删除成功'));
                    set_selected_users([]);
                    deletor.close();
                    await model_access.get_user_list();
                }, title: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tooltip, { children: (0,i18n.t)('确认删除选中的 {{num}} 个用户吗？', { num: selected_users.length }) }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'edit-user-modal', open: editor.visible, onOk: async () => {
                    try {
                        const { password } = await reset_password_form.validateFields();
                        await model_access.reset_password(current?.name, password);
                        reset_password_form.resetFields();
                        model/* model */.ge.message.success((0,i18n.t)('密码修改成功'));
                        editor.close();
                    }
                    catch (error) {
                        if (error instanceof Error)
                            throw error;
                        console.error(error);
                    }
                }, title: (0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('重置用户 {{user}} 密码', { user: current?.name }) }), onCancel: () => {
                    reset_password_form.resetFields();
                    editor.close();
                }, children: (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Form, { name: 'basic', form: reset_password_form, labelCol: { span: i18n/* language */.BH === 'zh' ? 4 : 8 }, labelAlign: 'right', autoComplete: 'off', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('新密码'), name: 'password', rules: [
                                { required: true, message: (0,i18n.t)('请输入密码!') },
                                { min: 6, message: (0,i18n.t)('密码长度为 6-20 个字符，且不包含空格或中文') },
                                { max: 20, message: (0,i18n.t)('密码长度为 6-20 个字符，且不包含空格或中文') },
                                { pattern: /^[^\s\u4E00-\u9FFF]+$/, message: (0,i18n.t)('密码长度为 6-20 个字符，且不包含空格或中文') }
                            ], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input.Password, {}) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Form.Item, { label: (0,i18n.t)('确认密码'), name: 'confirm_password', dependencies: ['password'], hasFeedback: true, rules: [
                                {
                                    required: true,
                                    message: (0,i18n.t)('请再次输入密码!')
                                },
                                ({ getFieldValue }) => ({
                                    async validator(_, value) {
                                        if (!value || getFieldValue('password') === value)
                                            return Promise.resolve();
                                        return Promise.reject(new Error((0,i18n.t)('两次输入密码需要保持一致!')));
                                    }
                                })
                            ], children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input.Password, {}) })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'edit-user-group-modal', open: edit_groupor.visible, onCancel: edit_groupor.close, destroyOnClose: true, title: (0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('用户 {{user}} 所属组管理', { user: current?.name }) }), onOk: async () => {
                    set_origin_groups((await model_access.get_user_access([current?.name]))[0].groups.split(',').filter(group => group !== ''));
                    confior.open();
                }, okText: (0,i18n.t)('预览修改'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Transfer, { dataSource: groups.map(user => ({
                        key: user,
                        title: user
                    })), titles: [(0,i18n.t)('未所属组'), (0,i18n.t)('所属组')], showSearch: true, locale: { itemUnit: (0,i18n.t)('个'), itemsUnit: (0,i18n.t)('个'), searchPlaceholder: (0,i18n.t)('请输入想查找的组') }, filterOption: (val, user) => user.title.includes(val), targetKeys: target_groups, selectedKeys: selected_groups, onChange: (keys) => set_target_groups(keys), onSelectChange: (s, t) => {
                        set_selected_groups([...s, ...t]);
                    }, render: item => item.title }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Modal, { className: 'edit-confirm-modal', open: confior.visible, onCancel: confior.close, destroyOnClose: true, title: (0,jsx_runtime.jsx)("div", { children: (0,i18n.t)('确认对用户 {{user}} 进行以下改动吗？', { user: current?.name }) }), onOk: async () => {
                    const origin_groups = (await model_access.get_user_access([current?.name]))[0].groups.split(',').filter(group => group !== '');
                    const delete_groups = origin_groups.filter(u => !target_groups.includes(u)).filter(group => group !== '');
                    const add_groups = target_groups.filter((u) => !origin_groups.includes(u)).filter(group => group !== '');
                    if (delete_groups.length || add_groups.length) {
                        await Promise.all([
                            ...(delete_groups.length ? [model_access.delete_group_member(current?.name, delete_groups)] : []),
                            ...(add_groups.length ? [model_access.add_group_member(current?.name, add_groups)] : [])
                        ]);
                        model/* model */.ge.message.success((0,i18n.t)('用户所属组修改成功'));
                    }
                    edit_groupor.close();
                    confior.close();
                    set_selected_groups([]);
                    set_target_groups([]);
                    set_users_info(await model_access.get_user_access(users));
                }, children: (0,jsx_runtime.jsxs)("div", { children: [(0,jsx_runtime.jsx)("h4", { children: (0,i18n.t)('原有组:') }), origin_groups.map(group => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'cyan', children: group })), (0,jsx_runtime.jsx)("h4", { children: (0,i18n.t)('移入组:') }), target_groups
                            .filter((u) => !origin_groups.includes(u))
                            .filter(group => group !== '')
                            .map(group => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'green', children: group })), (0,jsx_runtime.jsx)("h4", { children: (0,i18n.t)('移出组:') }), origin_groups
                            .filter(u => !target_groups.includes(u))
                            .filter(group => group !== '')
                            .map(group => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'red', children: group }))] }) }), (0,jsx_runtime.jsx)("div", { className: 'header', children: (0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'primary', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.PlusOutlined, {}), onClick: creator.open, children: (0,i18n.t)('新建用户') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { danger: true, icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.DeleteOutlined, {}), onClick: () => {
                                if (selected_users.length)
                                    deletor.open();
                            }, children: (0,i18n.t)('批量删除') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'default', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.ReloadOutlined, {}), onClick: async () => {
                                await model_access.get_user_list();
                                set_users_info(await model_access.get_user_access(users));
                                model/* model */.ge.message.success((0,i18n.t)('刷新成功'));
                            }, children: (0,i18n.t)('刷新') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Input, { className: 'search', value: search_key, prefix: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SearchOutlined, {}), onChange: e => {
                                set_search_key(e.target.value);
                            }, placeholder: (0,i18n.t)('请输入想要搜索的用户') })] }) }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Table, { rowSelection: {
                    selectedRowKeys: selected_users,
                    onChange: (selectedRowKeys) => {
                        set_selected_users(selectedRowKeys);
                    }
                }, pagination: { hideOnSinglePage: true, size: 'small' }, columns: cols, dataSource: users_info
                    .filter(({ userId }) => userId.toLowerCase().includes(search_key.toLowerCase()))
                    .map(user_access => ({
                    key: user_access.userId,
                    user_name: user_access.userId,
                    is_admin: user_access.isAdmin ? (0,jsx_runtime.jsx)(external_icons_namespaceObject.CheckCircleFilled, { className: 'green' }) : (0,jsx_runtime.jsx)(external_icons_namespaceObject.MinusCircleFilled, { className: 'gray' }),
                    groups: ((0,jsx_runtime.jsx)("div", { children: user_access.groups &&
                            user_access.groups.split(',').map((group) => (0,jsx_runtime.jsx)(external_antd_namespaceObject.Tag, { color: 'cyan', children: group }, group)) })),
                    actions: ((0,jsx_runtime.jsxs)("div", { className: 'actions', children: [(0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', onClick: () => {
                                    model_access.set({ current: { role: 'user', name: user_access.userId, view: 'preview' } });
                                }, children: (0,i18n.t)('查看权限') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', onClick: () => {
                                    model_access.set({ current: { role: 'user', name: user_access.userId, view: 'manage' } });
                                }, children: (0,i18n.t)('设置权限') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', onClick: async () => {
                                    model_access.set({ current: { name: user_access.userId } });
                                    set_target_groups((await model_access.get_user_access([user_access.userId]))[0].groups.split(','));
                                    edit_groupor.open();
                                }, children: (0,i18n.t)('设置用户组') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', onClick: () => {
                                    model_access.set({ current: { name: user_access.userId } });
                                    editor.open();
                                }, children: (0,i18n.t)('设置密码') }), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('删除用户'), description: (0,i18n.t)('确认删除用户 {{user}} 吗', { user: user_access.userId }), onConfirm: async () => {
                                    await model_access.delete_user(user_access.userId);
                                    model/* model */.ge.message.success((0,i18n.t)('用户删除成功'));
                                    await model_access.get_user_list();
                                }, children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { type: 'link', danger: true, disabled: user_access.userId === localStorage.getItem('ddb.username'), children: (0,i18n.t)('删除') }) })] }))
                })) })] });
}

;// CONCATENATED MODULE: ./console/access/index.tsx










function User() {
    return (0,jsx_runtime.jsx)(access_Access, { role: 'user' });
}
function Group() {
    return (0,jsx_runtime.jsx)(access_Access, { role: 'group' });
}
function access_Access({ role }) {
    const { current } = model_access.use(['current']);
    const { admin } = model/* model */.ge.use(['admin']);
    (0,external_React_.useEffect)(() => {
        if (admin && !model_access.inited)
            model_access.init();
    }, []);
    (0,external_React_.useEffect)(() => {
        if (current && current.role !== role)
            model_access.set({ current: null });
    }, []);
    return admin ? (current?.view ?
        (0,jsx_runtime.jsx)(AccessView, {})
        : role === 'group' ?
            (0,jsx_runtime.jsx)(GroupList, {})
            :
                (0,jsx_runtime.jsx)(UserList, {})) :
        (0,jsx_runtime.jsx)(external_antd_namespaceObject.Result, { status: 'warning', className: 'interceptor', title: (0,i18n.t)('非管理员不能查看权限管理模块。') });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./node_modules/.pnpm/sass-loader@14.2.1_sass@1.77.2_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./console/settings/index.sass
var settings = __webpack_require__(221);
;// CONCATENATED MODULE: ./console/settings/index.sass

      
      
      
      
      
      
      
      
      

var settings_options = {};

settings_options.styleTagTransform = (styleTagTransform_default());
settings_options.setAttributes = (setAttributesWithoutAttributes_default());
settings_options.insert = insertBySelector_default().bind(null, "head");
settings_options.domAPI = (styleDomAPI_default());
settings_options.insertStyleElement = (insertStyleElement_default());

var settings_update = injectStylesIntoStyleTag_default()(settings/* default */.A, settings_options);




       /* harmony default export */ const console_settings = (settings/* default */.A && settings/* default */.A.locals ? settings/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./console/settings/Card.tsx






function Card({ module_key, icon, label, description, activate_prompt, deactivate_prompt, on_activate, on_deactivate, }) {
    const { enabled_modules } = model/* model */.ge.use(['enabled_modules']);
    const active = enabled_modules.has(module_key);
    const active_label = active ? (0,i18n.t)('停用') : (0,i18n.t)('启用');
    return (0,jsx_runtime.jsxs)("div", { className: 'card', children: [(0,jsx_runtime.jsxs)("div", { className: 'left', children: [(0,jsx_runtime.jsxs)("div", { className: 'label', children: [icon, (0,jsx_runtime.jsx)("div", { children: label })] }), (0,jsx_runtime.jsx)("div", { className: 'description', children: description })] }), (0,jsx_runtime.jsx)("div", { className: 'right', children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Popconfirm, { title: (0,i18n.t)('{{label}}{{active_label}}提示', { active_label, label }), description: active ? deactivate_prompt : activate_prompt, onConfirm: async () => {
                        let enabled_modules_ = new Set(enabled_modules);
                        if (active) {
                            await on_deactivate();
                            enabled_modules_.delete(module_key);
                        }
                        else {
                            await on_activate();
                            enabled_modules_.add(module_key);
                        }
                        await model_config.change_nodes_config([['webModules', { key: 'webModules', name: 'webModules', value: Array.from(enabled_modules_).join(','), qualifier: '' }]]);
                        model/* model */.ge.set({ enabled_modules: enabled_modules_ });
                        model/* model */.ge.message.success((0,i18n.t)('{{label}}{{active_label}}成功', { active_label, label }));
                    }, okText: (0,i18n.t)('确定'), cancelText: (0,i18n.t)('取消'), children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.Button, { className: 'button', type: 'primary', danger: active, children: active_label }) }) })] });
}

;// CONCATENATED MODULE: ./console/settings/index.tsx







function settings_Settings() {
    const { admin, dev, test } = model/* model */.ge.use(['admin', 'dev', 'test']);
    return admin && (dev || test) && (0,jsx_runtime.jsxs)("div", { className: 'module-settings', children: [(0,jsx_runtime.jsx)("div", { className: 'title', children: (0,i18n.t)('可选模块') }), (0,jsx_runtime.jsx)(Card, { module_key: 'test', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SettingOutlined, { className: 'label-icon' }), label: '\u6D4B\u8BD5\u6A21\u5757', description: '\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0\u6D4B\u8BD5\u6A21\u5757\u63CF\u8FF0', activate_prompt: '\u6D4B\u8BD5\u6A21\u5757\u5B89\u88C5\u63D0\u793A', deactivate_prompt: '\u6D4B\u8BD5\u6A21\u5757\u5378\u8F7D\u63D0\u793A', on_activate: async () => {
                    await (0,utils_browser/* delay */.cb)(1000);
                    console.log('测试模块加载成功');
                }, on_deactivate: () => { console.log('测试模块卸载成功'); } }), (0,jsx_runtime.jsx)(Card, { module_key: 'finance-tools', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SettingOutlined, { className: 'label-icon' }), label: '\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177', description: '\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0', activate_prompt: '\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u52A0\u8F7D\u63D0\u793A', deactivate_prompt: '\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u5378\u8F7D\u63D0\u793A', on_activate: () => { console.log('金融建库建表工具加载成功'); }, on_deactivate: () => { console.log('金融建库建表工具卸载成功'); } }), (0,jsx_runtime.jsx)(Card, { module_key: 'iot-tools', icon: (0,jsx_runtime.jsx)(external_icons_namespaceObject.SettingOutlined, { className: 'label-icon' }), label: '\u7269\u8054\u7F51\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177', description: '\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0\u91D1\u878D\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u63CF\u8FF0', activate_prompt: '\u7269\u8054\u7F51\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u5B89\u88C5\u63D0\u793A', deactivate_prompt: '\u7269\u8054\u7F51\u5EFA\u5E93\u5EFA\u8868\u5DE5\u5177\u5378\u8F7D\u63D0\u793A', on_activate: () => { console.log('物联网建库建表工具加载成功'); }, on_deactivate: () => { console.log('物联网建库建表工具卸载成功'); } })] });
}

;// CONCATENATED MODULE: ./console/index.tsx

















external_dayjs_default().locale(i18n/* language */.BH === 'zh' ? 'zh-cn' : i18n/* language */.BH);
















(0,client/* createRoot */.H)(document.querySelector('.root')).render((0,jsx_runtime.jsx)(DolphinDB, {}));
const locales = { zh: es_locale_zh_CN, en: en_US/* default */.A, ja: ja_JP/* default */.A, ko: ko_KR/* default */.A };
function DolphinDB() {
    return (0,jsx_runtime.jsx)(external_antd_namespaceObject.ConfigProvider, { locale: locales[i18n/* language */.BH], button: { autoInsertSpace: false }, theme: { hashed: false, token: { borderRadius: 0, motion: false } }, children: (0,jsx_runtime.jsx)(antd_pro_components_js_ProComponents_namespaceObject.ProConfigProvider, { hashed: false, token: { borderRadius: 0, motion: false }, children: (0,jsx_runtime.jsx)(esm.Provider, { children: (0,jsx_runtime.jsx)(external_antd_namespaceObject.App, { className: 'app', children: (0,jsx_runtime.jsx)(MainLayout, {}) }) }) }) });
}
function MainLayout() {
    const { header, inited, sider } = model/* model */.ge.use(['header', 'inited', 'sider']);
    // App 组件通过 Context 提供上下文方法调用，因而 useApp 需要作为子组件才能使用
    Object.assign(model/* model */.ge, external_antd_namespaceObject.App.useApp());
    (0,external_React_.useEffect)(() => {
        model/* model */.ge.init();
    }, []);
    (0,external_React_.useEffect)(() => {
        if (model/* model */.ge.dev) {
            async function on_keydown(event) {
                const { key, target, ctrlKey: ctrl, altKey: alt } = event;
                if (key === 'r' &&
                    target.tagName !== 'INPUT' &&
                    target.tagName !== 'TEXTAREA' &&
                    !ctrl &&
                    !alt) {
                    event.preventDefault();
                    await model/* model */.ge.recompile_and_refresh();
                }
            }
            window.addEventListener('keydown', on_keydown);
            return () => { window.removeEventListener('keydown', on_keydown); };
        }
    }, []);
    if (!inited)
        return null;
    return (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Layout, { className: 'root-layout', children: [header && (0,jsx_runtime.jsx)(external_antd_namespaceObject.Layout.Header, { className: 'ddb-header', children: (0,jsx_runtime.jsx)(DdbHeader, {}) }), (0,jsx_runtime.jsxs)(external_antd_namespaceObject.Layout, { className: 'body', hasSider: true, children: [sider && (0,jsx_runtime.jsx)(DdbSider, {}), (0,jsx_runtime.jsx)(external_antd_namespaceObject.Layout.Content, { className: 'view', children: (0,jsx_runtime.jsx)(GlobalErrorBoundary_GlobalErrorBoundary, { children: (0,jsx_runtime.jsx)(DdbContent, {}) }) })] })] });
}
const console_views = {
    login: Login,
    overview: Overview,
    'overview-old': OverviewOld,
    config: Config,
    shell: Shell,
    test: Test,
    job: Job,
    log: Log,
    computing: Computing,
    dashboard: DashBoard,
    user: User,
    group: Group,
    settings: settings_Settings
};
function DdbContent() {
    const { view } = model/* model */.ge.use(['view']);
    const View = console_views[view];
    if (!View || !model/* model */.ge.is_module_visible(view))
        return null;
    return (0,jsx_runtime.jsx)("div", { className: `view-card ${view}`, children: (0,jsx_runtime.jsx)(View, {}) });
}

})();

